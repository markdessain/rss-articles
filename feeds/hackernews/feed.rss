<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Hacker News</title>
    <link>https://news.ycombinator.com/</link>
    <description>Links for the intellectually curious, ranked by readers.</description>
    <image>
      <url></url>
      <title></title>
      <link></link>
    </image>
    <item>
      <title>Launch HN: Senpai.gg (YC S21) – Personal gaming coach for PC gamers</title>
      <link>https://news.ycombinator.com/item?id=28145998</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><td colspan="2"></td><td>Hi HN, we’re SenpAI.GG (<a href="https://senpai.gg/" rel="nofollow">https://senpai.gg/</a>). We help gamers get better by providing real-time, personalized suggestions and feedback before, during, and after games.<p>It takes a lot of time and effort to become good at popular games. Even after learning a game, you need to adapt your gameplay to meta changes (game updates). We’ve developed a desktop application to accelerate your learning curve, as well as easily adjusting your gameplay as games get updated. We provide personalized recommendations before the game to set up strategies, give instant notifications and feedback while playing the game, and detailed post-game analysis to improve your gameplay.</p><p>We&#39;re friends from college and played many games together during our dorm life in the early 2010s, especially Age of Empires II (we&#39;re old-fashioned). We were very good at 2 vs 2 matches and were considered the best in our dorm. A few years later, we decided to play AoE II again and got destroyed in the first 3 matches. We googled the ways to improve our gameplay and found two ways in addition to orthodox methods such as reading guides. The first was to watch hours of streams on YouTube or Twitch. Considering we had demanding jobs by then, it was impossible to watch long videos. The second was to pay for professional feedback from “human” gaming consultants.</p><p>Then, we came up with the idea that we can mimic human gaming consultants and create a scalable system. We could use statistics to provide fundamental level suggestions to improve the gameplay. This is how we formed the basic idea behind SenpAI.GG. Since we know AoE II has a limited number of players, we decided to start with League of Legends and developed a prototype in 2018.</p><p>Our Desktop application is now available (beta) for League of Legends, VALORANT and TFT. League of Legends players need to pick the champions, runes and items just before they start a match and play. We provide champions, runes and items suggestions to improve their winning probability. Our recommendations can be imported to the game with a single click. We provide some tags pinpointing the game characteristics of opponents and teammates. For example, we have an &#34;Early Ganker&#34; tag for the gamers who tend to gang in the early game. After the match, gamers can take a look at their strengths and weaknesses. For instance, we provide a tag of &#34;Early Game Gold Loss&#34; for a gamer whose gold/minutes ratio is significantly less than the lane opponent in early game). We provide these tags based on only publicly accessible data on the official game publisher API. For example, any gamer can search for the opponents’ game data and conduct a similar analysis.</p><p>For VALORANT, we have a Voice Assistant. For example, we start a counter when a spike  (Spike is a type of &#34;bomb&#34; with 45 second detonation time.) is planted and provide verbal notifications (10 seconds, 7 seconds, etc..). For healer agents, we notify the gamers if any of the teammate&#39;s HP is low. This information is already available on the screen (health bars) but we provide an extra verbal notification. During the match, we don’t provide any information about the opponent.</p><p>We follow the guideline of the game publishers and do not share any information or suggestion that is not available on the screen of the player. We consider SenpAI as analogous to a friend sitting next to the gamers, making recommendations based on the data they see. In the case of sports, the best analogy would be an ‘analyst’ or a ‘personal performance coach&#39; that provides some training and insights about the opponents based on the publicly accessible data. An approximate analogy to, say, chess might be that we tell about the chess clock and provide verbal notifications about time spent while the player is thinking.</p><p>We have a Desktop application (built on Electron.js) and a web application. We have two sources of data. We have access to the official API of game developers (specifically Riot Games) and we utilize computer vision to extract information (e.g., health bar) from the game in real-time. For League of Legends, we trained a deep learning model to predict the results of matches. We provide pre-game suggestions to maximize the winning probability of this model.</p><p>It&#39;s free to use SenpAI.GG, however we have plans to launch a freemium business model inspired by popular video games. Basically, gamers will need to subscribe to unlock certain features and remove ads.</p><p>We would love to hear what you think about our application. You can download the app from <a href="https://senpai.gg/" rel="nofollow">https://senpai.gg/</a> (currently available for Microsoft Windows) or try our web application at <a href="https://app.senpai.gg/" rel="nofollow">https://app.senpai.gg/</a>. We will be here today to answer any questions and hear your feedback in the comments!</p></td></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 18:44:57 +0000</pubDate>
      <source>https://news.ycombinator.com/item?id=28145998</source>
    </item>
    <item>
      <title>Launch HN: Slip (YC S21) – Build and sell interactive programming courses</title>
      <link>https://news.ycombinator.com/item?id=28141462</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><td colspan="2"></td><td>Hi HN, I&#39;m Kenneth and I&#39;m the founder of Slip (<a href="https://www.slip.so" rel="nofollow">https://www.slip.so</a>), a marketplace for programmers to build and sell courses, including interactive elements like in-browser code execution, popular programming embeds (CodeSandbox, StackBlitz, Replit repls (Coming soon)), and videos.<p>Instead of spending 3 or more months building their own course platform, developers can use Slip to create engaging interactive courses and make more money faster from their knowledge</p><p>In January, I built vim.so in 3 days, and made $11k in my first month. I even did a Show HN for it (<a href="https://news.ycombinator.com/item?id=25846347" rel="nofollow">https://news.ycombinator.com/item?id=25846347</a>). I was able to do it in 3 days because I had previously spent 3 months building an interactive course for Python fundamentals. That previous experience reduced the time it took me to build a new course, which was the only reason it made sense to do. 3 days of hacking was low-risk enough that when I had the idea for vim.so, it made sense to actually try and see.</p><p>The results blew me away and actually changed my life. If sales continue at the current rate, I&#39;ll make about $50k this year with vim.so. This experience gave me confidence that I could build something and sell it on the internet. It helped give me credibility as a developer, and got me connected with lots of other cool folks building cool things.</p><p>After launching vim.so, I started getting lots of inbound requests to build other interactive courses on various topics: Ruby, Git, Bash, etc. At first I thought I&#39;d just build all these myself but quickly realized other folks could teach these topics at a much deeper level than I could. But why weren&#39;t they building these courses? It&#39;s because it&#39;s currently too hard to make an interactive programming course. After maybe the 5th Twitter DM asking me for an interactive Git course, I decided to start a platform that helps other devs do the same thing I did with vim.so.</p><p>The main tool in Slip is an online course editor that allows you to build a course with a variety of &#34;block types&#34;. You can use markdown, videos, code snippets, figma embeds, CodeSandbox Embeds, and executable code snippets. Code executions happen in remote one-off Docker containers. Code snippets are built using the open-source Ace Editor react component.</p><p>The editor is free to use. We take a 10% cut of sales made via our site (plus processing fees). We handle payments via Stripe and accept and remit VAT taxes for the author. Slip also has features to help authors make more money with their courses. For selected courses, we can run a presale campaign. We also publish and feature courses directly on our site that meet a certain quality bar.</p><p>Some devs who have rolled their own interactive course platform have spent more than 6 months just on that part! If we can remove that 6 months of non-content work, more devs will be able to build better educational materials. I&#39;ve met multiple folks making over 6 figures a year teaching programming courses. Slip will be a success if we can help many more people do that, a lot more easily.</p><p>If you have any experience building educational programming courses or ideas on what programming courses are lacking today, or have any thoughts to share, I&#39;d love to hear from you!</p></td></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 12:59:30 +0000</pubDate>
      <source>https://news.ycombinator.com/item?id=28141462</source>
    </item>
    <item>
      <title>GitHub’s Engineering Team has moved to Codespaces</title>
      <link>https://github.blog/2021-08-11-githubs-engineering-team-moved-codespaces/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>

	<p><em>Today, GitHub is making <a href="https://github.com/features/codespaces" target="_blank" rel="noopener">Codespaces</a> available to Team and Enterprise Cloud plans on github.com. Codespaces provides software teams a faster, more collaborative development environment in the cloud. Read more on our <a href="http://github.com/features/codespaces" target="_blank" rel="noopener">Codespaces page</a>.</em></p>
<hr/>
<p>The GitHub.com codebase is almost 14 years old. When the first commit for GitHub.com was pushed, Rails was only two years old. AWS was one. Azure and GCP did not yet exist. This might not be long in COBOL time, but in internet time it’s quite a lot.</p>
<p>Over those 14 years, the core repository powering GitHub.com (github/github) has seen over a million commits. The vast majority of those commits come from developers building and testing on macOS.</p>
<div id="attachment_59288"><p></p><p id="caption-attachment-59288"><em><span>A classic commit message for a classic commit</span></em></p></div>
<p>But our development platform is evolving. Over the past months, we’ve left our macOS model behind and moved to Codespaces for the majority of GitHub.com development. This has been a fundamental shift for our day-to-day development flow. As a result, the Codespaces product is stronger and we’re well-positioned for the future of GitHub.com development.</p>
<h2 id="the-status-quo">The status quo<a href="#the-status-quo" aria-label="The status quo" data-anchorjs-icon="#"></a></h2>
<p>Over the years, we’ve invested significant time and effort in making local development work well out of the box. Our <a href="https://github.blog/2015-06-30-scripts-to-rule-them-all/" target="_blank" rel="noopener">scripts-to-rule-them-all approach</a> has presented a familiar interface to engineers for some time now—new hires could clone <code>github/github</code>, run setup and bootstrap scripts, and have a local instance of GitHub.com running in a half-day’s time. In most cases things just worked, and when they didn’t, our bootstrap script would open a GitHub issue connecting the new hire with internal support. Our <code>#friction</code> Slack channel—staffed by helpful, kind engineers—could debug nearly any system configuration under the sun.</p>
<div id="attachment_59287"><p></p><p id="caption-attachment-59287"><em><span>Run GitHub.com locally (eventually) with this one command!</span></em></p></div>
<p>Yet for all our efforts, local development remained brittle. Any number of seemingly innocuous changes could render a local environment useless and, worse still, require hours of valuable development time to recover. Mysterious breakage was so common and catastrophic that we’d codified an option for our bootstrap script: <code>--nuke-from-orbit</code>. When invoked, the script deletes as much as it responsibly can in an attempt to restore the local environment to a known good state.</p>
<p>And of course, this is a classic story that anyone in the software engineering profession will instantly recognize. Local development environments are fragile. And even when functioning perfectly, a single-context, bespoke local development environment felt increasingly out of step with the instant-on, access-from-anywhere world in which we now operate.</p>
<p>Collaborating on multiple branches across multiple projects was painful. We’d often find ourselves staring down a 45-minute bootstrap when a branch introduced new dependencies, shipped schema changes, or branched from a different SHA. Given how quickly our codebase changes (we’re deploying hundreds of changes per day), this was a regular source of engineering friction.</p>
<p>And we weren’t the only ones to take notice—in building Codespaces, we engaged with several best-in-class engineering organizations who had built Codespaces-like platforms to solve these same types of problems. At any significant scale, removing this type of productivity loss becomes a very clear productivity opportunity, very quickly.</p>
<div id="attachment_59286"><p></p><p id="caption-attachment-59286"><em><span>This single log message will cause any GitHub engineer to break out in a cold sweat</span></em></p></div>
<h2 id="development-infrastructure">Development infrastructure<a href="#development-infrastructure" aria-label="Development infrastructure" data-anchorjs-icon="#"></a></h2>
<p>In the infrastructure world, industry best practices have continued to position servers as a commodity. The idea is that no single server is unique, indispensable, or irreplaceable. Any piece could be taken out and replaced by a comparable piece without fanfare. If a server goes down, that’s ok! Tear it down and replace it with another one.</p>
<p>Our local development environments, however, are each unique, with their own special quirks. As a consequence, they require near constant vigilance to maintain. The next <code>git pull</code> or <code>bootstrap</code> can degrade your environment quickly, requiring an expensive context shift to a recovery effort when you’d rather be building software. There’s no convention of a warm laptop standing by.</p>
<p>But there’s a lot to be said for treating development environments as our own—they’re the context in which we spend the majority of our day! We tweak and tune our workbench in service of productivity but also as an expression of ourselves.</p>
<p>With Codespaces, we saw an opportunity to treat our dev environments much like we do infrastructure—a commodity we can churn—but still maintain the ability to curate our workbench. VS Code extensions, settings sync, and dotfiles repos bring our environment to our compute. In this context, a broken workbench is a minor inconvenience—now we can provision a new codespace at a known good state and get back to work.</p>
<h2 id="adopting-codespaces">Adopting Codespaces<a href="#adopting-codespaces" aria-label="Adopting Codespaces" data-anchorjs-icon="#"></a></h2>
<p>Migrating to Codespaces addressed the shortcomings in our existing developer environments, motivated us to push the product further, and provided leverage to improve our overall development experience.</p>
<p>And while our migration story has a happy ending, the first stages of our transition were… challenging. The GitHub.com repository is almost 13 GB on disk; simply cloning the repository takes 20 minutes. Combined with dependency setup, bootstrapping a GitHub.com codespace would take upwards of 45 minutes. And once we <em>had</em> a repository successfully mounted into a codespace, the application wouldn’t run.</p>
<p>Those 14 years of macOS-centric assumptions baked into our bootstrapping process were going to have to be undone.</p>
<p>Working through these challenges brought out the best of GitHub. Contributors came from across the company to help us revisit past decisions, question long-held assumptions, and work at the source-level to decouple GitHub development from macOS. Finally, we could (albeit very slowly) provision working GitHub.com codespaces on Linux hosts, connect from VS Code, and ship some work. Now we had to figure out how to make the thing hum.</p>
<h3 id="45-minutes-to-5-minutes">45 minutes to 5 minutes<a href="#45-minutes-to-5-minutes" aria-label="45 minutes to 5 minutes" data-anchorjs-icon="#"></a></h3>
<p>Our goal with Codespaces is to embrace a model where development environments are provisioned on-demand for the task at hand (roughly a 1:1 mapping between branches and codespaces.) To support task-based workflows, we need to get as close to instant-on as possible. 45 minutes wasn’t going to meet our task-based bar, but we could see low-hanging fruit, ripe with potential optimizations.</p>
<p>Up first: changing how Codespaces cloned github/github. Instead of performing a full clone when provisioned, Codespaces would now execute a shallow clone and then, after a codespace was created with the most recent commits, unshallow repository history in the background. Doing so reduced clone time from 20 minutes to 90 seconds.</p>
<p>Our next opportunity: caching the network of software and services that support GitHub.com, inclusive of traditional Gemfile-based dependencies as well as services written in C, Go, and a custom build of Ruby. The solution was a GitHub Action that would run nightly, clone the repository, bootstrap dependencies, and build and push a Docker image of the result. The published image was then used as the base image in github/github’s devcontainer—config-as-code for Codespaces environments. Our codespaces would now be created at 95%+ bootstrapped.</p>
<p>These two changes, along with a handful of app and service level optimizations, took GitHub.com codespace creation time from 45 minutes to five minutes. But five minutes is still quite a distance from “instant-on.” Well-known studies have shown people can sustain roughly <a href="https://www.nngroup.com/articles/powers-of-10-time-scales-in-ux/" target="_blank" rel="noopener">ten seconds</a> of wait time before falling out of flow. So while we’d made tremendous strides, we still had a way to go.</p>
<h3 id="5-minutes-to-10-seconds">5 minutes to 10 seconds<a href="#5-minutes-to-10-seconds" aria-label="5 minutes to 10 seconds" data-anchorjs-icon="#"></a></h3>
<p>While five minutes represented a significant improvement, these changes involved tradeoffs and hinted at a more general product need.</p>
<p>Our shallow clone approach—useful for quickly launching into Codespaces—still required that we pay the cost of a full clone at <em>some</em> point. Unshallowing post-create generated load with distracting side effects. Any large, complex project would face a similar class of problems during which cloning and bootstrapping created contention for available resources.</p>
<p>What if we could clone and bootstrap the repository ahead of time so that by the time an engineer asked for a codespace we’d already done most of the work?</p>
<p>Enter prebuilds: pools of codespaces, fully cloned and bootstrapped, waiting to be connected with a developer who wants to get to work. The engineering investment we’ve made in prebuilds has returned its value many times over: we can now create reliable, preconfigured codespaces, primed and ready for GitHub.com development in 10 seconds.</p>
<p>New hires can go from zero to a functioning development environment in less time than it takes to install Slack. Engineers can spin off new codespaces for parallel workstreams with no overhead. When an environment falls apart—maybe it’s too far behind, or the test data broke something—our engineers can quickly create a new environment and move on with their day.</p>
<h3 id="increased-leverage">Increased leverage<a href="#increased-leverage" aria-label="Increased leverage" data-anchorjs-icon="#"></a></h3>
<p>The switch to Codespaces solved some very real problems for us: it eliminated the fragility and single-track model of local development environments, but it also gave us a powerful new point of leverage for improving GitHub’s developer experience.</p>
<p>We now have a wedge for performing additional setup and optimization work that we’d never consider in local environments, where the cost of these optimizations (in both time and patience) is too high. For instance, with prebuilds we now prime our language server cache and gem documentation, run pending database migrations, and enable both GitHub.com and GitHub Enterprise development modes—a task that would typically require yet another loop through bootstrap and setup.</p>
<p>With Codespaces, we can upgrade every engineer’s machine specs with a single configuration change. In the early stages of our Codespaces migration, we used 8 core, 16 GB RAM VMs. Those machines were sufficient, but GitHub.com runs a network of different services and will gladly consume every core and nibble of RAM we’re willing to provide. So we moved to 32 core, 64 GB RAM VMs. By changing a single line of configuration, we upgraded every engineer’s machine.</p>
<div id="attachment_59291"><p></p><p id="caption-attachment-59291"><em><span>Instant upgrade—ship config and bypass the global supply chain bottleneck</span></em></p></div>
<p>Codespaces has also started to steal business from our internal “review lab” platform—a production-like environment where we preview changes with internal collaborators. Before Codespaces, GitHub engineers would need to commit and deploy to a review lab instance (which often required peer review) in order to share their work with colleagues. Friction. Now we ctrl+click, grab a preview URL, and send it on to a colleague. No commit, no push, no review, no deploy — just a live look at port 80 on my codespace.</p>
<h3 id="command-line">Command line<a href="#command-line" aria-label="Command line" data-anchorjs-icon="#"></a></h3>
<p>Visual Studio Code is great. It’s the primary tool GitHub.com engineers use to interface with codespaces. But asking our Vim and Emacs users to commit to a graphical editor is less great. If Codespaces was our future, we had to bring everyone along.</p>
<p>Happily, we could support our shell-based colleagues through a simple update to our prebuilt image which initializes <code>sshd</code> with our GitHub <a href="https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account" target="_blank" rel="noopener">public keys</a>, opens port 22, and forwards the port out of the codespace.</p>
<p></p>
<p>From there, GitHub engineers can run Vim, Emacs, or even ed if they so desire.</p>
<p>This has worked exceedingly well! And, much like how Docker image caching led to prebuilds, the obvious next step is taking what we’ve done for the GitHub.com codespace and making it a first-class experience for every codespace.</p>
<h2 id="reception">Reception<a href="#reception" aria-label="Reception" data-anchorjs-icon="#"></a></h2>
<p>Change is hard, doubly so when it comes to development environments. Thankfully, GitHub engineers are curious and kind—and quickly becoming Codespaces superfans.</p>
<p>
<strong>I used codespaces yesterday while my dev environment was a little broken and I finished the entire features on codespaces before my dev env was done building lol</strong></p>
<p>Codespaces are now the default development environment for GitHub.com. That <code>#friction</code> Slack channel that we mentioned earlier to help debug local development environment problems? We’re planning to archive it.</p>
<p>We’re onboarding more services and more engineers throughout GitHub every day, and we’re discovering new stories about the value Codespaces can generate along the way. But at the core of each story, you’ll discover a consistent theme that resonates with every engineer: I found a better tool, I’m more productive now, and I’m not going back.</p>


	

	

</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 16:01:01 +0000</pubDate>
      <source>https://github.blog/2021-08-11-githubs-engineering-team-moved-codespaces/</source>
    </item>
    <item>
      <title>So you want to write a GUI framework</title>
      <link>https://www.cmyr.net/blog/gui-framework-ingredients.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
      <article>

        

        <p>Through several <a href="https://www.reddit.com/r/rust/comments/o99zj1/what_do_you_think_will_emerge_as_the_dominant/">recent discussions</a> of <a href="https://news.ycombinator.com/item?id=27782337">GUI programming in Rust</a>,
I have been left with the impression that the term ‘GUI’ means significantly
different things to different people.</p>

<p>I would like to try and clarify this point somewhat, first by describing some of
the different things that people refer to as GUI frameworks/toolkits, and then
by exploring in detail the necessary components of one of these, the classic
desktop GUI framework.</p>

<p>Although this post is not especially specific to Rust, it does have its genesis
in Rust: it is largely informed by my experience working on <a href="https://docs.rs/druid">Druid</a>, a Rust
GUI toolkit of the desktop variety.</p>

<p>Once we have a shared understanding of the problem, we will be better situated
to talk about the status of this work in Rust, which will be the topic of a
follow-up post.</p>



<h2 id="what-we-talk-about-when-we-talk-about-gui">What we talk about when we talk about GUI</h2>

<p>A GUI framework can be a lot of different things, with different use cases
and different deployment targets. A framework intended for building embedded
applications is not going to also trivially work on the desktop; a framework for
building desktop applications is not going to trivially work on the web.</p>

<p>Regardless of the specifics, there is one major dividing line to recognize, and
this is whether or not a framework is expected to <em>integrate closely into an
existing platform or environment</em>.</p>

<p>On one side of this line, then, are tools for building games, embedded
applications, and (to a lesser degree) web apps. In this world, you are
responsible for providing almost everything your applications will need, and you
will be interacting closely with the underlying hardware: accepting raw input
events, and outputting your UI to some sort of buffer or surface. (The web is
different; here the browser vendors have done that integration work for you.)</p>

<p>On the other side of this line are tools for building traditional desktop
applications. In <em>this</em> world, you must integrate tightly into a large number of
existing platform APIs, design patterns, and conventions, and it is this
integration that is the source of most of your design complexity.</p>

<h3 id="games-and-embedded-guis">Games and embedded GUIs</h3>

<p>Before we start digging into all the integrations expected of a desktop
application framework, let’s talk briefly about the first case.</p>

<p>Games and GUI for embedded applications (think of the infotainment system in the
back of a taxi, or the interface on a medical device) are different from desktop
GUIs in a number of ways, most of which can be thought of in terms
of system integration: games and embedded applications don’t have to do as much of
it. In general, a game or an embedded application is a self-contained world;
there is a single ‘window’, and the application is responsible for drawing
everything in it. The application doesn’t need to worry about menus or
sub-windows; it doesn’t need to worry about the <a href="https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html">compositor</a>, or integrating with
the <a href="https://github.com/linebender/druid/pull/1636">platform’s IME</a> system. Although they maybe <em>should</em>, they often don’t
support <a href="https://harfbuzz.github.io/complex-scripts.html">complex scripts</a>. They can ignore rich text editing. They likely don’t need
to support <a href="https://github.com/WICG/local-font-access">font enumeration</a> or <a href="https://www.figma.com/blog/when-fonts-fall/">fallback</a>. They often ignore accessibility.</p>

<p>Of course, they do have additional challenges of their own. Embedded
applications have to think much more carefully about resource constraints, and
may need to <a href="https://lupyuen.github.io/articles/porting-druid-rust-widgets-to-pinetime-smart-watch">avoid allocation</a> altogether. When they <em>do</em> need
features like complex scripts or text input, they have to implement these
features on their own, without being able to rely on anything provided by the
system.</p>

<p>Games are similar, and additionally have their own unique performance concerns
and considerations that I am not qualified to talk about in any real detail.</p>

<p>Games and embedded are certainly interesting domains. Embedded in particular is
a place where I think Rust GUI could really make a lot of sense, for many of the
same reasons that Rust generally has a <a href="https://www.rust-lang.org/what/embedded">strong value proposition</a>
for embedded use.</p>

<p>It is unlikely, however, that a project that is intended for game or embedded
development is going to tackle the whole list of capabilities we expect in
desktop applications.</p>

<h2 id="anatomy-of-a-native-desktop-application">Anatomy of a ‘native desktop application’</h2>

<p>The principal distinguishing feature of a desktop application is its close
integration into the platform. Unlike a game or an embedded application, a
desktop application is expected to interoperate intimately with the host OS, as
well as with other software.</p>

<p>I’d like to try and go through some of the major required integration points,
and some of the possible approaches available for providing them.</p>

<h3 id="windowing">Windowing</h3>

<p>An application has to instantiate and manage windows. The API should allow for
customization of window appearance and behaviour, including things like whether
the window is resizeable, whether it has a titlebar, etc. The API should allow
for multiple windows, and it should also support modal and child-windows in a
way that respects platform conventions. This means supporting both
<a href="https://developer.apple.com/documentation/appkit/nsapplication/1428418-beginmodalsession#">application-modal</a> windows (for instance alerts that steal focus from the entire
application until dealt with) as well as <a href="https://developer.apple.com/documentation/appkit/nswindow/1419653-beginsheet">window-modal</a> windows (an alert that
steals focus from a given window until dealt with). Modal windows are used to
implement a large number of common features, including open/save dialogs (which
may be special-cased by the platform) alerts, confirmation dialogs, as well as
standard UI elements such as combo boxes and other drop-down menus (think a list
of completions for a text field).</p>

<p>The API must allow subwindows to be positioned precisely, relative to the
position of the parent window. For instance in the case of a combo box, when
showing the list of options you may wish to draw the currently selected item at
the same baseline position used when the list is closed, as in macOS:</p>



<p>Similarly, there needs to be an API that provides information about screens and
the positions of windows within them, so that a combo box can be positioned
appropriately to use available space: if the box is at the bottom of the screen
it should position the popup above itself, and otherwise below.</p>

<h4 id="tabs">Tabs</h4>

<p>You’re also going to want to support tabs. You should be able to drag a tab out
of a tab group to create a new window, as well as drag tabs between windows.
Ideally you would like use the platform’s native tabbing infrastructure, but…
that’s complicated. The browsers all roll their own implementations, and this is
probably for a good reason. You would <em>like</em> to respect the user’s preferences
around tabs (macOS let’s the user choose to open new windows as tabs,
system-wide) but that will be an additional complication. I forgive you if you
skip it, but if your framework sees much use you’re going to get someone
reporting it as a bug every month until you die, and they aren’t wrong.</p>

<div>


<video id="tabs-video" width="656" height="226" controls="">

    <source src="/assets/desktop_gui/safari_tabs.mp4" type="video/mp4"/>

    Sorry, your browser doesn&#39;t support embedded videos.
</video>

<p>Difference and appearance between &#34;native&#34; tabs (in
Safari) with custom implementations in Chrome and Firefox.</p>
</div>



<p>Closely related to windows are menus; a desktop application should respect
platform conventions around window and application menus. On Windows (the
operating system family) menus are a component of the window. On macOS, the menu
is a property of the application, which is updated to reflect the commands
available for the active window. On linux, things are slightly less clear cut.
If you’re using GTK then there are both window and application menus, although
the latter <a href="https://developer.gnome.org/ApplicationMenu/">are deprecated</a>. If you’re directly targeting x11 or
wayland, you’ll need to implement menus on your own, and you can theoretically
do whatever you want, although the easy path is Windows-style window menus.</p>

<p>Generally there are <a href="https://developer.apple.com/design/human-interface-guidelines/macos/menus/menu-bar-menus/">explicit</a> <a href="https://docs.microsoft.com/en-us/windows/win32/uxguide/cmd-menus#standard-menus">conventions</a> around what
menus you should provide, and what commands should be present in them; a
well-behaved desktop application should respect these conventions.</p>

<h4 id="painting">Painting</h4>

<p>To draw the content of your app, you need (at least) a basic 2D graphics API.
This should provide the ability to fill and stroke paths (with colors, including
transparency, as well as with radial and linear gradients), to lay out text, to
draw images, to define clip regions, and to apply transformations. Ideally your
API also provides a few more advanced features such as blend modes and blurs,
for things like drop shadows.</p>

<p>These APIs exist, in subtly different form, on the various platforms. on macOS,
there is <a href="https://developer.apple.com/documentation/coregraphics">CoreGraphics</a>, on windows <a href="https://docs.microsoft.com/en-us/windows/win32/direct2d/direct2d-portal">Direct2D</a>, and on linux there is <a href="https://www.cairographics.org">Cairo</a>. One
approach, then, is to present a common API abstraction over top of these
platform APIs, puttying over the rough edges and filling in the gaps. (This is
the approach we have currently taken, with the <a href="https://docs.rs/piet">piet</a> library.)</p>

<p>This does have its downsides. These API are different enough (especially in
trickier areas, <a href="https://www.cmyr.net/blog/piet-text-work.html">such as text</a>) that designing a good abstraction
can be challenging, and requires some jumping through hoops. Subtly different
platform behaviour can cause rendering irregularities.</p>

<p>It would be simpler to just use the same renderer everywhere. One option might
be something like <a href="https://skia.org">Skia</a>, the rendering engine used in Chrome and Firefox.
This has the advantage of portability and consistency, at the cost of binary
size and compile time costs; a Rust binary using <a href="https://github.com/rust-skia/rust-skia">skia-safe</a> crate has a
baseline size of about 17M for a release build (my methodology wasn’t great for
this, but I think it’s a reasonable baseline.)</p>

<p>Skia is still a fairly traditional software renderer, although it does now have
significant GPU support. Ultimately, though, the most exciting prospects are
those that move even more of the rendering task to the GPU.</p>

<p>An initial challange here is the diversity of APIs for GPU programming, even for
identical hardware. The same physical GPU can be interfaced with via <a href="https://developer.apple.com/metal/">Metal</a>
on Apple platforms, <a href="https://docs.microsoft.com/en-us/windows/win32/direct3d12/directx-12-programming-guide">DirectX</a> on WIndows, and <a href="https://www.vulkan.org">Vulkan</a> on many other
platforms. Making code portable across these platforms requires either duplicate
implementations, some form of <a href="https://github.com/KhronosGroup/MoltenVK">cross compilation</a> or else an
<a href="https://github.com/gfx-rs/wgpu/tree/master/wgpu-hal">abstraction layer</a>. The problem with these latter cases is that it is
genuinely hard to write an abstraction that provides adequate control of
advanced GPU features (such as the compute capabilities) across subtly different
low-level APIs.</p>

<p>Once you’ve figured out how you want to talk to the hardware, you then need to
figure out how to efficiently and correctly rasterize 2D scenes on the GPU.
This is also probably more complicated than you might initially suspect. Since
GPUs are good at drawing 3D scenes, and since 3D scenes seem “more complicated”
than 2D scenes, it may feel like a natural conclusion that GPUs should handle 2D
trivially. They do not. The rasterization techniques used in 3D are poorly
suited to 2D tasks like clipping to vector paths or antialiasing, and those that
produce the best results have the worst performance. Worse, these traditional
techniques can start to perform very badly in 2D once there are lots of blend
groups or clip regions involved, since each needs its own temporary buffer and
draw call.</p>

<p>There is some promising new
work (such as <a href="https://github.com/linebender/piet-gpu">piet-gpu</a>) that use <a href="https://anteru.net/blog/2018/intro-to-compute-shaders/">compute shaders</a> and can
draw scenes in the 2D imaging model with smoothly consistent performance. This
is an area of active research. One potential limitation is that compute shaders
are a relatively new feature, and are only available in GPUs made in the last
five-or-so years. Other renderers, including <a href="https://github.com/servo/webrender">WebRender</a> as used by Firefox,
use more traditional techniques and have wider compatibility.</p>

<p>In any case, you have options, all with various trade-offs, and none of them
clearly the winner.</p>

<h4 id="animation">Animation</h4>

<p>Oh, also: whatever approach you choose, you are going to also need to provide an
ergonomic, performant animation API. It’s worth thinking about this early; it will be
annoying to try and add it in later.</p>

<h4 id="text">Text</h4>

<p>Regardless of how you paint, you are going to need to <a href="https://gankra.github.io/blah/text-hates-you/">render text</a>.
A GUI framework should at the very least support rich text, complex scripts, text
layout (including things like line breaking, alignment, and justification,
and ideally things like line-breaking within arbitrary paths). You need to
support emoji. You also need to support <a href="https://lord.io/text-editing-hates-you-too/">text editing</a>,
including support for right-to-left and <a href="https://en.wikipedia.org/wiki/Bidirectional_text">BiDi</a>. Suffice to say that this is a
very large undertaking. Realistically, you have two options: either you bundle
<a href="https://github.com/harfbuzz/harfbuzz">HarfBuzz</a>, or you use the platform text APIs: <a href="https://developer.apple.com/documentation/coretext">CoreText</a> on macOS,
<a href="https://docs.microsoft.com/en-us/windows/win32/directwrite/direct-write-portal">DirectWrite</a> on Windows, and likely <a href="https://pango.gnome.org">Pango</a> + HarfBuzz on linux. There are a
few other alternatives, including some promising Rust projects (such as
<a href="https://github.com/yeslogic/allsorts">Allsorts</a>, <a href="https://github.com/RazrFalcon/rustybuzz">rustybuzz</a>, and <a href="https://github.com/dfrg/swash">swash</a>) but none of these are quite complete
enough to fully replace HarfBuzz or the platform text APIs just yet.</p>

<h4 id="the-compositor">The compositor</h4>

<p>2D graphics are a major part of the drawing that might be done by a desktop
application, but they are not the <em>only</em> part. There are two other common cases
worth mentioning: video, and 3D graphics. In both of these cases, we want to
be able to take advantage of available hardware: for video, the hardware
<a href="https://en.wikipedia.org/wiki/H.264/MPEG-4_AVC_products_and_implementations#Decoding">H.264 decoder</a>, and for 3D the GPU.
What this comes down to is instructing the operating system to
embed a video or 3D view in some region of our window, and this means
interacting with the <a href="https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html">compositor</a>. The compositor is the component of the
operating system that is responsible for taking display data from various
sources (different windows from different programs, video playback, GPU output)
and assembling it into a coherent picture of your desktop.</p>

<p>Perhaps the best way to think about why this matters to us is to think about
interactions with scrolling. If you have a scrollable view, and that view
contains a video, you would like to have the video move in sync with the view’s
other content when the view is scrolled. This is harder than it sounds. You
can’t just define a region of your window and embed a video in it; you need to
somehow tell the OS to move the video in sync with your scrolling.</p>

<h4 id="web-views">Web views</h4>

<p>Let’s not forget these: sooner or later, someone is going to want to display
some HTML (or an actual website!) within their application. We’d <em>really</em> rather
not bundle an entire browser engine to accomplish this, but making use of a
platform webview <em>also</em> implicates the compositor and overall significantly
complicates our lives. Maybe your users don’t really need that web view after
all? In any case, something to think about.</p>

<h3 id="handling-input">Handling input</h3>

<p>Once you have figured out how to manage windows and how you are going to draw
your content, you need to handle user input. We can roughly divide input into
<em>pointer</em>, <em>keyboard</em>, and <em>other</em>, where <em>other</em> is stuff like joysticks,
gamepads, and other <a href="https://en.wikipedia.org/wiki/USB_human_interface_device_class">HID devices</a>. We will ignore this last
category, except to say that this would be nice to have, but doesn’t need to be
a priority.
Finally, there are input events that originate from system accessibility
features; we will deal with these when we talk about accessibility.</p>

<p>For both pointer and keyboard events, there is a relatively easy approach, and
then there is a principled, correct approach that is significantly harder to get
right.</p>

<h4 id="pointer-input">Pointer input</h4>

<p>For pointer events, the easy approach is to present an API that sends mouse events,
and then sends trackpad events in a way that makes them look like mouse events:
ignoring multiple touches, pressure, or other features of touch gestures that
do not have obvious analogs to the mouse. The <em>hard</em> approach is to implement
some equivalent of the web’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent">PointerEvent</a> API, where you are able to fully
represent information on multi-touch (both from a trackpad as well as a
touch-sensitive display) and stylus input events.</p>

<p>Doing pointer events the easy way is…okay, assuming you can also provide
events for common trackpad gestures like pinch-to-zoom and two-finger-scroll,
without which your framework is going to immediately frustrate many users.
And while the number of applications that need or want to do advanced gesture recognition
or which expect to handle stylus input is fairly low, they certainly
exist, and a desktop application framework that does not support these cases is
fundamentally limited.</p>

<h4 id="keyboard-input">Keyboard input</h4>

<p>The situation is worse for keyboard input, in two ways: here the hard case is
both harder to do <em>and</em> doing it the ‘easy way’ is fundamentally limiting; going
the easy route means your framework is essentially useless for much of the world’s
population.</p>

<p>The easy way, for keyboard input, is very easy: the keys of a keyboard
are generally associated with a character or string, and when the user presses a key,
you can take that string and smush it in at the cursor position in the active
text field. This works <em>reasonably</em> well for unilingual English text, and
slightly-less-well-but-at-least-sort-of
for general <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1">Latin-1</a> languages plus scripts that behave similarly to latin, such
as Greek or Cyrillic or Turkish.
Unfortunately (but not coincidentally) a large number of programmers mostly just
type ASCII, but much of the world does not. Serving <em>these</em> users requires
integrating with the platform text input and IME system, a problem that has the unfortunate
property of being both fundamentally necessary and incredibly fiddly.</p>

<p>IME stands for <a href="https://en.wikipedia.org/wiki/Input_method">Input Method Editor</a>, and is a catch-all term for the platform
specific mechanisms that convert keyboard events into text. This process is
fairly trivial for most European languages and scripts, where at most you
may need to insert an accented vowel, but it is much more complicated for the
east-Asian languages (Chinese, Japanese, and Korean, or collectively, CJK) as
well as for various other <a href="https://harfbuzz.github.io/complex-scripts.html">complex scripts</a>.</p>

<div>
<video controls="" width="446" height="282">

    <source src="/assets/desktop_gui/ime.mp4" type="video/mp4"/>

    Sorry, your browser doesn&#39;t support embedded videos.
</video>
<p>Using a Japanese IME on macOS</p>
</div>

<p>Let’s stick to CJK, for the purpose of this example. In these scripts, keyboard
events do not correspond directly to input; instead <a href="https://github.com/linebender/druid/pull/1636">keyboard events are composed</a>
together into input text as you you type, but that text may change significantly
between keystrokes, and the changes can effect not just the current character
but also text that has previously been entered.</p>

<p>This is complicated in a number of ways. Firstly, it means that the interaction
between a given text field and the IME is <em>bidirectional</em>: the IME needs to be
able to both modify the contents of the textbox, but it also needs to be able to
query the current contents of the textbox, in order to have the appropriate
context with which to interpret events. Similarly, it needs to be notified of
changes in the cursor position or selection state; the same key-press may
produce different output based on the surrounding text. Secondly, we also need
to keep the IME up-to-date on the position of the textbox on the screen, since
the IME often presents a ‘candidate’ window of possible inputs for the active
sequence of keyboard events. Finally (and not like <em>actually</em> finally, just that
I’m three thousand words in to this and not nearly done yet) implementing IME in
a cross-platform way is significantly complicated by the differences in the
underlying platform APIs; macOS requires editable text fields to
<a href="https://developer.apple.com/documentation/appkit/nstextinputclient">implement a protocol</a>, and then lets the text field handle accepting
and applying changes from the IME, whereas the <a href="https://docs.microsoft.com/en-us/windows/win32/intl/input-method-manager-reference">Windows API</a> uses a
<a href="https://docs.microsoft.com/en-us/windows/win32/api/imm/nf-imm-immgetcontext">lock and release</a> mechanism; designing an abstraction over both
of these approaches is an additional layer of complexity.</p>

<p>There’s one additional complication related to text input: on macOS,
you need to support the <a href="https://www.hcs.harvard.edu/~jrus/site/system-bindings.html">Cocoa Text System</a>, which allows the user
to specify system-wide keybindings that can issue a variety of text editing and
navigation commands.</p>

<p>To summarize: handling input correctly is a lot of work, and if you don’t do it
your framework is basically a toy.</p>

<h3 id="accessibility">Accessibility</h3>

<p>A desktop application framework has to support native accessibility APIs, and
should ideally do this in a way that does not require special thought or work
from the application developer. Accessibility is a catchall term for a large
number of assistive technologies; the most crucial being support for
<a href="https://www.youtube.com/watch?v=Jao3s_CwdRU">screen readers</a> and assisted navigation. Screen reader support means
interoperating with platform APIs that describe the structure and contents of
your application, and <a href="https://developer.apple.com/videos/play/wwdc2021/10120/">assisted navigation</a> means providing a method of moving
between elements on the screen linearly, allowing elements to be highlighted,
described and activated in turn using a keyboard or joystick.</p>

<p>In addition to these core features, your framework should also respect the
user’s system-level preferences regarding things like text size, reduced color
contrast, and reduced animation. Related, but not accessibility, exactly: you
would like to support dark mode, as well as things like a user-chosen accent
colour.</p>

<h3 id="internationalization-and-localization">Internationalization and Localization</h3>

<p>Your framework should support internationalization. The most obvious component
of this is localization of strings, but it also includes things like mirroring
interfaces in right-to-left locales. Additionally, information like times,
dates, currency units, calendar units, names, sequences, and general
<a href="https://developer.apple.com/videos/play/wwdc2020/10160/">formatting of numerical data</a> should respect the user’s
locale. If this is not a problem you have thought about before, then it is
almost certainly more complicated than you imagine. But don’t worry:
<a href="https://www.unicode.org/reports/tr35/">there’s a standard</a>. All you need to do is implement it.</p>

<h3 id="other-common-features">Other common features</h3>

<ul>
  <li><strong>Copy/paste &amp; drag-and-drop</strong>: These overlap, although drag-and-drop is more
complicated. For copy/paste, you want to support not just text, but also other
<a href="https://docs.microsoft.com/en-us/windows/win32/dataxchg/standard-clipboard-formats">standard formats</a>, and additionally you need to
support user defined formats. For paste, you need to let the user inspect the
clipboard, see the available formats, and retrieve the data. Fun fact: on
macOS and Windows the API to retrieve data from the clipboard is synchronous,
and on x11 it is async. Have fun. For drag and drop, hopefully you can reuse
some of the work you did when you reimplemented window tabs?</li>
  <li><strong>Printing</strong>: <em>printing</em>? Who needs <em>printing</em>?? Well: your users, unfortunately.
Don’t worry, it’s probably not that hard.</li>
  <li>App resumption and window restoration: you’re going to want to remember where
the user’s windows were, and put them back when you relaunch. I hope they
didn’t unplug a monitor.</li>
  <li><strong>Assets and app packaging</strong>: You’re going to want to let the user bundle up their
application. This means doing things like generating your app’s
<a href="https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Introduction/Introduction.html">manifest</a>, validating required assets like app icons, and
localization data, and making these things available at runtime per the
conventions of the target platform.</li>
  <li><strong>Async</strong> You <em>do</em> have nice ergonomic async support, don’t you?</li>
</ul>

<h4 id="and-other-less-common-features">And other less common features</h4>

<p>In addition to all of the features that are shared across most desktop
environments, there are also platform-specific features to be thought about:
some of these are stylistic things, like APIs to add
<a href="https://developer.apple.com/documentation/appkit/nsvisualeffectview">transparency or vibrancy</a> to some part of your window; or
support for adding a <a href="https://developer.apple.com/design/human-interface-guidelines/macos/extensions/menu-bar-extras/">menu bar extra</a> or working with <a href="https://docs.microsoft.com/en-us/windows/win32/shell/taskbar-extensions">task bar extensions</a>,
or <a href="https://developer.apple.com/design/human-interface-guidelines/macos/system-capabilities/quick-look/">quick look</a>, or implementing a <a href="https://docs.microsoft.com/en-us/windows/win32/shell/control-panel-applications">control panel item</a>,
or any number of other things. Your framework should at least make these things
<em>possible</em>. At the very least, you should provide opportunities for the user to
drop down and work with the platform APIs directly, so that they
have some escape hatch available for when they really need to achieve something
that you haven’t foreseen (or gotten around to yet).</p>

<h2 id="putting-it-all-together">Putting it all together</h2>

<p>That feels like a reasonable place to stop; there are certainly things I’ve
overlooked, but I hope I’ve touched on the most significant ones. Once you have
an idea of the things you need to support and implement, you can start thinking
about how to fit it all together.</p>

<h3 id="designing-cross-platform-apis">Designing cross-platform APIs</h3>

<p>One of the more subtle and interesting challenges of designing your GUI
framework is designing the API. Here, you face a very particular problem: you
are attempting to design an API that provides a common interface for a set of
underlying platform APIs that are fundamentally different.</p>

<p>A nice example is around your application’s menus. As mentioned earlier, linux
and Windows generally expect a menu bar to exist on your app’s individual
windows, whereas macOS has a single menu bar that is a component of the desktop
environment, and which becomes your application menu when your application is
active.</p>

<p>To handle this naively, you might have separate ‘application’ and ‘window’
menus, and then you might have conditional code to update one or the other
based on conditional compilation or runtime checks. This ends up being a lot of
duplicate code, however, and it will be easy to get wrong. In this particular
case, I think there is a fairly clear, fairly simple API that works on both
platforms. In your framework, you treat menus as being a property of the window:
on Windows and Linux this is actually the case, so that’s fine, and then on
macOS you set the application menu to be the menu of the currently active
window, changing it as needed when windows gain or lose active status.</p>

<p>This is a fairly clean example, and many other APIs are not so clear cut. In
general, designing these cross-platform APIs is a process of carefully reading
through and experimenting with the platform-specific APIs, and then trying to
identify the set of shared features and functionality that you can express in
the abstraction above; and when no cleanly shared set of features exist, it
means coming up with some <em>other</em> API that can at least be implemented in terms
of what is provided by the platform.</p>

<h3 id="the-seduction-of-the-web-view">The seduction of the web view</h3>

<p>All of this platform complexity, with all of its subtle design flaws, missing
documentation, and mysterious bugs, has already been worked around successfully
by a few major cross-platform GUI frameworks: the major browsers,
Chrome and FireFox. (Safari and Edge don’t need to worry about this, because
they aren’t cross-platform.)</p>

<p>The browsers have had to figure all of this out: the child windows, the text
input, the <em>accessibility</em>,
the font fallback, the compositor, the performant painting, the drag and drop…it’s
all there.</p>

<p>If you’d like to do something cross-platform, then, there is a very natural and
very understandable impulse to reach for web technologies, either by creating a
real web app that runs in the browser, or else by leaning on the browser engine
and using it to render your UI in a native window, à la <a href="https://www.electronjs.org">Electron</a>. This does
come with obvious drawbacks, particularly around performance (on various axes,
such as application size and memory consumption) as well as ‘look and feel’ (on
which we’ll expand shortly) but it sure does make life a lot simpler, and the
more time I spend working on projects in this space, the more sympathetic I
become to folks who choose the browser side of this trade-off.</p>

<h3 id="on-native-look-and-feel">On “native look and feel”</h3>

<p>Something that comes up frequently in discussions of cross-platform GUI work is
a collection of things I’ll refer to as “native look and feel”. This is vague,
and I think it’s helpful to split it in two: <em>native behaviour and convention</em>,
and <em>native appearance</em> (although these can overlap.)</p>

<p><strong>Native behaviour</strong> refers to many of the things we have already discussed, and
some other things besides. Some examples would be scroll behaviour: does your
application respect the user’s scroll preferences? Does your application have
the same acceleration curves when scrolling as the default platform scroll
views? Does your application handle standard system keyboard shortcuts, for
instance for maximizing or hiding a window? Does IME work? This extends to other
less obvious conventions, as well: does the application store user data in the
locations that are conventional to the current platform? Does it use the system
file open/save dialogs? Does it show expected menus, containing expected menu
items?</p>

<p>These things are more important on some platforms than on others. On the Mac, in
particular, getting these behavioural details correct is important: the Mac more
than other platforms is designed around <a href="https://developer.apple.com/design/human-interface-guidelines/">specific conventions</a>, and Mac
application developers have historically been diligent about respecting these.
This in turn has helped create a community of users who value these conventions
and are <a href="https://www.sketch.com/blog/2020/10/26/part-of-your-world-why-we-re-proud-to-build-a-truly-native-mac-app/">sensitive to them</a>, and breaking from them is bound to
<a href="https://daringfireball.net/linked/2020/03/20/mac-assed-mac-apps">upset this cohort</a>.
On Windows, things are slightly more relaxed; there has historically been a
greater diversity of software on Windows, and Microsoft has never been quite as
dogmatic as Apple has been about how an application should look and behave.</p>

<p><strong>Native appearance</strong> refers more to how an application looks. Do your buttons
look like native buttons? Do they have the same sizing and gradients? Do you
more generally use the controls a platform expects for a given interaction, for
instance preferring a checkbox on desktop but a toggle on mobile?</p>

<p>This is additionally complicated by the fact that ‘native appearance’ changes
between not just platforms but also OS releases, to the point where looking
‘native’ on a given machine would require runtime detection of the OS version.</p>

<p>While all of this is <em>possible</em>, it is starting to add a huge amount of
additional work, and for a modestly staffed project this can be hard to justify.
For that reason, I am personally forgiving of a project that moves away from
trying to do pixel-perfect replication of the platform’s built-in widgets, in
favour of just trying to do something tasteful and coherent, while providing the
tools necessary for the framework’s users to style things as needed.</p>

<h3 id="fin">Fin</h3>

<p>I hope this catalog has helped at least vaguely define the scope of the problem.
None of the things I have described here are impossible, but doing them all, and
doing them <em>well</em>, is quite a bit of work.</p>

<p>This last point is worth ending on: for this work to be useful, it is not enough
that it <em>exist</em>. If you would like people to use your framework, you are going
to have to make it attractive to them: providing a good API that is easy to use,
that is idiomatic in the host language, that is well documented, and that lets
them solve their actual problems.</p>


      </article>

    </div></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 11:29:51 +0000</pubDate>
      <source>https://www.cmyr.net/blog/gui-framework-ingredients.html</source>
    </item>
    <item>
      <title>Poll Everywhere (YC S08) Is Hiring Full Stack Engineers</title>
      <link>https://www.workatastartup.com/jobs/45671</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><div><div><p><span>About Poll Everywhere</span></p><p>Poll Everywhere stands out for being one of the very few successful growth startups who are purposefully unfunded after YC&#39;s initial $20K investment. Our mission is to improve presentations by turning them into two-way conversations. That started with putting several &#34;clicker&#34; companies out of business and quickly becoming the largest text message voting platform. It continues with interactive tools and games that make presenters more authentic listeners and teachers. Poll Everywhere has been used in millions of everyday presentations, at over 75% of the Fortune 1000, thousands of universities, even on prime time TV. Presenters at TED, Google, McDonalds and Stanford trust us to enliven their slides.</p>
<p><span>About the role</span></p><p><b>Skills:</b> <span>Django, React, Ruby, Ruby on Rails</span></p><p>At Poll Everywhere, we are building a product that is more than just an engagement tech tool. We are passionate about making a product that makes an impact. So how do we create a product that gives people the tools they need to be heard in situations where they otherwise would have not? By forming engineering teams that are centered around development and collaboration that dive into new technologies or build out highly scalable features for our enterprise customers. Whether it&#39;s leading a team project or refining a user interface to help users get their work done faster, we&#39;ll help find the right team for you. At Poll Everywhere, we are serious about helping our engineers meet their career goals and strive to create learning opportunities for those who are proactive.</p>
<p>Poll Everywhere is a 60+ person growing B2B SaaS company on a mission to make presentations more inclusive. Transforming presentations into two-way conversations, our platform enables presenters to create interactive questions, words clouds, discussions, and competitions that their audience can respond to using any device. Founded in 2008, we now support millions of users worldwide from educational institutions to household companies such as Google, AT&amp;T, and Target.</p>
<p>We&#39;re looking for an ambitious developer with at least 2+ years of web application experience. As a Full Stack Engineer, you will work on and potentially lead projects to enhance and support customer-facing features. You will write code that is easy to read, understand, and maintain using many different technologies. Our <a href="https://stackshare.io/poll-everywhere/poll-everywhere">core tech stack</a> includes Ruby on Rails, MySQL, ES6, Redux, Sass, and Lit Element for WebComponents. Poll Everywhere has a great track record of being a place to enhance and deepen your technical skills.</p>

<ul>
<li>Build fast, reliable, real-time web-based applications.</li>
<li>Build reusable Web Components that provide a consistent user experience across our wide offering of interfaces.</li>
<li>Write and maintain internal APIs that connect our main Ruby on Rails application with our single-page apps and other front end code.</li>
<li>Participate in many aspects of delivering a project (architecture, planning, communication, documentation, metrics, and execution)</li>
<li>Write maintainable tests while you code, avoiding both false positives and false negatives. TDD and BDD are welcome here!</li>
<li>Own and deliver on more than one objective at a time by completing your project&#39;s feature work while contributing to the team through code reviews and ongoing maintenance.</li>
<li>Collaborate and work with Product Managers and Technical Project Leads (engineers) to understand your tasks and responsibilities.</li>
<li>Work with a coach who&#39;s invested in finding the right opportunities for your growth.</li>
</ul>

<ul>
<li>2-4 years of web application development professional working experience</li>
<li>2-4 years of server-side web frameworks (Ruby on Rails, Phoenix, Django, Express)</li>
<li>2+ years building web components with a modern framework such as Lit/Polymer, React, Vue.js.</li>
<li>1+ year working with a Flux-based state management library such as Redux, Vuex, Mobx.</li>
<li>1+ years experience with MySQL or a similar relational database.</li>
<li>Awareness of secure coding practices and the importance of incorporating these practices in your work.</li>
</ul>

<ul>
<li>Electron</li>
<li>Experience designing optimized database schemas</li>
<li>B.S. or B.A. in Computer Science or Software Engineering</li>
<li>Experience building Microsoft Office plugins (especially PowerPoint)</li>
<li>WebSockets and time-sensitive workloads</li>
<li>Experience optimizing page rendering times using a tool such as Lighthouse</li>
<li>Have an eye for design and passion for improving user experience</li>
</ul>

<ul>
<li>$150/month internet &amp; personal cell phone reimbursement</li>
<li>Monthly coffee and or tea subscription</li>
<li>$1,000 + 2 days of PTO annual self-development budget</li>
<li>$500 work from home stipend to help you set up your remote work life for success</li>
<li>Once we are able to safely reunite as an entire company, we will resume our biannual company retreats and quarterly visits for remote employees.</li>
</ul>
<p>Our users come from all kinds of communities, and so do PollEvians. We want to work with great people from a wide variety of backgrounds who put a lot of care and pride into their work. We&#39;re committed to providing you with opportunities to learn, and we’re looking to hire people with good judgment.</p>
<p>If you don’t meet 100% of the above qualifications or check off all the boxes, you should still seriously consider applying. An important part of our interview process is understanding why this position and our mission particularly resonated with you.</p>
<p><span>Technology</span></p><p><a href="https://stackshare.io/poll-everywhere">https://stackshare.io/poll-everywhere</a></p>
</div></div><div><h2>Other jobs at Poll Everywhere</h2></div></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 17:01:12 +0000</pubDate>
      <source>https://www.workatastartup.com/jobs/45671</source>
    </item>
    <item>
      <title>The death of the ‘Millionaire Next Door’ dream</title>
      <link>https://www.latimes.com/business/hiltzik/la-fi-mh-the-death-of-the-millionaire-next-door-dream-20150310-column.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
                                                <div><div data-subscriber-content=""><p>The idea that the average guy can become rich via hard work and rigorously virtuous thrift is one of the compelling myths of the American experience.</p><p>But for the most part, myth it is. Two recent events are both driving it forward and exposing its basic phoniness. The first is the death last week of Thomas J. Stanley, coauthor of the bestselling book “The Millionaire Next Door,” in a car accident. The other is the death of one Ronald Read, a Vermont retiree who appeared to be one of Stanley’s emblematic secret blue-collar millionaires -- after a lifetime of low-wage menial work and frugal living, he was discovered to have amassed a fortune worth about $8 million.</p><p>Let’s take them in turn.</p><p>Stanley’s 1996 book, co-written with William D. Danko, defined the “prototypical” American millionaire not as an ostentatious Gatsby or Trump but as the proprietor of a “dull-normal” small business -- “welding contractors, auctioneers, rice farmers, owners of mobile-home parks, pest controllers, coin and stamp dealers, and paving contractors.” His (mostly) or her median income was $131,000, and median net worth $1.6 million.</p>
<p>“We wear inexpensive suits and drive American made cars,” the book said in the voice of its putative heroes. “Only a minority of us drive the current-model-year automobile.”</p><p>But <a href="https://www.thebaffler.com/blog/millionaire-next-door/" target="_blank">as Helaine Olen points out</a> in the most clear-eyed valedictory to the late Stanley, his book “was already describing a vanishing world when it was published.” Fewer young people starting their careers today have had even the middle-class upbringing or family resources of so many of Stanley’s quiet millionaires.</p><p>That makes a big difference, because it’s rarely appreciated that many small businesses start with family investments. Remember Mitt Romney? As a presidential candidate, <a href="https://thinkprogress.org/election/2012/04/27/473096/romney-borrow-money-parents/" target="_blank">his advice to young students</a> was: “Take a shot, go for it, take a risk, get the education, borrow money if you have to from your parents, start a business.” But what if your parents don’t have any money?</p><p>Olen reminds us that the Stanley millionaire model was a bit fraudulent from the start. Economist Nassim Nicholas Taleb noticed, in his own book, “Fooled by Randomness,” that the picture painted by “The Millionaire Next Door” was the product of survivor bias -- “the authors made no attempt to correct their statistics with the fact that they saw only the winners,” he wrote. What of the millions of investors who invested in the wrong things or whose paving companies failed? They outnumber the winners by a large margin.</p>
<p>Taleb also observed that the book reflected “an unusual episode in history” when the return on assets was astronomical in historical terms. It arrived when that episode was playing out. Only three years after its publication came the dot-com crash; less than a decade later came the 2008 crash and a grinding recession that consigned lots of formerly million-dollar small businesses to oblivion.</p><p>That brings us to Ronald Read, who died in June at the age of 92 in Brattleboro, Vt., and was soon discovered to own a safe deposit box stuffed with stock certificates and other investments totaling $8 million. The news broke last month, after it was learned that <a href="https://www.reformer.com/news/ci_27453003/local-man-leaves-millions" target="_blank">he had bequeathed millions</a> to his local library and hospital.</p><p>There’s no doubt that Read’s accumulation of wealth from a lifetime of work as a service station hand and later an employee of his local JCPenney was an exceptional achievement. On CNBC, a <a href="https://www.cnbc.com/id/102410730" target="_blank">panel of investment types</a> praised his “strategy,” which appeared to consist of buying dividend-yielding blue chips, leaving them alone and spending little on himself. </p><p>But it’s hard to know what life lessons one should draw from Read’s experience. In part that’s because his life story already has been subjected to a certain amount of caricature. He was frugal but not the isolated loner who never spent a dime, as he’s sometimes depicted. </p>
<p>Read’s one marriage, at 38, brought him two teenage stepchildren, who he moved into a Brattleboro home he bought for about $12,000 (in the early 1960s) and supported through college. “He was a super good stepdad,” his stepson, Phillip Brown, 70, told me this week. He “never really took a vacation,” Brown says, and remained healthy well into his 80s.</p><p>One of CNBC’s analysts suggested that Read’s success could be replicated by merely investing $300 a month and letting it ride for 65 years; at an 8% compounded investment yield, that sum would grow to $8 million. That seems doable on the surface, but could it be done by a low-income laborer starting today? It’s extremely doubtful.</p><p>For one thing, as the investment website <a href="https://www.philosophicaleconomics.com/2015/02/janitor/" target="_blank">Philosophical Economics rightly observes</a>, that $300-a-month investment estimate ignores inflation. “Sixty-five years ago, $300 per month was a very large amount of money.... No janitor on earth would have been able to afford it.” </p><p>The website calculates that the required investment was $524 a month in 2015 dollars. That would have been a real challenge for someone in Read’s economic position, so he deserves major props for achieving it through what seems to be genuine discipline in his lifestyle and investment practice.</p>
<p>But the real secret to his success was catching the asset wave that Taleb mentioned. In other words: luck. The period in which he invested started with extreme undervaluations in the equity market. BusinessWeek’s famous (or infamous) <a href="https://www.bloomberg.com/bw/stories/1979-08-13/the-death-of-equitiesbusinessweek-business-news-stock-market-and-financial-advice" target="_blank">“Death of Equities” cover story</a> ran in August 1979. Since then equities have been on a long-term tear; $100 invested at the start of that period would be worth $2,000 today.</p><p>But these trend lines occur less than once per lifetime, and ‘70s-vintage rock-bottom valuations, which were themselves the product of a high inflation and interest rate environment, aren’t in place today, when inflation and rates are near historic lows. </p><p>Read’s frugality assisted his portfolio in another way. Since he apparently felt no need for the money, he didn’t have to draw it down at various low points -- say in March 2009, after it had lost nearly 60% of its value at year-end 2007. And by not selling, he didn’t incur capital gains taxes, which were extinguished upon his death. </p><p>To sum up, we should admire Read for living in a style that suited him and that would eventually benefit at least two deserving nonprofit institutions in his community. But it’s one thing to admire that lifestyle, another to aspire to it. </p>
<p>“The Millionaire Next Door” elevated self-abnegation to an investment rule -- what Thomas Frank, another critic of their book, termed the authors’ “militantly Calvinist attitude toward consumption” in which “saving and investing are ends in themselves, evidence of moral virtue, while spending is empty dissipation.” Olen, among others, mentions the neat irony that Stanley met his end while driving a Corvette, not normally a symbol of asceticism. </p><p>Sometimes spending isn’t a choice, either. If Read suffered from poor health during his working years or required long-term care, his estate would be a fraction of what it was. </p><p>For the rest of us, saving and investing is an act of deferred gratification -- by waiting, we have more to spend on goods and services that please us. “I see no special heroism in accumulating money,” Taleb wrote, “particularly if, in addition, the person is foolish enough to not even try to derive any tangible benefit from the wealth.... I certainly do not see the point of becoming [a millionaire] if I were to adopt Spartan (even miserly) habits and live in my starter house.”</p><p><b>Keep up to date with the Economy Hub. Follow <a href="https://twitter.com/hiltzikm" target="_blank">@hiltzikm</a> on Twitter, see our <a href="https://www.facebook.com/hiltzik" target="_blank">Facebook page</a>, or email <a href="mailto:michael.hiltzik@latimes.com" target="_blank">mhiltzik@latimes.com</a>.</b></p>
</div></div>
                                            </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 10:40:12 +0000</pubDate>
      <source>https://www.latimes.com/business/hiltzik/la-fi-mh-the-death-of-the-millionaire-next-door-dream-20150310-column.html</source>
    </item>
    <item>
      <title>Plants, Heavy Metals, and the Lingering Scars of World War I</title>
      <link>https://www.atlasobscura.com/articles/zone-rouge-plant-growth</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
<section id="article-body">

<p><span>In 1919, all along the </span>Western Front, French authorities were taking stock of the devastation of World War I. From the border with Belgium at Lille to the border with Switzerland near Strasbourg, this most brutal of wars had torn a rupture through the land: It was ripped, cratered, pitted, charred by a billion artillery shells fired over four years. “Where there are no dead,” wrote Henri Barbusse, “the earth itself is corpselike.” A Frankenstein landscape, stitched and stapled together, which harbored in its flesh millions of tons of unexploded munitions and chemical weapons enough to kill an army, all over again.</p>
<p>Economically hobbled by war, and awed by the scale of the problem facing them, the French authorities developed a triage system: They surveyed the <em>régions dévastées</em> and drew up a series of maps that charted areas believed to be devastated beyond repair. In total, more than 460 square miles were classified in this way, shaded with a red pencil and declared no‑go areas. Though over the following decades, this total was much reduced, but near Verdun, where the land was choppier, steeper, more remote, and the damage total—a “biological desert,” as the French botanist Georges H. Parent described it—much remains off-limits.</p>
<figure><figcaption>French infantry, Fort Vaux, Verdun, June 1916. <span>Underwood Archives/Getty Images</span></figcaption></figure>
<p>After a period of uncertainty, it was decided to plant a shroud of trees over the war zone—a living sarcophagus that might stabilize the soil and contain the terrors within for a generation or more. A forest of forgetfulness. Where the land was worst affected—soil stripped almost to the bedrock—they planted black pines, one of the only hardy species that could thrive there. So it remains today. They call it the Zone Rouge.</p>
<p>For a hundred years a forest grew up across the land, tall and dark and impenetrable, whose undergrowth curled and snarled into a thicket of bramble and blackthorn. In the Zone Rouge, however, there is a place where the trees never grew back: a clearing in the woods, where the oaks and hornbeams part to reveal a small round pool of what appears to be gray gravel, or tar, or ash. A swatch of ground where nothing will grow.</p>
<p>The secret to this sterile wound lies also in the decisions made after the war. At armistice, millions of unused shells lay piled up, ready to be fired. It wasn’t clear what should be done with these surplus weapons of mass destruction. At Verdun, the decision was made to recover what ammunition they could at the military camps, but to gather chemical weapons—200,000 of them—at a farm near Gremilly. Here was mustered an array of the most unpleasant hexes one man can cast upon another: mustard gas, tear gas, phosgene—whose pleasant odor of freshly mown hay belies its deadly consequences—the sneezing gas diphenyl-chloroarsine, the garlic‑scented vomiting agent diphenylcyano-arsine. Then, finally, in 1928, they dug trenches as if for a mass grave, piled in the canisters, and set them ablaze. Hence the name: la Place à Gaz, the Place of Gas.</p>
<p>The clouds of arsine gases produced during the burn poisoned the land and left it bare. It appears like tundra, or melted tarmac: waste ground of the very purest kind.</p>
<figure><figcaption>La Place à Gaz, Spincourt Forest, France, 2014. <span>Courtesy © BRGM – Daniel Hube </span></figcaption></figure>
<hr/>
<p><span>Many of the so-called heavy </span>metals—in this case used as kind of a catch-all term for cobalt, copper, iron, nickel, zinc, and others—are essential to the fundamental processes of life, but in quantity they become toxic. When plants come into contact with metal‑tainted soil, strange things can happen.</p>
<p>In the 1950s, the Russian naturalist N. G. Nesvetaylova discovered that it was possible to turn poppies different colors by the adding of various metal salts to compost: Zinc compounds produced flowers of lemon yellow, for example, whereas boron turned their leaves dark green. Copper, on the other hand, produced pale, blueish, “dove‑colored” leaves. (In this way a gardener with fairy godmother aspirations might sprinkle manganese on the soil beneath an almond tree to turn their flowers’ corollae from white to pink; aluminum sulfate over the roots of a hydrangea will turn its cotton-candy heads mauve, then indigo, then baby blue.) And there was a combinatory, witches’ brew aspect to the process: Two or more salts added together, like a tincture, and the flowers would take on unexpected new shades, wholly different from those seen when the metals were added separately.</p>
<p>Large-mouth poppies (<em>Papaver macrostomum</em>), common to the Middle East and Kashmir, develop double‑decker petals when growing in high-zinc soils, while the ladybird poppy (<em>P. commutatum</em>) of the Caucasus alter the pattern of their spots in response to copper-molybdenum. In the areas of greatest mineralization, their dark spots elongate until they meet at the center to form a cross—X marks the spot—a signpost to the contents of the underworld.</p>
<figure><figcaption>Caucasian scarlet poppy of ladybird poppy (<em>Papaver commutatum</em>) growing on waste ground in Greece. <span>FlowerPhotos/Universal Images Group via Getty Images</span></figcaption></figure>
<p>Plants growing in the vicinity of manganese might boom obscenely in size, reaching gigantic proportions with luxuriant greenery. Copper sulfate or chromite will produce dwarfs. Symptoms such as these have been used successfully by prospectors across the globe for centuries as “bioindicators” of minerals in the soil below. As explorers once scanned their environment for willow or cottonwood to find water in the desert, prospectors raked the landscape for plants displaying chlorosis, the floral equivalent of anemia, which shows up as a bleaching or fading of the leaves, except along their darker veins, which stand in dramatic silhouette.</p>
<p>Better yet, they might spot plants whose presence alone signaled valuable metals. Early Scandinavian miners, for example, were guided to their target by the <em>kobberblomst</em> (copper flower) and the <em>kisplante</em> (pyrite plant, or <em>Lychnis alpine</em>), tiny pink‑flowering campion whose delicacy belies an extreme hardiness, an ability to thrive where sometimes no other species can.</p>
<p>By the sixth century, the Imperial Chinese were already sensitive to the potential of metal‑loving plants as a means of prospecting, producing detailed manuals listing different species and their mineral familiars, and the symptomatology associated with specific metals, their instructions sounding with the prosody of incantation, of summoning spells. (“If leaves … are green, and the stalks red, much lead will be found below …”)</p>
<figure><figcaption>Nodding thread moss (<em>Pohlia nutans</em>). <span> Marina Andriichuk/Alamy</span></figcaption></figure>
<p>In such way, the expert geobotanist can glean a great deal of complex information from flora. In the Copperbelt Province of Zambia, for example, at least 27 flowers live almost exclusively in soils tainted with copper and cobalt: the thicker the pelt of these flowers, the greater the degree of mineralization. Similarly, in the Alps one might learn to predict the presence and concentration of zinc by the depth of color of the flowers of the tiny, lemon-yellow calamine violet. In Australia, two plants—a type of flowering pea (<em>Tephrosia</em>) and the paper-petaled herb <em>Polycarpaea spirostylis</em>—come together to form a map with contours: the <em>Tephrosia </em>tracing the outer edges of copper deposits, but giving way to the flag-waving <em>Polycarpaea</em> wherever the copper reaches more than 2,000 parts per million.</p>
<p>Some regions are so profoundly impacted by the presence of concentrated metal ores that even these rare “metallophytes” cannot get by. Such areas, denuded of vegetation, might appear as a sickly pasture that pockmarks otherwise lush, forested areas. Platinum has been found under bald spots in the Urals and South Africa; in Russia, boron. Folk stories spring up around such oddities: One such spot in North Carolina is known as the <a href="https://www.atlasobscura.com/places/devils-stomping-ground">“devil’s trampin ground,”</a> the source of its barrenness yet to be determined, and may predate human presence in the region. But for heavy metal contamination to be so extreme as to render a place barren dirt is rare.</p>
<p>La Place à Gaz is such a place.</p>
<figure><figcaption>La Place à Gaz, Spincourt Forest, France, 2014. <span>Courtesy © BRGM – Daniel Hube </span></figcaption></figure>
<hr/>
<p><span>Those plants that grow as </span>a wan halo around the poison ashes of la Place à Gaz: It was those I was here to see. On first sight, they seemed disarmingly familiar: the haze of what is called tufted grass and the Americans call “velvet” grass for its peach-fuzz leaves—common to marshland, verges, neglected waste ground—and, hidden beneath, like an underfur, the powdered goblet lichen <em>Cladonia fimbriata</em>. Neither are exotic species. But plants like these are specially adapted to survive in what would be otherwise be a dangerous environment. They limit their intake of the metals, preventing a build‑up to toxic levels in their bodies.</p>
<p>Their neighbor, though, a soft and feathery moss known as <em>Pohlia nutans</em> (“nodding thread moss,” after their tiny, many-headed fronds), uses a more complex strategy: Rather than close itself off to the metals in the soil, it throws open the doors, transporting metal salts upward into its limbs and stashing them away. Magpie plants of this kind are known as “hyperaccumulators,” and it’s not totally understood why they do this. It may be a form of self‑ defense: making themselves bitter herbs, to deter grazing animals. The effect, though, can be extraordinary. For example: The <em>Pycnandra acuminata</em> is a silver sylph of a tree that grows in the misty rainforests of New Caledonia. When cut with a knife, it bleeds a spectacular latex sap the color of verdigris, containing up to 26 percent nickel. In postindustrial mining regions of Wales, lichens soak up iron or copper from the rocks they grow on, turning rust-orange or turquoise in the process—the spattered paint of an artists’ studio—and rendering the metals insoluble, and therefore harmless.</p>
<p>Though metallophyte species like these have evolved naturally, finding toeholds in outcrops of metal ores and at sites like the Tantramar “copper swamp” of Canada’s New Brunswick, they are now much more likely to be found in human-impacted ones. Mine tailings, spoil heaps, slag tips, postindustrial sites of many kinds—and postconflict ones too, like la Place à Gaz. There has been an exponential growth in land despoiled by heavy metals over recent decades. Globally, more than five million such contaminated sites have been reported; more than 300,000 square miles of contaminated soil in China alone.</p>
<figure><figcaption>Powdered goblet lichen (<em>Cladonia fimbriata</em>). <span>Arterra/Universal Images Group via Getty Images</span></figcaption></figure>
<p>Knowledge and appreciation of such plants has grown in recent years, but their love of despoiled landscapes gives conservationists pause when it comes to protecting rare and unusual species. Near Swansea, in southern Wales, I once visited the former site of “Copperopolis”—an enormous complex of smelting furnaces built during the 17th and 18th centuries, which left the Lower Swansea valley a lunar landscape besmirched with lead, chromium, and copper in the years after the industry’s collapse. This scrappy wasteland, however, had recently been designated a Site of Special Scientific Interest thanks to its unusual assemblage of metallophyte plants and lichens—known as “calaminarian grassland” after the zinc ore—and brought under new environmental protections. Disturbance, though, turned out to have been very good for the area; despite the best of intentions, an early “remediation scheme,” which removed or capped metal-polluted soil, had reduced the habitat of rare plants such as the star-flowered spring sandwort, and conservationists were now considering radical, counterintuitive management methods—such as scraping up the topsoil to retoxify the ground.</p>
<p>Because of their strange and beguiling qualities, metal hyperaccumulators—of which there are known to be around 500—are of enormous scientific interest. Thanks to their thirst for otherwise toxic materials, they have great potential as tools in the recovery of highly polluted sites. By sucking heavy metals from the earth and hoarding or redistributing them, they might prepare the ground for other, more sensitive organisms. In this way, nature begins to heal over her scars.</p>
<figure><figcaption>An unexploded shell in the Zone Rouge. <span> ian alderman/Alamy</span></figcaption></figure>
<p>A field of study, phytoremediation, has grown up around hyperaccumulating plants. It seeks to harness their surreal kind of superpowers for the greater good. Other species include the brake fern, which removes arsenic from the soil and stores it in its fronds (and is being tested as a natural filter for contaminated water in Bangladesh, following a decades-long arsenic-poisoning crisis), and sunflowers, which accumulate a wide range of heavy metals and are grown on sites of former mines and smelters in Australia. It’s a slow process; the plants must grow and then be harvested—and their bodies, now containing high concentrations of the heavy metals, disposed of carefully—but it can be faster and certainly less environmentally damaging than current clean-up methods: excavation and reburial under a concrete cap.</p>
<p>Already I could see this process at work. In la Place à Gaz, the bare surface of chemical ash had clearly declined since a 2007 study by German scientists, and perhaps even since a French follow-up paper in 2016, which noted with relief “progressive revegetation of the site.” Whatever these plants were doing—and particularly the nodding thread moss—was slowly turning the chemical burn in the landscape into a habitable place to grow.</p>
</section>



</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 08:48:38 +0000</pubDate>
      <source>https://www.atlasobscura.com/articles/zone-rouge-plant-growth</source>
    </item>
    <item>
      <title>What to Do If You Think That You’ve Found a Meteorite</title>
      <link>https://geoscience.unlv.edu/what-to-do-if-you-think-that-youve-found-a-meteorite/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div id="container_area">
            <div>
                <div id="container_right">
                    
<h3>Do you think you found a meteorite? Here are the different steps to take:</h3>
<ul>
<li><strong><em>Check the statistics about meteorite finds:</em> </strong>The chances that you found a meteorite are extremely low. The chances that you found a meteorite from Mars or the Moon are even smaller “Less that 1800 meteorites have been <a href="http://meteorites.wustl.edu/numbers_by_state.htm">found in the United States</a> in the past 200 years. Less than 1 in 1000 of all known meteorites are from the Moon, and the number is about the same for Mars. No lunar meteorite has yet to be found in the temperate environment of North America or Europe; all were found in deserts of drier continents.” Please check the statistics described by Randy Korotev <a href="http://meteorites.wustl.edu/meteorite_types.htm">here.<br/>
</a></li>
<li><strong><em>Check the self-test check-list</em></strong> that Randy Korotev from WashU has created <a href="http://meteorites.wustl.edu/realities.htm">here</a> and follow this chart (from adaptation of flowchart devised by <a href="http://www.lpi.usra.edu/meetings/metsoc2010/pdf/5357.pdf" target="_blank">Deborah <span>Guedes</span></a> and colleagues in Brazil) to determine if you are in possession of a meteorite or not:</li>
</ul>
<p></p>
<ul>
<li>Most people in Nevada find <strong>slag</strong>, which can be easily mistaken for a meteorite. <em>Slag</em> usually refers to a glassy by-product of smelting ore to retrieve the metal. <a href="http://meteorites.wustl.edu/id/slag.htm">Here</a> are several pictures of slag.
<p></p></li>
<li><strong>Find here pictures of </strong><strong><strong><strong><a href="http://meteorites.wustl.edu/meteorwrongs/">meteorwrongs<br/>
</a></strong></strong></strong></li>
<li>Check the Facebook page of Mendy Ouzillou: <a href="https://www.facebook.com/groups/1387282344922047">Meteorite or Meteorwrong. </a>This group is dedicated to helping people identifying whether they have a meteorite or terrestrial stone often called a meteorwrong by the meteorite community.</li>
</ul>
<p>If, after checking the different lists, flowcharts, and pictures, you are still convinced that the rock you found is a meteorite, please send me an email <span>with pictures</span>.<span> <strong>Please do not come to my office without contacting me prior. </strong>In addition, Please note that any unsolicited specimen sent to UNLV or our department<strong> will not be returned. UNLV does not accept any liability for unsolicited samples.<br/>
</strong></span></p>



                    
                    
                    
                    
                    
                                    </div>

                	
	
                
            </div>
        </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 16:22:02 +0000</pubDate>
      <source>https://geoscience.unlv.edu/what-to-do-if-you-think-that-youve-found-a-meteorite/</source>
    </item>
    <item>
      <title>I sent over 10k personal thank you videos to my customers</title>
      <link>https://www.marshallhaas.com/post/how-i-sent-over-10-000-personal-thank-you-videos-to-my-customers-in-2-months</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><p>Every business owner wishes they could clone themselves. In this article I’ll show you <strong>how I actually cloned myself to send 10,000 personalized thank you videos</strong> to each customer over the course of 2 months.<br/></p><p>To be clear, when I say personalized video, I mean a video of me, on camera, thanking each customer by name. I sent out 10,000 of these videos to our customers after they ordered from my mobile accessory brand called <a href="http://buypeel.com">Peel</a>. We&#39;re an e-commerce brand, so each video was sent after someone purchased from the website.<br/></p><p><strong>Here’s a video of what I mean</strong></p><p><iframe title="vimeo-player" src="https://player.vimeo.com/video/580111254" width="640" height="360" frameborder="0" allowfullscreen=""></iframe></p><p>‍</p><p>Pretty cool right?<br/></p><h2><strong>Response From Customers</strong></h2><p>Over the last couple months, we received A TON of replies. Here’s a bunch of them!</p><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><figure><p></p></figure><p>‍<br/></p><p>Needless to say, people loved the personalized video!<br/></p><h2><strong>How I Did It</strong></h2><p>You’re probably wondering, how the heck did he do that 10,000 times in 60 days. If you do the math, that’s an average of 166+ videos per day working 7 days a week. <br/></p><p>There isn’t enough time in the day to make that many videos. <br/></p><p>Well, It’s time to come clean…. <br/></p><p><strong>I did this with a new startup I’ve partnered with called </strong><a href="http://windsor.io"><strong>Windsor.io</strong></a><strong>.<br/></strong></p><p>I recorded that video once, and then using artificial intelligence, we trained a computer to say each person’s name using my face and voice. The result is the ability for me to effectively record once, and then clone myself for each video. </p><p>I’ll let Pranay Prakash, co-founder of Windsor explain more of how this all works:<br/></p><p>Enter Pranay –<br/></p><p><em>By recording less than an hour’s worth of video from Marshall, we were able to create a model that accurately recreates his face and voice as he speaks. Once we had the model, Marshall recorded the perfect video he wanted to send to a customer - but, instead of saying any real names, he said something similar to “Hey {first name}”. <br/></em></p><p><em>Using an integration with his Shopify store, we were able to automatically create a video minutes after a new purchase - just from the name someone used on the order. A few hours later, the personalized video is delivered to their inbox without Marshall so much as lifting a finger.<br/></em></p><p><em>If this reminds you of how businesses send personalized emails at scale, you’ve got the right idea. With the amount of emails people receive, it’s hard to stand out as a business. A genuine email gets lost amongst endless promotions and marketing. We’ve seen businesses before personally record and send out videos to every customer. People raved about them.. However, as a business grows this becomes impossible to scale and that’s where we step in. We help businesses maintain this personal connection at scale.<br/></em></p><p>Back to Marshall.<br/></p><h2><strong>Ethics</strong></h2><p>I want to address the ethics of this head on.<br/></p><p>My excitement for this technology and Windsor as a startup can be summed up in 2 points:</p><ol role="list"><li>Personalization is a good thing – Windsor allows you to personalize and scale experiences for your customers. </li><li>This is <strong>the</strong> business use case of the Deep Fake technology. </li></ol><p>The technology of Deep Fake videos has been around for a little while, but most people have only seen it used in nefarious ways like faking a President saying absurd things that they didn’t really say, or creating obscene images of people as blackmail or profit. I think Windsor can change that and create the first business use-case of Deep Fake technology to be used for good. </p><p>In Pranay’s words - “We’re at a point in history where deep-fake technology has most people scared. This is with good reason - the possibilities with deep-fakes are quite scary. That said, we’ve been here before. Whenever the world was introduced to new technology, people with malicious intent were quick at figuring out how they can use it to serve themselves. By bringing this tech to businesses like Peel, who have a track record of doing what’s good for their customers, we’re opening up new possibilities. Along the way, we hope to educate people not only that deep-fakes exist, but that we can actually use them more productively”.<br/></p><p><strong><em>But, is this genuine? <br/></em></strong></p><p>I want my customers to know who’s behind our brand, see my face, know I’m proud of what we are selling, have a great experience, and ultimately invite them to reach out to our team for help if they have questions. <br/></p><p>That is all truly genuine and exactly what I wanted expressed in the videos we sent out. The only difference is I was able to scale that experience for customers by using this technology. I think that’s a win-win. </p><p><strong>If I was a retail store owner greeting customers at the entrance and someone came to me and offered to place a clone to do the same job, so I could be productive in the back, would I take that offer? Yes.<br/></strong></p><p>Windsor’s team has an interesting stance on this technology. The technology exists already - they didn’t create it, they adapted what’s already possible to solve a real business problem: personalization. Since it exists, there’s no putting the genie back in the bottle. The best thing we can do now is to use this for good and not evil. They want to normalize the fact that anyone can create Deep Fakes, and raise awareness on this technology. You should be aware of what’s possible and not believe everything you read see on the internet. They also plan to develop technology which helps detect deep fakes.</p><h2>Stats</h2><p>June 1 to July 31</p><ul role="list"><li>68% open rate on videos sent</li><li>86% views watched to completion</li><li>&gt; 1 view per recipient on average </li></ul><p>While preliminary, the most interesting stat from this experiment is...</p><p>During our 60 day experiment, inside that window of time we had a split of customers that received a video, and those that didn&#39;t. </p><ul role="list"><li>Of those that <strong>didn&#39;t receive</strong> a personalized video from me, only <strong>3.75% purchased from us again</strong> in those 60 days.</li><li>Of those that <strong>received</strong> a personalized video from me, <strong>7.02% purchased from us again</strong> in those 60 days.</li></ul><blockquote>That means... customers were 87% more likely to buy from us again when they received the personalized video from me.</blockquote><p>I will be very interested to see how this stat changes over time. This blew my mind 🤯<br/></p><h2><strong>How To Do Something Like This </strong></h2><p>The team at Windsor is slowly rolling this out to more companies interested in adding video to their brand without the time commitment. Learn more at <a href="http://windsor.io">Windsor.io</a> or you can reach them at <a href="mailto:team@windsor.io">team@windsor.io</a></p></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 17:57:56 +0000</pubDate>
      <source>https://www.marshallhaas.com/post/how-i-sent-over-10-000-personal-thank-you-videos-to-my-customers-in-2-months</source>
    </item>
    <item>
      <title>1Password 8 will be subscription only and won’t support local vaults</title>
      <link>https://1password.community/discussion/comment/601917/#Comment_601917</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___1password_community_discussion_comment_601917_#Comment_601917/image.jpg" /> 
<div id="readability-page-1" class="page"><div id="Discussion_121554">
<div>

<div>
<div>
<div>
<p>Hello AgileBits.</p>
<p>I would like to congratulate the team on the release today. As anticipated and appreciated it is very much the same as the Linux app. Having a variety of elements work differently based on operating system has long been a bane for 1Password users.</p>
<p>Aside from that I have criticism to offer which I hope you are open to. I wrote <a rel="nofollow" href="https://1password.community/discussion/comment/582622/#Comment_582622">this</a> in December 2020</p>
<blockquote><p>The writing has been on the wall for years. AgileBits no longer has interest in standalone vaults, licenses, iCloud, Dropbox, or anything other than memberships.</p></blockquote>
<p>Another six months has passed. AgileBits continues to erode licenses and standalone vaults as evidenced with today&#39;s beta for Windows. Yet there has been no announcement or public statement to this effect from the company, other than the coy &#34;membership is the way forward&#34; comments we see touted around this board. I would like to see AgileBits make a clear and concise statement that anything other than 1Password.com is effectively &#34;dead and gone&#34;.</p>
<p>I am not unhappy with the direction the company is taking. My only wish is for clarity so that informed decisions can be made. Much frustration that I see as I browse these forums could be avoided if only the company were to be sincere in this regard. I am excited for you to launch this same app on macOS and mobile. As someone who uses a wide variety of devices in my work it will be such a relief to have the same 1Password experience wherever I end up.</p>
<p>Cheers.</p>
<p><a rel="nofollow" href="https://1password.community/discussion/comment/601917/#Comment_601917"></a></p>
</div>
 </div>
</div>
</div>
</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 17:47:49 +0000</pubDate>
      <source>https://1password.community/discussion/comment/601917/#Comment_601917</source>
    </item>
    <item>
      <title>Kind: A Modern Proof Language</title>
      <link>https://github.com/uwu-tech/kind</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p>A minimal, efficient and practical proof and programming language. Under the hoods, it is basically Haskell, except purer and with dependent types. That means it can handle mathematical theorems just like Coq, Idris, Lean and Agda. On the surface, it aims to be more practical and looks more like TypeScript. Compared to other proof assistants, Kind has:</p>
<ol>
<li>
<p>The smallest core. Check <a href="https://github.com/moonad/FormCoreJS/blob/master/FormCore.js">FormCore.js</a> or <a href="https://github.com/uwu-tech/Kind/blob/master/base/Kind/Core.kind">Core.kind</a>. Both are <code>&lt; 1000-LOC</code> complete implementations!</p>
</li>
<li>
<p>Novel type-level features. Check <a href="https://github.com/uwu-tech/Kind/blob/master/blog/1-beyond-inductive-datatypes.md">this article</a> on super-inductive datatypes.</p>
</li>
<li>
<p>An accessible syntax that makes it less scary. Check <a href="https://github.com/uwu-tech/Kind/blob/master/SYNTAX.md">SYNTAX.md</a>.</p>
</li>
<li>
<p>A complete bootstrap: the language is implemented in itself. Check it <a href="https://github.com/uwu-tech/Kind/tree/master/base/Kind">here</a>.</p>
</li>
<li>
<p>Efficient real-world compilers. Check <a href="http://uwu.tech" rel="nofollow">http://uwu.tech/</a> for a list of apps. (WIP)</p>
</li>
</ol>
<h2><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/433259f5afbee51bef67116aff867390e273626cd2b96334b32fe372452b8934/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f6b696e642d6c616e67"></a>  <a href="https://t.me/formality_lang" rel="nofollow"></a></p>
<ol start="0">
<li>
<p>Choose a release. We&#39;ll use JavaScript here but ChezScheme is also <a href="https://github.com/uwu-tech/Kind/blob/master/INSTALL.md">available</a>.</p>
</li>
<li>
<p>Install Kind using <code>npm</code>:</p>
</li>
</ol>

<ol start="2">
<li>Save the file below as <code>Main.kind</code>:</li>
</ol>
<div data-snippet-clipboard-copy-content="Main: IO(Unit)
  IO {
    IO.print(&#34;Hello, world!&#34;)
  }
"><pre><code>Main: IO(Unit)
  IO {
    IO.print(&#34;Hello, world!&#34;)
  }
</code></pre></div>
<ol start="3">
<li>Type-check it:</li>
</ol>

<ol start="4">
<li>Run it:</li>
</ol>

<ol start="5">
<li>Have fun!</li>
</ol>
<h2><a id="user-content-things-you-can-do-with-kind" aria-hidden="true" href="#things-you-can-do-with-kind"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Things you can do with Kind:</h2>
<h3><a id="user-content-compile-programs-and-modules-to-several-targets" aria-hidden="true" href="#compile-programs-and-modules-to-several-targets"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Compile programs and modules to several targets.</h3>
<p>Kind has an universal compiler that targets several back-ends. Just find what you need on Kind, and compile it with <code>kind Main --lang</code>. For example, to generate a QuickSort function in JavaScript, just type <code>kind List.quicksort --js</code>. You may never write code in any other language! Available targets: <code>--js</code>, <code>--scm</code>. Several more will be available this month.</p>
<h3><a id="user-content-create-live-applications" aria-hidden="true" href="#create-live-applications"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Create live applications.</h3>
<p>Kind has an interconnected back-end that allows you to create rich, interactive applications without ever touching databases, TCP packets or messing with apis. Just add a file to <code>base/App</code> and it will be available on <a href="http://uwu.tech" rel="nofollow">http://uwu.tech/</a>. You can fork entire applications - not just the front-end, but all of it, back-end, database, and networking - in seconds.</p>
<h3><a id="user-content-prove-theorems" aria-hidden="true" href="#prove-theorems"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Prove theorems.</h3>
<p>No, theorems are not scary things mathematicians do. For programmers, they&#39;re more like unit tests, except they can involve symbols, allowing you to cover infinitely many test cases. If you like unit tests, you&#39;ll love theorems. To learn more, check <a href="https://github.com/uwu-tech/Kind/blob/master/THEOREMS.md">THEOREMS.md</a>. You can also compile Kind programs and proofs to a minuscle core language with the <code>--fmc</code> flag (example: <code>kind Nat.add.assoc --fmc</code>). Try it!</p>
<h3><a id="user-content-deploy-smart-contracts" aria-hidden="true" href="#deploy-smart-contracts"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploy Smart-Contracts.</h3>
<p>(Soon.)</p>
<h2><a id="user-content-examples" aria-hidden="true" href="#examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2>
<h3><a id="user-content-some-programs" aria-hidden="true" href="#some-programs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Some programs</h3>
<div data-snippet-clipboard-copy-content="// A &#39;Hello, world!&#34;
Main: IO(Unit)
  IO {
    IO.print(&#34;Hello, world!&#34;)
  }
"><pre><span>// A &#39;Hello, world!&#34;</span>
Main: <span>IO</span><span>(</span><span>Unit</span><span>)</span>
  <span>IO</span><span></span> <span>{</span>
    <span>IO</span><span>.</span><span>print</span><span>(</span><span>&#34;Hello, world!&#34;</span><span>)</span>
  <span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// Quicksort (using recursion)
quicksort(list: List&lt;Nat&gt;): List&lt;Nat&gt;
  case list {
    nil:
      []
    cons:
      fst = list.head
      min = filter!((x) x &lt;? list.head, list.tail)
      max = filter!((x) x &gt;=? list.head, list.tail)
      quicksort(min) ++ [fst] ++ quicksort(max)
  }
"><pre><span>// Quicksort (using recursion)</span>
<span>quicksort</span><span>(</span><span>list</span>: <span>List</span><span>&lt;</span><span>Nat</span><span>&gt;</span><span>)</span>: <span>List</span><span>&lt;</span><span>Nat</span><span>&gt;</span>
  <span>case</span> <span>list</span> <span>{</span>
    <span>nil</span>:
      <span>[</span><span>]</span>
    <span>cons</span>:
      <span>fst</span> <span>=</span> <span>list</span><span>.</span><span>head</span>
      <span>min</span> <span>=</span> <span>filter</span><span>!</span><span>(</span><span>(</span><span>x</span><span>)</span> <span>x</span> <span>&lt;</span>? <span>list</span><span>.</span><span>head</span><span>,</span> <span>list</span><span>.</span><span>tail</span><span>)</span>
      <span>max</span> <span>=</span> <span>filter</span><span>!</span><span>(</span><span>(</span><span>x</span><span>)</span> <span>x</span> <span>&gt;=</span>? <span>list</span><span>.</span><span>head</span><span>,</span> <span>list</span><span>.</span><span>tail</span><span>)</span>
      <span>quicksort</span><span>(</span><span>min</span><span>)</span> <span>++</span> <span>[</span><span>fst</span><span>]</span> <span>++</span> <span>quicksort</span><span>(</span><span>max</span><span>)</span>
  <span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// List iteration (using folds)
some_text: String
  List.foldl!!(&#34;&#34;,
    (str, result) 
      str = String.to_upper(str)
      str = String.reverse(str)
      result | str,
    [&#34;cba&#34;,&#34;fed&#34;,&#34;ihg&#34;])
"><pre><span>// List iteration (using folds)</span>
some_text: <span>String</span>
  <span>List</span><span>.</span><span>foldl</span><span></span><span>!</span><span>!</span><span>(</span><span>&#34;&#34;</span><span>,</span>
    <span>(</span><span>str</span><span>,</span> <span>result</span><span>)</span> 
      <span>str</span> <span>=</span> <span>String</span><span>.</span><span>to_upper</span><span>(</span><span>str</span><span>)</span>
      <span>str</span> <span>=</span> <span>String</span><span>.</span><span>reverse</span><span>(</span><span>str</span><span>)</span>
      <span>result</span> <span>|</span> <span>str</span><span>,</span>
    <span>[</span><span>&#34;cba&#34;</span><span>,</span><span>&#34;fed&#34;</span><span>,</span><span>&#34;ihg&#34;</span><span>]</span><span>)</span></pre></div>
<div data-snippet-clipboard-copy-content="// List iteration (using fors)
some_text: String
  result = &#34;&#34;
  for str in [&#34;cba&#34;,&#34;fed&#34;,&#34;ihg&#34;] with result:
    str = String.to_upper(str)
    str = String.reverse(str)
    result | str
  result
"><pre><span>// List iteration (using fors)</span>
some_text: <span>String</span>
  <span>result</span> <span>=</span> <span>&#34;&#34;</span>
  <span>for</span> <span>str</span> <span>in</span> <span>[</span><span>&#34;cba&#34;</span><span>,</span><span>&#34;fed&#34;</span><span>,</span><span>&#34;ihg&#34;</span><span>]</span> <span>with</span> <span>result</span>:
    <span>str</span> <span>=</span> <span>String</span><span>.</span><span>to_upper</span><span>(</span><span>str</span><span>)</span>
    <span>str</span> <span>=</span> <span>String</span><span>.</span><span>reverse</span><span>(</span><span>str</span><span>)</span>
    <span>result</span> <span>|</span> <span>str</span>
  <span>result</span></pre></div>
<div data-snippet-clipboard-copy-content="// Map, Maybe, String and Nat sugars
sugars: Nat
  key  = &#34;toe&#34;
  map  = {&#34;tic&#34;: 1, &#34;tac&#34;: 2, key: 3} // Map.from_list!([{&#34;tic&#34;,1}, ...])
  map  = map{&#34;tic&#34;} &lt;- 100            // Map.set!(&#34;tic&#34;, 100, map)
  map  = map{&#34;tac&#34;} &lt;- 200            // Map.set!(&#34;tac&#34;, 200, map)
  map  = map{ key } &lt;- 300            // Map.set!(key, 300, map)
  val0 = map{&#34;tic&#34;} &lt;&gt; 0              // Maybe.default!(Map.get!(&#34;tic&#34;,map), 0)
  val1 = map{&#34;tac&#34;} &lt;&gt; 0              // Maybe.default!(Map.get!(&#34;tac&#34;,map), 0)
  val2 = map{ key } &lt;&gt; 0              // Maybe.default!(Map.get!(key, map), 0)
  val0 + val1 + val2                  // Nat.add(val0, Nat.add(val1, val2))
"><pre><span><span>//</span> Map, Maybe, String and Nat sugars</span>
sugars: Nat
  key  = <span><span>&#34;</span>toe<span>&#34;</span></span>
  map  = {<span><span>&#34;</span>tic<span>&#34;</span></span>: <span>1</span>, <span><span>&#34;</span>tac<span>&#34;</span></span>: <span>2</span>, key: <span>3</span>} <span><span>//</span> Map.from_list!([{&#34;tic&#34;,1}, ...])</span>
  map  = map{<span><span>&#34;</span>tic<span>&#34;</span></span>} &lt;- <span>100</span>            <span><span>//</span> Map.set!(&#34;tic&#34;, 100, map)</span>
  map  = map{<span><span>&#34;</span>tac<span>&#34;</span></span>} &lt;- <span>200</span>            <span><span>//</span> Map.set!(&#34;tac&#34;, 200, map)</span>
  map  = map{ key } &lt;- <span>300</span>            <span><span>//</span> Map.set!(key, 300, map)</span>
  val0 = map{<span><span>&#34;</span>tic<span>&#34;</span></span>} &lt;&gt; <span>0</span>              <span><span>//</span> Maybe.default!(Map.get!(&#34;tic&#34;,map), 0)</span>
  val1 = map{<span><span>&#34;</span>tac<span>&#34;</span></span>} &lt;&gt; <span>0</span>              <span><span>//</span> Maybe.default!(Map.get!(&#34;tac&#34;,map), 0)</span>
  val2 = map{ key } &lt;&gt; <span>0</span>              <span><span>//</span> Maybe.default!(Map.get!(key, map), 0)</span>
  val0 + val1 + val2                  <span><span>//</span> Nat.add(val0, Nat.add(val1, val2))</span></pre></div>
<div data-snippet-clipboard-copy-content="// List monadic block: returns [{1,4},{1,5},{1,6},{2,4},...,{3,6}]
my_list: List&lt;Pair&lt;Nat,Nat&gt;&gt;
  List {
    get x = [1, 2, 3]
    get y = [4, 5, 6]
    return {x, y}
  }
"><pre><span><span>//</span> List monadic block: returns [{1,4},{1,5},{1,6},{2,4},...,{3,6}]</span>
my_list: List&lt;Pair&lt;Nat,Nat&gt;&gt;
  List {
    get x = [<span>1</span>, <span>2</span>, <span>3</span>]
    get y = [<span>4</span>, <span>5</span>, <span>6</span>]
    <span>return</span> {x, y}
  }</pre></div>
<p>Check many List algorithms on <a href="https://github.com/uwu-tech/Kind/tree/master/base/List">base/List</a>!</p>
<h3><a id="user-content-some-types" aria-hidden="true" href="#some-types"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Some types</h3>
<div data-snippet-clipboard-copy-content="// A boolean
type Bool {
  true
  false
}
"><pre><span>// A boolean</span>
<span>type</span> <span>Bool</span> <span>{</span>
  <span>true</span>
  <span>false</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A natural number
type Nat {
  zero
  succ(pred: Nat)
}
"><pre><span>// A natural number</span>
<span>type</span> <span>Nat</span> <span>{</span>
  <span>zero</span>
  <span>succ</span><span>(</span><span>pred</span>: <span>Nat</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A polymorphic list
type List &lt;A: Type&gt; {
  nil
  cons(head: A, tail: List&lt;A&gt;)
}
"><pre><span>// A polymorphic list</span>
<span>type</span> <span>List</span> <span>&lt;</span><span>A</span>: <span>Type</span><span>&gt;</span> <span>{</span>
  <span>nil</span>
  <span>cons</span><span>(</span><span>head</span>: <span>A</span><span>,</span> <span>tail</span>: <span>List</span><span>&lt;</span><span>A</span><span>&gt;</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A polymorphic pair
type Pair &lt;A: Type, B: Type&gt; {
  new(fst: A, snd: B)
}
"><pre><span>// A polymorphic pair</span>
<span>type</span> <span>Pair</span> <span>&lt;</span><span>A</span>: <span>Type</span><span>,</span> <span>B</span>: <span>Type</span><span>&gt;</span> <span>{</span>
  <span>new</span><span>(</span><span>fst</span>: <span>A</span><span>,</span> <span>snd</span>: <span>B</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A polymorphic dependent pair
type Sigma &lt;A: Type, B: A -&gt; Type&gt; {
  new(fst: A, snd: B(fst))
}
"><pre><span>// A polymorphic dependent pair</span>
<span>type</span> <span>Sigma</span> <span>&lt;</span><span>A</span>: <span>Type</span><span>,</span> <span>B</span>: <span>A</span> <span>-</span><span>&gt;</span> <span>Type</span><span>&gt;</span> <span>{</span>
  <span>new</span><span>(</span><span>fst</span>: <span>A</span><span>,</span> <span>snd</span>: <span>B</span><span>(</span><span>fst</span><span>)</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A polymorphic list with a statically known size
type Vector &lt;A: Type&gt; ~ (size: Nat) {
  nil                                              ~ (size = 0) 
  cons(size: Nat, head: Nat, tail: Vector&lt;A,size&gt;) ~ (size = 1 + size)
}
"><pre><span>// A polymorphic list with a statically known size</span>
<span>type</span> <span>Vector</span> <span>&lt;</span><span>A</span>: <span>Type</span><span>&gt;</span> <span>~</span> <span>(</span><span>size</span>: <span>Nat</span><span>)</span><span></span> <span>{</span>
  <span>nil</span>                                              <span>~</span> <span>(</span><span>size</span> <span>=</span> <span>0</span><span>)</span> 
  <span>cons</span><span>(</span><span>size</span>: <span>Nat</span><span>,</span> <span>head</span>: <span>Nat</span><span>,</span> <span>tail</span>: <span>Vector</span><span>&lt;</span><span>A</span><span>,</span><span>size</span><span>&gt;</span><span>)</span> <span>~</span> <span>(</span><span>size</span> <span>=</span> <span>1</span> <span>+</span> <span>size</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A bounded natural number
type Fin ~ &lt;lim: Nat&gt; {
  zero&lt;N: Nat&gt;               ~ (lim = Nat.succ(N))
  succ&lt;N: Nat&gt;(pred: Fin&lt;N&gt;) ~ (lim = Nat.succ(N))
}
"><pre><span>// A bounded natural number</span>
<span>type</span> <span>Fin</span> <span>~</span> <span>&lt;</span><span>lim</span>: <span>Nat</span><span>&gt;</span> <span>{</span>
  <span>zero</span><span>&lt;</span><span>N</span>: <span>Nat</span><span>&gt;</span>               <span>~</span> <span>(</span><span>lim</span> <span>=</span> <span>Nat</span><span>.</span><span>succ</span><span>(</span><span>N</span><span>)</span><span>)</span>
  <span>succ</span><span>&lt;</span><span>N</span>: <span>Nat</span><span>&gt;</span><span>(</span><span>pred</span>: <span>Fin</span><span>&lt;</span><span>N</span><span>&gt;</span><span>)</span> <span>~</span> <span>(</span><span>lim</span> <span>=</span> <span>Nat</span><span>.</span><span>succ</span><span>(</span><span>N</span><span>)</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// The type used in equality proofs
type Equal &lt;A: Type, a: A&gt; ~ (b: A) {
  refl ~ (b = a)
}
"><pre><span>// The type used in equality proofs</span>
<span>type</span> <span>Equal</span> <span>&lt;</span><span>A</span>: <span>Type</span><span>,</span> <span>a</span>: <span>A</span><span>&gt;</span> <span>~</span> <span>(</span><span>b</span>: <span>A</span><span>)</span> <span>{</span>
  <span>refl</span> <span>~</span> <span>(</span><span>b</span> <span>=</span> <span>a</span><span>)</span>
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// A burrito
type Monad &lt;M: Type -&gt; Type&gt; {
  new(
    bind: &lt;A: Type, B: Type&gt; M&lt;A&gt; -&gt; (A -&gt; M&lt;B&gt;) -&gt; M&lt;B&gt;
    pure: &lt;A: Type&gt; A -&gt; M&lt;A&gt;
  )
}
"><pre><span>// A burrito</span>
<span>type</span> <span>Monad</span> <span>&lt;</span><span>M</span>: <span>Type</span> <span>-</span><span>&gt;</span> <span>Type</span><span>&gt;</span> <span>{</span>
  <span>new</span><span>(</span>
    <span>bind</span>: <span>&lt;</span><span>A</span>: <span>Type</span><span>,</span> <span>B</span>: <span>Type</span><span>&gt;</span> M<span>&lt;</span><span>A</span><span>&gt;</span> -<span>&gt;</span> <span>(</span><span>A</span> <span>-</span><span>&gt;</span> <span>M</span><span>&lt;</span><span>B</span><span>&gt;</span>) -<span>&gt;</span> <span>M</span><span>&lt;</span><span>B</span><span>&gt;</span>
    pure: <span>&lt;</span><span>A</span>: <span>Type</span><span>&gt;</span> A -<span>&gt;</span> <span>M</span><span>&lt;</span><span>A</span><span>&gt;</span>
  )
<span>}</span></pre></div>
<div data-snippet-clipboard-copy-content="// Some game entity
type Entity {
  player(
    name: String
    pos: V3
    health: Nat
    items: List&lt;Item&gt;
    sprite: Image
  )
  wall(
    hitbox: Pair&lt;V3, V3&gt;
    collision: Entity -&gt; Entity
    sprite: Image
  )
}
"><pre><span>// Some game entity</span>
<span>type</span> <span>Entity</span> <span>{</span>
  <span>player</span><span>(</span>
    <span>name</span>: <span>String</span>
    <span>pos</span>: <span>V3</span>
    health: <span>Nat</span>
    <span>items</span>: <span>List</span><span>&lt;</span><span>Item</span><span>&gt;</span>
    <span>sprite</span>: <span>Image</span>
  <span>)</span>
  <span>wall</span><span>(</span>
    <span>hitbox</span>: <span>Pair</span><span>&lt;</span><span>V3</span><span>,</span> <span>V3</span><span>&gt;</span>
    <span>collision</span>: <span>Entity</span> <span>-</span><span>&gt;</span> <span>Entity</span>
    <span>sprite</span>: <span>Image</span>
  <span>)</span>
<span>}</span></pre></div>
<p>Check all core types on <a href="https://github.com/uwu-tech/Kind/tree/master/base">base</a>!</p>
<h3><a id="user-content-some-proofs" aria-hidden="true" href="#some-proofs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Some proofs</h3>
<div data-snippet-clipboard-copy-content="// Proof that `a == a + 0`
Nat.add.zero(a: Nat): a == Nat.add(a, 0)
  case a {
    zero: refl
    succ: apply(Nat.succ, Nat.add.zero(a.pred))
  }!
"><pre><span>// Proof that `a == a + 0`</span>
<span>Nat</span><span>.</span><span>add</span><span>.</span><span>zero</span><span>(</span><span>a</span>: <span>Nat</span><span>)</span>: <span>a</span> <span>==</span> <span>Nat</span><span>.</span><span>add</span><span>(</span><span>a</span><span>,</span> <span>0</span><span>)</span>
  <span>case</span> <span>a</span> <span>{</span>
    zero: <span>refl</span>
    succ: <span>apply</span><span>(</span><span>Nat</span><span>.</span><span>succ</span><span>,</span> <span>Nat</span><span>.</span><span>add</span><span>.</span><span>zero</span><span>(</span><span>a</span><span>.</span><span>pred</span><span>)</span><span>)</span>
  <span>}</span><span>!</span></pre></div>
<div data-snippet-clipboard-copy-content="// Proof that `1 + (a + b) == a + (1 + b)`
Nat.add.succ(a: Nat, b: Nat): Nat.succ(a + b) == (a + Nat.succ(b))
  case a {
    zero: refl
    succ: apply(Nat.succ, Nat.add.succ(a.pred, b))
  }!
"><pre><span>// Proof that `1 + (a + b) == a + (1 + b)`</span>
<span>Nat</span><span>.</span><span>add</span><span>.</span><span>succ</span><span>(</span><span>a</span>: <span>Nat</span><span>,</span> <span>b</span>: <span>Nat</span><span>)</span>: <span>Nat</span><span>.</span><span>succ</span><span>(</span><span>a</span> <span>+</span> <span>b</span><span>)</span> <span>==</span> <span>(</span><span>a</span> <span>+</span> <span>Nat</span><span>.</span><span>succ</span><span>(</span><span>b</span><span>)</span><span>)</span>
  <span>case</span> <span>a</span> <span>{</span>
    zero: <span>refl</span>
    succ: <span>apply</span><span>(</span><span>Nat</span><span>.</span><span>succ</span><span>,</span> <span>Nat</span><span>.</span><span>add</span><span>.</span><span>succ</span><span>(</span><span>a</span><span>.</span><span>pred</span><span>,</span> <span>b</span><span>)</span><span>)</span>
  <span>}</span><span>!</span></pre></div>
<div data-snippet-clipboard-copy-content="// Proof that addition is commutative
Nat.add.comm(a: Nat, b: Nat): (a + b) == (b + a)
  case a {
    zero:
      Nat.add.zero(b)
    succ: 
      p0 = Nat.add.succ(b, a.pred)
      p1 = Nat.add.comm(b, a.pred)
      p0 :: rewrite X in Nat.succ(X) == _ with p1
  }!
"><pre><span>// Proof that addition is commutative</span>
<span>Nat</span><span>.</span><span>add</span><span>.</span><span>comm</span><span>(</span><span>a</span>: <span>Nat</span><span>,</span> <span>b</span>: <span>Nat</span><span>)</span>: <span>(</span><span>a</span> <span>+</span> <span>b</span><span>)</span> <span>==</span> <span>(</span><span>b</span> <span>+</span> <span>a</span><span>)</span>
  <span>case</span> <span>a</span> <span>{</span>
    zero:
      <span>Nat</span><span>.</span><span>add</span><span>.</span><span>zero</span><span>(</span><span>b</span><span>)</span>
    succ: 
      <span>p0</span> <span>=</span> <span>Nat</span><span>.</span><span>add</span><span>.</span><span>succ</span><span>(</span><span>b</span><span>,</span> <span>a</span><span>.</span><span>pred</span><span>)</span>
      <span>p1</span> <span>=</span> <span>Nat</span><span>.</span><span>add</span><span>.</span><span>comm</span><span>(</span><span>b</span><span>,</span> <span>a</span><span>.</span><span>pred</span><span>)</span>
      p0 :: <span>rewrite</span> <span>X</span> <span>in</span> <span>Nat</span><span>.</span><span>succ</span><span>(</span><span>X</span><span>)</span> <span>==</span> <span>_</span> <span>with</span> <span>p1</span>
  <span>}</span><span>!</span></pre></div>
<p>Check some Nat proofs on <a href="https://github.com/uwu-tech/Kind/tree/master/base/Nat/add">base/Nat/add</a>!</p>
<h3><a id="user-content-a-web-app" aria-hidden="true" href="#a-web-app"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>A web app</h3>
<div data-snippet-clipboard-copy-content="// Render function
App.Hello.draw: App.Draw&lt;App.Hello.State&gt;
  (state)
  &lt;div style={&#34;border&#34;: &#34;1px solid black&#34;}&gt;
    &lt;div style={&#34;font-weight&#34;: &#34;bold&#34;}&gt;&#34;Hello, world!&#34;&lt;/div&gt;
    &lt;div&gt;&#34;Clicks: &#34; | Nat.show(state@local)&lt;/div&gt;
    &lt;div&gt;&#34;Visits: &#34; | Nat.show(state@global)&lt;/div&gt;
  &lt;/div&gt;

// Event handler
App.Hello.when: App.When&lt;App.Hello.State&gt;
  (event, state)
  case event {
    init: IO {
      App.watch!(App.room_zero)
      App.new_post!(App.room_zero, App.empty_post)
    }
    mouse_down: IO {
      App.set_local!(state@local + 1)
    }
  } default App.pass!
"><pre><span>// Render function</span>
<span>App</span><span>.</span><span>Hello</span><span>.</span><span>draw</span>: <span>App</span><span>.</span><span>Draw</span><span>&lt;</span><span>App</span><span>.</span><span>Hello</span><span>.</span><span>State</span><span>&gt;</span>
  <span>(</span><span>state</span><span>)</span>
  <span>&lt;</span><span>div</span> <span>style</span><span>=</span><span>{</span><span>&#34;border&#34;</span>: <span>&#34;1px solid black&#34;</span><span>}</span><span>&gt;</span>
    <span>&lt;</span><span>div</span> <span>style</span><span>=</span><span>{</span><span>&#34;font-weight&#34;</span>: <span>&#34;bold&#34;</span><span>}</span><span>&gt;</span>&#34;Hello, world!&#34;<span>&lt;</span><span>/</span><span>div</span><span>&gt;</span>
    <span>&lt;</span><span>div</span><span>&gt;</span><span>&#34;Clicks: &#34;</span> <span>|</span> <span>Nat</span><span>.</span><span>show</span><span>(</span><span>state</span>@<span>local</span><span>)</span><span>&lt;</span><span>/</span>div&gt;
    <span>&lt;</span><span>div</span><span>&gt;</span>&#34;Visits: &#34; | Nat.show(state@global)<span>&lt;</span><span>/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>/</span>div&gt;

<span>// Event handler</span>
<span>App</span><span>.</span><span>Hello</span><span>.</span><span>when</span>: <span>App</span><span>.</span><span>When</span><span>&lt;</span><span>App</span><span>.</span><span>Hello</span><span>.</span><span>State</span><span>&gt;</span>
  <span>(</span><span>event</span><span>,</span> <span>state</span><span>)</span>
  <span>case</span> <span>event</span> <span>{</span>
    init: <span>IO</span> <span>{</span>
      <span>App</span><span>.</span><span>watch</span><span>!</span><span>(</span><span>App</span><span>.</span><span>room_zero</span><span>)</span>
      <span>App</span><span>.</span><span>new_post</span><span>!</span><span>(</span><span>App</span><span>.</span><span>room_zero</span><span>,</span> <span>App</span><span>.</span><span>empty_post</span><span>)</span>
    <span>}</span>
    mouse_down: <span>IO</span> <span>{</span>
      <span>App</span><span>.</span><span>set_local</span><span>!</span><span>(</span><span>state</span>@<span>local</span> <span>+</span> <span>1</span><span>)</span>
    <span>}</span>
  <span>}</span> <span>default</span> <span>App</span><span>.</span><span>pass</span><span>!</span></pre></div>
<p>Source: <a href="https://github.com/uwu-tech/Kind/blob/master/base/App/Hello.kind">base/App/Hello.kind</a></p>
<p>Live: <a href="http://uwu.tech/App.Hello" rel="nofollow">http://uwu.tech/App.Hello</a></p>
<h2><a id="user-content-future-work" aria-hidden="true" href="#future-work"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Future work</h2>
<p>There are so many things we want to do and improve. Would like to contribute? Check <a href="https://github.com/uwu-tech/Kind/blob/master/CONTRIBUTE.md">CONTRIBUTE.md</a>. Also reach us on <a href="https://t.me/formality_lang" rel="nofollow">Telegram</a>. We&#39;re friendly!</p>
</article>
        </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 12:47:34 +0000</pubDate>
      <source>https://github.com/uwu-tech/kind</source>
    </item>
    <item>
      <title>890M-year-old sponge fossil may be the earliest animal yet found</title>
      <link>https://www.nationalgeographic.com/science/article/890-million-year-old-sponge-fossil-may-be-the-earliest-animal-known</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><section><article><div><header><ul><li><a tabindex="0" href="https://www.nationalgeographic.com/science"><span>Science</span></a></li><li><span><span>News</span></span></li></ul><div><p>The mesh-like fossil would push back the oldest known animal on Earth by more than 300 million years. But like many claims of very old life, the study is kicking up lively debate.</p></div></header></div><section><div><p>Relatives of the humble sea sponge have filtered Earth&#39;s waters for hundreds of millions of years or more, long before the first plants took to land. Their simplicity has led scientists to suggest sponges were the earliest animals to arise on our planet. But exactly when that happened remains under debate.</p><p>Now, a study published in the journal <i>Nature</i> suggests that <a href="https://www.nature.com/articles/s41586-021-03773-z" target="_blank">mesh-like structures in an ancient reef may be 890-million-year-old sponges</a>. If confirmed, the fossil sponges, found in the &#34;Little Dal&#34; limestones in northwest Canada, would predate the earliest undisputed fossils of any animal by more than 300 million years.  </p><p>However, most claims of extremely old fossilized life kick up controversy. The creatures that flourished in ancient seas may have looked quite different than those that swim through oceans today, and scientists disagree about how much and which types of evidence can distinguish animals from other forms of life—or geologic structures. And the Little Dal fossils are no different. </p><p>&#34;What we have is essentially something a bit like a Rorschach inkblot test, where there are some squiggles in a rock,&#34; says <a href="https://wp.unil.ch/paleo/contact/jonathan-b-antcliffe/" target="_blank">Jonathan Antcliffe</a>, a paleontologist specializing in early life at the University of Lausanne, Switzerland.</p><p>During a Zoom interview, <a href="https://hes.laurentian.ca/people/elizabeth-c-turner" target="_blank">Elizabeth Turner</a>, the sole author of the study, holds up a mustard yellow natural bath sponge—a modern relative to the newly proposed fossil sponge. She points out the network of flexible tubes that give the sponge its squish, explaining that the mesh is &#34;identical&#34; to the newly analyzed fossils, as well as to several <a href="https://pubmed.ncbi.nlm.nih.gov/24763744/" target="_blank">younger mesh-like fossils</a> recently identified by other scientists.</p><p>&#34;It seems almost like a no-brainer,&#34; says Turner, a field geologist at Ontario&#39;s Laurentian University. But she acknowledges that the proposed animal identity will be controversial. &#34;It&#39;s time for it to be published and go out to the community for discussion and challenge.&#34;</p><h2><b>Fishy fossils</b></h2><p>The newly described fossils were tucked in the nooks and crannies of the towering Little Dal reef. The structure formed at a time when warm, shallow seas flooded a vast tract of land through what is now North America—time and tectonics dried out the inland seas and turned the reefs to stone. Unlike many modern reefs that are built by corals, the architects of this ancient structure were cyanobacteria. These microbes grow in slimy sheets, forming layered mounds over time as sands catch on their sticky surfaces and minerals dissolved in the waters turn into solid bits of fluff.</p><p>When fossilized, the layered microbial structures are <a href="https://www.sciencedirect.com/topics/earth-and-planetary-sciences/stromatolite" target="_blank">known as stromatolites</a>. Some date as far back <a href="https://pubs.geoscienceworld.org/gsa/geology/article-abstract/47/11/1039/573756/Nano-porous-pyrite-and-organic-matter-in-3-5?redirectedFrom=fulltext" target="_blank">as 3.5 billion years ago</a>, providing some of the earliest convincing traces of any kind of life on Earth.</p><p>Turner began studying Little Dal decades ago as a graduate student at Queen&#39;s University in Ontario. At the time, she was interested in how the cyanobacteria built the reef. But a series of strange samples with complex structures caught her eye.</p><p>&#34;There was something fishy about it,&#34; Turner says. The Little Dal reef is mostly &#34;just a streaky set of laminated things,&#34; she says. Yet some odd samples from the structure displayed tube-like forms that branch apart and then rejoin in a polygonal three-dimensional network. She didn’t know what to make of the odd forms&#39; identity.</p><p>&#34;I just kind of thought, you know, I&#39;ll just let this fester away in my mind,&#34; she says.</p><p>In recent years, however, clues to their possible identity began to amass. Researchers found strikingly similar <a href="https://pubmed.ncbi.nlm.nih.gov/24763744/" target="_blank">winding networks</a> in <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/gbi.12422" target="_blank">rocks much younger</a> than the Little Dal reef in several locations. They suggested the branching mesh formations could be the fossil remains of a group known as keratosan sponges.</p><p>Many sponges build their skeletons out of tiny rigid structures called spicules, which are made from calcium carbonate or silica and shaped like toy Jacks. In fossils, the structures provide telltale signs of early sponges, but keratosan sponges lack these rigid skeletons. Instead, they get their squishy structure from networks of the protein spongin, which has a soft, spring-like texture that is ideal for their modern use for bathing.</p><p>By studying paper-thin sections of the rocks under a microscope, Turner documented the similarities of the tubular shapes and structures in the Little Dal samples to fossils that were previously identified as keratosan sponges, as well as to modern sponges.</p><p>Decades after she first spotted the strange forms, Turner finally felt ready to publish. &#34;It&#39;s an ode to slow science,&#34; she says.</p><h2><b>Sponge or something else?</b></h2><p>The new study joins the lengthy debate about when the earliest animals arose—and what evidence is necessary to confirm a fossil as an animal. Over the last several decades, the use of geochemical tracers for early life, known as biomarkers, became a common way to identify possible creatures, explains <a href="https://nhm.academia.edu/KeyronHickmanLewis" target="_blank">Keyron Hickman-Lewis</a>, a geobiologist specializing in ancient microbes at London&#39;s Natural History Museum. The fossil remains of <a href="https://link.springer.com/referenceworkentry/10.1007/978-1-4020-9212-1_30" target="_blank">various types of lipids</a>, for example, are commonly used as biomarkers.</p><p>But since then, Hickman-Lewis says, much of this supposed evidence for early life has turned out to be false. Some of the would-be biomarkers were likely due to contamination, while other chemical traces were not surefire signs of animals. For example, <a href="https://theconversation.com/ancient-sponges-or-just-algae-new-research-overturns-chemical-evidence-for-the-earliest-animals-150635" target="_blank">scientists recently found that a combination</a> of algae and geologic alteration could produce the same compounds that were previously identified as evidence of ancient sponges extracted from 635-million-year-old sediments in Oman.</p><p>So after much early excitement, Hickman-Lewis says, &#34;we became very suspicious of an early origin for animals.&#34;</p><p>The study of the Little Dal mesh networks promises to further stoke the debate. &#34;I think the evidence is strong,&#34; says <a href="https://robertriding.com/personal/" target="_blank">Robert Riding</a> of the University of Tennessee, Knoxville, who was a reviewer of the study. He recently published a study <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/gbi.12422" target="_blank">documenting similar fossils</a> associated with a roughly 485-million-year-old stromatolite in New York.</p><p>The association of these sponges with the microbial reefs would make sense, Turner notes. Earth’s atmosphere was not always rich in oxygen, and the early date for the sponges places them <a href="https://science.sciencemag.org/content/early/2019/12/09/science.aax6459?versioned=true" target="_blank">before this life-friendly gas</a><a href="https://science.sciencemag.org/content/early/2019/12/09/science.aax6459?versioned=true" target="_blank"> was common throughout the sea</a>. But so-called &#34;oxygen oases&#34; would likely have existed around cyanobacteria reefs, where the photosynthetic microbes would have spit out oxygen that the sponges could have used.</p><p>&#34;The fact that these two things occur together, it strengthens the case of both of them,&#34; Hickman-Lewis says.</p><p>Other experts are less convinced of the case, noting that the sponge-like network isn&#39;t as unique to the group as Turner and others suggest. &#34;Basically, every area of life—bacteria, algae, the fungi, the plants, the animals—they can all make things that look like this,&#34; Antcliffe says.</p><p>In a 2014 <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/brv.12090" target="_blank">review of the evidence for early sponges</a>, Antcliffe and his colleagues found that the oldest convincing animal fossils are sponge spicules found in Iran dating to roughly 535 million years ago—and he says no recent studies have yet changed his mind.</p><p>Many analyses have identified what he calls &#34;hints and whispers&#34; of earlier sponge-like structures. But none sport indisputable characteristics, such as spicules or pores. The latter of these features were key to confirming the identity of the much-debated Archaeocyathid sponges, another group that lacks spicules but has been identified in rocks as old as 523 million years.</p><p>Partly the challenge comes down to the difficulty of identifying ancient sponges compared to other animals, says <a href="https://admuscente.com/" rel="noopener noreferrer" target="_blank">Drew Muscente</a>, a paleobiologist at Cornell College in Mount Vernon, Iowa. Dinosaurs, for example, have an array of distinctive boney features—sockets, skull sutures, and more—that can help scientists tell their fossils apart from nonliving objects. &#34;When you have a sponge or a sponge-like organism, you&#39;re missing all of those little details,&#34; he says.</p><p>Abiotic, or nonliving, chemical processes can also form structures that look surprisingly similar to life, adds <a href="https://blogs.ed.ac.uk/rwood4/" target="_blank">Rachel Wood</a>, a carbonate geologist at the University of Edinburgh. &#34;She may be right. But I think you really have to explore and disprove all the other possibilities to make such a really strong claim like this.&#34; So for now, Wood says, &#34;I don&#39;t think that she&#39;s really nailed that these are sponges.&#34;</p><p>Only further analysis can resolve the debate. Wood notes that crafting three-dimensional models of the tube network would help give a more detailed look at the structures. And Riding hopes the new study will inspire more scientists to take a closer look at other stromatolites to search for more of these meshy structures.</p><p>&#34;I don&#39;t think this is the end of the story,&#34; Riding says. &#34;This is just the beginning of a really interesting phase.&#34;</p></div></section></article></section></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 12:13:01 +0000</pubDate>
      <source>https://www.nationalgeographic.com/science/article/890-million-year-old-sponge-fossil-may-be-the-earliest-animal-known</source>
    </item>
    <item>
      <title>Show HN: Lona – Framework for responsive web apps in full Python without JS</title>
      <link>http://lona-web.org</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page">

   
  <div>
    
    <nav data-toggle="wy-nav-shift">
      
    </nav>

    <section data-toggle="wy-nav-shift">

      
      <nav aria-label="top navigation">
        
          <i data-toggle="wy-nav-top"></i>
          <a href="http://lona-web.org/">Lona</a>
        
      </nav>


      <div>
        
        <div>
        
          


















          <div role="main" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  

<ul>
    
        <li>    <a href="#what-is-lona">What is Lona?</a></li>
    
        <li>    <a href="#how-does-it-work">How does it work?</a></li>
    
</ul>

<div id="what-is-lona">
<h2>What is Lona?</h2>
<p>Lona is a web application framework, designed to write responsive web apps in
<strong>full</strong> Python.</p>
<p>Web is a solved problem in Python since ages, but traditionally Python handles
only the server side. If you want to have client side interaction like
click events or you want update content live, you have to write an additional
Javascript application.</p>
<p>Lona handles the server side and the client side, and provides a simple,
pythonic API to write self contained views.</p>
<div>
  <div><pre><span></span><span>from</span> <span>lona.html</span> <span>import</span> <span>HTML</span><span>,</span> <span>Button</span><span>,</span> <span>Div</span><span>,</span> <span>H1</span>
<span>from</span> <span>lona.view</span> <span>import</span> <span>LonaView</span>


<span>class</span> <span>MyView</span><span>(</span><span>LonaView</span><span>):</span>
    <span>def</span> <span>handle_request</span><span>(</span><span>self</span><span>,</span> <span>request</span><span>):</span>
        <span>message</span> <span>=</span> <span>Div</span><span>(</span><span>&#39;Button not clicked&#39;</span><span>)</span>
        <span>button</span> <span>=</span> <span>Button</span><span>(</span><span>&#39;Click me!&#39;</span><span>)</span>

        <span>html</span> <span>=</span> <span>HTML</span><span>(</span>
            <span>H1</span><span>(</span><span>&#39;Click the button!&#39;</span><span>),</span>
            <span>message</span><span>,</span>
            <span>button</span><span>,</span>
        <span>)</span>

        <span>self</span><span>.</span><span>show</span><span>(</span><span>html</span><span>)</span>

        <span># this call blocks until the button was clicked</span>
        <span>input_event</span> <span>=</span> <span>self</span><span>.</span><span>await_click</span><span>(</span><span>button</span><span>)</span>

        <span>if</span> <span>input_event</span><span>.</span><span>node</span> <span>==</span> <span>button</span><span>:</span>
            <span>message</span><span>.</span><span>set_text</span><span>(</span><span>&#39;Button clicked&#39;</span><span>)</span>

        <span>return</span> <span>html</span>
</pre></div>

  
</div></div>
<div id="how-does-it-work">
<h2>How does it work?</h2>
<p>Lona comes with a Javascript based browser library that speaks a specialized
protocol with the backend.
This protocol specifies messages like &#34;hey frontend, please show $HTML&#34; and
&#34;hey backend, someone clicked on node XY&#34;
<a href="http://lona-web.org/end-user-documentation/basic-concept.html">read more</a></p>
</div>

<!-- Root element of PhotoSwipe. Must have class pswp. -->


           </div>
           
          </div>
          <hr/><p>
Built with <a href="http://www.flamingo-web.org">Flamingo</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> by <a href="https://readthedocs.org">Read the Docs</a>.
        </p></div>
      </div>

    </section>

  </div>
  

  

  
  
    
   


</div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 13:19:45 +0000</pubDate>
      <source>http://lona-web.org</source>
    </item>
    <item>
      <title>How Sweden became the Silicon Valley of Europe</title>
      <link>https://www.reuters.com/business/finance/how-sweden-became-silicon-valley-europe-2021-08-11/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_reuters_com_business_finance_how-sweden-became-silicon-valley-europe-2021-08-11_/image.jpg" /> 
<div id="readability-page-1" class="page"><div><p data-testid="paragraph-0">STOCKHOLM, Aug 11 (Reuters) - As Klarna&#39;s billionaire founder Sebastian Siemiatkowski prepares to stage one of the biggest-ever European fintech company listings, a feast of capitalism, he credits an unlikely backer for his runaway success: the Swedish welfare state.</p><p data-testid="paragraph-1">In particular, the 39-year-old pinpoints a late-1990s government policy to put a computer in every home.</p><p data-testid="paragraph-2">&#34;Computers were inaccessible for low-income families such as mine, but when the reform came into play, my mother bought us a computer the very next day,&#34; he told Reuters.</p><p data-testid="paragraph-3">Siemiatkowski began coding on that computer when he was 16. Fast-forward more than two decades, and his payments firm Klarna is valued at $46 billion and plans to go public. It hasn&#39;t given details, though many bankers predict it will list in New York early next year.</p><p data-testid="paragraph-4">Sweden&#39;s home computer drive, and concurrent early investment in internet connectivity, help explain why its capital Stockholm has become such rich soil for startups, birthing and incubating the likes of Spotify, Skype and Klarna, even though it has some of the highest tax rates in the world.</p><p data-testid="paragraph-5">That&#39;s the view of Siemiatkowski and several tech CEOs and venture capitalists interviewed by Reuters.</p><p data-testid="paragraph-6">In the three years the scheme ran, 1998-2001, 850,000 home computers were purchased through it, reaching almost a quarter of the country&#39;s then-four million households, who didn&#39;t have to pay for the machines and thus included many people who were otherwise unable to afford them.</p><p data-testid="paragraph-7">In 2005, when Klarna was founded, there were 28 broadband subscriptions per 100 people in Sweden, compared with 17 in the United States - where dial-up was still far more common - and a global average of 3.7, according to data from the World Bank.</p><p data-testid="paragraph-8">Spotify allowed users to stream music when Apple&#39;s <a href="https://www.reuters.com/companies/AAPL.O" target="_blank">(AAPL.O)</a> iTunes was still download-based, which gave the Swedish company the upper-hand when streaming became the norm around the world.</p><p data-testid="paragraph-9">&#34;That could only happen in a country where broadband was the standard much earlier, while in other markets the connection was too slow,&#34; Siemiatkowski said.</p><p data-testid="paragraph-10">&#34;That allowed our society to be a couple of years ahead.&#34;</p><p data-testid="paragraph-11">Some executives and campaigners say the Scandinavian nation demonstrates that a deep social safety net, often viewed as counter to entrepreneurial spirit, can foster innovation. It&#39;s an outcome that might not have been envisaged by the architects of Sweden&#39;s welfare state in the 1950s.</p><p data-testid="paragraph-12">Childcare is, for the most part, free. A range of income insurance funds can protect you if your business fails or you lose your job, guaranteeing up to 80% of your previous salary for the first 300 days of unemployment.</p><p data-testid="paragraph-13">&#34;The social safety net we have in Sweden allows us to be less vulnerable to taking risks,&#34; said Gohar Avagyan, the 31-year-old co-founder of Vaam, a video messaging service used for sales pitches and customer communication.</p><p data-testid="paragraph-14">STARTUP RATE VS SILICON VALLEY</p><p data-testid="paragraph-15">Although overall investments are larger in the bigger European economies of Britain and France and their longstanding finance hubs, Sweden punches above its weight in some regards.</p><p data-testid="paragraph-16">It has the third highest startup rate in the world, behind Turkey and Spain, with 20 startups per 1000 employees and the highest three year survival rate for startups anywhere, at 74%, according to a 2018 study by OECD economists.</p><p data-testid="paragraph-17">Stockholm is second only to Silicon Valley in terms of unicorns - startups valued at above $1 billion - per capita, at around 0.8 per 100,000 inhabitants, according to Sarah Guemouri at venture capital firm Atomico.</p><p data-testid="paragraph-18">Silicon Valley - San Francisco and the Bay Area - boasts 1.4 unicorns per 100,000, said Guemouri, co-author of a 2020 report on European tech companies.</p><p data-testid="paragraph-19">No one can say for sure if the boom will last, though, in a country where capital gains are taxed at 30 percent and income tax can be as high as 60 percent.</p><p data-testid="paragraph-20">In 2016, Spotify said it was considering moving its headquarters out of the country, arguing high taxes made it difficult to attract overseas talent, though it hasn&#39;t done so.</p><p data-testid="paragraph-21">Yusuf Ozdalga, partner at venture capital firm QED Investors, said access to funding and administrative or legal tasks connected with founding a company could also prove tough to navigate for non-Swedish speakers.</p><p data-testid="paragraph-22">He contrasted that to Amsterdam, capital of the Netherlands, where the government adopted English as an official language in April to make life easier for international companies.</p><p data-testid="paragraph-23">&#39;INTERESTING DILEMMA&#39; FOR VC</p><p data-testid="paragraph-24">Jeppe Zink, partner at London-based venture capital firm Northzone, said a third of all the exit value from fintech companies in Europe - the amount received by investors when they cash out - came from Sweden alone.</p><p data-testid="paragraph-25">Government policy had contributed to this trend, he added.</p><p data-testid="paragraph-26">&#34;Its an interesting dilemma for us venture capitalists as we&#39;re not used to regulation creating markets, in fact we are inherently nervous about regulation.&#34;</p><p data-testid="paragraph-27">Sweden&#39;s digital minister Anders Ygeman said that social regulation could make it &#34;possible to fail&#34; and then &#34;be up and running again&#34; for innovators.</p><p data-testid="paragraph-28">Peter Carlsson, CEO of startup Northvolt, which makes Lithium-ion batteries for electric vehicles and is valued at $11.75 billion, said that ultimately success bred success.</p><p data-testid="paragraph-29">&#34;You&#39;re really creating ripple effects when you&#39;re seeing the success of somebody else and I think that&#39;s perhaps the most important thing in order to create local ecosystems.&#34;</p><p><span>Reporting by Supantha Mukherjee and Colm Fulton in Stockholm; Editing by Pravin Char</span></p><p>Our Standards: <a href="https://www.thomsonreuters.com/en/about-us/trust-principles.html" target="_blank">The Thomson Reuters Trust Principles.</a></p></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 08:16:36 +0000</pubDate>
      <source>https://www.reuters.com/business/finance/how-sweden-became-silicon-valley-europe-2021-08-11/</source>
    </item>
    <item>
      <title>Ruthless Prioritization</title>
      <link>https://blackboxofpm.com/ruthless-prioritization-e4256e3520a9</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><section><div><div><figure><div role="button" tabindex="0"><p></p></div><figcaption><a href="http://sorting.at/" rel="noopener">sorting.at</a></figcaption></figure><div><h2 id="2d90">All high functioning teams must prioritize. Not once a month, not once a week — but <em>rigorously, and ruthlessly</em>.</h2><div><div><div><p><a href="https://medium.com/@brandonmchu?source=post_page-----e4256e3520a9--------------------------------" rel="noopener"></a></p></div></div></div></div><p id="6358">Prioritization means doing the things that are most important first. If you build products, it means doing the things that create the most customer value first.</p><p id="2d0d">In my experience, the craft of making prioritization decisions is one of the most difficult skills to impart on teams because of how complex those decisions can become, and while it’s usually a core responsibility of product managers, I’ve found that the best teams are the ones where <em>everyone</em> is maniacally prioritizing towards the same goal, and doing so in a way that’s consistent with each other.</p><p id="99a6">This post is about a framework to think about prioritization.</p></div></div></section><section><div><div><p id="3855">Prioritization in product management can be broken down into two scopes:</p><ol><li id="c738"><strong>Prioritization between projects </strong>— this is about determining what project your team should do next.</li><li id="666f"><strong>Prioritizing work within a project </strong>—this is about how efficiently you can execute a project.</li></ol><p id="d042">As we’ll see, the way we should tackle each of these scopes is very different. The reason is because they are each driving at different types of decisions.</p><p id="94d0">When prioritizing between projects, you have to make one big decision: <em>what will my team invest in next? </em>The right way to approach this turns out to be like completing a puzzle. Apply a <strong>rigorous process </strong>to find all the pieces, and the answer is in how they all fit together.</p><p id="1610">When prioritizing work within a project, you have to make the same decision hundreds of times: <em>is this absolutely necessary to do? </em>The right way to approach this is by accepting the <strong>chaotic</strong> nature of building products, and then develop a<strong> ruthless mindset</strong> to make quick decisions about what’s absolutely necessary.</p><figure><div role="button" tabindex="0"><div><div><div><p></p><p></p></div></div></div></div></figure><p id="82ad"><em>A rigorous process to solve the puzzle: What will my team invest in next?</em></p><p id="e5ec"><strong>Answering this question may require rigour, but the process isn’t complicated:</strong></p><ol><li id="1ed6">Estimate return on investment for each project</li><li id="1616">Apply three constraints: dependencies, timelines, and team composition</li><li id="a9d9">Put the puzzle together — sequence projects based ROI + constraints</li></ol><p id="2159">I’m going to assume most of these concepts aren’t new to readers, so we’re going to go through them pretty quickly.</p><h2 id="5365">1. Estimate Return on Investment</h2><p id="8b76">The basis for all project prioritization is return on investment (ROI), which is measured as the amount of customer value your team creates for a unit of time. Your goal with prioritization<em> </em>is to <em>always be doing the work that maximizes customer value created over time.</em></p><p id="f917"><strong>In order to prioritize between projects, you need to estimate two data points:</strong></p><ol><li id="7b95">the amount of customer value that will be produced</li><li id="7e46">the amount of time it will take to finish the project</li></ol><p id="e657">Once you have this data for each project, you can simply compare them all and then <em>voilà</em> — you have your priorities.</p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div><figcaption>Mechanically this is what you’re trying to do</figcaption></figure></div></div></div><div><div><p id="55ad">Of course, it’s notoriously difficult to estimate both impact and effort, but assuming you have an equal chance of being wrong each time you estimate, then as a comparative exercise calculating ROI is a legitimate method of project prioritization.</p><blockquote><p id="c9e8">Pro-tip: double the effort and halve the impact of any estimates, and you’ll be much closer to reality.</p></blockquote><h2 id="1d42">2. Apply Constraints</h2><p id="8ca5">Since life isn’t as orderly as a spreadsheet, there are also <em>constraints</em> that you need to factor into your prioritization decisions. The core constraints you have to deal with are dependencies, timelines, and team composition.</p><p id="1861"><strong>Dependencies</strong></p><p id="4a84">A dependency is created when a unit of work needs to be complete in order for another unit of work to progress.</p><p id="44f5">Say you’re on the mobile team and you want to create a seamless one-tap payments button for customers on their phones. You’ve identified this is the highest ROI project, so you want to do it asap.</p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><p id="e0c3">However, to do that, your company actually needs to have the ability to accept payments in the first place, which another team is working on now. The dependency on the other team finishing means you can’t really do anything yet, so the correct prioritization decision is to delay the one-tap feature and <em>do your next highest ROI project.</em></p></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="233d">Dependencies are everywhere when building products, and it gets worse the more successful your product becomes, as scale creates more complex systems. In larger companies, understanding and working around dependencies are often the most vital dimensions to prioritizing.</p><p id="4f96">As an aside, most people think startups are fast because they work harder and are more ambitious. The truth is that most of the speed difference comes from having far fewer dependencies (and few customers to upset if something screws up), so it’s just easier to get stuff done.</p><p id="f4a1"><strong><em>Reverse Dependencies</em></strong></p><p id="ce21">There are times when you have a project that will really help other teams to achieve their goals. <strong>You are the dependency in this case.</strong></p><p id="3401">If you’re optimizing for the company’s ROI above your product’s— which you should be — you’ll now need to assess the <em>cumulative ROI </em>of not just your project, but the dependent projects that you unblock in order to make the correct prioritization decision for your team.</p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="29f9">Whenever I see teams working to unblock other teams they earn a lot of respect from me, and it signals maturity in their product thinking. These teams are the unsung heroes of product companies, and are the ones who provide the most leverage for a company.</p><p id="7110"><strong>Timelines</strong></p><p id="c9ad">Timelines are the canonical constraint, one we’ve all experienced. A particularly serious one is when your startup will run out of cash and die before the highest ROI feature will ship.</p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><p id="40c6">When this happens, the correct prioritization decision of course is to do the highest ROI project that is achievable within the timeframe.</p></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="9ac2"><strong>Team composition</strong></p><p id="868b">Not all teams are equal, and sometimes the composition of the specific people on your team means that you will need to make different prioritization decisions about which project to take on.</p><p id="da2a">An example is having a team that is full of brand new people to the company, like a gaggle of interns (no disrespect to interns, 50% of all software is built by them).</p><p id="7258">In these situations you should be wary of prioritizing a project that has a lot of risks to customers, <em>even if it’s the highest ROI. </em>Instead, you’ll often be better off prioritizing a project that doesn’t touch any critical code or user experience journeys, because then the magnitude of a bad outcomes are diminished.</p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="9280">Help newbie teams get their feet wet first by shipping small wins. Once they have a few production features under their belt, they can progress towards more complex projects.</p><h2 id="ec4f">Prioritizing between projects: Complete the puzzle and get to work</h2><p id="af4e">I’m trivializing the amount of work it takes to gather all the information above, but once you have it all, you just have put the pieces together.</p><figure><div role="button" tabindex="0"><div><div><div><p></p><p></p></div></div></div></div></figure><p id="6f3c"><em>A ruthless mindset to determine: Is this absolutely necessary to do?</em></p><p id="3f09">The nature of prioritization is different during the execution of a project. It’s chaotic. Decisions are needed everyday, and you don’t have time analyze each one as deeply as we did when prioritizing between projects. It’s also a more emotional time for a team, as real customers are going to be impacted, and their reputation may feel on the line.</p><p id="6033"><strong>The only way to combat the speed and chaos of building products is to develop a ruthless mindset</strong>, one that is constantly aware of the work a team is doing and challenges them on the necessity of that work.</p><p id="2b95">Having a ruthless mindset means<strong> </strong>accepting reality. It’s a realization that you will have to make hard choices every day on where to focus. It’s a realization that shipping the perfect product is an illusion, and that trade-offs are always required to ship.</p><p id="a130">Having a ruthless mindset is about the will to ship. Stakeholder and customer expectations create enormous pressure on teams, and as a result they are often afraid to ship. They start sweating tiny issues so much that they’re frozen into inaction. They start losing sight of what matters, customer value created over time, and start trying to be perfect.</p><blockquote><p id="7fb1">Show me a team that has no bugs at launch, and I’ll show you one that should have shipped a long time ago.</p></blockquote><p id="ed71">In reality, the chaotic nature of prioritizing work within a project means that defining a process around it is foolhardy. A more productive strategy is to help teams internalize product development concepts that aid them in ruthlessly answering <em>“is this absolutely necessary?”. </em>Here are the one’s we’ll cover in the remainder of this post:</p><ol><li id="a7f6">Building prioritization systems</li><li id="b82d">Using product assumptions to make quality vs. speed trade offs</li><li id="5a57">The Time Value of Shipping</li></ol><h2 id="7810">1. Building prioritization systems</h2><p id="c238">All software is a liability. It has bugs now, and it will develop more over time. When faced with a new bug, if your team can’t quickly figure out if they should fix it or not, their ability to focus on the most important work will be constantly disrupted.</p><p id="ef26">You can’t afford to have a prioritization meeting every time a bug pops up, so one of the highest leverage things you can do is to create a system that determines when to fix bugs or when to move on.</p><p id="6b63"><strong>Here’s an example of one that I’ve found productive for my teams:</strong></p><figure><div role="button" tabindex="0"><div><div><div><p></p><p></p></div></div></div></div></figure><p id="8848">The X axis represents the frequency that a bug affects users, and the Y axis represents the severity of that bug. A red dot is a bug.</p><p id="91dc">To use this system, work with your team to define what level of severity is<em> too severe</em> (in this case, that users can’t pay) and which level of frequency is <em>too frequent </em>(in this case, 5% of users affected). Then, agree on a set of actions given which zone the bug falls, with at least one of those actions being <strong>put in the backlog and do nothing.</strong></p><p id="247c">If you invest in this, your team will be a bug triaging machine, and the chance of someone working on a low value bug will be systematically removed.</p><h2 id="5716"><strong>2. </strong>Using product assumptions to make quality vs. speed trade offs</h2><p id="e400">You’ll often hear about shitty code written by founders in the early days of a product. As the company became successful, this code created nightmares for new engineers joining the team.</p><p id="f595">Were the founders poor programmers? Maybe. But more likely than not, they didn’t care much about code quality at the time because the product was unlikely to succeed. Instead, they cared about speed and validating their idea.</p><p id="22b4">In order to ship, every team invariably makes some sacrifices to quality. Teams have to choose when enough is enough, and that comes down to a prioritization decision about what is essential to the quality of a product.</p><p id="a796">Here’s a useful way to guide yourself to the right spot on the spectrum of speed vs. quality: <strong>base it around your product assumptions</strong><em>. </em>Product assumptions are fundamental beliefs that you hold about a customer problem, or the solution you’re building for them.</p><p id="3118">A simple example from the early days of Facebook would have been the problem assumption that<em> people want to connect with each other online</em>. Once that problem was validated, they then thought of product ideas like <em>being able to add another user as a friend, </em>which is a solution assumption about how to solve that problem.</p><p id="24dd"><strong>If you think about your product, there are three situations you can be in with respect to these product assumptions:</strong></p><ol><li id="8817">The <em>problem</em> you’re trying to solve is an assumption</li><li id="3c20">The <em>solution</em> to fulfill a known problem is an assumption</li><li id="dad0"><em>Neither</em> are assumptions (you know exactly what’s needed and why)</li></ol></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="276a">When you find yourself on the left side of this spectrum, you have an assumption about a customer problem but you don’t know if it’s real. In this situation, you should be cutting corners to ship something as fast as possible, which minimizes the risk that you’ll be trying to solving a problem that doesn’t exist.</p><p id="862b">On the right end of the spectrum, if there is high confidence in what problem you’re solving and how to build the right solution, then you should maximize quality because you know that feature will be successful and will need to scale well into the future.</p><p id="5302">You’ll often see companies split teams into those that “experiment” and those that do “core” work. In my opinion, organizational structures like this reflect the inability for most teams to understand the product assumption spectrum, and be able to switch gears towards speed or quality.</p><h2 id="a79f">3. The Time Value of Shipping</h2><p id="1f35">Software only creates value for customers<em> </em>once it’s shipped.</p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="2a91">As such, we should be able to place a value on shipping something faster to customers. This is a concept I wrote about a while ago called <a href="https://medium.com/the-black-box-of-product-management/the-time-value-of-shipping-6deaf8d7d565#.mtt9lq5wh" rel="noopener">The Time Value of Shipping</a>.</p><p id="0a85">As an example, a difficult choice product teams often face is whether or not to ship a feature early to 80% of the customer base, while delaying the feature for the last 20%. This choice typically arises when building the final 20% requires a lot of niche functionality, which takes double the time to build (as the first 80%).</p><p id="5902"><strong>Let’s break down this choice:</strong></p></div></div><div><div><div><figure><div role="button" tabindex="0"><p></p></div></figure></div></div></div><div><div><p id="b662">Looking at the diagram, we see that the 80% of customers are enjoying an additional period of getting value in option #1, whereas in option #2 they have to wait. So is it obvious to choose #1? Not exactly, it’s still a hard choice for the team because:</p><ol><li id="01f1">The 20% of customers that the feature doesn’t work for will definitely<em> </em>recognize your choice to not support them, <em>and they’ll be pissed</em>. To them, it’s worse than if you gave them nothing at all.</li><li id="d847">The 80% of customers that the feature does work for <em>don’t actually perceive the extra value </em>they received from getting the feature early.</li></ol><p id="309b">The irony of these two effects is that you will actually have <em>more pissed off customers </em>by making the decision to provide <em>more customer value over time</em> to them<em>.</em> Strange times we live in.</p><p id="ce52">Despite the above, when faced with this choice I usually encourage teams to be ruthless and ship it. Here’s why:</p><ol><li id="0b3e">If customers knew the full context and could make the decision for us, the majority of them would want us to ship it.</li><li id="b1a2">In the long run, if a team consistently follows this strategy, the number of times a customer will fall on the good side of that 80%|20% will even out, and as a result, relative to a company that always waits for 100%, customers will get exponentially more value over time as the effect of constantly getting features earlier compounds.</li></ol><p id="7d00">Placing a value on shipping faster to customers is one of those concepts that is easy to understand, but hard to act on because of pain that comes with it. Ruthless prioritizers will see through this, and act in the best interests of customers.</p><h2 id="d8da">Prioritizing work within a project: Ruthless mindsets are unnatural</h2><p id="d524">The concepts we’ve covered are only what experience has taught me are worth internalizing. There are more, and you tweak these with your own based on your experiences.</p><p id="e1a4">Sadly, most teams in the industry aren’t incentivized to be ruthless prioritizers, despite it being a core meme of product companies.</p><p id="4640">For example, in larger organizations, teams are shipping features all the time and most employees don’t even hear about a launch until customers do. In that environment, do you think employees can see that their teammates managed to ship 3x faster than others in their place would have? Likely not. Instead, they only see what’s missing in the product, even though all those shortcomings were <em>consciously accepted </em>by their teammates.</p><p id="7a34">In contrast, a perfectly polished product tends to receive a lot of praise internally. Too bad it took two years to ship. Too bad we rarely think about all the customers that churned because they never thought it would come.</p><p id="79e5"><strong>Challenge your team to be better. Challenge them to be ruthless.</strong></p></div></div></section><section><div><div><p id="db6c">Your team’s time is the most precious resource a company has at it’s disposal, and if part of your job is to direct that time, you need to become great at it. It’s a craft, and one that you can deliberately get better at with practice.</p><p id="8689">I’d like to leave you with one last truth about prioritization:<strong> there is always a way to accomplish your goal faster than you currently plan to.</strong></p><p id="08b8">Always. You just have to find it. You just have to ask, “<em>How can we do this in half the time?” </em>at the end of that planning meeting<em>, </em>and miraculously — the team will find a way.</p><p id="9d3e">After years of shipping products, I have yet to come across a situation where a team was unable to figure out how to create the same customer value with less time invested. I also have never come across a situation where a team ended up prioritizing things perfectly, which reinforces the same idea.</p><p id="e1e1">If you accept that there’s always a way, the only logical thing to do is to be ruthlessly and rigorously prioritizing, whether you’re executing a project now, or you’re deciding which project to take on next.</p><p id="467e">Even if your project is an entire country.</p><figure><div></div></figure></div></div></section><section><div><div><h2 id="a962">Before you go, some things to consider:</h2><ol><li id="b448"><em>Recommend or share</em> this if you found it useful. It gives me 🔋 to write knowing people find value in it.</li><li id="b08c">Subscribe to <a href="https://medium.com/the-black-box-of-product-management" rel="noopener">The Black Box of Product Management</a> if you want more reads like this, or if you consider submitting to it so we can share your story.</li></ol></div></div></section></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 16:29:12 +0000</pubDate>
      <source>https://blackboxofpm.com/ruthless-prioritization-e4256e3520a9</source>
    </item>
    <item>
      <title>Copy-Protection for Vinyl in the 1970s</title>
      <link>https://www.currybet.net/cbet_blog/2008/01/copy-protection-for-vinyl-in-t.php</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_currybet_net_cbet_blog_2008_01_copy-protection-for-vinyl-in-t_php/image.jpg" /> 
<div id="readability-page-1" class="page"><div>

                                    <div>
                                        <p>When I was thinking about an <a href="https://www.currybet.net/cbet_blog/2007/12/drm_icons.php">iconography for DRM</a>, I began to think back to the old days of recording vinyl onto my portable tape deck using a <a href="https://en.wikipedia.org/wiki/DIN_connector">5-pin DIN plug</a> to connect the two machines, the advent of tape-to-tape decks, and being <a href="http://www.last.fm/music/This+Poison/_/Poised+Over+The+Pause+Button">poised over the pause button</a> to record tracks from <a href="http://www.bbc.co.uk/radio1/johnpeel/index.shtml">John Peel</a> sessions. It was all so simple and blissfully analogue in those days, without a hint of copy protection in place.</p>

<p>Well, that isn&#39;t <em>strictly</em> true.</p>

<p>I dimly recalled that there <em>was</em> a form of copy-restriction placed on some vinyl albums. A high-pitched frequency was pressed into the album, which was inaudible to the human ear during playback, but which would destabilise the process of recording the album to cassette 
tape.</p>

<p>The reason I remember it more than anything was that a family friend had built some sort of decoder to eliminate the frequency, and was hoping, should it become widely adopted, to become rich on the back of selling little gizmos that would strip this primitive analogue rights management from recordings.</p>

<p>Unfortunately, copy-protection for vinyl appears to be one of those technological developments that seems to have slipped down the internet&#39;s collective <a href="https://en.wikipedia.org/wiki/Memory_hole">memory hole</a>. I couldn&#39;t find very much about it on the web at all, and of the stuff I did find, some of it seemed wrong or difficult to verify.</p>



<p>It may be that this was more common in the USA than the UK, but take this claim in  
Ram Samudrala&#39;s 1998 paper &#39;<a href="https://www.ram.org/ramblings/philosophy/fmp/creativity_ownership.html">Creativity and ownership: where is the balance?</a>&#39; that:</p>

<blockquote>&#39;When recording artists started objecting to this (Elvis Costello released his album Almost Blue with a sticker indicating that it didn&#39;t contain a spoiler signal), the industry gave up this effort.&#39;</blockquote>

<p>As far as I&#39;m aware the album <em>did</em> come with a sticker on the front in the UK, but it was one that was defensive of Costello&#39;s move into &#39;genre&#39; music, rather than a protest against anti-piracy measures:</p>

<blockquote>&#39;Warning: This album contains country &amp; western music, and may be harmful to narrow minds.&#39;</blockquote> 

<p>
</p>

<p>Then there is this 1999 article by Barry Fox from the New Scientist - &#34;<a href="https://www.newscientist.com/article/mg16422175.100-the-pirates-tale.html">The pirate&#39;s tale</a>&#34;. This puts the origination of this tactic down to The Beatles:</p>


<blockquote>&#39;It didn&#39;t take the recording industry long to see the danger [<em>of the compact cassette</em>]. When the Beatles founded the company Apple, they hired a colourful Greek character called &#34;Magic Alex&#34; Mardas. Together they hatched a plan to put a &#34;spoiler&#34; signal on the Beatles&#39;s next album, Sergeant Pepper. The record would play normally, but anyone who tried to copy it onto a blank cassette would find their recording ruined.
</blockquote>

<p>
</p>

<p>This is almost certainly wrong in attributing the development to The Beatles. &#34;Magic Alex&#34; Mardas was not the revolutionary engineer he portrayed himself to be. In 1995, <a href="https://www.injustice.org/nemo/newsfile/im951028.html">in an article about what became of The Beatle&#39;s hangers-on</a>, The Independent described him as:</p>

<blockquote>&#39;The Greek TV repairman, set up in Apple Electronics by the Beatles, who promised to build an artificial sun, a telephone you told who to call, wallpaper loudspeakers, a house which hovered supported by an invisible beam, and even a flying saucer. Not one invention was made, and the recording studio he built proved unusable and was demolished. Allen Klein fired him, and he has since disappeared.&#39;</blockquote>





<p>Additionally, Sergeant Pepper was released by <em>Parlophone</em> in 1967, not Apple. The Beatle&#39;s first album release for Apple was the double-vinyl set that became commonly known as &#34;The White Album&#34;.</p>

<p>It may be that this story is due to confusion with the fact that Sergeant Pepper <em>does</em> in fact contain a very high frequency signal on it - but only for a very short duration. At the end of side 2 on the original vinyl release, the long drawn out chord that closes &#34;A Day In The Life&#34; leads into a short snippet of nonsense noise that repeats infinitely in a locked-groove.</p>

<p>Just prior to this, a very high pitch frequency is included, designed to attract the attention of any dogs who were around when the album was being played. However, <a href="https://savetherobot.wordpress.com/2007/06/03/the-story-you-tell-yourself/">it was included as a joke for a couple of seconds</a>, and not as a serious attempt to prevent home recording of the album.</p>


<p>Where Barry Fox <em>wasn&#39;t</em> wrong was in his assessment that the system didn&#39;t work very well. Repeated plays of vinyl dampen the ability to reproduce high frequencies, and it seems that often the spoiler signal was either audible during regular playback, or didn&#39;t have sufficient impact upon recordings. Either way, after a few plays it was destined to disappear due to regular wear and tear on the record&#39;s groove.</p>



<p>In the end, the best information I found about this 1970s development with vinyl copy-protection was included as incidental information on this Google Answers thread - &#39;<a href="https://answers.google.com/answers/threadview?id=56500">Did Recording Industry Intend Compact Discs (CDs) to Have Copy Protection?</a>&#39;</p>

<p>It seems a shame that the history is not more widely available on the internet.</p><p>You see it looks like in the 1970s the music industry tried to stop people copying their content, didn&#39;t do it very well, made themselves unpopular with both the consumer and the artists they are meant to represent, and eventually had to recant. What is it they say about those who fail to learn from history?</p>
                                        
</div> <!-- end div entry-body -->

</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 12:18:53 +0000</pubDate>
      <source>https://www.currybet.net/cbet_blog/2008/01/copy-protection-for-vinyl-in-t.php</source>
    </item>
    <item>
      <title>An Old Hacker&#39;s Tips on Staying Employed</title>
      <link>https://madned.substack.com/p/an-old-hackers-tips-on-staying-employed</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___madned_substack_com_p_an-old-hackers-tips-on-staying-employed/image.jpg" /> 
<div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ffed3bd69-b2ce-4c57-ae44-50766c7209c5_853x480.jpeg"></a></figure></div><p>I know my core audience is expecting crusty old tales of computing past, but this time I wanted to talk about something a little more topical — about job security, whether it indeed exists in any form, and what if anything you can do to improve your odds of staying employed.</p><p>Most people are probably familiar with the concept of <a href="https://en.wikipedia.org/wiki/Impostor_syndrome">Impostor Syndrome</a>, the phenomenon whereby someone who is actually qualified in some area still feels like they are illegitimate in some way compared to their peers.   I don’t think I often feel this way in my day-to-day career as an engineer, but that insecurity rears its ugly head frequently when I start to write about things, especially in the form of published advice.</p><p>I’ve <a href="https://madned.substack.com/p/general-expert-major-havoc">talked before</a> about me being a generalist, and as such, I do not consider myself enough of an expert in anything to be telling others how to do stuff, which probably plays into the whole impostor thing.  But I realized after 35+ years on the job, maybe the thing I’m expert in is being an old guy in the tech field.  </p><p>So here are a few things that I think were not obvious to me earlier in my career that I picked up later, sometimes even embarrassingly later.  If I can give anyone a head start on learning these things before they reach their 50’s, so much the better!</p><h2>Ride The Bull</h2><p>When I started work at <a href="https://en.wikipedia.org/wiki/History_of_Digital_Equipment_Corporation">Digital Equipment Corporation</a> in 1986, the company had never had a layoff in its 30-year history.  This changed around 1987, after <a href="https://en.wikipedia.org/wiki/Black_Monday_(1987)">“Black Monday”</a> rattled the stock market with a 20+% single-day decline.  Digital had its first layoff not long after that, and they felt so guilty about having to do it, they gave all the lucky participants one year’s salary as part of the termination package.  Most people pocketed the money and went right back to work - because in truth, this layoff was not so much the symptom of some macroeconomic collapse as it was due to Digital’s mounting woes.</p><p>I kept my job, but even so, Black Monday was a watershed moment in time for me. In my mind, it divided the previous years of (mostly illusionary even then) company-based job stability, from the era that followed.  The era we live in now features a new kind of job stability, that is of the personal sort.  </p><p>After that first layoff at Digital, further layoffs at the company followed, but also further opportunities elsewhere as many new companies sprung up.  We had the dot-com bubble, a boom, a recession, another boom.  And through all the ups and downs, companies big and small would lay people off — sometimes as part of a regular process, and sometimes due to unforeseen events. </p><p>Although there may be a few pockets of workplaces with more durable guarantees of continued employment (thinking about countries with strict labor laws, tenured professors, government work, and so on) for the most part, we in the tech world today have come to accept that there is no such thing as job security, and losing your job could happen at almost any time. (And sadly, you will probably not be getting a year’s salary if it happens to you now.)</p><p>I myself have been very lucky, and despite some close calls over 3.5 decades, have never missed a paycheck.  I’ll go on next to talk about some things that I think helped me improve my odds, but to be clear, it is really mostly a matter of luck.   I have seen really great people get laid off just because they were in the wrong place at the wrong time, and I’ve seen large numbers of people get laid off because either their company or the general economy had a downturn.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7b2b5fe5-6183-4c15-ac91-2365303e7fcd_1200x605.jpeg"></a></figure></div><p>I tend to think of employment in tech as riding a bull.  Not a big bull-riding spectator, but from what little I have seen, it really isn’t about whether you are going to stay on the bull or not.  You are going to get thrown off, it’s just a matter of when.   I am hoping to make it all the way to retirement and to be the rare guy who stays on the bull, but you never know.  I like to assume though that if I do get thrown, I’ll pick myself up, dust myself off, and just move on to the next bull.  So that is really the first piece of advice I’ll give; don’t take losing a job or having to move jobs too personally, because it’s almost certain to happen at some point.  </p><p>Hopefully, this starting advice is useful, even though it is somewhat simplistic, and coming from someone who’s a little bit of a layoff-victim impostor.</p><h2>Develop Your Personal Brand</h2><p>I mentor junior engineers from time to time, and one concern that comes up is when someone is working on a project that is not doing well.  In some cases, they are worried that they might lose their job if the project is canceled, and in some cases, it is more of a matter of them feeling bad about their career, partly because they have entangled their own self-worth with the success of their project.</p><p>In both cases, I offer the same advice, which is to develop your “personal brand”.  If you think about a company that you have had a high opinion of in the past, you will probably find that your trust level for that company’s latest products is also generally higher, and you are more likely to shop there versus somewhere else in the future.  Brand loyalty is a thing, and even if you do not slavishly follow it, you are probably at least somewhat likely to return to something you know is of good quality than take a risk on something unknown.</p><p>Personal brand also works like that.  When you work on a project, even a crappy project, your personal brand is on display for all potential shoppers to see.  And even when everything is going south, others will notice which people are easy to work with, which people can be relied upon to do what they said they would do, and which people consistently produce a quality result.</p><p>This is what job security looks like, in the post-Black-Monday world.  If your project was canceled or your company tanks and you get laid off in the process, your personal brand will control your fate.  If you were a complete pain-in-the-ass to work with, dropped the ball a lot, said things you were going to do but didn’t do them, then good luck.  Your brand is trash, and you’ll have to find a place that doesn’t do backreferences in your probably-long job hunt.</p><p>On the other hand, if your personal brand is highly regarded, magic things will often just happen for you in this situation.   Maybe some other project in the company will realize you are now free, and snatch you up.  Maybe one of your fellow laid-off coworkers will find a better job and refer you as well.  Maybe your boss will feel super-guilty you got laid off and give you a glowing recommendation, or even help find something for you. </p><p>So basically, your “brand” gives you not the security that you will keep your current job forever, but the security that you will be able to have <em>a</em> job, on some regular basis.</p><h2>Make Your Boss Afraid</h2><p>What about not getting laid off in the first place?  Isn’t that more the goal here, Mad Ned?  It sure is. I’ve given a lot of lip service so far to the idea that layoffs happen and just get used to it, but ideally, the best job security advice is about how to reduce the chance they will happen to you.</p><p>The best tip I have here is to make sure your boss is afraid.  </p><p>Afraid?  Yep.  Afraid of what will happen, if you ever decide to leave.  I am not talking about doing stupid stuff like leaving your resume conspicuously lying around on the printer, or brinksmanship games of claiming you have another job offer just to get a raise.  I have seen people play these games to varying degrees of short-term success in the past, but inevitably it’s a long-term lose, as it destroys trust relationships (in addition to being petty and sometimes backfiring).</p><p>In saying “make your boss afraid”, I do not suggest doing anything to undermine the trust you have with your boss - establishing trust is important, with any coworker.  What I mean is, you want to be so useful that it will create a lot of problems for your boss (and by extension project, and company) if you were not there for some reason. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F089a5407-af45-4625-95fb-736c2a8cd3c3_983x763.jpeg"></a><figcaption>Norman offers to coordinate, so you don’t have to.</figcaption></figure></div><p>There is an old Star Trek episode called <a href="https://memory-alpha.fandom.com/wiki/I,_Mudd_(episode)">“I, Mudd”</a> where Captain Kirk and company faced an interesting adversary, a race of androids whose plans for domination centered around helping and serving humans, to the point where humanity became so reliant on this help that the androids would end up with complete control of the universe.</p><p>Even though I love this idea for an enemy threat because of its sheer novelty, my version of this concept is not quite so sinister.   No <a href="https://en.wikipedia.org/wiki/Machiavellianism_(psychology)">Machiavellian plotting</a> is required to accomplish this goal, but like the Star Trek storyline, a willingness to do what needs to be done, and to take ownership of things.  If possible, important things.  In some cases, even things that no one wants to do.</p><p>In a previous job as manager I ended up inheriting a lot of smaller technical work that no one else wanted to do, like getting the license token code updated, writing simple translators for file formats, and other small projects that fit within the available time I had when not doing the manager side of things.  When my boss had something that was giving him a headache and he asked if I could look into it, I would do it without complaint, and my personal brand in this job was to be a reliable go-to guy that could solve problems, kind of like <a href="https://quentin-tarantino.fandom.com/wiki/The_Wolf">Winston Wolf</a> from Pulp Fiction.</p><p>This approach served me well through many a layoff, when management would hold a <a href="https://everything2.com/title/lifeboat+exercises">lifeboat meeting</a> to determine who would be cut.   The goal in these situations is always to not be the lowest-ranked person under consideration, and the management-fear-thing does well for you in situations like that.</p><p>But it is not foolproof.  In 2009 or so when we had the last tech recession, a lot of people lost their jobs at our company.  My boss I am reasonably sure resisted laying me off for a while, again because he was probably afraid of having to deal with all these things I was keeping at bay.  But none of my responsibilities, in this case, were key enough to prevent me from getting onto the layoff list, and I did actually lose that job because the manager position itself was eliminated.</p><p>My personal brand here saved me though, because my boss had a positive opinion of me after putting out so many fires for him, and he recommended me to another group that was looking for a developer (and in retrospect, turned out to be a better fit for me than the management job anyway).  </p><p>So while I may have failed at making myself fearfully indispensable in that case, trying to get there was still worth it because it helped my personal brand, and boosted my overall job security in the process.</p><h2>Make Your Boss Happy</h2><p>Wait, what?  Make your boss happy? I thought we were supposed to make our boss afraid.  Well yes, he or she should be afraid, but only at certain times, like maybe raise time, or when the layoff list is being planned, or late at night when up worrying about life, work, and other existential matters.   The majority of the time though you want him or her to be happy — happy because they are successful.</p><p>Doctors say that if exercise could be given in pill form, it would be the most prescribed drug because it affects so many health-related things in positive ways.  Making your boss successful is Dr. Ned’s similar prescription here, because of the numerous positive effects it has for your career.  It goes beyond just doing a good job with your own personal assignments.  What it means is, putting yourself in your boss’s shoes, and thinking about what they need to be able to succeed in <em>their</em> boss’s eyes.</p><p>Give your boss stuff they can use.  Maybe it’s ideas and suggestions about how to frame or present work the group has done, or explain problems you have faced.  Maybe it’s a little bit of bonus content from time to time, that can be highlighted in a status report.  Maybe it’s helping to defuse a situation that would make your boss or the group look bad.  Sometimes it takes a little imagination to put yourself in your boss’s place, or maybe even some investigation on your part to find out what your boss’s true care-about’s really are, but this is worthwhile to do in general, anyway.</p><p>If taken too far, I guess these “managing up” strategies begin to border on sucking up to the boss or being overly calculating and political, but doing just the right amount of this can have immensely positive effects for your career, no pill needed!</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cce4724-e652-4b25-b1d3-92dc8eb686e4_1024x478.png"></a></figure></div><p>This strategy by the way also includes the idea of letting your boss take credit for your work.  That is super-not-cool if it’s say a peer doing it, but when your boss takes credit for your work, it is usually (unless you have an awful boss, anyway) done in a way that helps him or her, while simultaneously raising your visibility in the company, and improving your personal brand.   </p><p>Successful bosses get more resources, more freedoms. And that is also quite good for you, and your team.</p><h2>The “Do It Anyway” Principle</h2><p>It’s unavoidable. You will hopefully work on many cool projects and be very productive in your career, but sooner or later you will end up on some task or project that is difficult to accomplish and/or generally unpleasant, all due to factors outside of your control. </p><p>This has happened to me on some occasions, and it is super-frustrating when it does.  I spent a lot of time developing software features for a product once that had a horrible regression test and code versioning environment, such that it required a large number of very long test runs and updates and merges before any code could be checked in.  Tests were unreliable and produced false positives all the time. It took hours if not days to integrate code.</p><p>This was eventually straightened out, but it took I would say, a couple of years.  In that intervening time though, life went on.  Products had to be developed in spite of the challenges we had with the environment.   </p><p>At our team standup meetings, we would go over the progress of things, and I would see people divide into two general categories.   The first category was people who were similarly frustrated and fed-up with the work environment issues we faced.  They were more vocal about it though and would complain about these issues frequently, even though they were for the most part, out of our collective control.</p><p>Tasks assigned to people in this first group would frequently get delayed, due to the problems we faced with the development environment.  Each day when we met and someone said they could not finish something because of some obstacle that cropped up, it was never really challenged because it was pretty unreasonable to expect people to be productive given various problems we faced.  The net effect though was, the tasks assigned to this group of people were not really getting done.</p><p>The second category of people, which I would try my best to be in (but admittedly, not always succeed) would be the people that somehow got their tasks done anyway, even though there were ridiculous constraints imposed by our environment issues that made it a lot harder.  My own personal way of dealing with this would be to look at it as a challenge, like: Can I pick up wet grapes with chopsticks?  Can I run more than 100 feet without throwing up because I’m so out of shape?  View everything as unnecessary feats I clearly was not expected to do but would attempt, anyway.</p><p>Gamifying things this way helped me get through some of these situations, but I think others used different strategies that also worked.  In the end, it is really about mindset.  You can take the stance that you should not be expected to be productive in a bad work environment, and you would be right.  If that motivates you to affect change in the environment, it is great.  But sometimes, we do not have that luxury.</p><p>There is something called the <a href="https://en.wikipedia.org/wiki/Serenity_Prayer">Serenity Prayer</a>, written by theologian Reinhold Niehbur which goes like this:</p><blockquote><p><em>God, grant me the serenity to accept the things I cannot change,</em></p></blockquote><p>Applicable.  Whether you subscribe to a particular theology, or not.  Coming back to the job security theme though, I will say that at least one person from the first category did get laid off later because they just weren’t getting enough done.  Not fair I know, because you shouldn’t be expected to have your productivity measured when you are being held back by things beyond your control.</p><p>The brutal truth though is, you still do.  We are all constantly measured in the eyes of our employers by what we actually deliver, and those who can find a way to succeed even in the face of adversity will always have an advantage over those who cannot, or do not want to.</p><h2>The “Two-And-Done” Rule</h2><p>I’ve saved my favorite piece of advice to the end.  The “Two-And-Done” Rule as I call it was something that did not occur to me until I was almost in my 50’s, and I really wish I had come up with it earlier because it probably would have helped me in a lot of past situations.</p><p>It has to do with how to handle disagreements that come up at work.  In my younger days, I would have a pretty strong desire to always have the right answer to things, and also to be seen as someone who has the right answer to things.  When I got into situations where I thought I was right about something that others disagreed with, I would tenaciously argue my point, without letting go.  </p><p>It did not matter if the person was my peer, subordinate, or superior, I would let them know just why they were wrong, and why we needed to do it my way.  Sometimes the decision on what to do was out of my control, and management would pick the thing I was against.  And even after the decision was made, I would continue to try to find ways to criticize it, reverse it, undermine it, or revisit it, because something that I knew was better was being ignored (and by extension, I think I felt I was being ignored as well).</p><p>But this take-no-prisoners approach to debate did not do me any good.  Rarely would my continued efforts to upturn settled law ever yield any good results, and in fact much the opposite — it would negatively impact my ability to affect change.  If I did this too often, people would begin to see me as argumentative, difficult to work with, not a team player, and so on.  I started getting left out of meetings where decisions were being made because no one wanted to get into yet another argument over things.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fca70603c-c514-4b0d-aa07-31363459d6c5_700x350.jpeg"></a></figure></div><p>I will admit, I am still a big fan of being right all the time, and of having people agree with me.  What’s changed over the years though is first, an enhanced understanding that I in fact am not right all the time. But also that even when I am right, it isn’t always a guarantee that others will follow my advice, and if they do not, that it’s still OK.</p><p>So the Two-And-Done rule was born, wherein I will state my case the first time, and if whoever is arguing to the contrary does not agree after hearing my position, I’ll let it go.  But the next time the opportunity comes up, I will argue my point again.  Maybe allowing for a gap of time for people to consider my original point, or maybe allowing me time to refine and rephrase my ideas to be more convincing.</p><p>If I fail to get my way after the second time though, I am done.  I will even say as much to whomever I am debating if they are the final decision-maker.  I will say something like, “OK, let’s go your way then.  I still don’t completely agree with everything proposed here, but I think I’ve made my case, and we need to move on.”</p><p>Yielding in an argument like this has some weird, powerful effects.  One is, it kind of releases you from responsibility if things should go wrong.  And if a truly bad decision has been made, it is actually pretty likely that things <em>will</em> start going wrong.  <em>(Important Note: If you fail to convince people after two tries, you really do have to get behind the decision, and not try to sabotage or undermine it)</em></p><p>If it goes bad anyway and you have been graceful enough in your concession on the original bad decision, you can then just skip over the “I told you so!” part (it will just be implied), and go straight to the getting your way part.  This is because people will be more likely to revisit their decision if you did not make your original disagreement with it a super-unpleasant experience for them.</p><p>The added bonus of that is, it bumps up your personal brand, as someone who should maybe be listened to more often.  Sometimes though you end up just having to live with not getting your way, and learn to truly let go of whatever it was.  But more often than you might expect, this technique will end up causing things to pivot back your way, eventually.  </p><p>Anyway, this is not strictly a job-security-specific tip, as much as it’s a “how to be more effective at work” tip.  But being effective, indirectly, means job security.  </p><p>You might also wonder — shouldn’t the rule be “Three and Done”?  Things come in threes right, like three strikes, or the <a href="https://en.wikipedia.org/wiki/Rule_of_three_(writing)">rule-of-three</a>?  I just think three arguments is one argument too many to have about something.  You give your opinion once, and once more just in case you screwed up your pitch the first time. Beyond that though it has diminishing returns, in my experience at least.</p><h2>Who Needs Job Security Anyway?</h2><p>I’m someone who’s worked at only a couple of companies, for a very long time at each.  I would say it’s pretty clear I’ve prioritized job security over other things, like maximizing my income or job title or taking risky bets on startups or equity-driven opportunities.</p><p>So maybe not all of this advice I’ve given applies to you if your priorities are different. Also, maybe I am not qualified to talk about how to deal with some situations like having to job hop between startups and so on.  I can only offer what I have learned myself, take away what is useful.</p><p>If you take away only one thing though, take away the idea that job security doesn’t come from your job, it comes from you.  The Buddhists have this <a href="https://tricycle.org/magazine/buddhism-and-happiness/">philosophy</a> regarding happiness, that you should not have any dependencies on external things to make you happy because happiness comes from within.</p><p>Like job security, subscribing to this philosophy has the downside of, it means you are doing all the work.  Nobody is going to make you happy but yourself, and no job or company is going to give you job security, you have to do it on your own.</p><p>But it also means your fate is in your own hands.  And that is a great thing.</p><h2>Explore Further</h2><ul><li><p><a href="https://www.youtube.com/watch?v=YMg9HXSYcUc">Bull Riding 101 (YouTube)</a></p></li><li><p><a href="https://www.psychologytoday.com/us/blog/fighting-fear/201209/the-proper-way-argue">The Proper Way To Argue (Psychology Today)</a></p></li><li><p><a href="https://www.indeed.com/career-advice/career-development/job-security">Other Job Security Tips (Indeed.com)</a></p></li></ul><blockquote><p><strong>Next Time:   </strong>What it looks like inside the supply chain, from someone who has visited both ends.  The world of bossy customers and needy sellers collide in: <em>Vendor, Vidi, Vici !</em></p></blockquote><p><em>If I subscribe to the <a href="https://madned.substack.com/">Mad Ned Memo</a>, won’t I get spam? No! Just strange and nerdy tales of computer technology, past present, and future - delivered to your inbox regularly. (check the link to see some past articles)  It’s cost-free and ad-free, and you can unsubscribe at any time.</em></p><pre><code><code>The Mad Ned Memo takes subscriber privacy seriously, and does not share email addresses or other information with third parties.  For more details, </code><a href="https://madned.substack.com/about"><code>click here</code></a><code>.</code></code></pre></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 12:31:22 +0000</pubDate>
      <source>https://madned.substack.com/p/an-old-hackers-tips-on-staying-employed</source>
    </item>
    <item>
      <title>Facebook announces privacy-enhancing technologies</title>
      <link>https://www.facebook.com/business/news/building-for-the-future</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><div><div><div><div><div><p>As we mentioned in a post<a href="https://www.facebook.com/business/news/building-the-next-era-of-personalized-experiences" data-clickable="true" data-ms="{&#34;creative&#34;:&#34;link&#34;,&#34;creative_detail&#34;:&#34;FBBNews_DanLevyPostLastMonth_Link&#34;}" target="_blank" rel="noreferrer noopener"> last month</a>, we believe personalization in marketing is the best possible experience for people and businesses. Without personalized advertising, businesses would be harder to start and grow, new products and services would be harder to discover and would cost more, and people would see less relevant, less timely and less interesting ads. The free and open internet, including the news people read, the ways they communicate and the entertainment they watch, would become less accessible to those who can’t afford subscription services.</p><p>We are optimistic that new privacy-enhancing technologies will prove that personalization remains possible and effective as our industry evolves to become less reliant on individual third-party data. These technologies will help us minimize the amount of personal information we process, while still allowing us to show people relevant ads and measure ad effectiveness for advertisers.</p><p>Last year we began testing our Private Lift Measurement solution with select partners, which uses a privacy-enhancing technology called secure multi-party computation. This helps advertisers understand how their campaigns are performing, while adding extra layers of privacy to limit the information that can be learned by the advertiser or Facebook. This solution will be broadly available to advertisers next year. In the meantime, we have open sourced our framework for <a href="https://l.facebook.com/l.php?u=https%3A%2F%2Fgithub.com%2Ffacebookresearch%2Ffbpcf&amp;h=AT1lLWuPNpm632uvI03KqLS3D52bKCI9SiVOFjnYQaiAMtDGNvv6Bh1FX61q14wipGjy4G5LJ5WOLtZ6siI3f2HuhJofq4QWaWt04jdAiDhwIpgRdV0ZQejymi1c5tR3w4YXYjmCDiYuoKxH" data-clickable="true" data-ms="{&#34;creative&#34;:&#34;link&#34;,&#34;creative_detail&#34;:&#34;GitHub_ComputationSolutions&#34;}" target="_blank" rel="noreferrer noopener nofollow" data-lynx-mode="hover">Private Computation Solutions</a>, so that anyone in the industry can develop measurement products based on this technology. We’re also exploring applications for on-device learning, a technology that could improve a person’s ad experience by processing data locally on their device rather than sending individual data to a remote server or cloud.</p><p>These technologies will only be successful for people and businesses of all sizes if there is industry collaboration and a shared set of standards. That’s why we are calling on platforms, publishers, developers and other industry participants to work together — on these technologies and other privacy-focused standards and practices. We’re encouraged by the debates and solutions already in development through industry groups like the Partnership for Responsible Addressable Media (PRAM), the World Wide Web Consortium (W3C) and the World Federation of Advertisers (WFA).</p><p>Our engagement with the industry and platforms on these technologies has focused primarily on three areas:</p><ul><li><b>Data use cases</b>: What are advertisers’ most important uses of data that privacy-enhancing technology needs to address? We’ve been working with industry groups to develop lists of use cases for discussion (<a href="https://l.facebook.com/l.php?u=https%3A%2F%2Fgithub.com%2Fw3c%2Fweb-advertising%2Fblob%2Fmain%2Fsupport_for_advertising_use_cases.md&amp;h=AT1wFEQimsWMUyEMF4Ifpx7qopm9rR2yhmP5gakXOWvXNQwMEwZb2ew23rChj-xR0RJ2tLYAvYfzmpliqPMyk0POK0BIcAh-Q6v-feJelyIrcG_XMs6VWcZvbbd2KLfyKJTSD7KBAOz5JX-R" data-clickable="true" data-ms="{&#34;creative&#34;:&#34;link&#34;,&#34;creative_detail&#34;:&#34;GitHub_W3C&#34;}" target="_blank" rel="noreferrer noopener nofollow" data-lynx-mode="hover">W3C</a> and <a href="https://l.facebook.com/l.php?u=https%3A%2F%2Fwww.responsibleaddressablemedia.com%2Fbusinessusecases&amp;h=AT3pgYNxPXnx3verG0EjkeFncHpv8nmvg94rSFkdU6tz6xJynj2HELdfrqs7AWcdQZkI0R0MhZigKfCaY-wT2KY7988V5skzUVP1egmta8unoqfsTkiId-M5kEXQlUAppHsCccnVMq2B88at" data-clickable="true" data-ms="{&#34;creative&#34;:&#34;link&#34;,&#34;creative_detail&#34;:&#34;PRAM_Link&#34;}" target="_blank" rel="noreferrer noopener nofollow" data-lynx-mode="hover">PRAM</a>), and encourage more industry partners to share their perspective.</li><li><b>Proposals: </b>What proposals can we develop that enable important uses of data while leveraging privacy-enhancing techniques?</li><li><b>Feedback: </b>How can we collaborate to iterate on and improve existing proposals?</li></ul><p>As we work with the industry to answer these questions, we know businesses — especially small businesses — are counting on us to help them navigate through these changes. Many of them don’t have large marketing budgets — or even marketing teams — so they use our tools to deliver and measure their ad campaigns efficiently. We remain committed to helping them grow, while also meeting our mutual customers’ privacy expectations.</p><p>Over the coming months, we’ll engage with clients, partners and the broader industry via educational events to discuss the next era of personalized experiences and the product proposals we hope to develop together. We will provide more details on these events and proposals soon.</p><p>New technologies take time to develop, but we’re confident that through our ongoing work and engagement with the broader industry, we can build solutions that will support a free and open internet.<span></span></p></div></div></div></div></div></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 16:11:10 +0000</pubDate>
      <source>https://www.facebook.com/business/news/building-for-the-future</source>
    </item>
    <item>
      <title>Roland Barthes: Studium and Punctum (2013)</title>
      <link>https://educationmuseum.wordpress.com/2013/03/12/roland-barthes-studium-and-punctum/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___educationmuseum_wordpress_com_2013_03_12_roland-barthes-studium-and-punctum_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
		<p>Barthes’ <i><a href="http://www.scribd.com/doc/46446178/Roland-Barthes-Camera-Lucida" target="_blank">Camera Lucida</a></i> , first published in 1980, assumes that the automaticity of the camera distinguishes photography from traditional media and has significant implications for how we experience photographs. To address the apparently uncoded level of photographs, which troubles the semiological approach Barthes himself adopted in the early 1960s, <i>Camera Lucida</i> advances a theory of photographic meaning that makes a distinction between the <i>studium </i>and the <i>punctum</i> and highlights the <i>punctum</i> as photography-specific.</p>
<p>The <i>studium </i>indicates historical, social or cultural meanings extracted via semiotic analysis. For example, the photograph taken by Koen Wessing in 1979 (p. 22), portraying a war-torn street in Nicaragua with three armed soldiers patrolling the street and two nuns crossing the section of the street behind the soldiers, could be interpreted as a presence of the traditional oppositions between war and religion, violence and spirituality.</p>
<p><a href="https://educationmuseum.files.wordpress.com/2013/03/wessing.jpg"></a></p>
<p><em>“I understood at once that this photograph’s ‘adventure’ derived from the co-presence of two elements… “</em></p>
<p>KOEN WESSING: NICARAGUA 1979</p>
<p>The <i>punctum</i> points to those features of a photograph that seem to produce or convey a meaning without invoking any recognizable symbolic system. This kind of meaning is unique to the response of the individual viewer of the image. The <i>punctum</i> punctuates<i> </i><i>the studium</i> and as a result pierces its viewer. To allow the <i>punctum</i> effect, the viewer must repudiate all knowledge. Barthes insists that the <i>punctum</i> is not simply the sum of desires projected into the photograph. Instead, it arises from details that are unintended or uncontrolled by the photographer. Photography can be distinguished from painting or drawing in that its apparatus visualizes the world automatically rather than being wholly informed by the interventions of the photographer. The theory of the <i>punctum</i> speaks the indexical nature of the photographic medium. It also accounts for the importance of emotion and subjectivity in interacting with photographs.</p>
<p>Barthes offers many examples to illustrate his definition of the <i>punctum</i>. The first part of <i>Camera Lucida</i> “randomly” looks at mostly famous photographs and describes how certain details operate on the images to bring about the <i>punctum</i>.  The second part of the book, engaging the author’s mourning for his recently deceased mother based on a photograph of her when she was five years old, the <i>Winter Garden</i> photograph, traces the <i>punctum</i> more intensively in terms of how photography represents time. It is possible to say that <i>Camera Lucida</i> dwells on the “that-has-been” of the photograph, which relates directly to death, reveals the ephemeral nature of life and calls us to recognize the singularity of existence. As implied from <i>Camera Lucida</i>, if we fail to appreciate what is specific about photography, we miss the affect that makes a photograph personally meaningful to us. It also means that we miss the chance to discover a kind of truth, the truth of unique being. The <i>Winter Garden</i> photograph, which is not present in the book, where Barthes discovers the truth of his mother’s face, achieves “the impossible science of the unique being” (p. 71). The <i>punctum</i> is not always available in our everyday existence, and Barthes describes it as life-giving.</p>
<p>It should be noted that presenting examples of <i>punctum</i> is an impossible mission. The <i>punctum</i> always turns into the <i>studium</i> when expressed in language. That is also why we may perceive that his examples do not support his theory. Rancière (2009, pp. 111) argues, “what he tells us he sees by the way of the <i>punctum</i> pertains to the same logic as that of the <i>studium</i>.” For instance, faced with a photograph of two retarded children taken by Lewis Hine in a New Jersey institution, Barthes writes: “I … hardly see the monstrous heads and pathetic profiles (which belong to the <i>studium</i>); what I see … is the off-centre detail, the little boy’s huge Danton collar, the girl’s finger bandage …” (p. 51).  Rancière (2009) reminds us that these details are also features of disproportion and “Danton” is the proper name of a person who was decapitated. Barthes cannot dismiss knowledge as he claims. Nonetheless, he is fully aware that a theory of the <i>punctum </i>is not possible in language, “to give examples of <i>punctum</i> is, in a certain fashion, to give myself up” (p. 43).</p>
<p></p>
<p><em>“I dismiss all knowledge, all culture…I see only the boy’s huge Danton collar, the girl’s finger bandage…”</em></p>
<p>LEWIS H. HINE: IDIOT CHILDREN IN AN INSTITUTION. NEW JERSEY, 1924</p>
<p>References</p>
<p>Barthes, R. (2010). <i><a href="http://www.scribd.com/doc/46446178/Roland-Barthes-Camera-Lucida" target="_blank">Camera Lucida: Reflections on photography</a></i>. (R. Howard, Trans.). New York: Hill and Wang.</p>
<p>Rancière, J. (2009). <a href="http://www.scribd.com/doc/77131057/Jacques-Ranciere-The-Emancipated-Spectator-2009-Book-OCR"><i>The emancipated spectator</i></a>. (G. Elliott, Trans.). New York and London: Verso.</p>
			
			
						</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 02:25:48 +0000</pubDate>
      <source>https://educationmuseum.wordpress.com/2013/03/12/roland-barthes-studium-and-punctum/</source>
    </item>
    <item>
      <title>Interactive introduction to game theory and trust</title>
      <link>https://ncase.me/trust/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___ncase_me_trust_/image.jpg" /> 
<div id="readability-page-1" class="page">
	<p>loading...</p> <!-- TRANSLATE THIS -->
	
	
















<!-- Core Engine -->













<!-- Simulations -->






<!-- Slides -->











<!-- Main Code -->

</div>]]></content:encoded>
      <pubDate>Mon, 09 Aug 2021 09:32:19 +0000</pubDate>
      <source>https://ncase.me/trust/</source>
    </item>
    <item>
      <title>ANSI Escape Codes</title>
      <link>https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___gist_github_com_fnky_458719343aabd01cfb17a3a4f7296797/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
  <div id="file-ansi-md">
      
      <div id="file-ansi-md-readme">
    <article itemprop="text">
<p>Standard escape codes are prefixed with <code>Escape</code>:</p>
<ul>
<li>Ctrl-Key: <code>^[</code></li>
<li>Octal: <code>\033</code></li>
<li>Unicode: <code>\u001b</code></li>
<li>Hexadecimal: <code>\x1b</code></li>
<li>Decimal: <code>27</code></li>
</ul>
<p>Followed by the command, somtimes delimited by opening square bracket (<code>[</code>), known as a Control Sequence Introducer (CSI), optionally followed by arguments and the command itself.</p>
<p>Arguments are delimeted by semi colon (<code>;</code>).</p>
<p>For example:</p>
<div><pre><span>\x</span>1b[1<span>;</span>31m  <span><span>#</span> Set style to bold, red foreground.</span></pre></div>
<h2><a id="user-content-general-ascii-codes" aria-hidden="true" href="#general-ascii-codes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>General ASCII Codes</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>decimal</th>
<th>octal</th>
<th>hex</th>
<th>C-escape</th>
<th>Ctrl-Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BEL</code></td>
<td>7</td>
<td>007</td>
<td>0x07</td>
<td><code>\a</code></td>
<td><code>^G</code></td>
<td>Terminal bell</td>
</tr>
<tr>
<td><code>BS</code></td>
<td>8</td>
<td>010</td>
<td>0x08</td>
<td><code>\b</code></td>
<td><code>^H</code></td>
<td>Backspace</td>
</tr>
<tr>
<td><code>HT</code></td>
<td>9</td>
<td>011</td>
<td>0x09</td>
<td><code>\t</code></td>
<td><code>^I</code></td>
<td>Horizontal TAB</td>
</tr>
<tr>
<td><code>LF</code></td>
<td>10</td>
<td>012</td>
<td>0x0A</td>
<td><code>\n</code></td>
<td><code>^J</code></td>
<td>Linefeed (newline)</td>
</tr>
<tr>
<td><code>VT</code></td>
<td>11</td>
<td>013</td>
<td>0x0B</td>
<td><code>\v</code></td>
<td><code>^K</code></td>
<td>Vertical TAB</td>
</tr>
<tr>
<td><code>FF</code></td>
<td>12</td>
<td>014</td>
<td>0x0C</td>
<td><code>\f</code></td>
<td><code>^L</code></td>
<td>Formfeed (also: New page <code>NP</code>)</td>
</tr>
<tr>
<td><code>CR</code></td>
<td>13</td>
<td>015</td>
<td>0x0D</td>
<td><code>\r</code></td>
<td><code>^M</code></td>
<td>Carriage return</td>
</tr>
<tr>
<td><code>ESC</code></td>
<td>27</td>
<td>033</td>
<td>0x1B</td>
<td><code>\e</code><a href="#escape">*</a></td>
<td><code>^[</code></td>
<td>Escape character</td>
</tr>
<tr>
<td><code>DEL</code></td>
<td>127</td>
<td>177</td>
<td>0x7F</td>
<td><code>&lt;none&gt;</code></td>
<td><code>&lt;none&gt;</code></td>
<td>Delete character</td>
</tr>
</tbody>
</table>

<blockquote>
<p><strong>Note:</strong> Some control escape sequences, like <code>\e</code> for <code>ESC</code>, are not guaranteed to work in all languages and compilers. It is recommended to use the decimal, octal or hex representation as escape code.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> The <strong>Ctrl-Key</strong> representation is simply associating the non-printable characters from ASCII code 1 with the printable (letter) characters from ASCII code 65 (&#34;A&#34;). ASCII code 1 would be <code>^A</code> (Ctrl-A), while ASCII code 7 (BEL) would be <code>^G</code> (Ctrl-G). This is a common representation (and input method) and historically comes from one of the VT series of terminals.</p>
</blockquote>
<h2><a id="user-content-cursor-controls" aria-hidden="true" href="#cursor-controls"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Cursor Controls</h2>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[H</code></td>
<td>moves cursor to home position (0, 0)</td>
</tr>
<tr>
<td><code>ESC[{line};{column}H</code> </td>
<td>moves cursor to line #, column #</td>
</tr>
<tr>
<td><code>ESC[#A</code></td>
<td>moves cursor up # lines</td>
</tr>
<tr>
<td><code>ESC[#B</code></td>
<td>moves cursor down # lines</td>
</tr>
<tr>
<td><code>ESC[#C</code></td>
<td>moves cursor right # columns</td>
</tr>
<tr>
<td><code>ESC[#D</code></td>
<td>moves cursor left # columns</td>
</tr>
<tr>
<td><code>ESC[#E</code></td>
<td>moves cursor to beginning of next line, # lines down</td>
</tr>
<tr>
<td><code>ESC[#F</code></td>
<td>moves cursor to beginning of previous line, # lines down</td>
</tr>
<tr>
<td><code>ESC[#G</code></td>
<td>moves cursor to column #</td>
</tr>
<tr>
<td><code>ESC[6n</code></td>
<td>request cursor position (reports as <code>ESC[#;#R</code>)</td>
</tr>
<tr>
<td><code>ESC7</code></td>
<td>save cursor position (DEC)</td>
</tr>
<tr>
<td><code>ESC8</code></td>
<td>restores the cursor to the last saved position (DEC)</td>
</tr>
<tr>
<td><code>ESC[s</code></td>
<td>save cursor position (SCO)</td>
</tr>
<tr>
<td><code>ESC[u</code></td>
<td>restores the cursor to the last saved position (SCO)</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> Some sequences, like saving and restoring cursors, are private sequences and are not standardized. While some terminal emulators (i.e. xterm and derived) support both SCO and DEC sequences, they are likely to have different functionality. It is therefore recommended to use DEC sequences.</p>
</blockquote>
<h2><a id="user-content-erase-functions" aria-hidden="true" href="#erase-functions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Erase Functions</h2>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[J</code></td>
<td>clears the screen</td>
</tr>
<tr>
<td><code>ESC[0J</code></td>
<td>clears from cursor until end of screen</td>
</tr>
<tr>
<td><code>ESC[1J</code></td>
<td>clears from cursor to beginning of screen</td>
</tr>
<tr>
<td><code>ESC[2J</code></td>
<td>clears entire screen</td>
</tr>
<tr>
<td><code>ESC[K</code></td>
<td>clears the current line</td>
</tr>
<tr>
<td><code>ESC[0K</code></td>
<td>clears from cursor to end of line</td>
</tr>
<tr>
<td><code>ESC[1K</code></td>
<td>clears from cursor to start of line</td>
</tr>
<tr>
<td><code>ESC[2K</code></td>
<td>clears entire line</td>
</tr>
</tbody>
</table>
<h2><a id="user-content-colors--graphics-mode" aria-hidden="true" href="#colors--graphics-mode"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Colors / Graphics Mode</h2>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[1;34;{...}m</code></td>
<td>Set graphics modes for cell, separated by semicolon (<code>;</code>).</td>
</tr>
<tr>
<td><code>ESC[0m</code></td>
<td>reset all modes (styles and colors)</td>
</tr>
<tr>
<td><code>ESC[1m</code></td>
<td>set bold mode.</td>
</tr>
<tr>
<td><code>ESC[2m</code></td>
<td>set dim/faint mode.</td>
</tr>
<tr>
<td><code>ESC[3m</code></td>
<td>set italic mode.</td>
</tr>
<tr>
<td><code>ESC[4m</code></td>
<td>set underline mode.</td>
</tr>
<tr>
<td><code>ESC[5m</code></td>
<td>set blinking mode</td>
</tr>
<tr>
<td><code>ESC[7m</code></td>
<td>set inverse/reverse mode</td>
</tr>
<tr>
<td><code>ESC[8m</code></td>
<td>set invisible mode</td>
</tr>
<tr>
<td><code>ESC[9m</code></td>
<td>set strikethrough mode.</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> Some terminals may not support some of the graphic mode sequences listed above.</p>
</blockquote>
<h3><a id="user-content-color-codes" aria-hidden="true" href="#color-codes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Color codes</h3>
<p>Most terminals support 8 and 16 colors, as well as 256 (8-bit) colors. These colors are set by the user, but have commonly defined meanings.</p>
<h4><a id="user-content-8-16-colors" aria-hidden="true" href="#8-16-colors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>8-16 Colors</h4>
<table>
<thead>
<tr>
<th>Color Name</th>
<th>Foreground Color Code</th>
<th>Background Color Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Black</td>
<td><code>30</code></td>
<td><code>40</code></td>
</tr>
<tr>
<td>Red</td>
<td><code>31</code></td>
<td><code>41</code></td>
</tr>
<tr>
<td>Green</td>
<td><code>32</code></td>
<td><code>42</code></td>
</tr>
<tr>
<td>Yellow</td>
<td><code>33</code></td>
<td><code>43</code></td>
</tr>
<tr>
<td>Blue</td>
<td><code>34</code></td>
<td><code>44</code></td>
</tr>
<tr>
<td>Magenta</td>
<td><code>35</code></td>
<td><code>45</code></td>
</tr>
<tr>
<td>Cyan</td>
<td><code>36</code></td>
<td><code>46</code></td>
</tr>
<tr>
<td>White</td>
<td><code>37</code></td>
<td><code>47</code></td>
</tr>
<tr>
<td>Reset</td>
<td><code>0</code></td>
<td><code>0</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> the <em>Reset</em> color is the reset code that resets <em>all</em> colors and text effects.</p>
</blockquote>
<p>Most terminals, apart from the basic set of 8 colors, also support the &#34;bright&#34; or &#34;bold&#34; colors. These have their own set of codes, mirroring the normal colors, but with an additional <code>;1</code> in their codes:</p>
<div><pre><span><span>#</span> Set style to bold, red foreground.</span>
<span>\x</span>1b[1<span>;</span>31mHello
<span><span>#</span> Set style to dimmed white foreground with red background.</span>
<span>\x</span>1b[2<span>;</span>37<span>;</span>41mWorld</pre></div>
<h4><a id="user-content-256-colors" aria-hidden="true" href="#256-colors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>256 Colors</h4>
<p>The following escape codes tells the terminal to use the given color ID:</p>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[38;5;{ID}m</code></td>
<td>Set foreground color.</td>
</tr>
<tr>
<td><code>ESC[48;5;{ID}m</code></td>
<td>Set background color.</td>
</tr>
</tbody>
</table>
<p>Where <code>{ID}</code> should be replaced with the color index from 0 to 255 of the following color table:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/995050/47952855-ecb12480-df75-11e8-89d4-ac26c50e80b9.png"></a></p>
<p>The table starts with the original 16 colors (0-15).</p>
<p>The proceeding 216 colors (16-231) or formed by a 3bpc RGB value offset by 16, packed into a single value.</p>
<p>The final 24 colors (232-255) are grayscale starting from a shade slighly lighter than black, ranging up to shade slightly darker than white.</p>
<p>Some emulators interpret these steps as linear increments (<code>256 / 24</code>) on all three channels, although some emulators may explicitly define these values.</p>
<h4><a id="user-content-rgb-colors" aria-hidden="true" href="#rgb-colors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>RGB Colors</h4>
<p>More modern terminals supports <a href="https://en.wikipedia.org/wiki/Color_depth#True_color_.2824-bit.29" rel="nofollow">Truecolor</a> (24-bit RGB), which allows you to set foreground and background colors using RGB.</p>
<p>These escape sequences are usually not well documented.</p>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[38;2;{r};{g};{b}m</code></td>
<td>Set foreground color as RGB.</td>
</tr>
<tr>
<td><code>ESC[48;2;{r};{g};{b}m</code></td>
<td>Set background color as RGB.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Note that <code>;38</code> and <code>;48</code> corresponds to the 16 color sequence and is interpreted by the terminal to set the foreground and background color respectively. Where as <code>;2</code> and <code>;5</code> sets the color format.</p>
</blockquote>
<h2><a id="user-content-screen-modes" aria-hidden="true" href="#screen-modes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Screen Modes</h2>
<h3><a id="user-content-set-mode" aria-hidden="true" href="#set-mode"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Set Mode</h3>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[={value}h</code></td>
<td>Changes the screen width or type to the mode specified by value.</td>
</tr>
<tr>
<td><code>ESC[=0h</code></td>
<td>40 x 25 monochrome (text)</td>
</tr>
<tr>
<td><code>ESC[=1h</code></td>
<td>40 x 25 color (text)</td>
</tr>
<tr>
<td><code>ESC[=2h</code></td>
<td>80 x 25 monochrome (text)</td>
</tr>
<tr>
<td><code>ESC[=3h</code></td>
<td>80 x 25 color (text)</td>
</tr>
<tr>
<td><code>ESC[=4h</code></td>
<td>320 x 200 4-color (graphics)</td>
</tr>
<tr>
<td><code>ESC[=5h</code></td>
<td>320 x 200 monochrome (graphics)</td>
</tr>
<tr>
<td><code>ESC[=6h</code></td>
<td>640 x 200 monochrome (graphics)</td>
</tr>
<tr>
<td><code>ESC[=7h</code></td>
<td>Enables line wrapping</td>
</tr>
<tr>
<td><code>ESC[=13h</code></td>
<td>320 x 200 color (graphics)</td>
</tr>
<tr>
<td><code>ESC[=14h</code></td>
<td>640 x 200 color (16-color graphics)</td>
</tr>
<tr>
<td><code>ESC[=15h</code></td>
<td>640 x 350 monochrome (2-color graphics)</td>
</tr>
<tr>
<td><code>ESC[=16h</code></td>
<td>640 x 350 color (16-color graphics)</td>
</tr>
<tr>
<td><code>ESC[=17h</code></td>
<td>640 x 480 monochrome (2-color graphics)</td>
</tr>
<tr>
<td><code>ESC[=18h</code></td>
<td>640 x 480 color (16-color graphics)</td>
</tr>
<tr>
<td><code>ESC[=19h</code></td>
<td>320 x 200 color (256-color graphics)</td>
</tr>
<tr>
<td><code>ESC[={value}l</code></td>
<td>Resets the mode by using the same values that Set Mode uses, except for 7, which disables line wrapping. The last character in this escape sequence is a lowercase L.</td>
</tr>
</tbody>
</table>
<h3><a id="user-content-common-private-modes" aria-hidden="true" href="#common-private-modes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Common Private Modes</h3>
<p>These are some examples of private modes, which are not defined by the specification, but are implemented in most terminals.</p>
<table>
<thead>
<tr>
<th>ESC Code Sequence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC[?25l</code></td>
<td>make cursor invisible</td>
</tr>
<tr>
<td><code>ESC[?25h</code></td>
<td>make cursor visible</td>
</tr>
<tr>
<td><code>ESC[?47l</code></td>
<td>restore screen</td>
</tr>
<tr>
<td><code>ESC[?47h</code></td>
<td>save screen</td>
</tr>
<tr>
<td><code>ESC[?1049h</code></td>
<td>enables the alternative buffer</td>
</tr>
<tr>
<td><code>ESC[?1049l</code></td>
<td>disables the alternative buffer</td>
</tr>
</tbody>
</table>
<p>Refer to the <a href="https://invisible-island.net/xterm/ctlseqs/ctlseqs.html" rel="nofollow">XTerm Control Sequences</a> for a more in-depth list of private modes defined by XTerm.</p>
<blockquote>
<p>Note: While these modes may be supported by the most terminals, some may not work in multiplexers like tmux.</p>
</blockquote>
<h3><a id="user-content-keyboard-strings" aria-hidden="true" href="#keyboard-strings"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Keyboard Strings</h3>
<div><pre>ESC[{code}<span>;</span>{string}<span>;</span>{...}p</pre></div>
<p>Redefines a keyboard key to a specified string.</p>
<p>The parameters for this escape sequence are defined as follows:</p>
<ul>
<li>
<p><code>code</code> is one or more of the values listed in the following table. These values represent keyboard keys and key combinations. When using these values in a command, you must type the semicolons shown in this table in addition to the semicolons required by the escape sequence. The codes in parentheses are not available on some keyboards. <code>ANSI.SYS</code> will not interpret the codes in parentheses for those keyboards unless you specify the <code>/X</code> switch in the <code>DEVICE</code> command for <code>ANSI.SYS</code>.</p>
</li>
<li>
<p><code>string</code> is either the ASCII code for a single character or a string contained in quotation marks. For example, both 65 and &#34;A&#34; can be used to represent an uppercase A.</p>
</li>
</ul>
<blockquote>
<p><strong>IMPORTANT:</strong> Some of the values in the following table are not valid for all computers. Check your computer&#39;s documentation for values that are different.</p>
</blockquote>
<h4><a id="user-content-list-of-keyboard-strings" aria-hidden="true" href="#list-of-keyboard-strings"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>List of keyboard strings</h4>
<table>
<thead>
<tr>
<th>Key</th>
<th>Code</th>
<th>SHIFT+code</th>
<th>CTRL+code</th>
<th>ALT+code</th>
</tr>
</thead>
<tbody>
<tr>
<td>F1</td>
<td>0;59</td>
<td>0;84</td>
<td>0;94</td>
<td>0;104</td>
</tr>
<tr>
<td>F2</td>
<td>0;60</td>
<td>0;85</td>
<td>0;95</td>
<td>0;105</td>
</tr>
<tr>
<td>F3</td>
<td>0;61</td>
<td>0;86</td>
<td>0;96</td>
<td>0;106</td>
</tr>
<tr>
<td>F4</td>
<td>0;62</td>
<td>0;87</td>
<td>0;97</td>
<td>0;107</td>
</tr>
<tr>
<td>F5</td>
<td>0;63</td>
<td>0;88</td>
<td>0;98</td>
<td>0;108</td>
</tr>
<tr>
<td>F6</td>
<td>0;64</td>
<td>0;89</td>
<td>0;99</td>
<td>0;109</td>
</tr>
<tr>
<td>F7</td>
<td>0;65</td>
<td>0;90</td>
<td>0;100</td>
<td>0;110</td>
</tr>
<tr>
<td>F8</td>
<td>0;66</td>
<td>0;91</td>
<td>0;101</td>
<td>0;111</td>
</tr>
<tr>
<td>F9</td>
<td>0;67</td>
<td>0;92</td>
<td>0;102</td>
<td>0;112</td>
</tr>
<tr>
<td>F10</td>
<td>0;68</td>
<td>0;93</td>
<td>0;103</td>
<td>0;113</td>
</tr>
<tr>
<td>F11</td>
<td>0;133</td>
<td>0;135</td>
<td>0;137</td>
<td>0;139</td>
</tr>
<tr>
<td>F12</td>
<td>0;134</td>
<td>0;136</td>
<td>0;138</td>
<td>0;140</td>
</tr>
<tr>
<td>HOME (num keypad)</td>
<td>0;71</td>
<td>55</td>
<td>0;119</td>
<td>--</td>
</tr>
<tr>
<td>UP ARROW (num keypad)</td>
<td>0;72</td>
<td>56</td>
<td>(0;141)</td>
<td>--</td>
</tr>
<tr>
<td>PAGE UP (num keypad)</td>
<td>0;73</td>
<td>57</td>
<td>0;132</td>
<td>--</td>
</tr>
<tr>
<td>LEFT ARROW (num keypad)</td>
<td>0;75</td>
<td>52</td>
<td>0;115</td>
<td>--</td>
</tr>
<tr>
<td>RIGHT ARROW (num keypad)</td>
<td>0;77</td>
<td>54</td>
<td>0;116</td>
<td>--</td>
</tr>
<tr>
<td>END (num keypad)</td>
<td>0;79</td>
<td>49</td>
<td>0;117</td>
<td>--</td>
</tr>
<tr>
<td>DOWN ARROW (num keypad)</td>
<td>0;80</td>
<td>50</td>
<td>(0;145)</td>
<td>--</td>
</tr>
<tr>
<td>PAGE DOWN (num keypad)</td>
<td>0;81</td>
<td>51</td>
<td>0;118</td>
<td>--</td>
</tr>
<tr>
<td>INSERT (num keypad)</td>
<td>0;82</td>
<td>48</td>
<td>(0;146)</td>
<td>--</td>
</tr>
<tr>
<td>DELETE (num keypad)</td>
<td>0;83</td>
<td>46</td>
<td>(0;147)</td>
<td>--</td>
</tr>
<tr>
<td>HOME</td>
<td>(224;71)</td>
<td>(224;71)</td>
<td>(224;119)</td>
<td>(224;151)</td>
</tr>
<tr>
<td>UP ARROW</td>
<td>(224;72)</td>
<td>(224;72)</td>
<td>(224;141)</td>
<td>(224;152)</td>
</tr>
<tr>
<td>PAGE UP</td>
<td>(224;73)</td>
<td>(224;73)</td>
<td>(224;132)</td>
<td>(224;153)</td>
</tr>
<tr>
<td>LEFT ARROW</td>
<td>(224;75)</td>
<td>(224;75)</td>
<td>(224;115)</td>
<td>(224;155)</td>
</tr>
<tr>
<td>RIGHT ARROW</td>
<td>(224;77)</td>
<td>(224;77)</td>
<td>(224;116)</td>
<td>(224;157)</td>
</tr>
<tr>
<td>END</td>
<td>(224;79)</td>
<td>(224;79)</td>
<td>(224;117)</td>
<td>(224;159)</td>
</tr>
<tr>
<td>DOWN ARROW</td>
<td>(224;80)</td>
<td>(224;80)</td>
<td>(224;145)</td>
<td>(224;154)</td>
</tr>
<tr>
<td>PAGE DOWN</td>
<td>(224;81)</td>
<td>(224;81)</td>
<td>(224;118)</td>
<td>(224;161)</td>
</tr>
<tr>
<td>INSERT</td>
<td>(224;82)</td>
<td>(224;82)</td>
<td>(224;146)</td>
<td>(224;162)</td>
</tr>
<tr>
<td>DELETE</td>
<td>(224;83)</td>
<td>(224;83)</td>
<td>(224;147)</td>
<td>(224;163)</td>
</tr>
<tr>
<td>PRINT SCREEN</td>
<td>--</td>
<td>--</td>
<td>0;114</td>
<td>--</td>
</tr>
<tr>
<td>PAUSE/BREAK</td>
<td>--</td>
<td>--</td>
<td>0;0</td>
<td>--</td>
</tr>
<tr>
<td>BACKSPACE</td>
<td>8</td>
<td>8</td>
<td>127</td>
<td>(0)</td>
</tr>
<tr>
<td>ENTER</td>
<td>13</td>
<td>--</td>
<td>10</td>
<td>(0</td>
</tr>
<tr>
<td>TAB</td>
<td>9</td>
<td>0;15</td>
<td>(0;148)</td>
<td>(0;165)</td>
</tr>
<tr>
<td>NULL</td>
<td>0;3</td>
<td>--</td>
<td>--</td>
<td>--</td>
</tr>
<tr>
<td>A</td>
<td>97</td>
<td>65</td>
<td>1</td>
<td>0;30</td>
</tr>
<tr>
<td>B</td>
<td>98</td>
<td>66</td>
<td>2</td>
<td>0;48</td>
</tr>
<tr>
<td>C</td>
<td>99</td>
<td>66</td>
<td>3</td>
<td>0;46</td>
</tr>
<tr>
<td>D</td>
<td>100</td>
<td>68</td>
<td>4</td>
<td>0;32</td>
</tr>
<tr>
<td>E</td>
<td>101</td>
<td>69</td>
<td>5</td>
<td>0;18</td>
</tr>
<tr>
<td>F</td>
<td>102</td>
<td>70</td>
<td>6</td>
<td>0;33</td>
</tr>
<tr>
<td>G</td>
<td>103</td>
<td>71</td>
<td>7</td>
<td>0;34</td>
</tr>
<tr>
<td>H</td>
<td>104</td>
<td>72</td>
<td>8</td>
<td>0;35</td>
</tr>
<tr>
<td>I</td>
<td>105</td>
<td>73</td>
<td>9</td>
<td>0;23</td>
</tr>
<tr>
<td>J</td>
<td>106</td>
<td>74</td>
<td>10</td>
<td>0;36</td>
</tr>
<tr>
<td>K</td>
<td>107</td>
<td>75</td>
<td>11</td>
<td>0;37</td>
</tr>
<tr>
<td>L</td>
<td>108</td>
<td>76</td>
<td>12</td>
<td>0;38</td>
</tr>
<tr>
<td>M</td>
<td>109</td>
<td>77</td>
<td>13</td>
<td>0;50</td>
</tr>
<tr>
<td>N</td>
<td>110</td>
<td>78</td>
<td>14</td>
<td>0;49</td>
</tr>
<tr>
<td>O</td>
<td>111</td>
<td>79</td>
<td>15</td>
<td>0;24</td>
</tr>
<tr>
<td>P</td>
<td>112</td>
<td>80</td>
<td>16</td>
<td>0;25</td>
</tr>
<tr>
<td>Q</td>
<td>113</td>
<td>81</td>
<td>17</td>
<td>0;16</td>
</tr>
<tr>
<td>R</td>
<td>114</td>
<td>82</td>
<td>18</td>
<td>0;19</td>
</tr>
<tr>
<td>S</td>
<td>115</td>
<td>83</td>
<td>19</td>
<td>0;31</td>
</tr>
<tr>
<td>T</td>
<td>116</td>
<td>84</td>
<td>20</td>
<td>0;20</td>
</tr>
<tr>
<td>U</td>
<td>117</td>
<td>85</td>
<td>21</td>
<td>0;22</td>
</tr>
<tr>
<td>V</td>
<td>118</td>
<td>86</td>
<td>22</td>
<td>0;47</td>
</tr>
<tr>
<td>W</td>
<td>119</td>
<td>87</td>
<td>23</td>
<td>0;17</td>
</tr>
<tr>
<td>X</td>
<td>120</td>
<td>88</td>
<td>24</td>
<td>0;45</td>
</tr>
<tr>
<td>Y</td>
<td>121</td>
<td>89</td>
<td>25</td>
<td>0;21</td>
</tr>
<tr>
<td>Z</td>
<td>122</td>
<td>90</td>
<td>26</td>
<td>0;44</td>
</tr>
<tr>
<td>1</td>
<td>49</td>
<td>33</td>
<td>--</td>
<td>0;120</td>
</tr>
<tr>
<td>2</td>
<td>50</td>
<td>64</td>
<td>0</td>
<td>0;121</td>
</tr>
<tr>
<td>3</td>
<td>51</td>
<td>35</td>
<td>--</td>
<td>0;122</td>
</tr>
<tr>
<td>4</td>
<td>52</td>
<td>36</td>
<td>--</td>
<td>0;123</td>
</tr>
<tr>
<td>5</td>
<td>53</td>
<td>37</td>
<td>--</td>
<td>0;124</td>
</tr>
<tr>
<td>6</td>
<td>54</td>
<td>94</td>
<td>30</td>
<td>0;125</td>
</tr>
<tr>
<td>7</td>
<td>55</td>
<td>38</td>
<td>--</td>
<td>0;126</td>
</tr>
<tr>
<td>8</td>
<td>56</td>
<td>42</td>
<td>--</td>
<td>0;126</td>
</tr>
<tr>
<td>9</td>
<td>57</td>
<td>40</td>
<td>--</td>
<td>0;127</td>
</tr>
<tr>
<td>0</td>
<td>48</td>
<td>41</td>
<td>--</td>
<td>0;129</td>
</tr>
<tr>
<td>-</td>
<td>45</td>
<td>95</td>
<td>31</td>
<td>0;130</td>
</tr>
<tr>
<td>=</td>
<td>61</td>
<td>43</td>
<td>---</td>
<td>0;131</td>
</tr>
<tr>
<td>[</td>
<td>91</td>
<td>123</td>
<td>27</td>
<td>0;26</td>
</tr>
<tr>
<td>]</td>
<td>93</td>
<td>125</td>
<td>29</td>
<td>0;27</td>
</tr>
<tr>
<td></td>
<td>92</td>
<td>124</td>
<td>28</td>
<td>0;43</td>
</tr>
<tr>
<td>;</td>
<td>59</td>
<td>58</td>
<td>--</td>
<td>0;39</td>
</tr>
<tr>
<td>&#39;</td>
<td>39</td>
<td>34</td>
<td>--</td>
<td>0;40</td>
</tr>
<tr>
<td>,</td>
<td>44</td>
<td>60</td>
<td>--</td>
<td>0;51</td>
</tr>
<tr>
<td>.</td>
<td>46</td>
<td>62</td>
<td>--</td>
<td>0;52</td>
</tr>
<tr>
<td>/</td>
<td>47</td>
<td>63</td>
<td>--</td>
<td>0;53</td>
</tr>
<tr>
<td>`</td>
<td>96</td>
<td>126</td>
<td>--</td>
<td>(0;41)</td>
</tr>
<tr>
<td>ENTER (keypad)</td>
<td>13</td>
<td>--</td>
<td>10</td>
<td>(0;166)</td>
</tr>
<tr>
<td>/ (keypad)</td>
<td>47</td>
<td>47</td>
<td>(0;142)</td>
<td>(0;74)</td>
</tr>
<tr>
<td>* (keypad)</td>
<td>42</td>
<td>(0;144)</td>
<td>(0;78)</td>
<td>--</td>
</tr>
<tr>
<td>- (keypad)</td>
<td>45</td>
<td>45</td>
<td>(0;149)</td>
<td>(0;164)</td>
</tr>
<tr>
<td>+ (keypad)</td>
<td>43</td>
<td>43</td>
<td>(0;150)</td>
<td>(0;55)</td>
</tr>
<tr>
<td>5 (keypad)</td>
<td>(0;76)</td>
<td>53</td>
<td>(0;143)</td>
<td>--</td>
</tr>
</tbody>
</table>
<h2><a id="user-content-resources" aria-hidden="true" href="#resources"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Resources</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/ANSI_escape_code" rel="nofollow">Wikipedia: ANSI escape code</a></li>
<li><a href="http://www.lihaoyi.com/post/BuildyourownCommandLinewithANSIescapecodes.html" rel="nofollow">Build your own Command Line with ANSI escape codes</a></li>
<li><a href="http://ascii-table.com/ansi-escape-sequences.php" rel="nofollow">ascii-table: ANSI Escape sequences</a></li>
<li><a href="https://bluesock.org/~willkg/dev/ansi.html" rel="nofollow">bluesock: ansi codes</a></li>
<li><a href="http://wiki.bash-hackers.org/scripting/terminalcodes" rel="nofollow">bash-hackers: Terminal Codes (ANSI/VT100) introduction</a></li>
<li><a href="https://invisible-island.net/xterm/ctlseqs/ctlseqs.html" rel="nofollow">XTerm Control Sequences</a></li>
</ul>
</article>
  </div>

  </div>
</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 17:45:44 +0000</pubDate>
      <source>https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797</source>
    </item>
    <item>
      <title>Mastering Web Scraping in Python: Crawling from Scratch</title>
      <link>https://www.zenrows.com/blog/mastering-web-scraping-in-python-crawling-from-scratch</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_zenrows_com_blog_mastering-web-scraping-in-python-crawling-from-scratch/image.jpg" /> 
<div id="readability-page-1" class="page"><div> <p> Have you ever tried to crawl thousands of pages? Scale that even further? Handle and recover from system failures? </p> <p> After seeing how to <a href="https://www.zenrows.com/blog/mastering-web-scraping-in-python-from-zero-to-hero">extract content from a website</a> and <a href="https://www.zenrows.com/blog/stealth-web-scraping-in-python-avoid-blocking-like-a-ninja">how to avoid being blocked</a>, we&#39;ll take a look at the crawling process. To get data at scale, getting a few URLs by hand is not an option. We need to use an automated system that will discover new pages and visit them. </p> <p> <i>Disclaimer: for real-world usage, find suitable software. Below is more info on that. This guide pretends to be an introduction to how the crawling process works and doing the basics. But there are tons of details that need addressing.</i> </p> <h3 id="prerequisites">Prerequisites</h3> <div> <p> For the code to work, you will need <a href="https://www.python.org/downloads/" target="_blank" rel="noopener">python3 installed</a>. Some systems have it pre-installed. After that, install all the necessary libraries by running <code>pip install</code>. </p> <pre><code>pip install requests beautifulsoup4 </code></pre> </div> <h2 id="how-to-get-all-the-links-on-the-page">How to Get all the Links on the Page</h2> <p> From the first article in the series, we know that getting data from a webpage is easy with <code>requests.get</code> and <code>BeautifulSoup</code>. We will start by finding the links in a <a href="https://scrapeme.live/shop/page/1/" target="_blank" rel="noopener noreferrer nofollow">fake shop prepared for testing scraping</a>. </p> <p> The basics to get the content are the same. Then we get all the links on the paginator and add the links to a <code>set</code>. We chose set to avoid duplicates. As you can see, we hardcoded the selector for the links, meaning that it is not a universal solution. For the moment, we&#39;ll focus on the page at hand. </p> <pre><code>import requests 
from bs4 import BeautifulSoup 
 
to_visit = set() 
response = requests.get(&#39;https://scrapeme.live/shop/page/1/&#39;) 
soup = BeautifulSoup(response.content, &#39;html.parser&#39;) 
for a in soup.select(&#39;a.page-numbers&#39;): 
	to_visit.add(a.get(&#39;href&#39;)) 
 
print(to_visit) 
# {&#39;https://scrapeme.live/shop/page/2/&#39;, &#39;.../3/&#39;, &#39;.../46/&#39;, &#39;.../48/&#39;, &#39;.../4/&#39;, &#39;.../47/&#39;} </code></pre> <h2 id="one-url-at-a-time,-sequential">One URL at a Time, Sequential</h2> <p> Now we have several links but no way to visit them all. We need some kind of loop that will execute the extracting part for every URL available to fix that. Maybe the most straightforward way, although not the scalable one, is to use the same loop. But before that, there is a missing piece: avoid crawling the same page twice. </p> <p> We&#39;ll keep track of already visited links in another <code>set</code> and avoid duplicates by checking them before every request. In this case, <code>to_visit</code> is not being used, just maintained for demo purposes. To prevent visiting every page, we&#39;ll also add a <code>max_visits</code> variable. For now, we ignore the <code>robots.txt</code> file, but we have to be civil and nice. </p> <pre><code>visited = set() 
to_visit = set() 
max_visits = 3 
 
def crawl(url): 
	print(&#39;Crawl: &#39;, url) 
	response = requests.get(url) 
	soup = BeautifulSoup(response.content, &#39;html.parser&#39;) 
	visited.add(url) 
	for a in soup.select(&#39;a.page-numbers&#39;): 
		link = a.get(&#39;href&#39;) 
		to_visit.add(link) 
		if link not in visited and len(visited) &lt; max_visits: 
			crawl(link) 
 
crawl(&#39;https://scrapeme.live/shop/page/1/&#39;) 
 
print(visited) # {&#39;.../3/&#39;, &#39;.../1/&#39;, &#39;.../2/&#39;} 
print(to_visit) # { ... new ones added, such as pages 5 and 6 ... } </code></pre> <p> It is a recursive function with two exit conditions: there are no more links to visit, or we reached the maximum visits. In either case, it will exit and print the visited links and the ones pending. </p> <p> It is important to note that the same link can be added many times, but it will only get crawled once. In a big project, the idea would be to set a timer and only request each URL after a few days. </p> <h2 id="separation-of-concerns">Separation of Concerns</h2> <p> We said this is not about extracting or parsing content, but we need to separate concerns before it becomes entangled. For that, we&#39;ll create three helper functions: get HTML, extract links, and extract content. As their names imply, each of them will perform one of the main tasks of web scraping. </p> <p> The first one will get the HTML from a URL using the same library as earlier but wrapping it in a <code>try</code> block for security. </p> <pre><code>def get_html(url): 
	try: 
		return requests.get(url).content 
	except Exception as e: 
		print(e) 
		return &#39;&#39; </code></pre> <p> The second one, extracting the links, will work just as before. </p> <pre><code>def extract_links(soup): 
	return [a.get(&#39;href&#39;) for a in soup.select(&#39;a.page-numbers&#39;) 
		if a.get(&#39;href&#39;) not in visited] </code></pre> <p> The last one will be the placeholder for extracting the content we want. Since we are simplifying this part, it will get basic info from the same page, no need to enter on the detail page. </p> <pre><code>def extract_content(soup): 
	for product in soup.select(&#39;.product&#39;): 
		print(product.find(&#39;h2&#39;).text) 
 # Bulbasaur, Ivysaur, ... </code></pre> <p> Assembling it all together. </p> <pre><code>def crawl(url): 
	if not url or url in visited: 
		return 
	print(&#39;Crawl: &#39;, url) 
	visited.add(url) 
	html = get_html(url) 
	soup = BeautifulSoup(html, &#39;html.parser&#39;) 
	extract_content(soup) 
	links = extract_links(soup) 
	to_visit.update(links) </code></pre> <p> Noticed something different? The crawling logic is not attached to the link extracting part. Each of the helpers handles a single piece. And the <code>crawl</code> function acts as an orchestrator by calling them and applying the results. </p> <p> As the project evolves, all these parts could be moved to files or passed as parameters/callbacks. We can generalize the use cases if the core is independent of the selected page and content. </p> <p> Are we missing something? 🤔 </p> <pre><code>to_visit.add(&#39;https://scrapeme.live/shop/page/1/&#39;) 
 
while (len(to_visit) &gt; 0 and len(visited) &lt; max_visits): 
	crawl(to_visit.pop()) </code></pre> <h2 id="parallel-requests">Parallel Requests</h2> <p> There is a significant part missing: parallelism. HTTP request handlers are idle most of the time, waiting for the response to come back. It means that we can send several of them at the same time without overloading the machine. And then process them as they came back. </p> <p> It is relevant to note that this approach only works if the order is not imperative. But we are already using sets, which according to <a href="https://docs.python.org/3/tutorial/datastructures.html#sets" target="_blank" rel="noopener noreferrer nofollow">Python&#39;s definition</a>, &#34;a set is an <strong>unordered collection</strong> with no duplicate elements.&#34; Meaning that our process was unordered from the start. </p> <p> Before diving deep into the parallel requests, we have to understand a couple of concepts: synchronization and queues. </p> <h3 id="synchronized-queues">Synchronized Queues</h3> <div><p> There is a huge risk in threaded or <a href="https://en.wikipedia.org/wiki/Parallel_computing" target="_blank" rel="noopener noreferrer nofollow">parallel computing</a>: modifying the same variables or data structures from different threads. It means two of our requests would be adding new links to a set (i.e., <code>to_visit</code>). Since the data structure is not protected, both could read and write it like this: </p><ul> <li>Both read its content, i.e. <code>(1, 2, 3)</code> <i>(simplified)</i></li> <li>Thread one adds links to pages <code>4, 5</code>: <code>(1, 2, 3, 4, 5)</code></li> <li>Thread two adds links to pages <code>6, 7</code>: <code>(1, 2, 3, 6, 7)</code></li> </ul><p> How did this happen? When thread two wrote the new links, it added them to a set with only three elements. </p></div> <p> What can we do to avoid these conflicts? Synchronization or locking. From the <a href="https://docs.python.org/3/library/queue.html" target="_blank" rel="noopener noreferrer nofollow">docs</a>: &#34;queues use locks to temporarily block competing threads.&#34; It means that thread one would acquire a lock on the set, read and write without any problem, and then release the lock automatically. Meanwhile, thread two would have to wait until the lock becomes available. Only then read and write. </p> <pre><code>import queue 
 
q = queue.Queue() 
q.put(&#39;https://scrapeme.live/shop/page/1/&#39;) 
 
def crawl(url): 
	... 
	links = extract_links(soup) 
	for link in links: 
		if link not in visited: 
			q.put(link) </code></pre> <p> For the moment, it does not work. Do not worry. The changes in the existing code are minimum: we replaced <code>to_visit</code> with a queue. But queues need handlers or workers to process their content. With the above, we have created a Queue and added an item (the original one). We also modified the <code>crawl</code> function to put links in the queue instead of updating the previous set. </p> <p> We&#39;ll create a worker using the <a href="https://docs.python.org/3/library/threading.html" target="_blank" rel="noopener noreferrer nofollow">threading module</a> to process that queue. </p> <pre><code>from threading import Thread 
 
def queue_worker(i, q): 
	while True: 
		url = q.get() # Get an item from the queue, blocks until one is available 
		print(&#39;to process:&#39;, url) 
		q.task_done() # Notifies the queue that the item has been processed 
 
q = queue.Queue() 
Thread(target=queue_worker, args=(0, q), daemon=True).start() 
 
q.put(&#39;https://scrapeme.live/shop/page/1/&#39;) 
q.join() # Blocks until all items in the queue are processed and marked as done 
print(&#39;Done&#39;) 
 
# to process: https://scrapeme.live/shop/page/1/ 
# Done </code></pre> <p> We defined a new function that will handle the queued items. For that, we enter into an infinite loop that will stop when all the processing finishes. </p> <p> Now we need two more things: process items and create more threads (it would not be parallel with just one, would it?). </p> <pre><code>def queue_worker(i, q): 
	while True: 
		url = q.get() 
		if (len(visited) &lt; max_visits and url not in visited): 
			crawl(url) 
		q.task_done() 
 
q = queue.Queue() 
num_workers = 4 
for i in range(num_workers): 
	Thread(target=queue_worker, args=(i, q), daemon=True).start() </code></pre> <p> Be careful when running it since big numbers in <code>num_workers</code> and <code>max_visits</code> would start lots of requests. If the script had some minor bug for any reason, you could perform hundreds of requests in a few seconds. </p> <h3 id="performance">Performance</h3> <div><p> We run benchmarks with different settings only as a reference. </p><ul> <li>Sequential requests: 29,32s</li> <li>Queue with one worker (<code>num_workers = 1</code>): 29,41s</li> <li>Queue with two workers (<code>num_workers = 2</code>): 20,05s</li> <li>Queue with five workers (<code>num_workers = 5</code>): 11,97s</li> <li>Queue with ten workers (<code>num_workers = 10</code>): 12,02s</li> </ul><p> There is almost no difference between sequential requests and having one worker. Threads carry some overhead, but it is barely noticeable here. It would require a more severe load test. Once we start adding workers, that overhead pays off. We could add even more, but it won&#39;t affect the outcome since they will be idle most of the time. </p></div> <h2 id="distributed-processing">Distributed Processing</h2> <p> We won&#39;t cover the following scale-up step: distributing the crawling process among several servers. <a href="https://docs.python.org/3/library/multiprocessing.html#using-a-remote-manager" target="_blank" rel="noopener noreferrer nofollow">Python allows it</a>, and some libraries can help you with it (<a href="https://docs.celeryproject.org/en/stable/" target="_blank" rel="noopener noreferrer nofollow">Celery</a> or <a href="https://python-rq.org/" target="_blank" rel="noopener noreferrer nofollow">Redis Queue</a>). It is a huge step, and we have already covered enough for the day. </p> <p> As a quick preview, the idea behind it is the same as the one with the threads. Each item will be processed as we&#39;ve seen until now but in different threads or even machines running the same code. With this approach, we can scale even further; theoretically, with no limit. But in reality, there is always a limit or bottleneck, usually the central node that handles the distribution. </p> <h2 id="take-into-account-when-scaling-up">Take into Account when Scaling Up</h2> <p> We&#39;ve shown a simplified version of a crawling process for educational purposes. To apply all this at scale, you should consider several things first. </p> <h3 id="build-vs-buy-vs-open-source">Build vs Buy vs Open Source</h3> <p> Before you write your own library for crawling, try some of the options out there. Many great Open Source libraries can achieve it: <a href="https://docs.scrapy.org/en/latest/" target="_blank" rel="noopener noreferrer nofollow">Scrapy</a>, <a href="http://docs.pyspider.org/en/latest/" target="_blank" rel="noopener noreferrer nofollow">pyspider</a>, <a href="https://github.com/bda-research/node-crawler" target="_blank" rel="noopener noreferrer nofollow">node-crawler</a> (Node.js), or <a href="https://github.com/gocolly/colly" target="_blank" rel="noopener noreferrer nofollow">Colly</a> (Go). And many companies and services that provide you with scraping and crawling solutions. </p> <h3 id="avoid-being-blocked">Avoid being blocked</h3> <p> As we saw in a previous post, <a href="https://www.zenrows.com/blog/stealth-web-scraping-in-python-avoid-blocking-like-a-ninja">there are several actions we can take to avoid blocking</a>. A couple of them are proxies and headers. Here is a simple snippet adding those to our current code. </p> <pre><code>proxies = { 
	&#39;http&#39;: &#39;http://190.64.18.177:80&#39;, 
	&#39;https&#39;: &#39;http://49.12.2.178:3128&#39;, 
} 
 
headers = { 
	&#39;authority&#39;: &#39;httpbin.org&#39;, 
	&#39;cache-control&#39;: &#39;max-age=0&#39;, 
	&#39;sec-ch-ua&#39;: &#39;&#34;Chromium&#34;;v=&#34;92&#34;, &#34; Not A;Brand&#34;;v=&#34;99&#34;, &#34;Google Chrome&#34;;v=&#34;92&#34;&#39;, 
	&#39;sec-ch-ua-mobile&#39;: &#39;?0&#39;, 
	&#39;upgrade-insecure-requests&#39;: &#39;1&#39;, 
	&#39;user-agent&#39;: &#39;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36&#39;, 
	&#39;accept&#39;: &#39;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#39;, 
	&#39;sec-fetch-site&#39;: &#39;none&#39;, 
	&#39;sec-fetch-mode&#39;: &#39;navigate&#39;, 
	&#39;sec-fetch-user&#39;: &#39;?1&#39;, 
	&#39;sec-fetch-dest&#39;: &#39;document&#39;, 
	&#39;accept-language&#39;: &#39;en-US,en;q=0.9&#39;, 
} 
 
def get_html(url): 
	try: 
		response = requests.get(url, headers=headers, proxies=proxies) 
		return response.content 
	except Exception as e: 
		print(e) 
		return &#39;&#39; </code></pre>  <p> We won&#39;t go into details here, only a simple snippet for extracting id, name, and price per item. We store everything in a <code>data</code> array, which is not a great idea. But it is enough for demo purposes. </p> <pre><code>data = [] 
 
def extract_content(soup): 
	for product in soup.select(&#39;.product&#39;): 
		data.append({ 
			&#39;id&#39;: product.find(&#39;a&#39;, attrs={&#39;data-product_id&#39;: True})[&#39;data-product_id&#39;], 
			&#39;name&#39;: product.find(&#39;h2&#39;).text, 
			&#39;price&#39;: product.find(class_=&#39;amount&#39;).text 
		}) 
 
print(data) 
# [{&#39;id&#39;: &#39;759&#39;, &#39;name&#39;: &#39;Bulbasaur&#39;, &#39;price&#39;: &#39;£63.00&#39;}, {&#39;id&#39;: &#39;729&#39;, &#39;name&#39;: &#39;Ivysaur&#39;, &#39;price&#39;: &#39;£87.00&#39;}, ...] </code></pre> <h3 id="persistency">Persistency</h3> <p> We haven&#39;t persisted anything, and that does not scale. In a real-world case, we should store the content and even the HTML itself for later processing. And all the discovered URLs with the timestamp time. It all starts to sound like a database is needed. Depending on the necessities, we could store just the actual content or the whole URLs, dates, HTML, etcetera generically. </p> <h3 id="canonicals">Canonicals</h3> <p> The link extraction part does not take into consideration <a href="https://en.wikipedia.org/wiki/Canonical_link_element" target="_blank" rel="noopener noreferrer nofollow">canonical links</a>. A page can have more than one URL: query strings or hashes might modify it. In our case, we would crawl it twice. It&#39;s not a problem now, but something to consider. </p> <p> The right approach would be to add the canonical URL (if present) to the visited list. Then we could arrive at that same page from a different origin URL, but we would detect it as duplicate. We could also remove some query string parameters using <a href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.url.url_query_cleaner" target="_blank" rel="noopener noreferrer nofollow">url_query_cleaner</a>. </p> <h3 id="robotstxt">Robots.txt</h3> <p> We have not checked it because we are using a test website prepared for scraping. But please check the robots file and comply with it when crawling an actual target. And above it, do not cause more traffic than they can handle. Once again, be civil and nice ;) </p> <h2 id="final-code">Final Code</h2> <pre><code>import requests 
from bs4 import BeautifulSoup 
import queue 
from threading import Thread 
 
starting_url = &#39;https://scrapeme.live/shop/page/1/&#39; 
visited = set() 
max_visits = 100 # careful, it will crawl all the pages 
num_workers = 5 
data = [] 
 
def get_html(url): 
	try: 
		response = requests.get(url) 
		# response = requests.get(url, headers=headers, proxies=proxies) 
		return response.content 
	except Exception as e: 
		print(e) 
		return &#39;&#39; 
 
def extract_links(soup): 
	return [a.get(&#39;href&#39;) for a in soup.select(&#39;a.page-numbers&#39;) 
			if a.get(&#39;href&#39;) not in visited] 
 
def extract_content(soup): 
	for product in soup.select(&#39;.product&#39;): 
		data.append({ 
			&#39;id&#39;: product.find(&#39;a&#39;, attrs={&#39;data-product_id&#39;: True})[&#39;data-product_id&#39;], 
			&#39;name&#39;: product.find(&#39;h2&#39;).text, 
			&#39;price&#39;: product.find(class_=&#39;amount&#39;).text 
		}) 
 
def crawl(url): 
	visited.add(url) 
	print(&#39;Crawl: &#39;, url) 
	html = get_html(url) 
	soup = BeautifulSoup(html, &#39;html.parser&#39;) 
	extract_content(soup) 
	links = extract_links(soup) 
	for link in links: 
		if link not in visited: 
			q.put(link) 
 
def queue_worker(i, q): 
	while True: 
		url = q.get() # Get an item from the queue, blocks until one is available 
		if (len(visited) &lt; max_visits and url not in visited): 
			crawl(url) 
		q.task_done() # Notifies the queue that the item has been processed 
 
q = queue.Queue() 
for i in range(num_workers): 
	Thread(target=queue_worker, args=(i, q), daemon=True).start() 
 
q.put(starting_url) 
q.join() # Blocks until all items in the queue are processed and marked as done 
 
print(&#39;Done&#39;) 
print(&#39;Visited:&#39;, visited) 
print(&#39;Data:&#39;, data) </code></pre> <h2 id="conclusion">Conclusion</h2> <div><p> We&#39;d like you to part with three main points: </p><ol> <li>Separate getting the HTML and extracting the links from the crawling itself.</li> <li>Choose the appropriate system for your use case: simple sequential, parallel, or distributed.</li> <li>Building from scratch to a vast scale will probably hurt. Take a look at free or paid libraries/solutions.</li> </ol> </div> <p> Do not forget to take a look at the previous posts in this series.</p> <p> Stay tuned for the next one on scaling this crawling process even further. </p> <p> <span>Did you find the content helpful? Spread the word and share it on <a target="_blank" rel="noopener" href="https://twitter.com/share?text=✍🏻Mastering%20Web%20Scraping%20in%20Python:%20Crawling🕸️.%20Learn%20how%20to%20build%20a%20website%20crawler%20for%20scraping%20at%20scale🔥&amp;url=https%3A%2F%2Fwww.zenrows.com%2Fblog%2Fmastering-web-scraping-in-python-crawling-from-scratch%2F%3Futm_source%3Dtwitter%26utm_medium%3Dshared%26rd%3D997687557">Twitter</a>, <a target="_blank" rel="noopener" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.zenrows.com%2Fblog%2Fmastering-web-scraping-in-python-crawling-from-scratch%2F%3Futm_source%3Dlinkedin%26utm_medium%3Dshared%26rd%3D1381440169">LinkedIn</a> or <a target="_blank" rel="noopener" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.zenrows.com%2Fblog%2Fmastering-web-scraping-in-python-crawling-from-scratch%2F%3Futm_source%3Dfacebook%26utm_medium%3Dshared%26rd%3D985474658">Facebook</a>.</span> </p> <div> <p><strong>Rock-Solid Automated Data Extraction Infrastructure</strong> <span>Forget about blocks, managing headless browsers and servers. We handle the hassle for you.</span> </p> <p><a href="https://app.zenrows.com/register"> <span>Try ZenRows</span> </a> </p></div> </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 13:55:49 +0000</pubDate>
      <source>https://www.zenrows.com/blog/mastering-web-scraping-in-python-crawling-from-scratch</source>
    </item>
    <item>
      <title>Actual impostors don&#39;t get impostor syndrome</title>
      <link>https://zapier.com/blog/actual-impostors-dont-get-impostor-syndrome/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___zapier_com_blog_actual-impostors-dont-get-impostor-syndrome_/image.jpg" /> 
<div id="readability-page-1" class="page"><div><article><p>I once volunteered at a nonprofit. The person who scammed it, before it shut down, was the hardest worker there.</p><p>It was an upstart computer recycling outfit. People and organizations donated old computers, a team of volunteers fixed them, and the repaired computers were either sold or donated to other nonprofits. </p><p>At least, that was the idea. </p><p>The organization was pretty dysfunctional until a guy calling himself &#34;Brazil&#34; showed up. He worked tirelessly to make everything come together. He was on the phone constantly, convinced several organizations to donate old equipment, and coordinated a steady stream of volunteers. Computers were being sold, regularly—more than enough to pay for rent. The organization was, after months of inertia, starting to find its feet.</p><p>Then Brazil emptied the organization&#39;s entire bank account into his own before skipping town. The nonprofit shut down not long after that. </p><p>This person was a con artist—an actual impostor. And you know what? I don&#39;t think he doubted himself once. He projected so much confidence in all of his statements, even ones that were objectively false, that you couldn&#39;t help but believe him. I honestly don&#39;t think he&#39;s doubted himself in his entire life.</p><p>Because actual impostors don&#39;t experience <a color="blue" target="_self" href="https://zapier.com/blog/what-is-imposter-syndrome/">impostor syndrome</a>. They don&#39;t wonder if they&#39;re qualified for their current position, or if they measure up with their peers. They just lie, lie, lie, until they have access to what they want, then they take it—and leave. </p><h2>Brilliant people tend to doubt themselves</h2><p>Impostor syndrome is a common psychological pattern where people doubt their own knowledge and skills, then live in fear that they&#39;ll eventually be outed as a fraud. This is particularly common among highly qualified and experienced people. </p><p>That sounds odd—why would qualified people doubt themselves? Remember: highly qualified people tend to work around <i>other</i> highly qualified people and also tend to measure their own self-worth in comparison to others. That&#39;s a recipe for self-doubt.</p><p><a color="blue" target="_blank" href="https://zapier.com/">Zapier</a>, where I work, is a company with a staggeringly high percentage of brilliant people, which can be very intimidating. Most everyone is very friendly and will help you if you have any questions, but it&#39;s still very easy to look around and feel like you don&#39;t measure up.</p><p>Some of the smartest people I&#39;ve ever met—people who consistently do great work, and in some cases manage entire departments—question whether they know anything about fields they&#39;ve worked in for over a decade. And they shouldn&#39;t feel that way. None of these people are pulling one over on the company—they&#39;re all qualified to do what they do and are making contributions no one else could. They&#39;re doing good work. </p><p>It&#39;s a hard feeling to get over, but every time I feel it, I think about Brazil. He could confidently state something that&#39;s objectively not true and would double down if you questioned him about it. I know because this happened to me. I doubted things I knew to be true because he was that confident and that persuasive. I&#39;ll never know what was going on inside his head, but I don&#39;t think he spent a moment questioning himself.</p><p>If you&#39;re not actually a con artist, and you&#39;re experiencing impostor syndrome, you should find comfort in this. The fact that you&#39;re wondering whether you&#39;re a fraud probably means that you&#39;re not one. Actual impostors don&#39;t ask themselves if they&#39;re a fraud.</p><h2>A monkey with a typewriter</h2><p>My Zapier colleague Hannah<a color="blue" target="_blank" href="https://twitter.com/hannahrherman/status/1412761113213784070" rel="nofollow"> asked me</a> to write an article about how amazing she is. It was a joke, but I&#39;m going to go ahead and actually do it. </p><p>Hannah is one of my favorite people to talk to on earth and is also really good at what she does. I learn something from her every week and deeply respect her abilities. So when she recently wrote an article titled<a color="blue" target="_self" href="https://zapier.com/blog/how-to-write-better/"> How to write real good</a>, I doubted myself. The article encouraged would-be writers to learn grammar, understand the rules of language, consult a style guide, and learn how to diagram sentences. </p><p>I&#39;m a writer. I have never done any of these things. </p><p>It made me think I don&#39;t actually know how to write—that&#39;s what impostor syndrome does to your brain. Never mind that I&#39;ve been writing professionally since 2007. Never mind that I&#39;ve had a lot of success in that time. If someone I respect thinks this is how you learn how to write, and I haven&#39;t done that, my mind is going to think that I simply don&#39;t know how to write. </p><p>But that&#39;s not true. I just learned a different way. </p><p>This has happened to me in other contexts too. I paid for a good chunk of college by working at a rural Ontario nursery, taking care of plants every summer from grade nine straight until my last year of college. I got pretty good at pruning, quickly shaping wholesale plants so that they would grow into something retail outlets could display. I don&#39;t remember anyone telling me how to do it—I just remember watching, mimicking, and eventually being able to shape a dogwood, a cedar, or a Japanese maple just so. </p><p>My wife once asked me to explain how to prune a bush while we were working in our yard. I couldn&#39;t. It&#39;s not something I&#39;ve ever thought about or have a grand theory for—it&#39;s just something I know how to do. </p><p>Pruning plants and writing—they&#39;re instincts. They&#39;re skills I have because I&#39;ve done them a lot. I can&#39;t point to any teachers who showed me how, and I couldn&#39;t explain the mechanics of it if I tried. I have no idea what a predicate is, for example. (I just now looked up what a predicate is, and I&#39;m going to be honest: I still have no idea what a predicate is.)</p><p>Sometimes I feel bad about this, like I&#39;m stupid, a monkey who learned a trick through repetition. </p><p>But I&#39;m not an impostor—I&#39;m actually good at this. I know this, if only because you&#39;re still reading this article, and it&#39;s not easy to keep someone reading this long. </p><p>It&#39;s not useful for me to read Hannah&#39;s advice on becoming a better writer and conclude that I must not be a good writer. People learn in different ways, is all. And I shouldn&#39;t listen to that voice that tells me I&#39;m faking it because I&#39;m not faking it. I&#39;m not a con artist. An actual con artist wouldn&#39;t read an article like Hannah&#39;s and doubt themselves. They&#39;d read the article and then claim to have already known all of those things and to already be great at them. </p><p>So I&#39;m glad that voice of self-doubt is there because without it I&#39;d assume I already know everything, and I&#39;d never bother to improve. Who knows? Maybe someday I&#39;ll learn what a predicate is. </p><h2>Out yourself and you&#39;ll feel better</h2><p>I&#39;m lucky: I work at a company that has normalized talking about <a color="blue" target="_self" href="https://zapier.com/blog/learning-from-mistakes/">impostor syndrome</a>. There&#39;s a dedicated Slack channel for the issue where 150 or so people support each other. There are various educational resources available specifically for this issue. And I have several friends here who have talked me through it. I can&#39;t tell you how comforting this is. </p><p>One thing a con artist will never do, in my experience, is openly admit that they&#39;re conning you. They will deny, lie, and generally talk in circles around the truth. So if you want to know, one hundred percent, that you&#39;re not an impostor, do something no impostor would ever do: out yourself. Tell a coworker you trust how you feel. I bet they&#39;ll react with understanding and that you&#39;ll feel a lot better after.</p></article></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 15:33:47 +0000</pubDate>
      <source>https://zapier.com/blog/actual-impostors-dont-get-impostor-syndrome/</source>
    </item>
    <item>
      <title>An intro to Pen Plotters (2019)</title>
      <link>https://medium.com/quarterstudio/an-intro-to-pen-plotters-29b6bd4327ba</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___medium_com_quarterstudio_an-intro-to-pen-plotters-29b6bd4327ba/image.jpg" /> 
<div id="readability-page-1" class="page"><article><span></span><div><section><div><div><div><div><div><div><p><a rel="noopener" href="https://medium.com/@tobiastoft?source=post_page-----29b6bd4327ba--------------------------------"></a></p></div></div></div></div><p id="c3ad"><em>I originally posted this on my website back in July 2014. It seems that interest in pen plotters has </em><a href="https://news.ycombinator.com/item?id=16495236" rel="noopener nofollow"><em>picked up recently</em></a><em>, so I decided to move the post to Medium which is arguably a much better place for it.</em></p></div></div><div><figure><p></p><figcaption>HP 7475A plotter — I paid $50 for it on eBay. The Delaunay triangulated Marilyn was one of my first experiments.</figcaption></figure></div><div><p id="cf90">I’ve been fascinated with pen plotters for a long time now and I’ve owned several of them — but for some reason never posted any of my explorations or findings online. Until now, at least.</p></div></section></div></article></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 09:44:52 +0000</pubDate>
      <source>https://medium.com/quarterstudio/an-intro-to-pen-plotters-29b6bd4327ba</source>
    </item>
    <item>
      <title>Regulators should treat stablecoins like banks</title>
      <link>https://www.economist.com/leaders/2021/08/07/why-regulators-should-treat-stablecoins-like-banks</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_economist_com_leaders_2021_08_07_why-regulators-should-treat-stablecoins-like-banks/image.jpg" /> 
<div id="readability-page-1" class="page"><div><header><h2 data-test-id="Article Description" itemprop="description">Cryptocurrencies are not yet a threat to the financial system, but the dangers are growing</h2></header><div data-test-id="Lead Image"><div itemscope="" itemprop="image" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://www.economist.com/img/b/1280/720/90/sites/default/files/images/2021/08/articles/main/20210807_ldd010.jpg"/><p></p></div></div><hr/></div><div itemprop="text"><p data-caps="initial"><span data-caps="initial">T</span><small>WELVE YEARS</small> after bitcoin was born, governments are still struggling to cope with cryptocurrencies. Britain has banned Binance, a crypto exchange and the European Union’s regulators want transactions to be more traceable. On August 3rd Gary Gensler, the head of America’s Securities and Exchange Commission, said cryptocurrency markets were “rife with fraud, scams and abuse” and called on Congress to give his agency new regulatory powers. The price of bitcoin, the biggest cryptocurrency, gyrates with regulators’ every word.</p><div><figure><figcaption>Listen to this story</figcaption><audio controls="" id="audio-player" preload="none" src="https://www.economist.com/media-assets/audio/008%20Leaders%20-%20Regulating%20cryptocurrencies-f37ea4863833581743d0dfb7b28880e4.mp3" title="Why regulators should treat stablecoins like banks" controlslist="nodownload"><p>Your browser does not support the &lt;audio&gt; element.</p></audio></figure><p>Enjoy more audio and podcasts on<!-- --> <a id="audio-ios-cta" href="https://apps.apple.com/app/apple-store/id1239397626?pt=344884&amp;ct=article%20audio%20player&amp;mt=8" target="_blank" rel="noreferrer">iOS</a> <!-- -->or<!-- --> <a id="audio-android-cta" href="https://play.google.com/store/apps/details?id=com.economist.lamarr&amp;referrer=utm_source%3Darticle%2520audio%2520player" target="_blank" rel="noreferrer">Android</a>.</p></div><p>Governments have an obligation to fight the deception, tax evasion and money laundering that plagues the crypto world. Police seizures of bitcoin suggest that they are becoming more zealous. The harder issue they must grapple with is whether cryptocurrencies threaten the financial system. Were bitcoin to collapse, <a href="https://www.economist.com/finance-and-economics/2021/08/02/what-if-bitcoin-went-to-zero">our crypto “stress test” suggests</a> that its holders would lose hundreds of billions of dollars but that the fallout would be manageable. Yet there is another danger posed by “stablecoins”, a special type of cryptocurrency that pegs its value to conventional money.</p><p>Pledges of stability often lead to financial crises. Because banks offer deposits that are redeemable on demand and superficially riskless, but which are backed by longer-term, less liquid and riskier assets, they are vulnerable to runs. Stablecoins are similar. The biggest, Tether, has issued $62bn-worth of tokens which it says are redeemable for a dollar apiece. But of the assets backing the tokens in March only about 5% were cash or Treasury bills, according to Tether’s public disclosures. It says it will update the figures soon and that it is “fully backed by reserves”.</p><div><figure><div itemscope="" itemprop="image" itemtype="https://schema.org/ImageObject" data-slim="1"><meta itemprop="url" content="https://www.economist.com/img/b/608/468/90/sites/default/files/images/print-edition/20210807_LDC140.png"/><p></p></div></figure><p>Most of the assets were riskier—about half of them commercial paper. Stablecoins’ growth from a value of $14bn in August 2020 to over $100bn today has given them a big financial footprint. Extrapolating Tether’s disclosures implies that it owns over $30bn-worth of commercial paper, which probably makes it the asset class’s seventh-largest investor, not far off funds run by Vanguard and BlackRock, according to JPMorgan Chase. With estimated leverage of 383-to-1, Tether would be unable to honour all its tokens after losses of just 0.26%—a safety cushion that regulators would never allow at a bank.</p><p>Few stablecoins say much about their balance-sheets. Tether’s disclosures of the breakdown of its assets are puny and fall far below the standards expected of a bank. In February Tether was among the defendants who agreed to an $18.5m fine with New York’s attorney-general, which said that in 2017 Tether had misled the market about its <small>US</small> dollar backing and that it had not accurately disclosed the transfer of $625m of its assets to Bitfinex, an online trading platform. Tether says the funds were repaid and that it has a “total commitment to transparency”.</p><p>No wonder Mr Gensler calls cryptocurrencies a Wild West. Some policymakers have compared stablecoins to the period of “free banking”, when privately issued banknotes of uncertain backing and worth circulated in America’s economy in the 19th century. A more useful comparison is with money-market funds, which were created in the 1970s to circumvent rules limiting the interest banks could pay depositors. After promising to maintain the value of their shares at a dollar, money-market funds blew up in 2008 in the global financial crisis. American taxpayers stepped in to forestall a fire sale of their assets and a crash in the market for commercial paper, on which the real economy depends. A collapse of stablecoins could look similar.</p><p>Regulators must act quickly to subject stablecoins to bank-like rules for transparency, liquidity and capital. Those failing to comply should be cut off from the financial system, to stop people drifting into an unregulated crypto-ecosystem. Policymakers are right to sound the alarm, but if stablecoins continue to grow, governments will need to move faster to contain the risks.</p></div><p>It may be tempting to ban stablecoins, especially if central banks launch their own digital currencies—much as private banknotes were replaced with government monopolies on physical cash. Yet it is possible that regulated private-sector stablecoins will eventually bring benefits, such as making cross-border payments easier, or allowing self-executing “smart contracts”. Regulators should allow experiments whose goal is not merely to evade financial rules. But first they must prevent the repackaging of risks with which the world is all too familiar. <span data-ornament="ufinish">■</span></p><p data-test-id="Footnote">This article appeared in the Leaders section of the print edition under the headline &#34;Unstablecoins&#34;</p></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 15:02:34 +0000</pubDate>
      <source>https://www.economist.com/leaders/2021/08/07/why-regulators-should-treat-stablecoins-like-banks</source>
    </item>
    <item>
      <title>Technical Analysis of the Poly Network Hack</title>
      <link>https://rekt.news/polynetwork-rekt/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___rekt_news_polynetwork-rekt_/image.jpg" /> 
<div id="readability-page-1" class="page"><section><figure> </figure><p><strong>This is it rekt readers; the big one.</strong></p><p><em>$611 million dollars stolen.</em></p><p>That’s more than the <a href="https://www.bloomberg.com/news/articles/2014-02-28/mt-gox-exchange-files-for-bankruptcy">Mt Gox hack</a>. More than the GDP of several small countries. More than the entire rekt.news leaderboard added together.</p><p><strong>The biggest cryptocurrency hack... <em>ever</em>.</strong></p><blockquote><p><a href="https://twitter.com/PolyNetwork2/status/1425130017546149891">Poly Network</a> = rekt.</p></blockquote><p><em>But how?</em></p><figure> </figure><p><em>Credit:</em><a href="https://www.breadcrumbs.app/reports/671">breadcrumbs.app</a>, <a href="https://twitter.com/SlowMist_Team/status/1425197809058254849?s=20">slowmist</a>, <a href="https://blocksecteam.medium.com/the-initial-analysis-of-the-polynetwork-hack-270ac6072e2a">blocksec</a></p><p><strong>Attacker ETH:</strong> <a href="https://etherscan.io/address/0xc8a65fadf0e0ddaf421f28feab69bf6e2e589963">0xc8a65fadf0e0ddaf421f28feab69bf6e2e589963</a></p><p><strong>Attacker BSC:</strong> <a href="https://bscscan.com/address/0x0D6e286A7cfD25E0c01fEe9756765D8033B32C71">0x0D6e286A7cfD25E0c01fEe9756765D8033B32C71</a></p><p><strong>This was not the usual smart contract flash loan / arbitrage affair.</strong></p><p><strong>The hacker exploited the Proxy Lock Contracts of Poly Network on three different chains.</strong></p><p><strong>Ethereum:</strong><a href="https://etherscan.io/address/0x250e76987d838a75310c34bf422ea9f1ac4cc906">0x250e76987d838a75310c34bf422ea9f1ac4cc906</a></p><p><strong>BSC:</strong><a href="https://bscscan.com/address/0x05f0fDD0E49A5225011fff92aD85cC68e1D1F08e">0x05f0fDD0E49A5225011fff92aD85cC68e1D1F08e</a></p><p><strong>Polygon:</strong><a href="https://polygonscan.com/address/0x28FF66a1B95d7CAcf8eDED2e658f768F44841212">0x28FF66a1B95d7CAcf8eDED2e658f768F44841212</a></p><blockquote><p>Credit: <a href="https://twitter.com/kelvinfichter">@kelvinfichter</a></p></blockquote><p><strong>&#34;Poly has a contract called the &#34;<strong>EthCrossChainManager</strong>&#34;. It&#39;s a privileged contract that has the right to trigger messages from another chain. It&#39;s a standard thing for cross-chain projects.</strong></p><p>It has a function named <strong>verifyHeaderAndExecuteTx</strong> that anyone can call to execute a cross-chain transaction.</p><p>It (1) verifies that the block header is correct by checking signatures (seems the other chain was a poa sidechain or) and then (2) checks that the transaction was included within that block with a Merkle proof. <a href="https://github.com/polynetwork/eth-contracts/blob/d16252b2b857eecf8e558bd3e1f3bb14cff30e9b/contracts/core/cross_chain_manager/logic/EthCrossChainManager.sol#L127">Here&#39;s the code.</a></p><p>One of the last things the function does is call <strong>executeCrossChainTx</strong>, which makes the call to the target contract. This is where the critical flaw sits. <a href="https://github.com/polynetwork/eth-contracts/blob/d16252b2b857eecf8e558bd3e1f3bb14cff30e9b/contracts/core/cross_chain_manager/logic/EthCrossChainManager.sol#L185">Poly checks</a> that the target is a contract, but they forgot to prevent users from calling a very important target... the <a href="https://github.com/polynetwork/eth-contracts/blob/master/contracts/core/cross_chain_manager/data/EthCrossChainData.sol"><strong>EthCrossChainData</strong> contract</a></p><p>By sending this cross-chain message, the user could trick the <strong>EthCrossChainManager</strong> into calling the <strong>EthCrossChainData</strong> contract, passing the <strong>onlyOwner</strong> check. Now the user just had to craft the right data to be able to trigger the function that changes the public keys…</p><p>The only remaining challenge was to figure out how to make the <strong>EthCrossChainManager</strong> call the right function. Now comes a little bit of complexity around how Solidity picks which function you&#39;re trying to call.</p><p>The first four bytes of transaction input data is called the &#34;signature hash&#34; or &#34;sighash&#34; for short. It&#39;s a short piece of information that tells a Solidity contract what you&#39;re trying to do.</p><p>The sighash of a function is calculated by taking the first four bytes of the hash of &#34;<!-- -->&lt;function name&gt;<!-- -->(<!-- -->&lt;function input types&gt;<!-- -->)&#34;. For example, the sighash of the ERC20 transfer function is the first four bytes of the hash of &#34;transfer(address,uint256)&#34;.</p><p>Poly&#39;s contract was willing to call any contract. However, it would only call the contract function that corresponded to the following sighash:</p><p>Errr but wait... <strong>&#34;_method&#34;</strong> here was user input. All the attacker had to do to call the right function was figure out <em>some</em> value for &#34;<strong>_method</strong>&#34; that, when combined with those other values and hashed, had the same leading four bytes as the sighash of our target function.</p><p>With just a little bit of grinding, you can easily find some input that produces the right sighash. You don&#39;t need to find a full hash collision, you&#39;re only checking the first four bytes. So is this theory correct?</p><p>Well... here&#39;s the actual sighash of the target function:</p><blockquote><p><a href="http://ethers.utils.id">http://ethers.utils.id</a> (&#39;putCurEpochConPubKeyBytes(bytes)&#39;).slice(0, 10)</p></blockquote><p>&#39;0x41973cd9&#39;</p><p>And the sighash that the attacker crafted...</p><blockquote><p><a href="http://ethers.utils.id">http://ethers.utils.id</a> (&#39;f1121318093(bytes,bytes,uint64)&#39;).slice(0, 10)</p></blockquote><p>&#39;0x41973cd9&#39;</p><p><strong>Fantastic. No private key compromise required! Just craft the right data and boom... the contract will just hack itself!</strong></p><p>One of the biggest design lessons that people need to take away from this is: if you have cross-chain relay contracts like this, <strong>MAKE SURE THAT THEY CAN&#39;T BE USED TO CALL SPECIAL CONTRACTS.</strong> The <strong>EthCrossDomainManager</strong> shouldn&#39;t have owned the <strong>EthCrossDomainData</strong> contract.</p><p>Separate concerns. If your contract absolutely needs to have special privileges like this, make sure that users can&#39;t use cross-chain messages to call those special contracts.&#34;</p><figure> </figure><blockquote><p>On the Ethereum blockchain, the hacker stole</p></blockquote><p><strong>USDC</strong> - 96,389,444</p><p><strong>WBTC</strong> - 1,032</p><p><strong>DAI</strong> - 673,227</p><p><strong>UNI</strong> - 43,023</p><p><strong>SHIBA</strong> - 259,737,345,149</p><p><strong>renBTC</strong>- 14.47</p><p><strong>USDT</strong> - 33,431,197</p><p><strong>wETH</strong> - 26,109</p><p><strong>FEI USD</strong> - 616,082</p><blockquote><p>On BSC, the hacker stole:</p></blockquote><p><strong>BNB</strong> - 6,613.44</p><p><strong>USDC</strong> - 87,603,373</p><p><strong>ETH</strong> - 299</p><p><strong>BTCB</strong> - 26,629</p><p><strong>BUSD</strong> - 1,023</p><blockquote><p>On the Polygon blockchain, the hacker stole:</p></blockquote><p><strong>USDC</strong> - 85,089,610</p><blockquote><p>TOTAL VALUE LOST - ~$611,000,000</p></blockquote><p><em>At the time of writing, the stolen funds are located in the following wallets:</em></p><p><strong>ETH:</strong> <a href="https://etherscan.io/address/0xC8a65Fadf0e0dDAf421F28FEAb69Bf6E2E589963">0xC8a65Fadf0e0dDAf421F28FEAb69Bf6E2E589963</a></p><p><strong>BSC:</strong> <a href="https://bscscan.com/address/0x0D6e286A7cfD25E0c01fEe9756765D8033B32C71">0x0D6e286A7cfD25E0c01fEe9756765D8033B32C71</a></p><p><strong>Polygon:</strong> <a href="https://polygonscan.com/address/0x5dc3603C9D42Ff184153a8a9094a73d461663214">0x5dc3603C9D42Ff184153a8a9094a73d461663214</a></p><figure> </figure><p><strong>DeFi storylines are rarely straightforward, and this one is no exception.</strong></p><p><em>Even anonymous actors adore attention.</em></p><p>Shortly after the exploit, an unexpected protagonist appeared, going by the name of <a href="https://etherscan.io/address/0xf8b5c45c6388c9ee12546061786026aaeaa4b682">hanashiro.eth.</a></p><p>hanashiro.eth first gained attention when they <a href="https://etherscan.io/tx/0xae2442c5b5721df8c190fd8f59b53b6dc56a875fb03035ad34276a598ddf7d31">sent the hacker</a> a tip about how to handle USDT, for which they <a href="https://etherscan.io/tx/0xdf3afc47c7914e06ddb1be19afcd769e558111d353e55273a62c4a96e6a6090f">received 13.37 Ether</a> from the hacker as a reward.</p><p><strong><a href="https://twitter.com/JustDoingItBig/status/1425115724209655812?s=20">Many others</a> sent messages to the hacker afterwards, but none were quite as successful as hanashiro.eth.</strong></p><p>With a truly crypto native level of philanthropic showmanship, hanashiro.eth went on to donate their stolen money to a few of the foundational organisations which support our industry, such as Infura, Etherscan, and <a href="https://www.rekt.news/">rekt.news</a>.</p><p><em>But not all of the funds were so freely accessible.</em></p><p><a href="https://twitter.com/paoloardoino/status/1425090760609832978?s=20">Tether froze all of the 33M USDT</a> that were stolen on the Ethereum chain.</p><p><strong>Their coin - their choice… A fact worth remembering if you use USDT.</strong></p><p>By this point the shit had really hit the fan; and all eyes were on <a href="https://twitter.com/PolyNetwork2/status/1425123153009803267">Poly Network, who resorted to posting an open letter</a> to the attacker begging them to return the funds.</p><p><strong>A single tweet asking a criminal to return six hundred million dollars... Maybe Gensler was right when he said we are in the <a href="https://www.reuters.com/technology/us-sec-chair-gensler-calls-congress-help-rein-crypto-wild-west-2021-08-03/">“Wild West”</a> phase of cryptocurrency.</strong></p><p>Consider the mindset of the attacker at this point in the story. Which do you think they felt more; euphoria, or terror?</p><p><strong>Stealing 600 million dollars whilst sat at your computer must be a surreal experience.</strong></p><p><em>The experience of then trying to launder that money must be equally intense.</em></p><p>Aside from JPEGS, tornado.cash would be the obvious starting point, and that’s exactly where our hacker went.</p><p>They <a href="https://twitter.com/UnderTheBreach/status/1425119885978447875?s=20">sent themself a transaction</a> containing the message;</p><blockquote><p>Wonder why Tornado? Will miners stop me? Teach me please</p></blockquote><p><strong>Was that psyops or stupidity? In crypto it’s never quite clear...</strong></p><p><strong>On the run with 600 million, and broadcasting messages to an audience of thousands.</strong></p><p><em>The hacker was growing too confident.</em></p><figure> </figure><p><strong>When <a href="https://twitter.com/wardbradt/status/1425112492397764609?s=20">@WardBradt</a> tweeted the following;</strong></p><blockquote><p>Did the PolyNetwork Exploiter accidentally use the wrong sender address for this tx <a href="https://t.co/SXS7F6iJsM?amp=1">0xb12681d9e</a>? The sender address is tied to FTX, Binance, Okex accounts.</p></blockquote><p><strong>Suddenly the attacker&#39;s attitude changed.</strong></p><p>Surely a hacker who feels confident enough to attempt an attack of this scale wouldn’t make such a basic OPSEC error? Or maybe they used fake KYC documents…</p><p><em>Either way, we began to see signs of fear from the attacker.</em></p><p>The hacker <a href="https://twitter.com/UnderTheBreach/status/1425127303353356293?s=20">began to suggest</a> that they might return <em>&#34;some tokens&#34;</em> or even abandon them, saying that they were <em>&#34;not so interested in the money&#34;.</em></p><p><a href="https://twitter.com/sniko_/status/1425135792658255877?s=20">Then the hacker considered the idea</a> of creating a DAO to distribute the stolen funds.</p><p><strong>Finally, the pressure became too much, and the hacker announced that they were <a href="https://etherscan.io/tx/0x7b6009ea08c868d7c5c336bf1bc30c33b87a0eedd59dac8c26e6a8551b20b68a">“READY TO SURRENDER”</a></strong></p><p><strong>In an unexpected and unprecedented move, the attacker is now returning the funds to Poly Network.</strong></p><p>They announced that they were <a href="https://etherscan.io/tx/0x7b6009ea08c868d7c5c336bf1bc30c33b87a0eedd59dac8c26e6a8551b20b68a">&#34;READY TO RETURN THE FUNDS!&#34;</a> in an Ethereum transaction that was sent from the same wallet used for the attack.</p><p>Before sending the first return transaction, the hacker created a token called &#34;The hacker is ready to surrender&#34; and sent this token to Poly Network who announced that they had set up a <a href="https://twitter.com/PolyNetwork2/status/1425321860539949056">multisig controlled by ‘’known Poly addresses’’</a>.</p><p><a href="https://docs.google.com/spreadsheets/u/1/d/11LUJwLoHX8ZCyfjhg5YZ0V99iU6PafMNL_NET45FSVc/htmlview?pru=AAABe1lDAS0*CdZKWo5WZNYwj5Qca8505A#gid=0">A summary of the hackers&#39; communication with Poly Network can be found here.</a></p><p><strong>At the time of writing, the hacker has returned the following:</strong></p><p>On the Ethereum blockchain: <a href="https://etherscan.io/address/0x71fb9db587f6d47ac8192cd76110e05b8fd2142f#tokentxns">$2.6M</a></p><p>On the BSC: <a href="https://bscscan.com/address/0xEEBb0c4a5017bEd8079B88F35528eF2c722b31fc">$1.1M</a></p><p>On the Polygon blockchain: <a href="https://polygonscan.com/address/0xa4b291ed1220310d3120f515b5b7accaecd66f17">$1M</a></p><p><strong>Will the hacker continue to return the funds, or is this just another stunt?</strong></p><p><em>Can they really just return the money and be forgiven?</em></p><figure> </figure><p><strong>Poly Network. 611 million.</strong></p><p><em>And you thought you knew all the big protocols in DeFi.</em></p><p><strong>This industry has grown bigger than our echo chamber can handle.</strong></p><p>This may be the first, but it won’t be the last hack of this size that we will see over the coming years. Yet the market seems unphased, and rightly so.</p><p>For <a href="https://finance.yahoo.com/news/coinbase-crushes-q2-expectations-notes-210643795.html">better</a> or for <a href="https://www.coindesk.com/bitmex-announces-100m-cftc-fincen-settlement">worse</a>, crypto will make the news, and the <a href="https://twitter.com/NeerajKA/status/1423721468123287556?s=20">world will have to take notice</a> as our industry becomes the norm.</p><p><em>This is just another inevitable part of the progress.</em></p><figure> </figure><p>REKT serves as a public platform for anonymous authors, we take no responsibility for the views or content hosted on REKT. </p><p><strong>Donate (ETH / ERC20):<!-- --> <a href="https://etherscan.io/address/0x3C5c2F4bCeC51a36494682f91Dbc6cA7c63B514C">0x3C5c2F4bCeC51a36494682f91Dbc6cA7c63B514C</a></strong></p><p>Disclaimer: </p><p>REKT is not responsible or liable in any manner for any Content posted on our Website or in connection with our Services, whether posted or caused by ANON Author of our Website, or by REKT. Although we provide rules for Anon Author conduct and postings, we do not control and are not responsible for what Anon Author post, transmit or share on our Website or Services, and are not responsible for any offensive, inappropriate, obscene, unlawful or otherwise objectionable content you may encounter on our Website or Services. REKT is not responsible for the conduct, whether online or offline, of any user of our Website or Services.</p></section></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 14:29:59 +0000</pubDate>
      <source>https://rekt.news/polynetwork-rekt/</source>
    </item>
    <item>
      <title>What Bobby McIlvaine Left Behind</title>
      <link>https://www.theatlantic.com/magazine/archive/2021/09/twenty-years-gone-911-bobby-mcilvaine/619490/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_theatlantic_com_magazine_archive_2021_09_twenty-years-gone-911-bobby-mcilvaine_619490_/image.jpg" /> 
<div id="readability-page-1" class="page"><article><header><div><figure><p></p><figcaption><span>Bobby McIlvaine&#39;s wallet</span> (<!-- -->Danna Singer for The Atlantic<!-- -->)</figcaption></figure></div><div><p>Grief, conspiracy theories, and one family’s search for meaning in the two decades since 9/11</p></div></header><section><p><small><i>This article was published online on August 9, 2021.</i></small></p><figure></figure><p>W<span>hen Bobby McIlvaine </span>died on September 11, 2001, his desk at home was a study in plate tectonics, coated in shifting piles of leather-bound diaries and yellow legal pads. He’d kept the diaries since he was a teenager, and they were filled with the usual diary things—longings, observations, frustrations—while the legal pads were marbled with more variety: aphoristic musings, quotes that spoke to him, stabs at fiction.</p><p>The yellow pads appeared to have the earnest beginnings of two different novels. But the diaries told a different kind of story. To the outside world, Bobby, 26, was a charmer, a striver, a furnace of ambition. But inside, the guy was a sage and a sap—philosophical about disappointments, melancholy when the weather changed, moony over girlfriends.</p><p>Less than a week after his death, Bobby’s father had to contend with that pitiless still life of a desk. And so he began distributing the yellow legal pads, the perfect-bound diaries: to Bobby’s friends; to Bobby’s girlfriend, Jen, to whom he was about to propose. Maybe, he told them, there was material in there that they could use in their eulogies.</p><p>One object in that pile glowed with more meaning than all the others: Bobby’s very last diary. Jen took one look and quickly realized that her name was all over it. Could she keep it?</p><p>Bobby’s father didn’t think. He simply said yes. It was a reflex that he almost instantly came to regret. “This was a decision we were supposed to make together,” his wife, Helen, told him. Here was an opportunity to savor Bobby’s company one last time, to hear his <i>voice</i>, likely saying something new. In that sense, the diary wasn’t like a recovered photograph. It raised the prospect, however brief, of literary resurrection. How, Helen fumed, could her husband not want to know Bobby’s final thoughts—ones he may have scribbled as recently as the evening of September 10? And how could he not share her impulse to take every last molecule of what was Bobby’s and reconstruct him?</p><p>“One missing piece,” she told me recently, “was like not having an arm.”</p><p>Over and over, she asked Jen to see that final diary. Helen had plenty of chances to bring it up, because Jen lived with the McIlvaines for a time after September 11, unable to tolerate the emptiness of her own apartment. Helen was careful to explain that she didn’t need the object itself. All she asked was that Jen selectively photocopy it.</p><p>Jen would say she’d consider it. Then nothing would happen. Helen began to plead. <i>I just want the words</i>, she’d say. <i>If Bobby’s describing a tree, just give me the description of the tree.</i> Jen demurred.</p><p>The requests escalated, as did the rebuffs. They were having an argument now. Helen, Jen pointed out, already had Bobby’s other belongings, other diaries, the legal pads.</p><p>When she finally left the McIlvaines’ house for good, Jen slammed the door behind her, got into her car, and burst into tears. Shortly after, she wrote Helen a letter with her final answer: No, just no. If Helen wanted to discuss this matter any further, she’d have to do so in the presence of Jen’s therapist.</p><p>Helen and her husband never saw Jen again. “She became a nonperson to me,” Helen told me. Today, she can’t so much as recall Jen’s last name.</p><p>But for years, Helen thought about that diary. Her mind snagged on it like a nail; she needled her husband for giving it away; it became the subject of endless discussion in her “limping group,” as she calls it, a circle of six mothers in suburban Philadelphia who’d also lost children, though not on September 11. They became indignant on her behalf. A number proposed, only half jokingly, that they break into Jen’s apartment and liberate the diary. “You don’t get any more memories,” one of the women told me. “So anything written, any video, any card—you cling to that. That’s all you’re going to get for life.”</p><p>The McIlvaines would have to make do with what they already had. Eventually, they did. Three words of Bobby’s became the family motto: <i>Life loves on</i>. No one could quite figure out which diary or legal pad it came from, but no matter. Helen wears a silver bracelet engraved with this phrase, and her husband got it tattooed in curlicue script on his upper arm.</p><div><figure><picture></picture><figcaption>Bobby McIlvaine, with his parents, Helen and Bob Sr., at his Princeton graduation in 1997. Bobby’s body was found in the wreckage of the Twin Towers. (Danna Singer; original photo courtesy of the McIlvaine family)</figcaption></figure></div><p><span>Here I should note</span> that I know and love the McIlvaine family. On my brother’s first day of college, he was assigned to a seven-person suite, and because he arrived last, Bobby became his roommate. My brother often thinks about what a small miracle that was: If he’d arrived just 30 minutes earlier, the suite would have been an isomer of itself, with the kids all shuffled in an entirely different configuration. But thanks to a happy accident of timing, my brother got to spend his nights chattering away with this singular kid, an old soul with a snappity-popping mind.</p><p>Eight years later, almost to the day, a different accident of timing would take Bobby’s life. He and my brother were still roommates, but this time in a two-bedroom apartment in Manhattan, trying to navigate young adulthood.</p><p>Back when Bobby was still alive, I would occasionally see the McIlvaines. They struck me as maybe the nicest people on the planet. Helen taught reading to kids who needed extra help with it, mainly in a trailer in the parking lot of a Catholic high school. Bob Sr. was a teacher who specialized in working with troubled adolescents; for a decade, he’d also owned a bar. Jeff, Bobby’s younger brother, was just a kid in those days, but he was always unreasonably good-natured when he turned up.</p><p>And Bobby: My God. The boy was incandescent. When he smiled it looked for all the world like he’d swallowed the moon.</p><p>Then, on the morning of September 11, 2001, Bobby headed off to a conference at Windows on the World, a restaurant in a building to which he seldom had reason to go, for a media-relations job at Merrill Lynch he’d had only since July. My brother waited and waited. Bobby never came home. From that point forward, I watched as everyone in the blast radius of this horrible event tried to make sense of it, tried to cope.</p><p>Early on, the McIlvaines spoke to a therapist who warned them that each member of their family would grieve differently. <i>Imagine that you’re all at the top of a mountain</i>, she told them,<i> but you all have broken bones, so you can’t help each other. You each have to find your own way down</i>.</p><p>It was a helpful metaphor, one that may have saved the McIlvaines’ marriage. But when I mentioned it to Roxane Cohen Silver, a psychology professor at UC Irvine who’s spent a lifetime studying the effects of sudden, traumatic loss, she immediately spotted a problem with it: “That suggests everyone will <i>make it </i>down,” she told me. “Some people never get down the mountain at all.”</p><p>This is one of the many things you learn about mourning when examining it at close range: It’s idiosyncratic, anarchic, polychrome. A lot of the theories you read about grief are great, beautiful even, but they have a way of erasing individual experiences. Every mourner has a very different story to tell.</p><p>That therapist was certainly right, however, in the most crucial sense: After September 11, those who had been close to Bobby all spun off in very different directions. Helen stifled her grief, avoiding the same supermarket she’d shopped in for years so that no one would ask how she was. Jeff, Bobby’s lone sibling, had to force his way through the perdition of survivor’s guilt. Bob Sr. treated his son’s death as if it were an unsolved murder, a cover-up to be exposed. Something was fishy about 9/11.</p><p>And then there was Jen. She’s married now, has two terrific kids, but she wonders sometimes, when she’s quarreling with her husband or feeling exasperated with her life, what it would have been like if she’d been with Bobby all this time. I tracked her down in April, and of course she’s nothing like the heartless villainess I had come to imagine her to be. That was just the story I’d told myself, the one I’d used to make sense of the senseless, to give shape to my own rage. Like I said: We all need our stories.</p><p>One thing I knew when I finally visited her, though: I wanted to see that diary. And I wanted the McIlvaines to see it too. “I’m not a saver,” she said when we first met up for cocktails. My heart froze.</p><p>But she still had it, just so you know.</p><p><span>T</span><em><span>ell me about </span><span>your son.</span></em></p><p>Helen welcomed this invitation the first time she heard it, because it focused her thinking, gave her an outlet for her grief. But soon it filled her with dread, and she felt herself straining under the weight of it. How can you possibly convey who your firstborn was or what he meant to you?</p><p>Helen usually starts by telling people that Bobby went to Princeton, but that’s hardly because she’s status-fixated. It’s because she and Bob Sr. did not expect to have a child who went to an Ivy League school. They both went to state schools in Pennsylvania, not even particularly well-known ones. Both of their kids were sporty. But when Bobby was 8, his third-grade teacher said to them—and they both remember her exact words—“Start saving your pennies.” This one’s education might cost you.</p><p>“The amount of things that had to go right for my brother to go to Princeton were, like, astronomical,” says Jeff, a high-school biology teacher and track coach in Somerdale, New Jersey. “To us, it was like someone from our family becoming the president.”</p><p>This is how everyone in the family remembers Bobby: as a sui generis creature, exceptional and otherworldly, descended from the heavens through a basketball hoop.</p><p>He was an intense student. He was an even more intense athlete, competitive to the point of insolence. Writing in <i>The Philadelphia Inquirer</i> last year, Mike Sielski, an old high-school classmate of Bobby’s, <a href="https://www.inquirer.com/sports/kobe-bryant-bobby-mcilvaine-upper-dublin-lower-merion-september-11-20200409.html">described him</a> as “all bones and acute angles and stiletto elbows” on the basketball court. It was a goose-pimpling story, one he had occasion to write because another classmate of theirs had unearthed 36 seconds of video from 1992, in which a teenage Bobby McIlvaine throws an immaculate pass that sets up an immaculate shot that flies right over the teenage head of …</p><p>Kobe Bryant.</p><p>Bobby scored 16 points off Kobe and his team that day, in addition to setting up that floater.</p><p>When he arrived at college, Bobby retained a bit of that alpha-dog streak. He was still competitive, even while playing mindless, made-up dorm games. He wasn’t bashful about ribbing friends. He was tall and handsome and had a high level of confidence in his sense of style, which may or may not have been justified. “There were times you wanted him to step back and not be so serious and intense,” says Andre Parris, a former suitemate and one of Bobby’s closest friends. “But it was part of who and what he was, and what he thought he had to do to get ahead.”</p><p>What “getting ahead” meant to Bobby was complicated. Financial worries are all over his journals from those years (<i>I don’t feel like a real person sitting here with no money</i>, reads one typical entry). Yet he was conflicted about what it might take to make money, flummoxed by all the kids who were beating a dutiful path to business school. (<i>Is youth really just a hobby? </i>he asked about them, with evident pique.) He wanted to be a writer. Which paid nothing, obviously.</p><p>This conflict continued into his brief adulthood. He spent two years in book publishing before realizing that it was no way to make a living, and switched instead to corporate PR. He could still write his novels on the side.</p><p>But for all Bobby’s hunger and swagger, what he mainly exuded, even during his college years, was warmth, decency, a corkscrew quirkiness. He doted on girlfriends. He gave careful advice. His senior year, he took a modern-dance class because, well, why not? It would be fun. And different. His final project involved physically spelling out his girlfriend’s name.</p><p>That was just a lark, though. Bobby’s real intellectual passion was African American culture and history. After Bobby died, the McIlvaines got not one but two condolence notes from Toni Morrison, with whom he’d taken a class. The second came with the term paper he’d written for her. “It is certainly one of the more accomplished and insightful,” she wrote, “as was he.” His senior thesis received an honorable mention for the main prize in the department of African American studies.</p><p>At his funeral, Bobby’s oldest friends spoke of what a role model he was to them. I was five years older than Bobby, which meant I mainly saw him as charming and adorable, intelligent and unstoppable.</p><p>But strangely, I wanted to impress him too. When I started my job at <i>New York</i> magazine, writing short features in the theater section each week, Bobby gave me grief about ending each one of them with a quote. At first I was annoyed, defensive—<i>the little shit</i>—but in hindsight, it’s amazing that I cared so much about this 22-year-old’s opinion, and even more amazing that he’d read me attentively enough to discover an incipient tic. To this day, I credit Bobby with teaching me a valuable lesson: If you’re going to cede the power of the last word to someone else, you’d better be damn sure that person deserves it.</p><p><span>Bob M<span>c</span>Ilvaine Sr. </span>cries easily and regularly when you speak to him. Everyone in the family knows this and has grown accustomed to it—his grief lives close to the surface, heaving up occasionally for air. He cried at our first lunch after the McIlvaines picked me up at the train station a few months ago; he cried again just minutes into our first chat when the two of us were alone; he cried in a recent interview with Spike Lee for <a href="https://pressroom.warnermedia.com/us/media-release/hbo-0/hbo-documentary-films-and-spike-lee-production-monumental-documentary-event-nyc">a documentary series about 9/11 on HBO</a>.</p><p>In talking with Bob Sr., something heartbreaking and rudely basic dawned on me: September 11 may be one of the most-documented calamities in history, but for all the spools of disaster footage we’ve watched, we still know practically nothing about the last moments of the individual dead. It’s strange, when you think about it, that an event so public could still be such a punishing mystery. Yet it is, and it is awful—the living are left to perseverate, to let their imaginations run amok in their midnight corrals.</p><div><figure><picture></picture><figcaption>“The only thing I do is 9/11 stuff,” Bob McIlvaine Sr. says. “My whole basis of everything revolves around the day.” (Danna Singer)</figcaption></figure></div><p>For Bob Sr., what that meant was wondering where Bobby was and what he was doing when the chaos began. For years, that was all he could think about. The idea of Bobby suffering tortured him. Was he incinerated? Was he asphyxiated? Or even worse? “I think Bobby jumped,” he shouted up the stairs one day to his wife. The thought nearly drove Helen mad.</p><p>Over time, it became clear that Bobby didn’t jump. Bobby’s was one of fewer than 100 civilian corpses recovered from the wreckage. But it haunted Bob Sr. that he never saw the body. At the morgue on September 13, the pathologist strongly advised him against viewing it. Only years later—four? five? he can no longer remember—did he finally screw up the courage to go to the medical examiner’s office in New York City and get the official report.</p><p id="injected-recirculation-link-0" data-view-action="view link - injected link - item 1"><a href="https://www.theatlantic.com/magazine/archive/2002/07/excerpts-from-american-ground-unbuilding-the-world-trade-center/302542/">From the July/August, September, and October 2002 issues: Excerpts from William Langewiesche’s <em>American Ground: Unbuilding the World Trade Center</em></a></p><p>That’s when everything changed. “My whole thesis—everything I jump into now—is based upon his injuries,” he tells me. “Looking at the body, I came to the conclusion that he was walking in and bombs went off.”</p><p>A controlled demolition, he means. That is how he thinks Bobby died that day, and how the towers eventually fell: from a controlled demolition. It was an inside job, planned by the U.S. government, not to justify the war in Iraq—that was a bonus—but really, ultimately, to destroy the 23rd floor, because that’s where the FBI was investigating the use of gold that the United States had unlawfully requisitioned from the Japanese during World War II, which it then leveraged to bankrupt the Soviet Union. The planes were merely for show.</p><p><span>Does a man </span>wake up on September 12, 2001, and believe such a thing? No. This belief takes shape over the span of years, many years.</p><p>That first year, Bob Sr. was numb. His sole objective was to get through each day. But he eventually got involved in a group called 9/11 Families for Peaceful Tomorrows, protesting the wars in Afghanistan and Iraq. “It opened up my life,” he tells me. “I became very active. That’s how I grieved. It was perfect.”</p><p>Before Bobby went to Princeton, Bob Sr. had been indifferent to politics, voting sometimes for Democrats and sometimes for Republicans—including, he thinks, Ronald Reagan. “I was not a well-read person,” he says. “I owned a bar in the city. If I even mentioned the word <i>progressive</i>, my customers probably would have shot me.”</p><p>But then Bobby started taking classes with Princeton’s glamorous tenured radicals. He started writing for the school’s <i>Progressive Review</i>. His father devoured everything he wrote. Soon, he had Bob Sr. reading Howard Zinn’s <i>A People’s History of the United States</i> and <i>Z Magazine</i>, the radical monthly. Bob Sr. has been interested in politics ever since. “That’s all because of Bobby.”</p><p>So this anti-war activity? It <i>was </i>perfect—a natural outlet for him.</p><p>But as time wore on, Bob Sr. got impatient. In 2004, he went down to Washington to hear Condoleezza Rice speak to the 9/11 Commission, and <a href="https://www.americanprogress.org/issues/security/news/2004/04/07/714/911-testimony-of-national-security-adviser-condoleezza-rice/">her testimony</a>—or lack thereof, he’d say—so enraged him that he left in a huff, cursing in the halls of Congress. “I wanted answers,” he explains. Yet no answers were forthcoming. That’s when he realized: The government was hiding something. “I became militant,” he says. “To this day, I’m very militant.”</p><p>Bob Sr. is a bespectacled, soft-spoken man, slender and slightly stooped. But his affect is deceptive. We’re sitting in the upstairs den of the McIlvaines’ three-bedroom home in Oreland, Pennsylvania, the same house where Bobby and Jeff grew up. It’s sweet, modest, cluttered with family pictures. But this room has been transformed into a 9/11 research bunker, stuffed with books and carefully organized files—by event, subject, country. The largest piece of art on the wall is a world map freckled with pins marking every country that’s invited Bob Sr. to tell his story.</p><p>“I speak out so much, the word just spreads,” he tells me. “I’ll show you Italy.” Pictures and clippings from a Rome film festival, he means, because he appeared in the documentary <i>Zero: Inchiesta sull’11 Settembre</i>. He got to walk the red carpet. “The Russians came over. They spent two days here, wanted to hear what I had to say.” Meaning Russian state news agencies. They parked themselves on the McIlvaines’ back deck. “France came here, stayed a few days to talk.” Same deal, though he doesn’t remember which media outfit. (“My dad is practically a celebrity in that community,” Jeff told me.)</p><p>Crucial to Bob Sr.’s understanding of September 11—that it was the cynical skulduggery of the U.S. government, not a grisly act of terrorism by jihadists using commercial planes filled with helpless civilians—is the work of Architects &amp; Engineers for 9/11 Truth, which popularized the idea that jet fuel couldn’t burn at a high enough temperature to melt beams into molten steel. This is, it should go without saying, contrary to all observable fact.</p><p>But this theory is what Bob Sr. is eager to illustrate for me. He has visuals prepared, lots of building diagrams. I tell him we’ll get there; I just want to ask a few more questions about those early days—</p><p>He’s disappointed. “Everything I’ve done in my life is based upon those seconds.” This is something he very much wants to discuss.</p><p>And so we discuss it. Only a preplanned detonation, he argues, could bring down those towers, and only a lobby embroidered with explosives could explain the injuries to Bobby’s body. He has the full medical examiner’s report.</p><p>But a subtle thing made Bob Sr. think something was amiss. The report describes many lacerations and fractures, but they appear almost entirely on the front of Bobby’s body. The back of his corpse is basically described as pristine, besides multiple fractures to what remained of his head.</p><p>The story we’ve told ourselves all these years is that Bobby had already left the building when the planes hit. Bobby didn’t work in the World Trade Center; from what we could piece together, he’d gone to Windows on the World simply to help a new colleague set up for a morning presentation at an all-day conference, not to attend it. So Bobby did his part, was our assumption, then said his goodbyes and was making his way back to nearby Merrill Lynch when he was suddenly killed in the street by flying debris.</p><p>Bob Sr. doesn’t buy it. If that were true—if Bobby were moving <i>away</i> from the World Trade Center—wouldn’t he have fallen forward? Wouldn’t there be injuries on his <i>back</i>? “If you’re running away, it’d be more of a crushing type of thing,” he tells me. “Probably every bone in his body would be breaking.”</p><p>I tell him I’m not a pathologist, but it seems just as plausible to me that he heard the roaring sound of a plane flying too low and too fast, or maybe the sound of a hijacked aircraft hitting the North Tower itself, and turned around to see what had happened and never knew what hit him.</p><p>He rejects this explanation. “My theory is he was walking<i> into </i>the building at the time, because he had the conference up there.”</p><p>“I thought his conference started at 8:30?” I ask. The first plane hit at 8:46 a.m. That would have meant Bobby was arriving late.</p><p>“I thought it started at 9,” Bob Sr. says.</p><p>“Isn’t there a way to find out?” I ask.</p><p>“You know, to tell you the truth, I never …”</p><p>He’d never checked.</p><p><span>Breakfast and registration </span>for the conference began at 8 o’clock. Opening remarks were scheduled for 8:30. Bobby’s colleague was scheduled to speak at 8:40. The <a href="https://collection.911memorial.org/Detail/objects/24521">full brochure</a> is available on the 9/11 Memorial &amp; Museum’s website.</p><p>When I eventually visit Jen—she of the purloined diary, the woman to whom Bobby was about to be engaged—she shows me the daily planner that was sitting on his desk at Merrill. It’s cluttered with appointments. But the day of September 11 is blank. Whatever he was doing was not significant enough to merit its own entry.</p><p id="injected-recirculation-link-1" data-view-action="view link - injected link - item 2"><a href="https://www.theatlantic.com/family/archive/2019/09/after-911-i-raised-my-daughters-alone/597817/">Read: Everything my husband wasn’t there for</a></p><p>My brother also tells me that he still has the note Bob Sr. left for him on his kitchen table on Thursday, September 13. It said that an investigator with the New York City Police Department, Joe Gagliardi, had just come by to drop off the wallet they’d pulled from Bobby’s pocket. One line in particular stood out. <i>He was found on the perimeter.</i> Not near the lobby.</p><p>“Was he really?” Bob Sr. says when I phone him and ask him about the note. He’d completely forgotten that he’d written it. “If that’s true, that’s great.” He thinks for a moment. “Though the perimeter—he still could have been 10 feet away. He certainly wasn’t 100 feet from the building.”</p><p>I then tell him about the conference schedule, which actually did leave open the possibility that he was 100 feet from the building. If he’d left before his colleague started speaking—or the opening remarks—he could have been quite close to his office at Merrill Lynch, a five-minute walk away. Bob Sr. takes it all in. He repeats that he finds Bobby’s injuries too extreme, too savage, to be caused by flying debris. “But you know what?” he finally says. “That’s no longer relevant to me. My whole thing is who did it and why. It’s been 20 years and I<i> still </i>can’t get any answers.”</p><p><span>It takes me </span>some time, but eventually I summon the courage to ask Bob Sr. an obvious question: What makes his claims about the destruction of the World Trade Center more credible than the claims of, for instance, Donald Trump supporters who say the 2020 election was stolen?</p><p>“I can believe it was stolen!” he tells me. “But I’m not going to go around preaching that, because <i>I don’t know</i>. Because I’m doing <i>my</i> homework.” Bob Sr. is always reading. His latest is a biography of Allen Dulles. “Probably 99.9 percent of the people that you will find in those radical groups—the Oath Keepers, whatever—they really haven’t done any research.”</p><p>But then he adds that he sympathizes with Trump voters, as much as he despises Trump himself. “This country hasn’t done anything for them in such a long time. So you can’t blame them for voting for him.”</p><p><span>Bob Sr. asks </span>if I would like to see Bobby’s wallet. I didn’t realize he had it, but he does, stuffed in a biohazard bag, itself entombed in a plastic box in the room that once belonged to Bobby. He carefully opens them for me.</p><p>“Helen and Jeff have never seen this,” he tells me.</p><p>They haven’t?</p><p>“No.”</p><p>The wallet is covered in dust, still, and faintly redolent of that World Trade Center tang, a scent once so powerful that New Yorkers could smell it in their eyes. He starts pulling out a 26-year-old’s modest possessions: a Pennsylvania driver’s license, a Visa card, some kind of work or building ID, a library card. The wallet still contains $13 in cash, but the money is disintegrating, almost completely rotted away.</p><p>“The only thing I do is 9/11 stuff,” Bob Sr. says. “My whole basis of everything revolves around the day.”</p><p>This is not, it should be said, anything like what Helen does with her days. A two-decade investigation into 9/11 was not part of her retirement plan. In one of our earliest conversations, she specifically told me that she’d walk across the United States to <i>not</i> discover some of the things that Bob Sr. has learned. So as he and I sit here, inspecting a wallet that she’s never seen, I ask: Doesn’t all this searching, this interrogating, have unhealthy consequences for his marriage?</p><p>He readily admits that it does: “We’d socialize and she’d catch me saying stuff, and she would go nuts. She’d say, ‘Do not talk about 9/11.’ But then someone would come up to me and say, ‘Can I ask you about it?’ And I’d start talking. Then she’d find out about it. She’d get so upset.” They now tend to socialize separately. “I will talk 9/11 with anyone I see, if they want to talk about it,” he says. “And I think that’s why I don’t have many friends. They’re <i>afraid</i> I’m going to talk about it.”</p><p>It may be hard to imagine why anyone would want to spend so much time immersed in the story, sensations, and forensics of his son’s death. But for Bob Sr., that’s precisely the point: to keep the grief close. “I don’t want to get away from it,” he tells me. He <i>wants</i> to stay at the top of the mountain. This is how he spends time in Bobby’s company—by solving this crime, by exposing the truth about the abuses of American empire. “Doing what I’m doing, that’s really helped me, because I think of him every day. Every time I talk, I talk about Bobby.”</p><div><figure><picture></picture><figcaption>Bobby’s wallet is still covered in dust, and faintly redolent of the World Trade Center tang that hung over New York in the fall of 2001. (Danna Singer)</figcaption></figure></div><p>He’s aware that there are other ways to spend time with Bobby that wouldn’t be quite so excruciating. He could read his diaries, for example. To this day, he feels terrible that he handed that last one off to Jen. He felt so guilty about it for so long that he was still mentioning it in interviews in 2011. A British newspaper referred to it as “the journal episode.”</p><p>“I’m just not that big on the journals,” he tells me. “They don’t mean that much to me.”</p><p>So what means the most to you? I ask.</p><p>“That he was murdered,” he says.</p><p><span>On the morning </span>of September 11, Helen, the most stoic of the McIlvaines, was the only one who panicked. Jeff knew that his brother didn’t work in the World Trade Center. Bob Sr., who was teaching that day in the adolescent psych unit of a local hospital, treated the macabre, smoldering towers like a news event and, along with everyone else, began watching the coverage on TV.</p><p>Helen, however, took one look at the television and needed to sit down. She knew it seemed ridiculous, superstitious, but she’d spoken with Bobby the night before and forgotten to end the conversation the way she always did: “Be careful.” She’d later say those words to his casket as it was lowered into his grave.</p><p>By midday, when no one had heard from Bobby, everyone in the family felt like Helen. Yes, the cell towers were down in Lower Manhattan and the phones were working only sporadically, but surely Bobby, who could spend hours on the phone talking with his parents (<i>How do you guys find so much to talk about? </i>his friends always asked), would have found a way to call, and Jen had heard nothing, which <i>really</i> made no sense. Bobby had just asked her father for permission to marry her two days earlier.</p><p>In the late afternoon, Andre, his close friend and old suitemate, finally reached a woman at Merrill Lynch who awkwardly told him that Bobby and a colleague had been scheduled to attend a conference at Windows on the World that morning and no one had heard from them since. Andre called the McIlvaines.</p><p>“That first night was probably worse than after we found out for sure that he’d died,” Jeff says, “because we had no idea what had happened. I couldn’t get that out of my head—that he was <i>in </i>that, you know?”</p><p>They slept in the den, the three of them. Jen stayed in her own living room that night, glued to the TV.</p><p>On Wednesday morning, Jeff and Bob Sr. were too agitated to remain in Oreland. They took a train to New York and made a fruitless tour of the city’s triage centers. Nothing. My brother stood on line at a missing-persons center; Andre ran a command center out of his apartment, working the phones and every lead he had; Jeff checked every website he could find. <i>Refresh, refresh, refresh.</i></p><p>Jen sat and waited.</p><p>Bob Sr. spent Wednesday night in my brother and Bobby’s apartment, sleeping in his son’s bed.</p><p>The next day, Andre got a call from the NYPD, this time with grim news: Everyone needed to go immediately to <a href="https://amhistory.si.edu/september11/collection/record.asp?ID=63">the armory on Lexington Avenue</a>.</p><p>Once again, Andre had to tell the McIlvaines. Helen calmly did as she was told. She treated these instructions as if she were an astronaut, doing whatever step came next if one of the modules of the International Space Station caught on fire.</p><p>The armory was a seething mass of the desperate. Hundreds of families were lined up outside, carrying posters with faces of their loved ones. A minister escorted my brother, Jen, Andre, and the McIlvaine family inside. Helen gave him Bobby’s name. A police officer approached her from across the room. “Are you the mother?”</p><p>Much of what followed was a blur. They were shown to a private room where grief counselors descended on them. Then something unusual happened: Rudy Giuliani walked in.</p><p>The mayor was unaccompanied. Without aides, without cameras, nothing. He looked genuinely relieved to have a family to console at that moment, with so many bereaved New Yorkers still twisting in limbo, posting flyers with pictures of the missing on lampposts, chain-link fences, hospital walls.</p><p>Giuliani embraced everyone. Then he took a seat opposite the McIlvaines. He uttered just five words: “Tell me about your son.”</p><div><figure><picture></picture><figcaption>After Bobby died, Helen McIlvaine begged his girlfriend, Jen, to share his final diary with the family, to no avail. (Danna Singer)</figcaption></figure></div><p><span>If Bob Sr. </span>chose to feed his grief, Helen chose to starve hers. She spoke about it with her limping group, because they understood. But she was determined not to be, as she puts it, “At-Least-I’m-Not-Helen.” Living with the impossible was hard enough. But to be in the position of having to console others about her misfortune, or to manage their discomfort, or, worst of all, to smile politely through their pity—that was more than she could bear. Helen can still rattle off a list of all the well-meaning things people said that stung.</p><p><i>No parent should bury a child.</i></p><p><i>You will never be the same.</i></p><p><i>I was with my children last night and realized you’ll never have something like that again.</i></p><p>Did people not realize that they were building a moat, not a bridge, when they said such things? That they were drawing attention to the pretty castles they lived in, their walls still lined with luck?</p><p>That first year was brutal. Once, while she was sitting in a diner with some friends, one of them started going on and on about the musical talents of her son. “I wanted to scream,” Helen says. “I had to get out. I couldn’t listen to somebody else talk about their child. For years. I couldn’t.”</p><p>The second year wasn’t much better. She tried going to Italy on a tour with a friend. She says she came across as cold, distant, strange. She dreaded the most innocuous question: <i>Have any kids?</i></p><p>Work helped. Her students needed her, and her colleagues were great. “Except I didn’t want their help, because it was too soon,” Helen says. “So afterwards, a few years down the road, I looked like I’d healed. And it wasn’t true. I <i>wanted</i> to talk about it sometimes. But I had to find other means to do it, because I’d kind of shut that door.”</p><p>I can’t decide whether this corresponds with the Helen I’ve come to know. Maybe?</p><p>Helen: She wears little or no makeup. She is exceedingly good-humored. She is always brimming with questions about your life. She’s the kind of person who goes along with any plan and can spend 20 minutes in a drugstore trying on funny pairs of reading glasses with you.</p><p>We actually did this together in Florida a couple of years ago. We both happened to be visiting my mom.</p><p>So the reserve she’s describing is a little foreign to me. “I have a weird personality,” she tells me. “I can cry over a blouse that I ruined in the laundry and then be stoic for something …” She trails off, but I believe the word she’s looking for is<i> big</i>.</p><p>But with Bobby … ! Bobby brought out her more emotional self, because he was such a sensitive kid. “Once, after about half an hour of listening to his woe-is-me girlfriend stories,” she tells me, “I said to him, ‘You do understand I’ve been married to Dad for almost 30 years and I’ve never given him this much thought, right?’ ” But of course she loved every minute of it.</p><p>The last time she saw Bobby was two nights before he died. Not an hour before, he had asked Jen’s father for permission to marry her; now the two families were having dinner at a restaurant in Lambertville, New Jersey, where Jen had an apartment. Helen took one look at her son and saw that his forehead was still shimmering with sweat. She reached under the table to find his hand. He locked his pinkie with hers. They stayed that way until the food came.</p><p><span>Around the tenth <span>anniversary</span></span> of September 11, Helen realized that she was not all right. She’d lost a child, so maybe this was what her new life was destined to be: not all right. But she wasn’t convinced. Somewhere along the way, her toughness, her steadfast refusal to be a victim—it had backfired. “I found myself being petty. And bickering. I found myself being too gossipy sometimes.”</p><p>I’ve never heard Helen say a cross word about anyone. Even when I mention that I’ll soon be seeing Jen, she reacts with anxiety, not bitterness. She doesn’t want to open old wounds. They were both suffering terribly back then; neither was her finest self.</p><p>Okay, but what if she lends me the diary? I ask.</p><p>“Oh my God. Would you marry me?”</p><p>But this is today’s Helen. The Helen of a decade ago decided she wasn’t who she wanted to be. Her therapy had stalled. She had trouble managing her anger. “My life just feels so amazingly off kilter,” she wrote in a reminiscence marking the tenth anniversary.</p><p>She’d kept too much in, and she was fermenting in her own brine.</p><p>Not long after, she started seeing a different therapist. This one was spiritual. That new perspective changed everything. “She really believes that we don’t see all.”</p><p>Even before Bobby died, Helen was a big fan of self-help books. But after September 11, she bought them by the dozen, hoovering up everything she could about loss. She found Elisabeth Kübler-Ross indispensable—not so much for her writing about the five stages of grief, though that was fine, but for her writing about life after death.</p><p>Kübler-Ross once considered a belief in the afterlife a form of denial. But starting in the mid-1970s, she had a change of heart, compiling thousands of testimonies from those who’d had near-death experiences in order to show that our souls outlast us.</p><p>“I looked at life-after-death books, but they were too faith-based,” Helen says. “I <i>wanted</i> to believe what I was taught in my Catholic upbringing. But what I liked about Kübler-Ross is that she had a science background.”</p><p>It was precisely because she was a scientist, of course, that Kübler-Ross’s fellow physicians were so dismayed by this strange turn in her interests. They thought it kooky and unrigorous, a stain on her legacy. I tell this to Helen. She laughs. “Bet they didn’t sell millions of books.”</p><p>Kübler-Ross used a hokey but intuitive metaphor to describe the body and soul: Our bodies are our mortal coils, our “cocoons”; when we die, we shudder them off and our souls—our “butterflies”—are released into the wilds of the universe. Helen cherished this idea. It was a notion that could redeem a violently, capriciously abbreviated life. “One day I actually thought, <i>What if there’s a hierarchy and Bobby’s a part of that, and he just came down as a human for a bit? </i>”</p><p>She and Bob Sr. began watching <i>Supernatural </i>and<i> Buffy the Vampire Slayer</i>, shows they’d never have imagined watching before.</p><p>And here in this world, Helen came to understand that there was nothing to be gained by bottling up her grief. At age 60, she took up running, not only because it felt good but because it allowed her to cry. She started expressing herself more. She noticed one day that the tempest of grievances she unloosed in her therapist’s office were all so trivial, so petty, so <i>pointless</i>. What was she getting so worked up about?</p><p>Now she’s doing the very thing the self-help books tell you to do: letting stuff go. She tells me about a friend whose towering self-involvement used to infuriate her. But recently, she chatted with her on the phone and decided just to enjoy the good bits.</p><p>Wow, I say. What makes you so forgiving?</p><p>“It wasn’t serving me well.”</p><p><span>You know what </span>radical acceptance is? Living with a husband who has dedicated his life to spreading the word that the United States deliberately orchestrated the collapse of the World Trade Center and then conspired to cover it up. Forget all the chipper advice columns about how to get along with your Trump-loving uncle at Thanksgiving. How do you get on in your decades-long marriage after your son has died and your spouse wakes up each morning livid as an open wound and determined to expose the truth?</p><p>Helen would be lying if she said this didn’t cause friction.</p><p>“There were many moments where I was like, <i>Oh, please</i>,” she says. She was perfectly open to some of the things Bob Sr. said. “But a lot of it was emotional, and a lot of it, I couldn’t trace to find out myself, and I’m not a go-on-a-website kind of person. I didn’t want to burst his bubble by constantly saying, ‘Well, did you check, is it a valid website?’ ”</p><p>Perhaps the more challenging issue, the nuts-and-bolts-of-living-in-a-marriage issue, was daily conversation. Bob Sr.’s single-minded focus meant that any conversation could segue without warning into September 11. She’d come downstairs and tell him she was thinking about buying a new sweater; he’d reply by asking if she knew that the government had lied about the actual date of Osama bin Laden’s death.</p><p>“So has it gotten in the way?” she asks. “Yeah, many times. We’d be going somewhere, and I’d say to Bob, ‘You <i>cannot</i> talk about 9/11.’ And he’d say, ‘Well, they ask me about it.’ I fell for that for the first 99 times until my therapist said, ‘That’s not good enough.’ When we’re out at a social event, we’re out. I don’t want to be always <i>victim, victim, victim</i>.”</p><p>How do you handle it now, I ask, if you feel another soliloquy coming on?</p><p>“Now I say, ‘Bob, you have the I-won’t-talk-about-anything-else-but-9/11 look on your face.’ We’ve come to a point where we can actually joke about it.”</p><p>Helen wants me to understand: There are some aspects of Bob Sr.’s obsessions that she doesn’t merely tolerate; she actively supports them. Two years ago, she listened to a presentation by Architects &amp; Engineers for 9/11 Truth and found it persuasive. It’s the other parts of his narrative, which keep evolving, that leave her at loose ends. “If I were him, I’d just stick with the buildings,” she says. I ask if she’s up-to-date on his latest theory, involving Japanese gold. She shakes her head. “I don’t even hear it,” she says. “I’m defending the person, not the view.”</p><p>Long ago, Helen realized that “9/11 truth,” as Bob Sr. likes to call it, had sunk its hooks into her husband, and she’s never thought it her place to pry them loose. “I’m very protective of him,” she says. “If he decided to be a male stripper in an old people’s home, it’s okay with me. He has to be who he has to be, because damn it, this happened, you know? And if that’s going to give him comfort—”</p><p>She interrupts herself, gives an embarrassed smile. “Get that visualization out of your head.”</p><p>Helen would never dream of abandoning this dear man. He was Bobby’s Little League coach. The one who organized races around the house when the kids were little, using a piece of tape for the finish line. Bob Sr. was her only suitor who ever suggested they play sports together—the others thought that was strictly for the fellas.</p><p>And now he’s the only other person in the world who understands what it feels like to have raised Bobby McIlvaine and lost him.</p><p>She walks me over to the wall with a giant framed poster she had custom-made for her husband five years ago. It’s a periodic table of Bob Sr., basically—dozens of images of him, all tidily laid out in a grid. Bob Sr. talking to Rosie O’Donnell. Bob Sr. giving an interview on French television. Bob Sr. speaking at a forum about the 9/11 Commission report, captured on C-SPAN. “I gave him that on his 70th birthday,” she says. She went online, punched his name into Google, and voilà. A hero’s gallery. “I love looking at it.” He’s become the superstar, strangely, that his son never had the chance to be.</p><p>Bob Sr.’s crusade may look to the outside world like madness. Helen sees it as an act of love. “He’s almost going to war for his son,” she tells me. “He’s being a father in the best way he knows how. How can I not allow that?”</p><p><span>Most theories of grief,</span> particularly the ones involving stages, are more literary than literal. People don’t mourn sequentially, and they certainly don’t mourn logically. But there’s an aspect of one of those models I keep circling back to whenever I think of the McIlvaines. It’s the “yearning and searching” stage of grief, first described by the British psychiatrists <a href="https://jamanetwork.com/journals/jama/fullarticle/205661">Colin Murray Parkes and John Bowlby</a> in the 1960s. “When searching,” Parkes writes, “the bereaved person feels and acts as if the lost person were recoverable, although he knows intellectually that this is not so.”</p><p>How Bob Sr. searches is obvious. But it occurs to me, after speaking with Helen, that perhaps her years-long preoccupation with Bobby’s final diary is her equivalent of Bob Sr.’s obsessions. “Yes!” she says when I tentatively raise the possibility. “Yes, yes. It’s ‘If I can’t have<i> this</i>, then I’ll have <i>that</i>.’ ”</p><p>Yet here’s what’s curious. Helen has two earlier diaries of Bobby’s. She also has stacks of legal pads of his writing, many with diarylike entries in them. But she’s barely dipped into them at all.</p><p>One reason is practical: They’re hard to decipher. Bobby’s handwriting is neat but small and slightly peculiar. Another is instinctive: For a long time, Helen feared that reading them would be a violation of a sacred boundary, “like going into his room without knocking.” Yet another is how much pain it causes her. “I tried today again,” she wrote in another reminiscence on the tenth anniversary of Bobby’s death. “I thought, ‘If I don’t tackle these before I’m dead, who will?’ ” She lasted 10 minutes. Bob Sr. has never looked at them at all.</p><p>“But somewhere I did find the words <i>Life loves on</i>,” Helen tells me.</p><p>I’ve been meaning to ask her about this, because I’m now reading Bobby’s diaries and legal pads, and I can’t find the phrase anywhere. Does she still not know where it came from?</p><p>She doesn’t. She thought he’d written it about a close family friend who’d died, but she was wrong. I tell her I’ll keep looking.</p><p>I take one of the two diaries back to my hotel that night. And I realize, as I’m reading, that there’s probably another reason Helen never dug too deep into either one of them. They’re from his freshman and sophomore years of college, when he was still a proto-person, still essentially a kid. He was clearly older when he scribbled in some of those legal pads, but they’re chaotic and undated. Only the diaries feel manageable and chronological, and they read like the musings of a boy in his late teens—florid, soulful, a little mushy. He doesn’t sound at all like the Bobby of September 11, 2001, who was almost 27 years old.</p><p>Yet I still get a kick out of them, and those chaotic legal pads, especially the parts about writing. Even at 19, Bobby was trying to find his voice, sometimes shifting from the first person to the third to see if he liked it better (and then saying so in the margins—<i>third-person experiment!</i>). They’re filled with exhortations and reminders to himself: <i>I need to stay true to my voice, whatever it is. I write horrible stuff in other people’s voices. </i>And my favorite: <i>Hope is even more important than talent</i>.</p><p>There’s also tons of beautiful stuff about his family. This may be what astonishes me most, given that Bobby was in late adolescence, a time when most kids morph into ruthless family vivisectionists. Yet he devotes page after page to how much he loves and admires Helen, Bob Sr., and Jeff. In May 1995, for instance, he wrote about discovering that Bob Sr.’s father had been an alcoholic. Bobby had had no inkling. <i>He made sure that he didn’t give me the bullshit</i>, Bobby wrote of his own father.</p><div><blockquote>He made sure I had something better, and only asked that I do my best. That’s all he asked. That’s all my mom asked. And I want so badly to make them proud, even more proud than they already are. They deserve the pride. They deserve more than I can ever give them, and yet they will never ask for more than me. I love them so much.</blockquote></div><p>You can hardly blame Helen for wanting to hear what he had to say once he’d become a young man.</p><div><figure><picture></picture><figcaption>Jen Middleton, Bobby’s soon-to-be fiancée when he died, has not spoken to the McIlvaines in nearly two decades. (Danna Singer)</figcaption></figure></div><p><span>Jen Cobb, now Middleton,</span> wears her hair long, rather than in her old pixie cut, but her style and demeanor remain the same. She is still animated, still gracious, still beautiful to look at; when I walk up to her door in Washington, D.C., she greets me with a long hug. There are rescue dogs, there are sunlit rooms, there is a kitchen straight from a Nancy Meyers film. (I half-expect Meryl Streep to come gliding up with a tray of unbaked croissants.)</p><p>Jen has made for herself what is, to all outward appearances, a lovely life. But she had to assemble that life brick by brick, and she works hard to keep the joints from coming apart.</p><p>When I spoke briefly with Helen about Jen, she made an astute observation: Jen came from a family with lots of money but little love, while the McIlvaines had lots of love but little money. Jen says that yes, that’s partly true, though her mother was a loving soul; she just didn’t see enough of Jen’s life. Susan E. Cobb died on April 20, 2001, less than five months before Bobby did, of a cancer that spread slowly, then fast.</p><p>Which is to say: On September 11, Jen was already a husk of herself.</p><p>Jen’s father, her remaining parent, was highly successful but only narrowly rational, a bully and a screamer. This had predictable consequences in her romantic life: Jen always demanded complete control. She was done being bossed around.</p><p>Then along came Bobby, asking for more vulnerability and a shared say in both of their lives. Somehow, she trusted him. They first met a couple of years earlier, at the PR firm Burson-Marsteller, and around the office, he was known as the good guy who made everyone feel important. The inveterate romantic, he made <i>her</i> feel important, asking question after question about her family, writing her love notes for no reason. For her 27th birthday, on December 6, 2000, he asked my brother to scram and rearranged the furniture in their apartment to turn it into a restaurant, where he cooked her a three-course meal.</p><p>Jen would later learn that the dinner was a dry run for a proposal. She put a hold on the Ritz-Carlton in Philadelphia for October 20, 2002.</p><p>When her mother died, Jen could barely function. Her mother was the one who’d protected her from her father’s storms of rage; she was the one who’d chatted with her late at night after Jen had spent a boisterous evening out with girlfriends. Yet Bobby remained steadfastly by her side, making the intolerable seem survivable. He would be with her every step of the way. She would still be loved.</p><p>Then Bobby died. The world became a mean, untrustworthy place. “There was not one thing I could control,” she says. “Not one thing at all.”</p><p><span>Jen keeps a </span>steamer trunk of Bobby’s things in the attic above her garage. In anticipation of my arrival, she’s brought his belongings down in a turquoise canvas bag. She starts sifting through it. “There’s the diary,” she says, pointing. “The thing that caused all that trouble.”</p><p>Bobby’s other two diaries were hundreds of pages long. This one, I will shortly discover, had only 17 pages of entries. All that fuss over what was barely a pamphlet.</p><p>Then again, they’re a dense 17 pages.</p><p>Jen has no memory of getting the diary from Bob Sr. But she does remember reading it immediately, voraciously, and returning to it night after night. She remembers, too, Helen asking for it back, though the tensions didn’t start immediately. At first, everything was fine. Helen even gave her the engagement ring Bobby had bought for her. It was awkward and unceremonious—“He’d have wanted you to have this”—but Jen was grateful, and she wore it everywhere for months.</p><p>At some point, though, Helen started getting more vocal about that diary. “In hindsight, I don’t know what my problem was,” Jen says. “I was probably in pain and also grasping for control and wanted something of his that no one else had. It seems kind of ridiculous now. It’s just how I felt at the time—that it was mine and I wanted it to be mine and I didn’t want anyone else to have it. It probably felt like it was all I had left.”</p><div><figure><picture></picture><figcaption>Jen and Bobby in 2001; the ring Bobby planned to propose to Jen with. (Danna Singer; original photo courtesy of Jen Middleton)</figcaption></figure></div><p>What I had to understand about those awful, leaden days, Jen says, is that she wasn’t just depressed. She was wretched—“double grieving,” as she puts it, for her mother and then her future husband. When her mother and Bobby died in rapid succession, she fell into a deep depression, though she did her valiant best to conceal it. She still has anxiety attacks to this day. “When something upsets me,” she says, “it goes downhill fast.”</p><p>Which all makes perfect sense, I say. The only thing I can’t understand is why she refused to transcribe the nonpersonal parts of Bobby’s diary for Helen. That’s not the act of a depressed person or a grieving person. That’s the act of someone who’s angry. She must have been upset with Helen for some reason, no?</p><p>Here Jen pauses. Then she starts measuring her words. “This isn’t a knock on Helen at all,” she says. “I’m so beyond it. But at the time I remember resenting that she said, ‘You’re going to be okay, because you’re young.’ ” Jen recognized that there was a difference between their two losses. “But it felt like she was saying my grief was less important than hers. I know it was coming from a place of extreme pain, but I remember thinking, <i>How does she know I’m going to be okay? What if I’m </i>not<i> okay? What if I have a different kind of not-okay? </i>”</p><p>One thing you don’t say to a person who’s mourning, Jen tells me, is that they’re going to be okay. She might have added: Nor do you say that to a depressed person. Depression does that—convinces you that you are never going to be okay.</p><p>“Now I get it,” she says. Because of course Helen was right. Jen did find love again. But at the time, she was convinced that she wouldn’t. She considered freezing her eggs. Once, in a moment of near-hallucinatory panic, she wondered if she could get impregnated with Bobby’s DNA from strands of hair he’d left in a comb.</p><p>“It just would’ve come out better if she’d said: ‘This is really sucky for you. And I’m sorry. Chances are, you’ll meet somebody.’ I guess there was just a nicer way to say it,” she says. “However she said it set me off. Just because of my own personal shit.”</p><p>I ask if it’s possible that Helen <i>did </i>say those things, though she may have said a few artless things too. Maybe Jen missed them—or heard insults that weren’t necessarily intended as such—because she’d grown up in a house that required an extra set of threat detectors, given her father’s volatility.</p><p>“A hundred percent,” she says. “It was probably me regressing into a little, you know, tantruming child. I was mad at the world. Of course she didn’t intend to hurt me. She’s the nicest person.”</p><p>She and Helen are more similar than either of them realizes. Like Helen, Jen believed, at the time, in hiding her grief. Like Helen, she today takes refuge in the idea that Bobby’s soul is rattling about somewhere. “I’m really showing my woo-woo side here,” she says, “but I think that he’ll be back, and I’ll be back, and we’ll finish our unfinished business.”</p><p>And like Helen, she has learned to let a lot of things go. That’s one of the most ruthless lessons trauma teaches you: You are not in charge. All you can control is your reaction to whatever grenades the demented universe rolls in your path. Beginning with whether you get out of bed. “And that’s where I started my day, literally,” she says. For years.</p><p>Today, Jen is choosing to hand me Bobby’s diary as I’m walking out the door and heading back to New York. She has zero reservations about it. She says she’d like to have the original copy back, but there’s no rush; the McIlvaines are free to read all of it, free to make as many photocopies as they’d like.</p><p>“I would have done it years ago,” she tells me. “I think about them all the time.”</p><p>Before I leave, I ask if she remembers where the phrase <i>Life loves on</i> comes from. She looks at me blankly. “I don’t even remember him <i>saying</i> that. Is it in a book that he liked or something?” Tried that, I say. Searched Google Books. Nope. “Or was it a hymn?” Hymns aren’t my strong suit, but I don’t think so. I tell her that the McIlvaines are certain Bobby wrote it somewhere, but never mind, this is not her problem. I’ll keep looking.</p><p><span>Memories of traumatic experiences</span> are a curious thing. Some are vivid; some are pale; pretty much all of them have been emended in some way, great or small. There seems to be no rhyme or reason to our curated reels. We remember the trivial and forget the exceptional. Our minds truly have minds of their own.</p><p>Jeff, for instance, remembers that Jen stayed at his parents’ house for half a year after Bobby died, while Helen says it was one week, and Jen thinks it was probably two months.</p><p>Or here’s another: Jen remembers that Jeff gallantly slept in Bobby’s childhood bedroom while she stayed with them, so that she wouldn’t have to be traumatized by waking up to all of Bobby’s things, while Jeff remembers <i>her</i> sleeping in Bobby’s bedroom, and bravely waking up each day to all of Bobby’s things.</p><div><figure><picture></picture><figcaption>“I knew that if this ruined <em>my</em> life, <em>his</em> whole life was worthless,” Jeff McIlvaine says. “I wanted to work very hard to make sure that I had a good life.” (Danna Singer)</figcaption></figure></div><p>And strangest of all: Though no one can remember where <i>Life loves on</i> came from, everyone—and I do mean everyone (Jen, Jeff, Bob Sr., and Helen)—once knew.</p><p>It’s from Jen’s eulogy. Which she based on Bobby’s diary. The one she kept for 20 years.</p><p>“This past week I have been searching for some sort of comfort to get me through the shock of losing the love of my life,” she told the mourners at Queen of Peace Church. “I came across one of Bob’s journals and as I opened it, I said to myself, ‘Please let there be something in here that will comfort me.’ ” Then she described finding this passage, which Bobby had written as her mother was dying. She read it aloud.</p><p><i>It is OK for people to die. It hurts, and it is a deep loss, but it is OK. Life loves on. Do not fear for those who are dying. Be kind to them. And care for them.</i></p><p>“Life loves on,” she repeated to the crowd. “After I read this, I vowed that very instant to love on in my life, just as I had made a promise to my mom to never let her be forgotten. It was a way that I could extend a life cut short.”</p><p>The only reason I know this is because my brother found a copy of Jen’s eulogy. Jen had tossed hers out. She is not, as she says, a saver.</p><p>Somehow she’d completely forgotten those words, as well as their provenance. And the McIlvaines had forgotten where they came from, too, even though Helen wears them in an engraved bracelet and Bob Sr. enshrined them on his skin.</p><p>Then I remembered what Helen told me about Jen: <i>She became a nonperson to me</i>. She kept the words. But not Jen. She buried her future daughter-in-law too that year, just as she did her son.</p><p><span>Helen recently told me</span> a story about a long weekend she’d spent with Jen, maybe 10 days before Bobby died. The whole family was vacationing in Cape May. She, Bobby, and Jen were sitting on the beach, staring at the waves, with Bobby in the middle. It was a moment of gentle bliss. Helen turned ever so slightly toward Bobby to run her hand through his hair. But at that exact same moment, that very second, Bobby turned to do the same to Jen.</p><p>It was then that Helen realized Bobby wasn’t hers anymore. “I said to myself, <i>You gotta go take a walk and look at the real estate on the beach</i>,” she told me.</p><p>In Bobby’s early diaries, the McIlvaine family may show up everywhere. But not in this diary. This diary is primarily about two things. And one of them is Jen.</p><div><blockquote><p><span>February 18, 2001:</span> I love her, deeply. We communicate so well. We resolve splits between us so well. And all of this means a lot.</p> <p><span>April 11, 2001:</span> I miss Jen. “Big” part of my life, or descriptions of how much she means to me do not suffice.</p> <p><span>April 22, 2001 (two days after jen’s mother died): </span>I am so sorry, Jen. So sorry for your hurt. I know it is hard. I’ll be here by your side—here to love you, to listen to you, to hold you when you need to cry.</p></blockquote></div><p>It’s no wonder Jen didn’t want to part with this diary. Or that she read it every night.</p><p>Helen recognized this immediately. I sent her a couple of xeroxed copies after I returned to New York.</p><p>“The Jen piece was huge to me,” she says, when we have a chance to talk. “I thought of this in the middle of the night: She loses this guy that she loves—and most importantly, who loves her. Now, where is the <i>proof </i>that he loves her? I mean, okay, the mother gives her the ring. That’s good. But there are these wonderful words: <i>I love her deeply</i>.” She marvels. “I never thought about that. Never. That she needed that, that validation.”</p><p>She also recognizes what the diary is missing. “He didn’t say, <i>I love my parents too</i>. He said,<i> I love her deeply</i>.” Bobby was all grown up.</p><p>Helen now wonders about her own behavior in those awful months. She tried to show Jen affection. But she’d only had sons. She didn’t <i>speak</i> daughter. And that reserve she was describing to me earlier, the reserve I didn’t believe she had—it was very real. “What happens is, I have intentions sometimes and forget to say the words,” she says. “She had to guess what was in my head.”</p><p>At any rate, Helen is now clear on one very important point. “It would have been beyond Jen’s ability, even if she was in a good mood, to say, ‘Okay, here, I’m giving it back.’ I really would have had to give her at least pieces of that, somehow. That wasn’t for me to own. I really mean that.”</p><p>For years, Jen had been painted as a villain for holding on to this diary. Yet there never would have been a dispute if she had already been Bobby’s wife, or perhaps even his official fiancée. But Jen was suspended between worlds, without influence or status. “It must have felt horrible,” Helen says.</p><p>The final entry in Bobby’s diary is dated September 6, 2001. It fills the whole page. When I first read it, I was disoriented. Then I realized what it was. “I feel completely unprepared. Should I rehearse?” it begins.</p><div><blockquote>It should go something like this: Do you have a few minutes to talk? First, I’d like to say that it has been a pleasure—or maybe a great experience—or do I mention Jen first? Or, I have developed a very strong relationship with Jen, and along the way it has been great to spend time in Michigan … OR … yes—I’ve had the chance to grow close to Jen, and after a lot of very serious thought, and after talking to her too, I felt that it is time to make a commitment to her. OR—after a good deal of serious thought … AND … out of respect for you as head of the family …</blockquote></div><p>What I was reading was a script. Filled with fits and starts, but eventually he got there. Bobby was struggling to find the words to say to Jen’s father, whom he’d see on September 9, to ask for her hand.</p><p><span>At some point, </span>not long after Jen gave me Bobby’s diary, I sent a note to my editor, telling him that I had found, at long last, the elusive <i>Life loves on</i>. I took a photo of the passage and sent it to him.</p><p><i>Amazing</i>, he texted.</p><p>But then, three pulsing dots in a bubble. He was still typing.</p><p><i>Except … I think it is (sort of) a misapprehension. Look how he writes his I’s in other words. I think it says “Life **lives** on.” But hard to say for sure</i> <i>… </i></p><p>It wasn’t hard to say. He was right. I went through the whole diary again. On just the page before, Bobby had written, <i>I lived too long without thinking of “the markets” to suddenly care</i>. But it looks like “I <i>loved </i>too long …” His <i>I </i>’s look like backwards <i>J </i>’s, which can be mistaken for <i>O</i>’s, while his real <i>O</i>’s stand alone, like baby moons.</p><p>I texted Jen the same photograph I sent my editor. At first, she didn’t see it. Then she did. Her initial reaction was the same as mine: anxiety, despair in the form of an expletive. Then:</p><p><i>Still makes me smile</i></p><p>I did. The phrase certainly sounded like something Bobby <i>could </i>have said. It was very Yoda, and Bobby was definitely very Yoda, spouting his little aphorisms about the drives of the human heart. To me, it was the difference between the spirit of the law and the letter of the law, or maybe what we do when we intensify the color of an image on our iPhone. We’re not trying to create a fake; we’re trying to align the image with the one that already lives in our memory.</p><p>We are always inventing and reinventing the dead.</p><p>You could make a case, weirdly, that Jen’s withholding of the diary for all these years turned out to be a blessing. If she’d given it to Helen, it’s possible Helen would have tucked it away in her safe for 10 years and barely read it, just as she did the other two diaries. Or maybe she’d have read it, but she wouldn’t have <i>mis</i>read it.</p><p>Instead, Jen misread it, formed a eulogy around it, and handed the McIlvaine family an organizing motto for their grief for 20 years.</p><p>I still debated not telling the McIlvaines. I mean, the bracelet, the tattoo. But in a phone conversation with Helen soon after, I sensed an opening. I mentioned that I wasn’t sure I was going to write about <i>Life loves on</i>. She quickly intuited that something was amiss. “Because it was from somebody else?” she asked.</p><p>Kind of, I said. And I explained.</p><p>Helen was fine with it. She sees the unlikely beauty of this misunderstanding, even how it was a gift. But she holds out the possibility that the phrase still lurks somewhere. She remembers it as <i>Life </i>truly<i> loves on</i>, for one thing. And it’s possible that I could have missed it in the hundreds of pages of Bobby’s first two diaries. There are probably some missing diaries, too—why did he stop keeping them in 1995, only to resume in 2001?</p><p>So really, who’s to say?</p><div><figure><picture></picture><figcaption>In Bobby’s final diary entry, a few days before 9/11, he was working</figcaption></figure></div><p><span>L<i>ife lives on</i><em>, Life loves on</em></span>—to me, it’s irrelevant. There are far more beautiful observations in the recovered diary than that one, and they’re prescient, eerie—much more germane to the McIlvaines’ story once Bobby was gone.</p><p>Because the other thing his diary is about, the second thing, is grief.</p><p>In this way, the diary isn’t just a time capsule. It’s a crystal ball. Through an extraordinary twist of fate, Bobby spent his final few months thinking about what it meant to live with loss. He saw, through Jen, that it could render you angry, irritable, skinless. He saw that grief could utterly consume. He wondered what the utility of all this sadness was, all this suffering. <i>Why do we have to hurt so badly?</i> he wrote. <i>Is that the way the person we lost would have wanted it to be?</i></p><p>At one point, he guiltily wished that Jen would just make a choice to seize control of the things she could.</p><p>Yet somewhere amid all the passages of exasperation and dread—and many of them are quite detailed—Bobby comes to a much larger realization. It’s an epiphany, I’m guessing, that made it possible for him to stick with his plan to ask Jen’s father for permission to marry her, though he seriously questioned during those months whether she was ready. The date was August 20, 2001.</p><p><i>There are people that need me. And that, in itself, is life. There are people I do not know yet that need me. That is life.</i></p><p>To me, <i>that </i>is the most profound quote from the recovered diary. <i>That </i>is Bobby as Yoda. <i>That </i>is Bobby at his very finest, his most humane, his most mature. He understood that our commitments to one another are what we’re here for—<i>and that, in itself, is life</i>. Even when those commitments are hard. Even when they cause us pain.</p><p><span>One hesitates to say this.</span> But if there was any path forward for the McIlvaine family, it was probably going to be through Jeff. Helen was careful never to burden him with expectations about marriage or kids—“You cannot put <i>anything </i>on the other child,” she tells me—and he appreciated that. But it was thanks to Jeff, I think, that Bob Sr. and Helen started to muddle their way out of the dark. There were people they did not know yet who needed them. Among those people were their four grandbabies. The oldest one is named Bobby.</p><p>At 22, Jeff had a profound insight. “I remember thinking on that first day: <i>I can’t let this ruin me</i>. ’Cause then what would Bobby think? Imagine if he knew that my parents and his brother were never able to recover. Imagine how bad that would make him feel.”</p><p>He was reflexively answering the very question Bobby had asked as he watched Jen struggle with her grief: <i>Why do we have to hurt so badly? Is that the way the person we lost would have wanted it to be? </i>Jeff had a very clear answer: No. He had too much of his own life left to go. “I knew that if this ruined<i> my </i>life, <i>his</i> whole life was worthless,” he says. “I wanted to work very hard to make sure that I had a good life.”</p><p>It was so hard at first. “I remember I felt a responsibility to not die, which is a weird thing,” he tells me. At the same time, he felt guilty for being the child who didn’t die, thinking often of the dream sequence in <i>Stand by Me </i>when the father snarls “It should have been you” to his surviving son. He told no one at his first real job that his brother had died on September 11, because too many people were eager to share their own stupid stories about that day, always with happy endings. This delayed his ability to grieve for years.</p><p>But eventually, he built a rich, fulfilling life. He married a woman who could not only subdue his pain but enter an entire grieving ecosystem. He had four kids—four! two boys, two girls—and oh, the relief of not having to focus on himself!</p><p>I ask if he would have had that many kids if Bobby hadn’t—</p><p>“No. I don’t think I would have.” Jeff lost his only sibling. He never wants any child of his to be in that position, should lightning ever restrike. “When you go through something like this,” he says, “you realize that family—it’s the <i>only </i>thing.”</p><p>Those kids are now at the center of the McIlvaines’ lives—even Bob Sr., who has chosen a path of daily suffering. As our conversation was winding down, he said something that stunned me: This 20th-anniversary year—a big one for the people in his world, filled with TV interviews and conferences—may be his last of 9/11 activism.</p><p>I wasn’t sure I believed it. I remain unsure. This has been his life for 20 years. Still: Maybe it’s time for a change. “I’m sick of being angry,” he told me. “That’s the beauty of my life now. I can really separate. I truly can. To be out to lunch with Penelope …”</p><p>Penelope is his youngest granddaughter. He and Helen had lunch with her every Wednesday after preschool before the pandemic. Jeff and his wife and children rely so heavily on Bob and Helen that they recently rented an apartment five minutes from Jeff’s house, though they live less than an hour away.</p><p>Helen can’t get over having little girls in her life. They have so many opinions! She still gets depressed sometimes. She’ll have a beautiful moment, then realize that Bobby isn’t here to share it. “But then it’ll go away,” she says. “I mean, being needed—not everybody gets four grandkids.”</p><p>Yes. Being needed. That is everything.</p><p><span>Bobby would have been</span> 46 this September. Jeff used to have vivid dreams about him, and man, how he loved them. They were brothers again, just talking, resuming their old rhythms and habits. But he seldom has those dreams anymore. “I haven’t seen him in 20 years, you know?”</p><p>He says he almost wishes sometimes that he could trade his current well-being for the suffering he felt 20 years ago, because Bobby was so much easier to conjure back then, the sense-memories of him still within reach. “No matter how painful September 11 was,” he explains, “I had just seen him on September 6.”</p><p>It’s the damnedest thing: The dead abandon you; then, with the passage of time, you abandon the dead.</p><p>It’s really not surprising that Jeff should have this fantasy from time to time, to trade his happiness for just one chance to see Bobby again in a warmer hue. As Bobby wrote in that last diary, suffering, or the prospect of it, is the price we’re willing to pay for the bonds we make.</p><p>Helen has found herself in the grip of a similar reverie. Recently, she was out with her limping group, and as she was looking around the table, staring in gratitude at these women who have held her up these past 20 years, a thought occurred to her. “I wondered, <i>What if God said, ‘Okay, look, we gotta rewind here.’ Would we go through all of this again? </i>”</p><p>Would they be willing to relive their same lives, give birth to those same children, fall in love with them and then lose them a second time? “And I know that every single one of them would have said, emphatically, yes.”</p><p>For Helen, nothing in this world has rivaled the experience of raising her two boys. One of them, Robert George McIlvaine, died before his life truly began. But what would she have done without him, or he without her? For 26 years, she got to know this boy, to care for him, to love him. It was a privilege. It was a gift. It was a bittersweet sacrifice. <i>And that, in itself, is life.</i></p><hr/><p><small><i>This article appears in the September 2021 print edition with the headline “Twenty Years Gone.”</i></small></p></section></article></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 21:46:40 +0000</pubDate>
      <source>https://www.theatlantic.com/magazine/archive/2021/09/twenty-years-gone-911-bobby-mcilvaine/619490/</source>
    </item>
    <item>
      <title>Open-sourcing a more precise time appliance</title>
      <link>https://engineering.fb.com/2021/08/11/open-source/time-appliance/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___engineering_fb_com_2021_08_11_open-source_time-appliance_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>

		<ul>
<li aria-level="1"><span>Facebook engineers have built and open-sourced an Open Compute Time Appliance, an important component of the modern timing infrastructure.</span></li>
<li aria-level="1"><span>To make this possible, we came up with the Time Card — a PCI Express (PCIe) card that can turn almost any commodity server into a time appliance. </span></li>
<li aria-level="1"><span>With the help of the OCP community, we established the </span><a href="http://ocptap.com"><span>Open Compute Time Appliance Project</span></a><span> and open-sourced every aspect of the </span><a href="http://opentimeserver.com/"><span>Open Time Server</span></a><span>.</span></li>
</ul>
<p><span>In March 2020, we announced that we were in the process of switching over the servers in our data centers (together with our consumer products) to </span><a href="https://engineering.fb.com/2020/03/18/production-engineering/ntp-service/"><span>a new timekeeping service based on the Network Time Protocol (NTP)</span></a><span>. The new service, built in-house and later open-sourced, was more scalable and improved the accuracy of timekeeping in the Facebook infrastructure from 10 milliseconds to 100 microseconds. </span><span>More accurate time keeping enables more advanced infrastructure management across our data centers, as well as faster performance of distributed databases.</span></p>
<p><span>The new NTP-based time architecture uses a </span><a href="https://engineering.fb.com/2020/03/18/production-engineering/ntp-service/"><span>Stratum 1</span></a><span> — an important component that is directly linked to an authoritative source of time, such as a global navigation satellite system (GNSS) or a cesium clock.</span></p>
<p></p>
<p><span>Many companies rely on public NTP pools such as time.facebook.com to act as their Stratum 1. However, this approach has its drawbacks. These pools add dependency on internet connectivity and can impact overall security and reliability of the system. For instance, if connectivity is lost or an external service is down, it can result in outages or drift in timing for the dependent system.</span></p>
<p><span>To remove these dependencies, we’ve built a new dedicated piece of hardware called Time Appliance, which consists of a GNSS receiver and a miniaturized atomic clock (MAC). Users of time appliances can keep accurate time, even in the event of GNSS connectivity loss. While building our Time Appliance, we also invented a Time Card, a PCIe card that can turn any commodity server into a time appliance.</span></p>
<h2><span>Why do we need a new time device?</span></h2>
<p><span>Off-the-shelf time appliances have their own benefits. They work right out of the box and because many of these devices have been on the market for decades, they are battle-tested and generally stable enough to work without supervision for a long time.</span></p>
<p><span>However, these solutions also come with trade-offs:</span></p>
<ul>
<li aria-level="1"><span>In most cases, they are outdated and often vulnerable to software security concerns. Feature requests and security fixes may take months or even years to implement.</span></li>
<li aria-level="1"><span>These devices come with closed source software, which makes configuring and monitoring them limited and challenging. While configuration is done manually via a proprietary CLI or Web UI, monitoring often uses SNMP, a protocol that was not designed for this purpose.</span></li>
<li aria-level="1"><span>They include proprietary hardware that is not user-serviceable. When a single component breaks, there is no easy way to replace it. You have to either ship it to the vendor for repair or buy an entire new appliance.</span></li>
<li aria-level="1"><span>Since off-the-shelf devices are made in low quantities, they come with a higher markup and can become very costly to operate over time. The high cost associated with off-the-shelf devices create limitations for many in the industry. An open source version would open the door to broader applications.</span></li>
</ul>
<p><span>Until now, companies have had to accept these trade-offs and work within the constraints described above. We</span> <span>decided it was time to try something different, so we took a serious look at what it would take to build our new Time Appliance — specifically, one using the x86 architecture.</span></p>
<h2><span>Prototyping the Time Appliance </span></h2>
<p><span>Here’s a block diagram of what we envisioned:</span></p>
<p><span> </span><span><br/>
</span><span>It all starts from a GNSS receiver that provides the time of day (ToD) as well as the one pulse per second (PPS). When the receiver is backed by a high-stability oscillator (e.g., an atomic clock or an oven-controlled crystal oscillator), it can provide time that is nanosecond-accurate. The time is delivered across the network via an off-the-shelf network card which supports PPS in/out and hardware time stamping of packets, such as the NVIDIA Mellanox ConnectX-6 Dx used in our initial appliance.</span></p>
<p><span>The output of the GPS disciplined oscillator (GPSDO) was fed into the EXT time-stamping of the ConnectX-6 Dx network card. In addition, the GNSS receiver provides the ToD via a serial port and a popular GPS reporting protocol called NMEA. Using </span><span>ts2phc</span><span> tool allowed us to synchronize the physical hardware clock of the network interface controller (NIC) down to a couple of tens of nanoseconds, as shown below:</span></p>
<p></p>
<p><span>Our prototype gave us confidence that building such an appliance was possible. However, there was a lot of room for improvement.</span></p>
<p><span>To increase the reliability of the system, we divided it into two major parts: payload and delivery. The payload is the precision time that is essentially an interpolation system driven by a local oscillator to create nanoseconds of time measurement between consecutive PPS signals received by the GNSS receiver. We considered putting the GNSS receiver, the high-stability local oscillator, and the necessary processing logic into a PCIe form factor, and we called it the Time Card.</span></p>
<p></p>
<p><span>Here is the sketch of the Time Card we initially envisioned on a napkin:</span></p>
<p></p>
<p><span>We used an onboard MAC, a multiband GNSS receiver, and a field-programmable gate array (FPGA) to implement the time engine. The time engine’s job is to interpolate in nanoseconds the granularity required between consecutive PPS signals. The GNSS receiver also provides a ToD in addition to a 1 PPS signal. In the event of the loss of GNSS reception, the time engine relies on the ongoing synchronization of the atomic clock based on an average ensemble of the consecutive PPS pulses. </span></p>
<p><span>The time engine consists of a set of processing blocks implemented on the FPGA of the Time Card. These processing blocks include various filtering, synchronization, error checking, time-stamping, and PCIe-related subsystems to allow the Time Card to perform as a system peripheral that provides precision time for the open time server.</span></p>
<p><span>It should be noted that the accuracy of a GNSS receiver is within tens of nanoseconds, while the required ongoing synchronization (calibration) of the MAC is within 10 picoseconds (1,000 times more accurate). </span></p>
<p><span>At first, this sounds impossible. However, the GNSS system provides timing based on continuous communication with standard time. This ability allows the GNSS onboard clock to be constantly synchronized with a source of time provided to its constellation, giving it virtually no long-term drifting error. Therefore, the MAC’s calibration is performed via a comparison of a MAC-driven counter and the GNSS-provided PPS pulse. Taking more time for the comparison allows us to achieve a higher precision of calibration for the MAC. Of course, this is with the consideration that the MAC is a linear time invariant system.</span></p>
<p></p>
<p><span>In this block diagram, you can see a 10 MHz signal from the rubidium clock entering the time engine. This clock signal can be replaced by a 10 MHz SMA input. The clock signal feeds into a digital clock module and a digital PLL (12.5x resulted from 25 up and divided by 2), resulting in a 125 MHz frequency. The 125 MHz (8-nanosecond periods) feeds into the ToD unit.</span></p>
<p></p>
<p><span>The ToD unit associates the 8-nanosecond increments in digital values of 0b000001 since the LSB (least significant bit) is associated to 250 picoseconds (driven from 32 bits of subsecond accuracy on the gPTP).</span></p>
<p><span>On the other hand, the PPS signal coming filtered from the GNSS is used to snapshot the result of the increments. If the 125 MHz is accurate, the accumulated increments should result in exactly 1-second intervals. However, in reality, there is always a mismatch between the accumulated value and a theoretical 1-second interval.</span></p>
<p><span> </span><span><br/>
</span><span>The values can be adjusted using an internal PI (proportional and integral) control loop. The adjustment can be done by either altering the 0b000001 value by steps of 250 picoseconds or fine-tuning the 12.5x PPL. In addition, further (more finely tuned) adjustments can be applied by steering the rubidium oscillator. </span></p>
<p><span>The longer a GNSS isn’t available, the more time accuracy is lost. The rate of the time accuracy deterioration is called holdover. Usually, holdover is described as a timeframe for accuracy and how long it takes to exceed it. For example, the holdover of a MAC is within 1 microsecond for 24 hours. This means that after 24 hours, the time accuracy is nondeterministic but accurate within 1 microsecond.</span></p>
<p><span>As an alternative approach, we are counting on the new generation of chip-scale and miniaturized atomic clocks with their capability to receive PPS inputs. This allows the time engine of the Time Card to hand off the ultraprecision syntonization of the high-stability oscillator to the component rather than use digital resources to reach the target. </span></p>
<p><span>As a general principle, the more accurate the tuning, the better the holdover performance that can be achieved. In terms of delivery, using a NIC with precision timing ensures that network packets receive very accurate time stamps, which is critical for keeping the time precise as it is shared with other servers across the network. Such a NIC can also receive a PPS signal directly from the Time Card.</span></p>
<p><span>After conceptualizing the idea and various implementation iterations, we were able to put together a prototype. </span></p>
<p></p>
<h2><span>The Time Appliance in action</span></h2>
<p><span>The Time Card allows any x86 machine with a NIC capable of hardware time-stamping to be turned into a time appliance. This system is agnostic to whether it runs for NTP, PTP, SyncE, or any other time synchronization protocol, since the accuracy and stability provided by the Time Card is sufficient for almost any system. </span></p>
<p><span></span></p>
<p><span>The next step would be to install Linux. The Time Card driver is included in Linux kernel </span><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=773bda96492153e11d21eb63ac814669b51fc701"><span>5.15</span></a><span> or newer. Or, it can be built from the</span><a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Time-Card/DRV"> <span>OCP GitHub repository</span></a><span> on kernel 5.12 or newer.</span></p>
<p><span>The driver will expose several devices, including the PHC clock, GNSS, PPS, and atomic clock serial:</span></p>
<pre><code>$ ls -l /sys/class/timecard/ocp0/
lrwxrwxrwx. 1 root    0 Aug  3 19:49 device -&gt; ../../../0000:04:00.0/
-r--r--r--. 1 root 4096 Aug  3 19:49 gnss_sync
lrwxrwxrwx. 1 root    0 Aug  3 19:49 i2c -&gt; ../../xiic-i2c.1024/i2c-2/
lrwxrwxrwx. 1 root    0 Aug  3 19:49 pps -&gt; ../../../../../virtual/pps/pps1/
lrwxrwxrwx. 1 root    0 Aug  3 19:49 ptp -&gt; ../../ptp/ptp2/
lrwxrwxrwx. 1 root    0 Aug  3 19:49 ttyGNSS -&gt; ../../tty/ttyS7/
lrwxrwxrwx. 1 root    0 Aug  3 19:49 ttyMAC -&gt; ../../tty/ttyS8/
</code></pre>
<p><span>The driver also allows us to monitor the Time Card, the GNSS receiver, and the atomic clock status and flash a new FPGA bitstream using the <code>devlink</code> cli.</span></p>
<p><span>The only thing left to do is to configure the NTP and/or PTP server to use the Time Card as a reference clock. To configure chrony, one simply needs to specify <code>refclock</code> attribute:</span></p>
<pre><code>$ grep refclock /etc/chrony.conf
refclock PHC /dev/ptp2 tai poll 0 trust
</code></pre>
<p><span>And enjoy a very precise and stable NTP Stratum 1 server:</span></p>
<pre><code>$ chronyc sources
210 Number of sources = 1
MS Name/IP address         Stratum Poll Reach LastRx Last sample
===============================================================================
#* PHC0                          0   0   377     1     +4ns[   +4ns] +/-   
36ns
</code></pre>
<p><span>For the PTP server (for example, </span><a href="https://github.com/facebookincubator/ptp"><span>ptp4u</span></a><span>) one will first need to synchronize Time Card PHC with the NIC PHC. This can be easily done by using the <code>phc2sys</code> tool which will sync the clock values with the high precision usually staying within single digits of nanoseconds:</span></p>
<pre><code>$ phc2sys -s /dev/ptp2 -c eth0 -O 0 -m</code></pre>
<p><span>For greater precision, it’s recommended to connect the Time Card and the NIC to the same CPU PCIe lane. For greater precision, one can connect the PPS output of the Time Card to the PPS input of the NIC.</span></p>
<p><span>To validate and confirm the precision, we’ve used an external validation device called Calnex Sentinel connected to the same network via several switches and an independent GNSS antenna. It can perform PPS testing as well as NTP and/or PTP protocols: </span></p>
<p></p>
<p><span>The blue line represents NTP measurement results. The precision stays within ±40 microseconds throughout the 48-hour measurement interval.</span></p>
<p><span>The orange line represents PTP measurement results. The offset is practically 0 ranging within nanoseconds range.</span></p>
<p><span>Indeed, when we compare 1 PPS between Time Card output and the internal reference of the Calnex Sentinel, we see that the combined error ranges within ±200 nanoseconds:</span></p>
<p></p>

<p><span>But what’s even more important is that these measurements demonstrate stability of the Time Appliance outputs.</span></p>
<p><span>In the event of the GNSS signal loss, we need to make sure the time drift (aka holdover) of the atomic-backed Time Card stays within 1 microsecond per 24 hours. Here is a graph showing the holdover of the atomic clock (SA.53s) over a 24-hour interval. As you can see, the PPS drift stays within 300 nanoseconds, which is within the atomic clock spec.</span></p>
<p></p>
<p><span>The modular design of the Time Card allows the swap of the atomic clock with an oven-controlled crystal oscillator (OCXO) or a temperature compensated crystal oscillator (TCXO) for a budget solution with the compromise on the holdover capabilities. </span></p>
<h2><span>Open-sourcing the design of the Time Appliance</span></h2>
<p><span>Building a device that is very precise, inexpensive, and free from vendor lock was an achievement on its own. But we wanted to have a greater impact on the industry. We wanted to truly set it free and make it open and affordable for everyone, from a research scientist to a large cloud data center. That’s why we engaged with the Open Compute Project (OCP) to create a brand-new </span><a href="http://www.ocptap.com/"><span>Time Appliance Project</span></a><span> (TAP). Under the OCP umbrella, we open-sourced at the Time Appliance Project </span><a href="https://github.com/opencomputeproject/Time-Appliance-Project"><span>GitHub repository</span></a><span>, including the specs, schematics, mechanics, BOM, and the source code. Now, as long as printing the PCB and soldering tiny components does not sound scary, anyone can build their own Time Card for a fraction of the cost of a regular time appliance. We also worked with several vendors such as </span><a href="https://www.orolia.com/about-the-atomic-reference-time-card-art-card/"><span>Orolia</span></a><span> who will be building and selling time cards, and NVIDIA who are selling the precision timing-capable ConnectX-6 Dx (and the precision timing-capable BlueField-2 DPU).</span></p>
<p><span>We published an Open Time Server spec at </span><a href="http://www.opentimeserver.com"><span>www.opentimeserver.com</span></a><span>, which explains in great detail how to combine the hardware (Time Card, Network Card, and a commodity server) and the software (OS driver, NTP, and/or PTP server) to build the Time Appliance. Building an appliance based on this spec will give full control to the engineers maintaining the device, improving monitoring, configuration, management, and security.</span></p>
<p><span>The Time Appliance is an important step in the journey to improve the timing infrastructure for everyone, but there is more to be done. We will continue to work on other elements, including improving the precision and accuracy of the synchronization of our own servers, and we intend to continue sharing this work with the Open Compute community.  </span></p>

		
	</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 11:37:48 +0000</pubDate>
      <source>https://engineering.fb.com/2021/08/11/open-source/time-appliance/</source>
    </item>
    <item>
      <title>The Ancient Persian way to keep cool</title>
      <link>https://www.bbc.com/future/article/20210810-the-ancient-persian-way-to-keep-cool</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_bbc_com_future_article_20210810-the-ancient-persian-way-to-keep-cool/image.jpg" /> 
<div id="readability-page-1" class="page"><div><div><section id="futurearticle20210810-the-ancient-persian-way-to-keep-cool"><div id="headline-futurearticle20210810-the-ancient-persian-way-to-keep-cool"><div><p>The ancient Persian way to keep cool</p></div><div><picture><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rtttz.webp" type="image/webp"/><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rtttz.jpg" type="image/jpeg"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rtttz.webp" type="image/webp"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rtttz.jpg" type="image/jpeg"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rtttz.webp" type="image/webp"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rtttz.jpg" type="image/jpeg"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rtttz.webp" type="image/webp"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rtttz.jpg" type="image/jpeg"/></picture></div></div><div><div><div><article><div><p>From ancient Egypt to the Persian Empire, an ingenious method of catching the breeze kept people cool for millennia. In the search for emissions-free cooling, the &#34;wind catcher&#34; could once again come to our aid.</p><div><div><p>T</p><div><div><p>The city of Yazd in the desert of central Iran has long been a focal point for creative ingenuity. Yazd is home to a system of ancient engineering marvels that include an underground refrigeration structure called <em><a href="https://theculturetrip.com/middle-east/articles/this-ancient-technique-to-make-ice-in-the-desert-is-mind-boggling/">y</a><a href="https://theculturetrip.com/middle-east/articles/this-ancient-technique-to-make-ice-in-the-desert-is-mind-boggling/">akhchāl</a></em>, an underground irrigation system called <em><a href="https://www.bbc.com/travel/article/20180619-irans-ancient-engineering-marvel">qanats</a></em>, and even a network of couriers called <em><a href="https://www.bbc.com/travel/article/20200624-iran-the-surprising-origins-of-the-postal-service">pirradaziš</a></em> that predate postal services in the US by more than 2,000 years.</p>
<p>Among Yazd&#39;s ancient technologies is the wind catcher, or <em>bâdgir</em> in Persian. These remarkable structures are a common sight soaring above the rooftops of Yazd. They are often rectangular towers, but they also appear in circular, square, octagonal and other ornate shapes.</p>
<p>Yazd is said to have the most wind catchers in the world, though <a href="https://www.bbc.com/travel/article/20180926-an-ancient-engineering-feat-that-harnessed-the-wind">they may have originated in ancient Egypt</a>. In Yazd, the wind catcher soon proved indispensable, making this part of the hot and arid Iranian Plateau livable.</p>
<p>Though many of the city&#39;s wind catchers have fallen out of use, the structures are now drawing academics, architects and engineers back to the desert city to see what role they could play in keeping us cool in a <a href="https://www.bbc.co.uk/news/science-environment-57751918">rapidly heating world</a>.</p></div></div></div></div><div><div id="future/article/20210810-the-ancient-persian-way-to-keep-cool-p09rttxb"><div><picture><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rttxb.webp" type="image/webp"/><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rttxb.jpg" type="image/jpeg"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rttxb.webp" type="image/webp"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rttxb.jpg" type="image/jpeg"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rttxb.webp" type="image/webp"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rttxb.jpg" type="image/jpeg"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rttxb.webp" type="image/webp"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rttxb.jpg" type="image/jpeg"/></picture><div><p>The openings of the towers face the prevailing wind, catching it and funneling it down to the interior below (Credit: Alamy)</p></div></div></div></div><div><div><div><div><p>As a wind catcher requires no electricity to power it, it is both a cost-efficient and green form of cooling. With conventional mechanical air conditioning already <a href="https://www.iea.org/reports/the-future-of-cooling">accounting for a fifth of total electricity consumption globally</a>, ancient alternatives like the wind catcher are becoming an <a href="https://www.bbc.com/future/article/20190822-are-there-alternatives-to-air-conditioning">increasingly appealing option</a>.</p>
<p>There are two main forces that drive the air through and down into the structures: the incoming wind and the change in buoyancy of air depending on temperature – with warmer air tending to rise above cooler, denser air. First, as air is caught by the opening of a wind catcher, it is funneled down to the dwelling below, depositing any sand or debris at the foot of the tower. Then the air flows throughout the interior of the building, <a href="https://www.sciencedirect.com/science/article/pii/S1364032114008351">sometimes over subterranean pools of water for further cooling</a>. Eventually, warmed air will rise and leave the building through another tower or opening, aided by the pressure within the building.</p>
<p>The shape of the tower, alongside factors like the layout of the house, the direction the tower is facing, how many openings it has, its configuration of fixed internal blades, canals and height are all finely tuned to improve the tower&#39;s ability to draw wind down into the dwellings below.</p></div></div></div></div><div><div><div><div><p>Using the wind to cool buildings has a history stretching back almost as long as people have lived in hot desert environments. Some of the <a href="https://ascelibrary.org/doi/10.1061/9780784413517.161">earliest wind-catching technology comes from Egypt 3,300 years ago</a>, according to researchers Chris Soelberg and Julie Rich of Weber State University in Utah. Here, buildings had thick walls, few windows facing the Sun, openings to take in air on the side of prevailing winds and an exit vent on the other side – known in Arabic as <em><a href="https://orbi.uliege.be/bitstream/2268/167581/1/Attia_Designing%20the%20Malqaf%20for%20summer%20cooling%20in%20low-rise%20housing,%20an%20experimental%20study.pdf">malq</a><a href="https://orbi.uliege.be/bitstream/2268/167581/1/Attia_Designing%20the%20Malqaf%20for%20summer%20cooling%20in%20low-rise%20housing,%20an%20experimental%20study.pdf">af architecture</a></em>. Though some argue that <a href="https://www.bbc.com/travel/article/20180926-an-ancient-engineering-feat-that-harnessed-the-wind">the birthplace of the wind catcher was Iran itself</a>.</p>
<p>Wherever it was first invented, wind catchers have since become widespread across the Middle East and North Africa. Variations of Iran&#39;s wind catchers can be found in the <em>barjeels</em> of Qatar and Bahrain, the <em>malqaf</em> of Egypt, the <em>mungh</em> of Pakistan, and <a href="https://eprints.whiterose.ac.uk/112557/3/A%252520review%252520on%252520windcatcher%252520for%252520passive%252520cooling%252520and%252520natural%252520ventilation%252520in%252520buildings%20%281%29.pdf">many other</a><a href="https://eprints.whiterose.ac.uk/112557/3/A%252520review%252520on%252520windcatcher%252520for%252520passive%252520cooling%252520and%252520natural%252520ventilation%252520in%252520buildings%20%281%29.pdf"> places</a><a href="https://eprints.whiterose.ac.uk/112557/3/A%252520review%252520on%252520windcatcher%252520for%252520passive%252520cooling%252520and%252520natural%252520ventilation%252520in%252520buildings%20%281%29.pdf">, notes </a><a href="https://eprints.whiterose.ac.uk/112557/3/A%252520review%252520on%252520windcatcher%252520for%252520passive%252520cooling%252520and%252520natural%252520ventilation%252520in%252520buildings%20%281%29.pdf">Fatemeh Jomehzadeh of the University of Technology Malaysia and colleagues</a>.</p></div></div></div></div><div><div id="future/article/20210810-the-ancient-persian-way-to-keep-cool-p09rtv6p"><div><picture><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rtv6p.webp" type="image/webp"/><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rtv6p.jpg" type="image/jpeg"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rtv6p.webp" type="image/webp"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rtv6p.jpg" type="image/jpeg"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rtv6p.webp" type="image/webp"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rtv6p.jpg" type="image/jpeg"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rtv6p.webp" type="image/webp"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rtv6p.jpg" type="image/jpeg"/></picture><div><p>Due to long disuse, many of Iran&#39;s windcatchers are not in a good state of repair. But some researchers would like to see them restored to working order (Credit: Alamy)</p></div></div></div></div><div><div><div><div><p>The Persian civilisation is widely considered to have added structural variations to allow for better cooling – such as combining it with its existing irrigation system to help to cool the air down before releasing it throughout the home. In Yazd&#39;s hot, dry climate, these structures proved remarkably popular, until the city became a hotspot of soaring ornate towers seeking the desert wind. The historical city of Yazd was recognised as a Unesco World Heritage site in <a href="https://whc.unesco.org/en/list/1544/">2017</a>, in part for its proliferation of wind catchers.</p>
<p>As well as performing the functional purpose of cooling homes, the towers also had a strong cultural significance. In Yazd, the wind catchers are as much a part of the skyline as the Zoroastrian Fire Temple and Tower of Silence. Among them is the wind catcher at the Dowlatabad Abad Gardens, said to be the <a href="https://www.researchgate.net/figure/The-eight-sided-wind-catcher-of-Dowlat-Abad-Gardens-edifice-in-Yazd-is-the-tallest-in_fig2_308532117">tallest in the world at 33m</a> (108ft) and one of the few wind catchers still in operation. Housed in an octagonal building, it overlooks a fountain stretching past rows of pine trees.</p></div></div></div></div><div><div><div><div><p>The emissions-free cooling efficacy of such wind catchers make some researchers argue that they are due a revival.</p>
<p>Parham Kheirkhah Sangdeh has extensively studied the scientific application and surrounding culture of wind catchers in contemporary architecture at Ilam University in Tehran, Iran. He says inconveniences like pests entering the chutes and the gathering of dust and desert debris have meant many have turned away from traditional wind catchers. In their place are mechanical cooling systems, such as conventional air-conditioning units. Often, those options are powered by fossil fuels and use <a href="https://www.bbc.com/future/article/20201204-climate-change-how-chemicals-in-your-fridge-warm-the-planet">refrigerants that act as powerful greenhouse gases if released into the atmosphere</a>.</p></div></div></div></div><div><div id="future/article/20210810-the-ancient-persian-way-to-keep-cool-p09rtvlr"><div><picture><source media="(min-width:624px)" srcset="https://ychef.files.bbci.co.uk/1024x1280/p09rtvlr.webp" type="image/webp"/><source media="(min-width:624px)" srcset="https://ychef.files.bbci.co.uk/1024x1280/p09rtvlr.jpg" type="image/jpeg"/><source media="(min-width:485px)" srcset="https://ychef.files.bbci.co.uk/885x1280/p09rtvlr.webp" type="image/webp"/><source media="(min-width:485px)" srcset="https://ychef.files.bbci.co.uk/885x1280/p09rtvlr.jpg" type="image/jpeg"/><source media="(min-width:320px)" srcset="https://ychef.files.bbci.co.uk/720x900/p09rtvlr.webp" type="image/webp"/><source media="(min-width:320px)" srcset="https://ychef.files.bbci.co.uk/720x900/p09rtvlr.jpg" type="image/jpeg"/></picture><div><p>The wind catchers of Iran have inspired modern designs in Europe, the US and elsewhere, as architects turn towards passive forms of cooling (Credit: Alamy)</p></div></div></div></div><div><div><div><div><p>The advent of modern cooling technologies has long been blamed for the deterioration of traditional methods in Iran, <a href="https://doi.org/10.2307/4300566">the historian of Iranian architecture Elizabeth Beazley wrote in 1977</a>. Without constant maintenance, the harsh climate of the Iranian Plateau has worn away many structures from wind catchers to ice houses. Kheirkhah Sangdeh also sees the shift away from wind catchers as in part down to a tendency among the public to engage with technologies from the West.</p>
<p>&#34;There needs to be some changes in cultural perspectives to use these technologies. People need to keep an eye on the past and understand why energy conservation is important,&#34; Kheirkhah Sangdeh says. &#34;It starts with recognising cultural history and the importance of energy conservation.&#34;</p>
<p>Kheirkhah Sangdeh hopes to see Iran&#39;s wind catchers updated to add energy-efficient cooling to existing buildings. But he has met many barriers to his work in the form of ongoing international tensions, the coronavirus pandemic and ongoing<a href="https://www.bbc.com/news/av/world-middle-east-57948717"> water shortage</a>. &#34;Things are so bad in Iran that [people] take it day by day,&#34; says Kheirkhah Sangdeh.</p></div></div></div></div><div><div id="future/article/20210810-the-ancient-persian-way-to-keep-cool-p09rtttz"><div><picture><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rtttz.webp" type="image/webp"/><source media="(min-width:1200px)" srcset="https://ychef.files.bbci.co.uk/1600x900/p09rtttz.jpg" type="image/jpeg"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rtttz.webp" type="image/webp"/><source media="(min-width:880px)" srcset="https://ychef.files.bbci.co.uk/1280x720/p09rtttz.jpg" type="image/jpeg"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rtttz.webp" type="image/webp"/><source media="(min-width:576px)" srcset="https://ychef.files.bbci.co.uk/976x549/p09rtttz.jpg" type="image/jpeg"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rtttz.webp" type="image/webp"/><source media="(min-width:224px)" srcset="https://ychef.files.bbci.co.uk/624x351/p09rtttz.jpg" type="image/jpeg"/></picture><div><p>Yazd is said to have the most wind catchers of any city in the world (Credit: Alamy)</p></div></div></div></div><div><div><div><div><p>Fossil-fuel-free methods of cooling like the wind catcher might well be due a revival, but to a surprising extent they are already present – albeit in a less magnificent form than those in Iran – in many Western countries.</p>
<p>In the UK, <a href="https://www.semanticscholar.org/paper/Evaluation-of-pressure-coefficients-and-estimation-Karakatsanis-Bahadori/6cfc2eb6ccf3b79c2197db02df62c31ee14e0b99">some 7,000 variations of wind catchers were installed in public buildings between 1979 and 1994</a>. They can be seen from buildings such as <a href="https://www.monodraught.com/projects/royal-chelsea-hospital">the Royal Chelsea Hospital in London</a>, to <a href="https://www.sciencedirect.com/science/article/abs/pii/S1364032116310358?via%3Dihub">supermarkets in Manchester</a>.</p>
<p>These modernised wind catchers bear little resemblance to Iran&#39;s towering structures. On one three-storey building on a busy road in north London, small hot pink ventilation towers allow passive ventilation. Atop a shopping centre in Dartford, <a href="https://www.visionventilation.co.uk/architectural-inspired-designs/">conical ventilation towers rotate to catch the breeze with the help of a rear wing that keeps the tower facing the prevailing wind</a>.</p>
<p>The US too has adopted wind-catcher-inspired designs with enthusiasm. One such example is the visitor center at <a href="http://sipb.sggw.pl/CRC2014/data/papers/9780784413517.161.pdf">Zion National Park</a> in southern Utah. The park sits in a high desert plateau, comparable to Yazd in climate and topography, and the use of passive cooling technologies including the wind catcher nearly eliminated the need for mechanical air-conditioning. Scientists have recorded a temperature difference of 16C (29F) between the outside and inside of the visitor centre, despite the many bodies regularly passing through.</p>
<p>There is further scope for the spread of the wind catcher, as <a href="https://www.theccc.org.uk/2017/08/08/hidden-problem-overheating/">the search for sustainable solutions to overheating continues</a>. In Palermo, Sicily, researchers have found that <a href="https://www.tandfonline.com/doi/abs/10.1080/14733315.2016.1214397">the climate and prevailing wind conditions make it a ripe location for a version of the Iranian wind catcher</a>. This October, meanwhile, the wind catcher is set to have a high-profile position at <a href="https://www.bbc.co.uk/news/business-56682427">the World Expo</a> fair in Dubai, as part of <a href="https://www.querkraft.at/en/projects/expo-pavilion">a network of conical buildings in the Austrian pavilion</a>, where the Austrian architecture firm Querkraft has taken inspiration from the Arabic <em>barjeel</em> version of the wind tower.</p>
<p>While researchers such as Kheirkhah Sangdeh argue that the wind catcher has much more to give in cooling homes without fossil fuels, this ingenious technology has already migrated further around the world than you might think. Next time you see a tall vented tower on top of a supermarket, high-rise or <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjH7rK7kKTyAhWiwOYKHStlCpgQFnoECA4QAw&amp;url=https%3A%2F%2Fs3-eu-west-1.amazonaws.com%2Fmonodraught%2Fdownloads%2Fprojects%2Faddey-and-stanhope-shool-windcatcher-case-study.pdf%3Fv%3D2&amp;usg=AOvVaw2b0GfphSTbK_2wygJxCHG9">school</a>, look carefully – you might just be looking at the legacy of the magnificent wind catchers of Iran.</p>
<p>--</p>
<p><em>The emissions from travel it took to report this story were 0kg CO2. The digital emissions from this story are an estimated 1.2g to 3.6g CO2 per page view. </em><a href="https://www.bbc.com/future/article/20200131-why-and-how-does-future-planet-count-carbon"><em>Find out more about how we calculated this figure here</em></a><em>.</em></p>
<p>--</p>
<p><em>Join one million Future fans by liking us on </em><a href="https://www.facebook.com/BBCFuture/"><strong><em>Facebook</em></strong></a><em>, or follow us on </em><a href="https://twitter.com/BBC_Future"><strong><em>Twitter</em></strong></a><em> or<strong> </strong></em><a href="https://www.instagram.com/bbcfuture_official/"><strong><em>Instagram</em></strong></a><em>.</em></p>
<p><em>If you liked this story, </em><a href="http://pages.emails.bbc.com/subscribe/?ocid=fut.bbc.email.we.email-signup"><strong><em>sign up for the weekly bbc.com features newsletter</em></strong></a><em>, called &#34;The Essential List&#34;. A handpicked selection of stories from BBC Future, Culture, Worklife, and Travel, delivered to your inbox every Friday.</em></p></div></div></div></div></div></article></div></div></div></section></div></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 06:46:09 +0000</pubDate>
      <source>https://www.bbc.com/future/article/20210810-the-ancient-persian-way-to-keep-cool</source>
    </item>
    <item>
      <title>The British Library puts 1M newspaper pages online for free</title>
      <link>https://www.ianvisits.co.uk/blog/2021/08/11/british-library-puts-1-million-newspaper-pages-online-for-free/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_ianvisits_co_uk_blog_2021_08_11_british-library-puts-1-million-newspaper-pages-online-for-free_/image.jpg" /> 
<div id="readability-page-1" class="page"><div id="post-46394">


<div>

<p>The British Library project to digitise copies of newspapers from its archive is to release one million pages as a free resource.</p>
<p>The <a href="https://www.awin1.com/cread.php?awinmid=5895&amp;awinaffid=249893&amp;ued=https%3A%2F%2Fwww.britishnewspaperarchive.co.uk%2F" data-wpel-link="external" rel="nofollow noopener">British Newspaper Archive</a> (BNA) has over 44 million newspaper pages, mostly British and Irish titles, ranging from 1699 to 2009, or just under 10 per cent of all newspapers held by the <a href="https://www.ianvisits.co.uk/blog/tag/british-library/" data-wpel-link="internal">British Library</a>. Currently, around half a million pages are being added to the BNA every month.</p>
<p>At the moment, access to the service requires a subscription, as that helps fund the cost of scanning and recording each newspaper added to the online archive. To open up more of the archive for researchers though, one million pages have been released for <strong>free</strong>, with a commitment to release a million more each year for the next four years.</p>
<p>So that’s five million pages of old newspaper articles in total.</p>
<p><a href="https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage.jpg" data-wpel-link="internal"><picture><source srcset="https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-1024x614.jpg.webp 1024w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-600x360.jpg.webp 600w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-250x150.jpg.webp 250w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-768x461.jpg.webp 768w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-1536x922.jpg.webp 1536w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-100x60.jpg.webp 100w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-150x90.jpg.webp 150w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-200x120.jpg.webp 200w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-300x180.jpg.webp 300w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-450x270.jpg.webp 450w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage-900x540.jpg.webp 900w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Free-Titles-Collage.jpg.webp 1800w" sizes="(max-width: 605px) 100vw, 605px" type="image/webp"/></picture></a></p>
<p>They won’t add all papers, as they say that while they consider newspapers made before 1881 to be in the public domain, that does not mean that will make all pre-1881 digitised titles available for free, as the archive is dependent on subscriptions to cover its costs. If like me you do a lot of historical research, then the cost of the full subscription is not that bad – <a href="https://www.awin1.com/cread.php?awinmid=5895&amp;awinaffid=249893&amp;ued=https%3A%2F%2Fwww.britishnewspaperarchive.co.uk%2Faccount%2Fsubscribe" data-wpel-link="external" rel="nofollow noopener">just £80 a year</a> for the full archive.</p>
<p>For the free service, there are 158 newspaper titles on offer, ranging from 1720 to 1880. The latter date is significant. All of the newspapers that make up the ‘free to view’ offer are out-of-copyright. The British Library keeps to a ‘safe date’ when determining when a newspaper can be considered to be entirely out-of-copyright, which is 140 years after the date of publication.</p>
<p>To make use of the service, go <a href="https://www.awin1.com/cread.php?awinmid=5895&amp;awinaffid=249893&amp;ued=https%3A%2F%2Fwww.britishnewspaperarchive.co.uk%2F" data-wpel-link="external" rel="nofollow noopener"><strong>here</strong></a>, and you need to register for an account, and then the search functionality is fairly simple to use, and the advanced search really helps to narrow the results down.</p>
<p>When you do a search, it will return all the pages in the archive, but if you scroll down the sidebar, there’s an option to filter by free pages only.</p>
<p>You can also browse editions and read entire newspapers from the past.</p>
<p><a href="https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1.jpg" data-wpel-link="internal"><picture><source srcset="https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1.jpg.webp 1024w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-600x312.jpg.webp 600w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-768x399.jpg.webp 768w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-100x52.jpg.webp 100w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-150x78.jpg.webp 150w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-200x104.jpg.webp 200w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-300x156.jpg.webp 300w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-450x234.jpg.webp 450w, https://www.ianvisits.co.uk/blog/wp-content/uploads/2021/08/Blackpool-Gazette-Herald-Friday-23-March-1877-2021-08-06-at-16.34.05-1024x532-1-900x468.jpg.webp 900w" sizes="(max-width: 1024px) 100vw, 1024px" type="image/webp"/></picture></a></p>
<p>Below is a complete listing of all newspaper titles on the initial ‘free to view’ list of one million pages, including changes of title. Start and end dates are for what is being made freely available, not necessarily the complete run of the newspaper. For a few titles, there are some missing issues for the dates given.</p>
<ul>
<li>The Age (1825-1843)</li>
<li>Alston Herald, and East Cumberland Advertiser (1875-1879)</li>
<li>The Argus, or, Broad-sheet of the Empire (1839-1843)</li>
<li>The Atherstone Times (1879-1879), The Atherstone, Nuneaton, and Warwickshire Times (1879-1879)</li>
<li>Baldwin’s London Weekly Journal (1803-1836)</li>
<li>The Barbadian (1822-1861)</li>
<li>Barbados Mercury (1783-1789), Barbados Mercury, and Bridge-town Gazette (1807-1848)</li>
<li>The Barrow Herald and Furness Advertiser (1863-1879)</li>
<li>The Beacon (Edinburgh) (1821-1821)</li>
<li>The Beacon (London) (1822-1822)</li>
<li>The Bee-Hive (1862-1870), The Penny Bee-Hive (1870-1870), The Bee-Hive (1870-1876), Industrial Review, Social and Political (1877-1878)</li>
<li>The Birkenhead News and Wirral General Advertiser (1878-1879)</li>
<li>The Blackpool Herald (1874-1879)</li>
<li>Blandford, Wimborne and Poole Telegram (1874-1879), The Blandford and Wimbourne Telegram (1879-1879)</li>
<li>Bridlington and Quay Gazette (1877-1877)</li>
<li>Bridport, Beaminster, and Lyme Regis Telegram and Dorset, Somerset, and Devon Advertiser (1865, 1877-1879)</li>
<li>Brighouse &amp; Rastrick Gazette (1879-1879)</li>
<li>The Brighton Patriot, and Lewes Free Press (1835-1836), Brighton Patriot and South of England Free Press (1836-1839)</li>
<li>The British Emancipator (1837-1840)</li>
<li>The British Liberator (1833-1833)</li>
<li>The British Luminary; or, Weekly News and General Advertiser (1818-1818), The British Luminary and National Intelligencer (1818-1818), The British Luminary and Weekly Intelligence (1818-1820), The British Luminary, or Weekly Intelligencer (1820-1820), The Weekly Intelligencer, and British Luminary (1820-1821), The British Luminary and Weekly Intelligencer (1821-1823)</li>
<li>British Miner and General Newsman (1862-1863), The Miner (1863-1863), The Miner and Workman’s Advocate (1863-1865), The Workman’s Advocate (1865-1866), The Commonwealth (1866-1867)</li>
<li>The British Press; or, Morning Literary Advertiser (1803-1826)</li>
<li>Caledonian Mercury (1720-1799), Caledonian Mercury (1800-1859), The Caledonian Mercury and Daily Express (1859-1860), The Caledonian Mercury (1860-1867)</li>
<li>The Cannock Chase Examiner (1874-1877)</li>
<li>The Central Glamorgan Gazette, and General, Commercial, and Agricultural Advertiser (1866-1879)</li>
<li>Champion (1836-1836), The Champion and Weekly Herald (1836-1840)</li>
<li>The Charter (1839-1840)</li>
<li>Chartist (1839-1839)</li>
<li>Chartist Circular (1839-1841)</li>
<li>Cleave’s Weekly Police Gazette (1835-1836), Cleave’s Weekly Police Gazette and Journal of News, Politics, and Literature (1836-1836)</li>
<li>Cobbett’s Annual Register (1802-1804), Cobbett’s Weekly Political Register (1804-1836)</li>
<li>Colored News (1855-1855)</li>
<li>Cradley Heath &amp; Stourbridge Observer (1864-1864), The Observer, Cradley Heath, Halesowen &amp; District Chronicle (1864-1866), The Stourbridge Observer, Cradley Heath, Halesowen &amp; District Chronicle (1866-1879)</li>
<li>The Darlington &amp; Stockton Telegraph, Richmond Herald, South Durham and North York Review (1870-1870), Darlington &amp; Richmond Herald (1873-1874)</li>
<li>Denton, Haughton, &amp; District Weekly News, The (1873-1874), Denton &amp; Haughton Weekly News, and Audenshaw, Hooley Hill, and Dukinfield Advertiser (1874-1875), Denton Examiner, Audenshaw, Hooley Hill and Dukinfield Advertiser (1875-1878), Denton and Haughton Examiner (1878-1879)</li>
<li>The Dewsbury Chronicle, and West Riding Advertiser (1872-1875)</li>
<li>The Dorset County Express and Agricultural Gazette (1858-1879)</li>
<li>The Examiner (1808-1880)</li>
<li>The Express (1846-1869)</li>
<li>The Forest of Dean Examiner (1875-1877)</li>
<li>The Glasgow Chronicle (1844-1857)</li>
<li>Glasgow Courier (1802, 1844-1866)</li>
<li>Illustrated Sporting News and Theatrical and Musical Review (Illustrated Sporting News, Theatrical Review (1862-1865), Illustrated Sporting and Theatrical News (1865-1870)</li>
<li>The Imperial Weekly Gazette (1808-1810), The Imperial Weekly Gazette and Westminster Journal (1818-1823), Imperial Gazette (1823-1825)</li>
<li>The Jamaica Mercury and Kingston Weekly Advertiser (1779-1780), The Royal Gazette (1780-1836), The Royal Gazette and Jamaica Times (1838-1840), The Royal Gazette of Jamaica (1840-1840)</li>
<li>Jewish Record (1868-1871)</li>
<li>The Kenilworth Advertiser (1872-1879)</li>
<li>The Lady’s Newspaper and Pictorial Times (1847-1863)</li>
<li>The Lady’s Own Paper (1866-1872)</li>
<li>The Lancaster Herald, and Town and County Advertiser (1831-1832)</li>
<li>The Liverpool Standard and General Commercial Advertiser (1832-1854), Liverpool Standard and General Advertiser (1854-1855), Liverpool Standard and General Commercial Advertiser (1855-1856)</li>
<li>Liverpool Weekly Courier (1867-1879)</li>
<li>Lloyd’s Companion to the “Penny Sunday Times and Peoples’ Police Gazette” (1841-1847)</li>
<li>London Dispatch and People’s Political and Social Reformer (1836-1839)</li>
<li>The Manchester Examiner (1848-1848)</li>
<li>Manchester Times (1828-1829), The Manchester Times and Gazette (1829-1848), Manchester Times and Manchester and Salford Advertiser and Chronicle (1848-1848)</li>
<li>The Midland Examiner and Times (1877-1877), The Midland Examiner and Wolverhampton Times (1877-1878)</li>
<li>Mirror of the Times (1800-1823)</li>
<li>The Morning Chronicle (1801-1865)</li>
<li>Morning Herald (1801-1869)</li>
<li>The National Register (1808-1823)</li>
<li>The New Weekly True Sun (1836-1836)</li>
<li>The News (1805-1835), The News and Sunday Herald (1835-1837), The News and Sunday Globe (1837-1839)</li>
<li>The Northern Daily Times (1853-1857), Northern Times (1857-1860), The Daily Times (1860-1861)</li>
<li>The Northern Liberator (1837-1840), The Northern Liberator and Champion (1840-1840)</li>
<li>Northern Star and Leeds General Advertiser (1838-1844), The Northern Star and National Trades’ Journal (1844-1852), The Star and National Trades’ Journal (1852-1852), The Star of Freedom (1852-1852)</li>
<li>The Nuneaton Times (1878-1879)</li>
<li>The Odd Fellow (1839-1842)</li>
<li>The Operative (1838-1839)</li>
<li>Pictorial Times (1843-1848)</li>
<li>Pierce Egan’s Life in London (1824-1827)</li>
<li>The Pontypridd District Herald and Rhondda Valley, Llantrisant, Caerphilly, and Mountain Ash News (1878-1879)</li>
<li>The Poole Telegram (1879-1879)</li>
<li>The Poor Man’s Guardian (1831-1835)</li>
<li>The Potteries Examiner (1871-1879)</li>
<li>The Press (1853-1866)</li>
<li>Runcorn and Widnes Examiner (1870-1876), Runcorn Examiner (1877-1879)</li>
<li>The St. Helens Examiner, and Prescot Weekly News (1879-1879)</li>
<li>The Saint James’s Chronicle (1801-1866)</li>
<li>Shropshire Examiner and all round the Wrekin Advertiser (1874-1877)</li>
<li>The South Staffordshire Examiner (1874-1874)</li>
<li>The Southern Star and London and Brighton Patriot (1840-1840)</li>
<li>Stalybridge Examiner, and Ashton, Dukinfield and Mossley Advertiser (1876-1876)</li>
<li>The Star (1801-1831)</li>
<li>The Statesman (1806-1824)</li>
<li>The Stockton Examiner, and South Durham and North Yorkshire Herald (1879-1879)</li>
<li>Stockton Gazette and Middlesbrough Times (1860-1865), Middlesbro’ &amp; Stockton Gazette and General Advertiser (1868-1868), The Middlesbrough Gazette and General Advertiser (1869-1869), Middlesbrough &amp; Stockton Gazette and General Advertiser (1869-1876), The Weekly Gazette for Middlesbrough, Stockton, Hartlepool and Cleveland District (1876-1879)</li>
<li>Stockton Herald, South Durham and Cleveland Advertiser (1858-1879)</li>
<li>Stretford and Urmston Examiner (1879-1879)</li>
<li>The Sun (1801-1871)</li>
<li>Swansea and Glamorgan Herald, and South Wales Free Press (1847-1879)</li>
<li>The Tamworth Miners’ Examiner and Working Men’s Journal (1873-1873), The Tamworth Examiner and Working Men’s Journal (1873-1876)</li>
<li>The Warrington Examiner (1885-1878), The Warrington &amp; Mid-Cheshire Examiner (1879-1879)</li>
<li>The Weekly Chronicle (1836-1851), The Weekly News and Chronicle (1851-1854), The Weekly Chronicle (1855-1855), The Weekly Chronicle and Register (1855-1864), The Weekly Chronicle and Register of Banking, Insurance, Railway and Mining Companies, Trade and Commerce (1864-1867)</li>
<li>Westminster Journal and Old British Spy (1805-1810)</li>
<li>The Weymouth, Portland and Dorchester Telegram (1862-1878)</li>
<li>Widnes Examiner (1876-1879)</li>
<li>Wolverhampton Times and Bilston, Willenhall, Wednesfield, and Sedgley Journal (1874-1875), The Wolverhampton and Midland Counties Advertiser (1875-1876)</li>
</ul>
</div>










<div>
<p>SUPPORT THIS WEBSITE</p>
<div>
<p>This website has been running now for just over a decade, and while advertising revenue contributes to funding the website, but doesn&#39;t cover the costs. That is why I have set up a facility with <a href="https://donorbox.org/support-ianvisits-reporting-and-events-guide" data-wpel-link="external" rel="nofollow noopener">DonorBox</a> where you can contribute to the costs of the website and time invested in writing and research for the news articles.</p>
<p>It&#39;s very similar to the way The Guardian and many smaller websites are now seeking to generate an income in the face of rising costs and declining advertising.</p>
<p>Whether its a one-off donation or a regular giver, every additional support goes a long way to covering the running costs of this website, and keeping you regularly topped up doses of Londony news and facts.</p>
<p>If you like what your read on here, then please support the website <a href="https://donorbox.org/support-ianvisits-reporting-and-events-guide" data-wpel-link="external" rel="nofollow noopener"><strong>here</strong></a>.</p>
<p>Thank you</p>
</div>
</div>
</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 11:20:20 +0000</pubDate>
      <source>https://www.ianvisits.co.uk/blog/2021/08/11/british-library-puts-1-million-newspaper-pages-online-for-free/</source>
    </item>
    <item>
      <title>A mariner&#39;s handbook from the library of Sir Walter Raleigh</title>
      <link>https://blogs.bl.uk/digitisedmanuscripts/2021/08/a-mariners-handbook.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>

<div>
	<p>Sir Walter Raleigh (b. 1552, d. 1618) was a pivotal figure in the history of Elizabethan England. A spy, a soldier and an infamous favourite of the Tudor queen, he is perhaps best known as an explorer who founded colonies in the New World and who supposedly brought back tobacco to England. But Raleigh was also a prolific poet and writer, who collected hundreds of books and manuscripts in his lifetime. We have now digitised one of his prized possessions, a rare finely illuminated mariner’s handbook, originally made in Portugal in the 16th century.</p>
<div id="photo-xid-6a00d8341c464853ef0278803d6b9b200d"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0278803d6b9b200d-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<p>The manuscript (now <a href="https://www.bl.uk/manuscripts/FullDisplay.aspx?ref=Cotton_MS_Tiberius_D_IX" rel="noopener" target="_blank">Cotton MS Tiberius D IX</a>) is known as the <em>Roteiro do Mar Roxo</em>, literally meaning ‘Rutter of the Red Sea’ in Portuguese. A rutter is a type of nautical handbook that gives guidance about various aspects of the art of sailing. Navigators from across Europe compiled their own versions of these handbooks throughout the 16th century.</p>
<p>The contents of surviving rutters vary considerably. Many are devoted to collections of maps, naval charts, and astronomical and mathematical tables that were used to plot a course or calculate the relative position of a ship at sea. Others contain information relating to the movement of the tides, instructions on how to use navigational instruments, and how to repair damaged ships, as well as logbooks and itineraries of notable journeys made to the far side of the world. Some even include suggestions on how to avoid dangerous coral reefs, and lists of cures for diseases caught by crewmembers during a voyage. In essence, these books had everything you might have needed to navigate the oceans successfully: an invaluable resource for any sailor or explorer.</p>
<div id="photo-xid-6a00d8341c464853ef0282e115defe200b"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0282e115defe200b-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<p>The <em>Roteiro do Mar Roxo</em> was made by the Portuguese nobleman João de Castro (b. 1500, d. 1548) during his 1541 expedition to Suez under Estêvão da Gama (b. c. 1505, d. 1576). By the 16th century, this region had long been established as the site of a major trade route between Europe and the Middle East, which the Portuguese and other European powers sought to control. De Castro’s work is principally devoted to an account of his voyage, supplemented with a wealth of nautical and geographical information, including observations of the islands and surrounding landscape he and his companions discovered, and notes and descriptions of coastlines, ports, and bays found along the Sinai Peninsula.</p>
<p>One of the highlights of de Castro’s account is a series of finely painted watercolour illustrations and charts (known as <em>tabuas</em>) that accompany the text, which are thought to have been originally drawn by the Portuguese nobleman while on-board his flagship.</p>
<div id="photo-xid-6a00d8341c464853ef026bdee58336200c"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef026bdee58336200c-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<p>Many of the illustrations are meticulously observed, recording not only the various topographic features of the islands and landscapes the fleet passed but also views of ports and cities on their journey. In the chart below, De Castro includes a depiction of the port of Suakin in Sudan, showing his fleet moored around it.</p>
<div id="photo-xid-6a00d8341c464853ef0278803d6b04200d"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0278803d6b04200d-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<p>The Portuguese expedition fleet was comprised of 12 large galleons and carracks and at least 60 galleys, many of which are featured in De Castro’s illustrations. The ships are painted in minute detail, providing us with an invaluable insight into early modern naval design, with De Castro accounting for everything, from their sails, oars, and rigging, to the banners and heraldry flying from their masts, while tiny figures of sailors are shown clambering over the decks.</p>
<div id="photo-xid-6a00d8341c464853ef0278803d6b20200d"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0278803d6b20200d-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<div id="photo-xid-6a00d8341c464853ef0282e115e00b200b"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0282e115e00b200b-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<p>De Castro also included depictions of other ships and fleets the company encountered during their voyage, most notably those belonging to the Ottoman Empire, a major rival for Portuguese power in the Mediterranean. Here, the Portuguese fleet is shown encountering the Ottoman forces around the Strait of Suez, with a land battle ensuing soon after.</p>

<p>The Cotton volume is one of only two manuscripts of the <em>Roteiro</em> to survive from the 16th century (the other is now housed at the James Ford Bell Library, at the University of Minnesota). Its layout, illustrations, and delicately written script all suggest that it served as the presentation copy of the work, gifted by de Castro to the Infante Luis (b. 1506, d. 1555), younger brother of the Portuguese king, to whom he also dedicated the text.</p>
<p>The story of the manuscript’s subsequent journey from Portugal to England remains a mystery, though some have speculated that it was seized from a Portuguese ship during a battle with English privateers towards the end of the 16th century. At the very least, we know that by the early 1600s it had come into the possession of Sir Walter Raleigh, who apparently bought it in London for £60, a small fortune at that time.</p>
<div id="photo-xid-6a00d8341c464853ef0278803d6b6a200d"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0278803d6b6a200d-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p>
</div>
<p>That Raleigh was willing to spend so much on the volume is unsurprising, as he was an avid collector of manuscripts, printed books, maps, and sea charts. His notebook (now <a href="http://searcharchives.bl.uk/IAMS_VU2:IAMS032-001999549" rel="noopener" target="_blank">Add MS 57555</a>), written when he was put in the Tower of London by King James I in 1606, contains an alphabetised shelf-list and inventory of the hundreds of volumes that made up his library, many of which accompanied him during his imprisonment. It also includes a series of comprehensive notes and hand-drawn maps that he used to write his <em>History of the World, in Five Books</em>, first published in London in 1614. There is even an annotated sketch of the Red Sea itself, its inclusion perhaps inspired by the Portuguese Roteiro Raleigh had purchased for his collection.</p>
<div id="photo-xid-6a00d8341c464853ef0278803d6b7b200d"><p><a href="https://blogs.bl.uk/.a/6a00d8341c464853ef0278803d6b7b200d-popup" onclick="window.open( this.href, &#39;_blank&#39;, &#39;width=640,height=480,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no,left=0,top=0&#39; ); return false"></a></p><p>A page from the notebook of Sir Walter Raleigh, showing a map of the Red Sea and the surrounding Sinai Peninsula: <a href="https://www.bl.uk/collection-items/sir-walter-raleighs-notebook-for-his-history-of-the-world" rel="noopener" target="_blank">Add MS 57555, f. 23v</a></p>
</div>
<p>Raleigh actually makes a reference to his copy of De Castro’s <em>Roteiro</em> in his <em>History of the World</em>, and this lends us an important clue as what happened to the volume in the years that followed. The explorer states that he had given the rutter to Richard Hackluyt (b. 1553, d. 1616), apparently with an instruction to adapt and publish an English paraphrase of the text. At the time, Hackluyt was an editor, translator, and travel writer, whose works were well-known for promoting the English colonisation of America.</p>
<p>However, Hackluyt did not complete Raleigh’s project and it seems that the <em>Roteiro</em> never returned to the library of its former owner. After Hackluyt&#39;s death in 1616 and Raleigh’s execution on the order of James I in 1618, Hackluyt’s son Edmond inherited the manuscript and he subsequently gave it into the keeping of the antiquary Sir Robert Cotton. Unfortunately, the <em>Roteiro</em> suffered the fate of many of the manuscripts in Cotton’s collection and was heavily burned in the <a href="https://blogs.bl.uk/digitisedmanuscripts/2016/10/fire-fire-the-tragic-burning-of-the-cotton-library.html" rel="noopener" target="_blank">Ashburnham House Fire</a> in 1731, though thankfully much of the text and many of De Castro’s watercolour illustrations did survive intact. The volume can now be read in full on our <a href="https://www.bl.uk/manuscripts/FullDisplay.aspx?ref=Cotton_MS_Tiberius_D_IX" rel="noopener" target="_blank">Digitised Manuscripts</a> site.</p>
<p><a href="https://twitter.com/CCockburn2" rel="noopener" target="_blank">Calum Cockburn</a></p>
<p>Follow us on Twitter <a href="https://twitter.com/BLMedieval" rel="noopener" target="_blank">@BLMedieval</a></p>
</div><!-- .entry-body -->



</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 04:55:02 +0000</pubDate>
      <source>https://blogs.bl.uk/digitisedmanuscripts/2021/08/a-mariners-handbook.html</source>
    </item>
    <item>
      <title>DoD Awards $1B Contract to Peraton to Counter Misinformation</title>
      <link>https://www.fedscoop.com/dod-awards-1b-contract-to-peraton-to-counter-misinformation/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_fedscoop_com_dod-awards-1b-contract-to-peraton-to-counter-misinformation_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
        <div>
            
            <p>The best federal IT news, delivered straight to your inbox. Sign up for our daily newsletter.</p>
            <!--[if lte IE 8]>
            <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script>
            <![endif]-->
            
            
        </div>
    </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 19:35:30 +0000</pubDate>
      <source>https://www.fedscoop.com/dod-awards-1b-contract-to-peraton-to-counter-misinformation/</source>
    </item>
    <item>
      <title>Mea culpa: How developers fix their own simple bugs differently from other devs</title>
      <link>https://neverworkintheory.org/2021/08/10/developers-fix-their-own-simple-bugs-differently-from-other-developers.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
      <main>
        <article>
  
  <p>
    Reviewed by Greg Wilson / 2021-08-10
    </p>
  <div>
  <p>
    This paper from Zhu and Godfrey looks at single-statement bug fixes in Java
    code: more specifically, at the differences between how bug are fixed by the
    people who created them and how they are fixed by other people. The authors
    found that people fix their own bugs more quickly than other people&#39;s, which
    falls under the heading of &#34;I would have predicted that, but it&#39;s nice to
    have it validated&#34;.
  </p>
  <p>
    What I <em>wouldn&#39;t</em> have predicted is that when people fix their own
    bugs, they tend to create larger commits that also address other issues;
    when they fix other people&#39;s bugs, their commits are smaller and more
    tightly focused.  It&#39;s easy to say that this could have been predicted as
    well, but its opposite would have been just as plausible after the fact: if
    the authors had found that people are <em>more</em> focused when fixing
    their own small bugs, I would also have said, &#34;Yeah, that makes sense.&#34; This
    is why I find empirical studies so valuable: in many cases &#34;X&#34; and &#34;not X&#34;
    are equally easy to rationalize, so we need evidence to help us decide which
    to believe.
  </p>
  <p>
    Two more things to note about this paper. First, it relies on the SZZ
    algorithm to align bugs and code fixes, so the results discussed above
    depend on how well that algorithm does its job; a future post will dive into
    that. Second, the dataset used in this paper is
    <a href="https://paperswithcode.com/dataset/manysstubs4j">available
    online</a> at <a href="https://paperswithcode.com">paperswithcode.com</a> so
    that other people (like you) can explore it, reanalyze it, or use it in
    courses. The frequency with which researchers make data available like this
    is one of the biggest and most welcome changes in research during our
    four-year hiatus (the other being the trend toward open access
    publishing). We will try to link to datasets whenever we can; if we miss
    any, please <a href="mailto:gvwilson@third-bit.com">contact us</a>,
    <a href="https://github.com/neverworkintheory/neverworkintheory.github.io//issues">file an issue</a>,
    or submit a pull request to help us do better.
  </p>
</div>
<p id="Zhu2021">
  <a href="https://neverworkintheory.org/bib/#Zhu2021">Zhu2021
  Wenhan Zhu and Michael W. Godfrey:
  &#34;</a><a href="https://doi.org/10.1109/msr52588.2021.00065">Mea culpa: How developers fix their own simple bugs differently from other developers</a>&#34;.
  <em>2021 IEEE/ACM 18th International Conference on Mining Software Repositories (MSR)</em>,
  <a href="https://doi.org/10.1109/msr52588.2021.00065">10.1109/msr52588.2021.00065</a>.
</p>
<blockquote>
  In this work, we study how the authorship of code affects bug-fixing commits
  using the SStuBs dataset, a collection of single-statement bug fix changes in
  popular Java Maven projects. More specifically, we study the differences in
  characteristics between simple bug fixes by the original author—that is, the
  developer who submitted the bug-inducing commit—and by different developers
  (i.e., non-authors). Our study shows that nearly half (i.e., 44.3%) of simple
  bugs are fixed by a different developer. We found that bug fixes by the
  original author and by different developers differed qualitatively and
  quantitatively. We observed that bug-fixing time by authors is much shorter
  than that of other developers. We also found that bug-fixing commits by
  authors tended to be larger in size and scope, and address multiple issues,
  whereas bug-fixing commits by other developers tended to be smaller and more
  focused on the bug itself. Future research can further study the different
  patterns in bug-fixing and create more tailored tools based on the developer&#39;s
  needs.
</blockquote>

  

</article>

      </main>
      

    </div></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 13:42:33 +0000</pubDate>
      <source>https://neverworkintheory.org/2021/08/10/developers-fix-their-own-simple-bugs-differently-from-other-developers.html</source>
    </item>
    <item>
      <title>Nearest neighbor indexes for similarity search</title>
      <link>https://www.pinecone.io/learn/vector-indexes/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><article><p></p><p>Vector similarity search is a game-changer in the world of search. It allows us to efficiently search a huge range of media, from GIFs to articles — with incredible accuracy in sub-second timescales for billion+ size datasets.</p><p>One of the key components to efficient search is flexibility. And for that we have a wide range of search indexes available to us — there is no ‘one-size-fits-all’ in similarity search.</p><p>However, this great flexibility produces a question — how do we know which size fits our use case?</p><p>Which index do we choose? Should we use multiple indexes, or is one enough?</p><p>This article will explore the pros and cons of some of the most important indexes — Flat, LSH, HNSW, and IVF. We will learn how we decide which to use and the impact of parameters in each index.</p><hr/><p><em>Note: <a href="https://www.pinecone.io/">Pinecone</a> lets you add vector search to your production applications without knowing anything about vector indexes. However, we know you like seeing how things work, so enjoy learning about these popular vector index types!</em></p><hr/><p>Check out the video walkthrough:</p><p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/B7wmo_NImgM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p><h2 id="indexes-in-search">Indexes in Search</h2><p>Before jumping into the different indexes available, let’s take a look at why we care about similarity search — and how we can use indexes for efficient similarity search.</p><h3 id="why-similarity-search">Why Similarity Search</h3><p>Let’s start with the most fundamental question to the relevance of this article — why do we care about <a href="https://www.pinecone.io/learn/what-is-similarity-search/">similarity search</a>?</p><p>Similarity search can be used to compare data quickly. Given a query (which could be in any format — text, audio, video, GIFs — you name it), we can use similarity search to return relevant results.</p><p>This is key to a huge number of companies and applications spanning across industries. It’s used to identify similar genes in genome databases, deduplication of datasets, or search billions of results to search queries every day.</p><p>Search seems like an easy process — we take one item and compare it to another. But when we have millions (or even billions) of ‘other’ items to compare against — it begins to get tricky.</p><p>For search to be useful, it needs to be accurate and fast. And it is this more efficient search that we are interested in.</p><h3 id="indexes-for-efficient-search">Indexes For Efficient Search</h3><p>In vector similarity search, we use an index to store <a href="https://www.pinecone.io/learn/vector-embeddings/">vector representations</a> of the data we intend to search.</p><p>Through either <a href="https://www.pinecone.io/learn/semantic-search/">statistical methods or machine learning</a> — we can build vectors that encode useful, meaningful information about our original data.</p><p></p><p><small>Using densely encoded vectors, we can show that the equivalent <b>man-King</b> semantic relationship for <b>woman</b> is <b>Queen</b>.</small></p><p>We take these ‘meaningful’ vectors and store them inside an index to use for intelligent similarity search.</p><p>There are many index solutions available; one, in particular, is called <a href="https://www.pinecone.io/learn/faiss-tutorial/">Faiss (Facebook AI Similarity Search)</a>. We store our vectors in Faiss and query our new Faiss index using a <em>‘query’ vector</em>. This query vector is compared to other index vectors to find the nearest matches — typically with Euclidean (L2) or inner-product (IP) metrics.</p><p>So, with that introduction to the why and how of similarity search. But what is this about Faiss — and choosing the right indexes?</p><h3 id="faiss-and-indexes">Faiss And Indexes</h3><p>Faiss comes with many different index types — many of which can be mixed and matched to produce multiple layers of indexes.</p><p>We will be focused on a few indexes that prioritize search speed, quality, or index memory.</p><p>Now, which one of these indexes we use depends very much on our use case. We must consider factors such as dataset size, search frequency, or search-quality vs. search-speed.</p><hr/><h2 id="flat-and-accurate">Flat And Accurate</h2><p></p><p><small>Flat indexes come with perfect search-quality at the cost of slow search speeds. Memory utilization of flat indexes is reasonable.</small></p><p>The very first indexes we should look at are the simplest — flat indexes.</p><p>Flat indexes are ‘flat’ because we do not modify the vectors that we feed into them.</p><p>Because there is no approximation or clustering of our vectors — these indexes produce the most accurate results. We have perfect search quality, but this comes at the cost of significant search times.</p><p>With flat indexes, we introduce our query vector <code>xq</code>and compare it against every other full-size vector in our index — calculating the distance to each.</p><p></p><p><small>With flat indexes, we compare our search query <b>xq</b> to every other vector in the index.</small></p><p>After calculating all of these distances, we will return the nearest k of those as our nearest matches. A k-nearest neighbors (kNN) search.</p><p></p><p><small>Once we have calculated all of the distances, we return the <b>k</b> nearest vectors.</small></p><h3 id="when-to-use">When To Use</h3><p>So when should we use a flat index? Well, when search quality is an unquestionably high priority — and search speed is less important.</p><p>Search speed can be an irrelevant factor for smaller datasets — especially when using more powerful hardware.</p><p></p><p><small>Euclidean (L2) and Inner Product (IP) flat index search times using <b>faiss-cpu</b> on an M1 chip. Both using vector dimensionality of 100. <b>IndexFlatIP</b> is shown to be slightly faster than <b>IndexFlatL2</b>.</small></p><p>The above chart demonstrates Faiss CPU speeds on an M1-chip. Faiss is optimized to run on GPU at significantly higher speeds when paired with CUDA-enabled GPUs on Linux to improve search times significantly.</p><p>In short, use flat indexes when:</p><ul><li>Search quality is a <em>very</em> high priority.</li><li>Search time does <em>not</em> matter OR when using a small index (&lt;10K).</li></ul><h3 id="implementing-a-flat-index">Implementing a Flat Index</h3><p>To initialize a flat index, we need our data, Faiss, and one of the two flat indexes — <code>IndexFlatL2</code> if using Euclidean/L2 distance, or <code>IndexFlatIP</code> if using inner product distance.</p><p>First, we need data. We will be using the <a href="http://corpus-texmex.irisa.fr/">Sift1M dataset</a>, which we can download and load into a notebook with:</p><p>Now we can index our new data using one of our two flat indexes. We saw that IndexFlatIP is slightly faster, so let’s use that.</p><div><pre><code data-lang="python">d <span>=</span> <span>128</span>  <span># dimensionality of Sift1M data</span>
k <span>=</span> <span>10</span>  <span># number of nearest neighbors to return</span>

index <span>=</span> faiss<span>.</span>IndexFlatIP(d)
index<span>.</span>add(data)
D, I <span>=</span> index<span>.</span>search(xq, k)
</code></pre></div><p>And for flat indexes, that is all we need to do — there is no training (as we have no parameters to optimize when storing vectors without transformations or clustering).</p><h3 id="balancing-search-time">Balancing Search Time</h3><p>Flat indexes are brilliantly accurate but terribly slow. In similarity search, there is always a trade-off between search-speed and search-quality (accuracy).</p><p>What we must do is identify where our use-case sweet spot lies. With flat indexes, we are here:</p><p></p><p><small>Flat indexes are 100% search-quality, 0% search-speed.</small></p><p>Here we have completely unoptimized search-speeds, which will fit many smaller index use-cases — or scenarios where search-time is irrelevant. But, other use-cases require a better balance speed and quality.</p><p>So, how can we make our search faster? There are two primary approaches:</p><ol><li><p>Reduce vector size — through dimensionality reduction or reducing the number of bits representing our vectors values.</p></li><li><p>Reduce search scope — we can do this by clustering or organizing vectors into tree structures based on certain attributes, similarity, or distance — and restricting our search to closest clusters or filter through most similar branches.</p></li></ol><p>Using either of these approaches means that we are no longer performing an exhaustive nearest-neighbors search but an approximate nearest-neighbors (ANN) search — as we no longer search the entire, full-resolution dataset.</p><p>So, what we produce is a more balanced mix that prioritizes both search-speed and search-time:</p><p></p><p><small>Often, we will want a more balanced mix of both search-speed and search-quality.</small></p><hr/><h2 id="locality-sensitive-hashing">Locality Sensitive Hashing</h2><p></p><p><small>LSH — a wide range of performances heavily dependent on the parameters set. Good quality results in slower search, and fast search results in worse quality. Poor performance for high-dimensional data. The ‘half-filled’ segments of the bars represent the range in performance encountered while modifying index parameters.</small></p><p>Locality Sensitive Hashing (LSH) works by grouping vectors into buckets by processing each vector through a hash function that maximizes hashing collisions — rather than minimizing as is usual with hashing functions.</p><p>What does that mean? Imagine we have a Python dictionary. When we create a new key-value pair in our dictionary, we use a hashing function to hash the key. This hash value of the key determines the ‘bucket’ where we store its respective value:</p><p></p><p><small>A typical hash function for a dictionary-like object will attempt to minimize hash collisions, aiming to assign only one value to each bucket.</small></p><p>A Python dictionary is an example of a hash table using a typical hashing function that <em>minimizes</em> hashing collisions, a hashing collision where two different objects (keys) produce the same hash.</p><p>In our dictionary, we want to avoid these collisions as it means that we would have multiple objects mapped to a single key — but for LSH, we want to <em>maximize</em> hashing collisions.</p><p>Why would we want to maximize collisions? Well, for search, we use LSH to group similar objects together. When we introduce a new query object (or vector), our LSH algorithm can be used to find the closest matching groups:</p><p></p><p><small>Our hash function for LSH attempts to maximize hash collisions, producing groupings of vectors.</small></p><h3 id="implementing-lsh">Implementing LSH</h3><p>Implementing our LSH index in Faiss is easy. We initialize a IndexLSH object, using the vector dimensions d and the nbits argument — and add our vectors like so:</p><p>Our <code>nbits</code> argument refers to the ‘resolution’ of the hashed vectors. A higher value means greater accuracy at the cost of more memory and slower search speeds.</p><p></p><p><small>Recall score of <b>IndexLSH</b> with <b>d</b> of <b>128</b>. Note that to get higher recall performance, we need to increase the <b>num_bits</b> value dramatically. For 90% recall we use 64<em>d, which is 64</em>128 = <b>8192</b>.</small></p><p>Our baseline <code>IndexFlatIP</code> index is our 100% recall performance, using <code>IndexLSH</code> we can achieve 90% using a very high <code>nbits</code> value.</p><p>This is a strong result — 90% of the performance could certainly be a reasonable sacrifice to performance if we get improved search-times.</p><p>However, LSH is highly sensitive to the curse of dimensionality when using a larger <code>d</code> value we also need to increase <code>nbits</code> to maintain search-quality.</p><p>So our stored vectors become increasingly larger as our original vector dimensionality <code>d</code> increases. This quickly leads to excessive search times:</p><p></p><p><small>Search time for <b>IndexLSH</b> with varying <b>nbits</b> values, compared against a flat IP index.</small></p><p>Which is mirrored by our index memory size:</p><p></p><p><small>Index size for <b>IndexLSH</b> with varying <b>nbits</b> values, compared against a flat IP index.</small></p><p>So <code>IndexLSH</code> is <em>not</em> suitable if we have large vector dimensionality (<code>128</code> is already <em>too</em> large). Instead, it is best suited to low-dimensionality vectors — and small indexes.</p><p>If we find ourselves with large <code>d</code> values or large indexes — we avoid LSH completely, instead focusing on our next index, HNSW.</p><hr/><h2 id="hierarchical-navigable-small-world-graphs">Hierarchical Navigable Small World Graphs</h2><p></p><p><small>HNSW — great search-quality, good search-speed, but substantial index sizes. The ‘half-filled’ segments of the bars represent the range in performance encountered while modifying index parameters.</small></p><p>Hierarchical Navigable Small World (HNSW) graphs are another, more recent development in search. HNSW-based ANNS consistently top out as the highest performing indexes [1].</p><p>HNSW is a further adaption of navigable small world (NSW) graphs — where an NSW graph is a graph structure containing vertices connected by edges to their nearest neighbors.</p><p>The ‘NSW’ part is due to vertices within these graphs all having a very short average path length to all other vertices within the graph — despite not being directly connected.</p><p>Using the example of Facebook — in 2016, we could connect every user (a vertex) to their Facebook friends (their nearest neighbors). And despite the 1.59B active users, the average number of steps (or <em>hops</em>) needed to traverse the graph from one user to another was just 3.57 [2].</p><p></p><p><small>Visualization of an NSW graph. Notice that each point is no more than four hops away from another.</small></p><p>Facebook is just one example of high connectivity in vast networks — otherwise known as an NSW graph.</p><p>At a high level, HNSW graphs are built by taking NSW graphs and breaking them apart into multiple layers. With each incremental layer eliminating intermediate connections between vertices.</p><p></p><p><small>With HNSW, we break networks into several layers, which are traversed during the search.</small></p><p>For bigger datasets with higher-dimensionality — HNSW graphs are some of the best performing indexes we can use. We’ll be covering using the HNSW index alone, but by layering other quantization steps, we can improve search-times even further.</p><h3 id="hnsw-implementation">HNSW Implementation</h3><p>To build and search a flat HNSW index in Faiss, all we need is <code>IndexHNSWFlat</code>:</p><p>Here, we have three key parameters for modifying our index performance.</p><ul><li><code>M</code> — the number of nearest neighbors that each vertex will connect to.</li><li><code>efSearch</code> — how many layers deep should be explored when performing a search.</li><li><code>efConstruction</code> — how many layers deep will be searched when building the index.</li></ul><p>Each of these parameters can be increased to improve search-quality:</p><p></p><p><small>Recall values for different <b>efConstruction</b>, <b>efSearch</b>, and <b>M</b> values on the Sift1M dataset.</small></p><p>However, only <code>M</code> and <code>efSearch</code> will increase search-time — <code>efConstruction</code> will only increase the index <em>construction time</em> (meaning a slower <code>index.add</code>).</p><p></p><p><small>Search time for different <b>M</b> and <b>efSearch</b> values on the full Sift1M dataset.</small></p><p>HNSW gives us great search-quality at very fast search-speeds — but there’s always a catch — HNSW indexes take up a significant amount of memory. Using an <code>M</code> value of <code>128</code> for the Sift1M dataset requires upwards of 1.6GB of memory.</p><p></p><p><small>Index memory usage for different <b>M</b> values on the Sift1M dataset.</small></p><p>However, we can increase our other two parameters — <code>efSearch</code> and <code>efConstruction</code> with no effect on the index memory footprint.</p><p>So, where RAM is not a limiting factor HNSW is great as a well-balanced index that we can push to focus more towards quality by increasing our three parameters.</p><p></p><p><small>We can use the lower set of parameters to balance prioritize a slightly faster search-speed with good search-quality — or we use the higher set of parameters for slightly slower search-speed with high search-quality.</small></p><p>That’s HNSW in Faiss — an incredibly powerful and efficient index. Now let’s move onto our final index — IVF.</p><hr/><h2 id="inverted-file-index">Inverted File Index</h2><p></p><p><small>IVF — great search-quality, good search-speed, and reasonable memory usage. The ‘half-filled’ segments of the bars represent the range in performance encountered while modifying index parameters.</small></p><p>The Inverted File Index (IVF) index consists of search scope reduction through clustering. It’s a very popular index as it’s easy to use, with high search-quality and reasonable search-speed.</p><p>It works on the concept of Voronoi diagrams — also called Dirichlet tessellation (a much cooler name).</p><p>To understand Voronoi diagrams, we need to imagine our highly-dimensional vectors placed into a 2D space. We then place a few additional points in our 2D space, which will become our ‘cluster’ (Voronoi cells in our case) centroids.</p><p>We then extend an equal radius out from each of our centroids. At some point, the circumferences of each cell circle will collide with another — creating our cell edges:</p><p></p><p><small>How Voronoi cells are constructed — here, we have three centroids, resulting in three Voronoi cells. Each datapoint within a given cell is then assigned to that respective centroid.</small></p><p>Now, every datapoint will be contained within a cell — and be assigned to that respective centroid.</p><p>Just as with our other indexes, we introduce a query vector <code>xq</code> — this query vector must land within one of our cells, at which point we restrict our search scope to that single cell.</p><p>But there is a problem if our query vector lands near the edge of a cell — there’s a good chance that its closest other datapoint is contained within a neighboring cell. We call this the <em>edge problem</em>:</p><p></p><p><small>Our query vector <b>xq</b> lands on the edge of the magenta cell. Despite being closer to datapoints in the teal cell, we will not compare these if <b>nprobe == 1</b> — as this means we would restrict search scope to the magenta cell only.</small></p><p>Now, what we can do to mitigate this issue and increase search-quality is increase an index parameter known as the <code>nprobe</code> value. With <code>nprobe</code> we can set the number of cells to search.</p><p></p><p><small>Increasing <b>nprobe</b> increases our search scope.</small></p><h3 id="ivf-implementation">IVF Implementation</h3><p>To implement an IVF index and use it in search, we can use <code>IndexIVFFlat</code>:</p><p>There are two parameters here that we can adjust.</p><ul><li><code>nprobe</code> — the number of cells to search</li><li><code>nlist</code> — the number of cells to create</li></ul><p>A higher <code>nlist</code> means that we must compare our vector to more centroid vectors — but after selecting the nearest centroid’s cells to search, there will be fewer vectors within each cell. So, <em>increase</em> <code>nlist</code> to prioritize <em>search-speed</em>.</p><p>As for <code>nprobe</code>, we find the opposite. <em>Increasing</em> <code>nprobe</code> increases the search scope — thus prioritizing <em>search-quality</em>.</p><p></p><p><small>Search-time and recall for IVF using different <b>nprobe</b> and <b>nlist</b> values.</small></p><p>In terms of memory, <code>IndexIVFFlat</code> is reasonably efficient — and modifying <code>nprobe</code> will not affect this. The effect of <code>nlist</code> on memory usage is small too — higher <code>nlist</code> means a marginally larger memory requirement.</p><p></p><p><small>Memory usage of the index is affected only by the nlist parameter. However, for our Sift1M dataset, the index size changed only very slightly.</small></p><p>So, we must decide between greater search-quality with <code>nprobe</code> and faster search-speed with <code>nlist</code>.</p><hr/><p>We’ve covered a lot in this article , so let’s wrap everything up with a quick summary of each index’s memory, speed, and search-quality performance.</p><p>So we have four indexes, with equally potent pros and cons — depending on the use-case. Hopefully, with this article, you will now be much better prepared to decide which of these indexes best fits your own use case.</p><p>Beyond these metrics, it is possible to improve memory usage and search-speed even further by adding other quantization or compression steps — but that is for another article.</p><hr/><h3 id="references">References</h3><p>[1] E Bernhardsson, <a href="https://github.com/erikbern/ann-benchmarks">ANN-benchmarks repo</a>, Github</p><p>[2] S Edunov, et al., <a href="https://research.fb.com/blog/2016/02/three-and-a-half-degrees-of-separation/">Three and a half degrees of separation</a> (2016), Facebook Research</p><hr/><p><em>All images are by the author except where stated otherwise</em></p></article></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 05:58:22 +0000</pubDate>
      <source>https://www.pinecone.io/learn/vector-indexes/</source>
    </item>
    <item>
      <title>Mosh: The Mobile Shell</title>
      <link>https://mosh.org</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>

<section id="about">
  <div>
    <div>
      <div>
        
        <h2>(mobile shell)</h2>
        <p>Remote terminal application that
        allows <strong>roaming</strong>, supports <strong>intermittent connectivity</strong>, and provides intelligent <strong>local echo</strong> and line editing of user keystrokes.</p>
        <p>Mosh is a replacement for interactive SSH terminals. It&#39;s more robust and responsive, especially over Wi-Fi, cellular, and long-distance links.</p>
        <p>Mosh is free software, available for GNU/Linux, BSD, macOS, Solaris, Android, Chrome, and iOS.</p>
      </div>
      <p>
      </p>
    </div>

    <p><a href="#getting">Getting Mosh »</a>
    <a href="#techinfo">Tech Video »</a></p>
  </div>

  <div id="features">
  <div>
      <div>
        <h2>Change IP. Stay connected.</h2>
        <p>Mosh automatically roams as you move between Internet
        connections. Use Wi-Fi on the train, Ethernet in a hotel,
        and LTE on a beach: you&#39;ll stay logged in. Most network
        programs lose their connections after roaming,
        including SSH and Web apps like Gmail. Mosh
        is different.</p>
      </div>
      <div>
        <h2>Makes for sweet dreams.</h2>
        <p>With Mosh, you can put your laptop to sleep and wake it
        up later, keeping your connection intact. If your
        Internet connection drops, Mosh will warn you — but
        the connection resumes when network service
        comes back.</p>
      </div>
      <div>
        <h2>Get rid of network lag.</h2>
        <p>SSH waits for the server&#39;s reply before showing you your
        own typing. That can make for a lousy user interface. Mosh
        is different: it gives an instant response to typing,
        deleting, and line editing. It does this adaptively and
        works even in full-screen programs like emacs and vim. On
        a bad connection, outstanding predictions are underlined
        so you won&#39;t be misled.
        </p>
      </div>
      <div>
        <h2>No privileged code. No daemon.</h2>
        <p>You don&#39;t need to be the superuser to install or run
        Mosh. The client and server are executables run by an
        ordinary user and last only for the life of the
        connection.</p>
      </div>
  </div>
  <div>
      <div>
        <h2>Same login method.</h2>
        <p>Mosh doesn&#39;t listen on network ports or authenticate
         users. The <span>mosh</span> client logs in to the server via
         SSH, and users present the same credentials (e.g.,
         password, public key) as before. Then Mosh runs the
         <span>mosh-server</span> remotely and connects to it over UDP.</p>
      </div>
      <div>
        <h2>Runs inside your terminal, but better.</h2>
        <p>Mosh is a command-line program, like ssh. You can use it
        inside xterm, gnome-terminal, urxvt, Terminal.app, iTerm,
        emacs, screen, or tmux. But mosh was designed from scratch
        and supports just one character set: UTF-8. It fixes Unicode
        bugs in other terminals and in SSH.</p>
      </div>
      <div>
        <h2>Control-C works great.</h2>
        <p>Unlike SSH, mosh&#39;s UDP-based protocol handles packet loss
          gracefully, and sets the frame rate based on network conditions. Mosh
          doesn&#39;t fill up network buffers, so Control-C always works
          to halt a runaway process.</p>
      </div>
  </div>
  </div>
</section>
      
<section id="news">
  

  <ul id="news-list">
    <li><b>September 29, 2017</b>: The
	macOS <a href="https://github.com/Homebrew/homebrew-core/pull/18636">Homebrew
	collection renames its formula from “mobile-shell” to
	“mosh”</a>.</li>

    <li><b>July 21, 2017</b>: <a href="https://mailman.mit.edu/pipermail/mosh-users/2017-July/000357.html">Mosh 1.3.2 released</a>, with John Hood as
      release lead. The release includes improved tests, bug fixes,
      and improvements to IPv6 support on non-Linux systems.</li>

    <li><b>March 25,
2017</b>: <a href="http://mailman.mit.edu/pipermail/mosh-users/2017-March/000341.html">Mosh
1.3.0 released</a>, with John Hood as release lead. The release
includes broader platform compatibility, robustness improvements,
better testing, and fixes for excess CPU consumption in some cases. We
have switched to semver.org-style versioning and will increment the
minor version number whenever we add new functionality. (In our
previous practice, this release would probably have been called
“1.2.7.”)</li>

    <li><b>September 20, 2016</b>: <a href="http://blink.sh">Blink Shell: Mosh &amp; SSH Terminal for iOS</a> has its first gold release on the <a href="https://itunes.apple.com/app/id1156707581">App Store</a>. Free version is available on <a href="https://github.com/blinksh/blink">GitHub</a>.
    </li><li><b>August 10,
2016</b>: <a href="https://mailman.mit.edu/pipermail/mosh-users/2016-August/000330.html">Mosh
1.2.6 released</a>, with John Hood as release lead. New features
include huge performance improvements, especially on large terminals,
the ability to set a timeout to end dormant sessions automatically,
and support for crypto libraries other than OpenSSL.</li>

<li><b>August 10, 2016</b>: The Mosh website moves to <a href="https://mosh.org">https://mosh.org</a>. We continue to be grateful for hosting provided
by the MIT <a href="https://sipb.mit.edu">Student Information Processing Board</a>.</li>

    <li><b>June 15, 2016</b>: <a href="https://github.com/blinksh/blink">Mosh for iOS (Blink)</a> has its first <a href="https://mailman.mit.edu/pipermail/mosh-devel/2016-June/001339.html">alpha release</a>.

    </li><li><b>April 17, 2016</b>: <a href="https://f-droid.org/en/packages/com.termux">Termux</a> (open source Linux environment for Android) adds a mosh 1.2.5 package.</li>
    <li><b>July 23, 2015</b>: <a href="https://mailman.mit.edu/pipermail/mosh-users/2015-July/000283.html">Mosh 1.2.5 released</a>, with John Hood as release lead. New features include support for mouse modes and a reconfigurable escape character, and initial support for IPv6.</li>
    <li><b>May 31, 2015</b>: Another team of Stanford students has <a href="https://reproducingnetworkresearch.wordpress.com/2015/05/31/cs244-15-mosh-reproducing-network-research-results/">reproduced some of the Mosh research paper&#39;s results</a>.
    </li><li><b>January 20, 2014</b>: <a href="https://github.com/rpwoodbu/mosh-chrome/wiki">Mosh for Chrome</a>, which brings Mosh to the Chrome browser and Chrome OS, is released. It can be installed <a href="https://chrome.google.com/webstore/detail/mosh/ooiklbnjmhbcgemelgfhaeaocllobloj">here</a>.</li>
    <li><b>August 9, 2013</b>: <a href="https://play.google.com/store/apps/details?id=com.sonelli.juicessh">JuiceSSH</a> (SSH client for Android) adds official Mosh support — available on the <a href="https://play.google.com/store/apps/details?id=com.sonelli.juicessh">Play Store</a></li>
    <li><b>April 14, 2013</b>: Mosh has posted an <a href="https://docs.google.com/document/d/10o-TLA03bY4cZzEIZR-5wKmBecvYKpOEFRqSJFbIm3M/edit?usp=sharing">Ideas List</a> for interested contributors!</li>
    <li><b>March 27,
    2013</b>: <a href="https://mailman.mit.edu/pipermail/mosh-users/2013-March/000167.html">Mosh
    1.2.4 has been released</a>. Changes largely include bug
    fixes, improved robustness, and added platform support (now
    on AIX and stock Solaris!). This version will be in Ubuntu
    13.04 (raring).</li>
    <li><b>March 24, 2013</b>: The <a href="https://twitter.com/zacchiro/status/315893796695064576">Debian Project Leader switches to Mosh</a>. Welcome, Stefano! We&#39;re proud to have you.</li>
    <li><b>March 14, 2013</b>: Two teams of Stanford students have
    reproduced parts of the <a href="https://mosh.org/mosh-paper.pdf">Mosh research paper</a> on Stanford&#39;s
    <a href="https://reproducingnetworkresearch.wordpress.com">Reproducing Network Research blog</a>. Kanthi Nagaraj and Emily McMilin <a href="https://reproducingnetworkresearch.wordpress.com/2013/03/14/mosh-cs244-13/">tested SSP&#39;s resilience to packet loss</a>, and Ahmed Aljunied and Anand Atreya <a href="https://reproducingnetworkresearch.wordpress.com/2013/03/13/cs244-2013-evaluation-of-mosh-mobile-shell-performance-results/">evaluated Mosh&#39;s predictive local echo</a>.
    </li><li><b>March 12, 2013</b>: Mosh celebrates its first anniversary of
1.0. Hard to believe it&#39;s already been a year. We could not have done
it without the hard work of many of you, especially Hari Balakrishnan,
Keegan McAllister, Anders Kaseorg, Quentin Smith, Richard Tibbetts,
Nelson Elhage, Christine Spang, Stefie Tellex, Joseph Sokol-Margolis,
Waseem Daher, Bill McCloskey, Austin Roach, Greg Hudson, Karl Ramm,
Alexander Chernyakhovsky, Peter Iannucci, Evan Broder, Neha Narula,
Katrina LaCurts, Ramesh Chandra, Peter Jeremy, Ed Schouten, Ryan
Steinmetz, Jay Freeman, Dave Täht, Larry Doolittle, Daniel Drown, Timo
Juhani Lindfors, Timo Sirainen, Ira Cooper, Felix Gröbert, Luke
Mewburn, Anton Lundin, Kevin Ballard, and Axel Beckert!</li>
    <li><b>November 2012</b>: Mosh on the cover of <a href="http://www.linux-magazine.com/Issues/2012/144/Mosh-and-AutoSSH">Linux Magazine</a>.
    </li><li><b>Oct. 19,
    2012</b>: <a href="https://mailman.mit.edu/pipermail/mosh-users/2012-October/000152.html">Mosh
    1.2.3 has been released</a>. Changes include more resilience to
evil NATs, power savings for mobile clients, switching to OpenSSL&#39;s AES
implementation, and a licensing exception to allow Mosh on Apple&#39;s app store.
This version will be in Debian 7.0 (wheezy).
    </li><li><b>Aug. 22, 2012</b>: Mosh (and its tolerance for high
packet loss) helps Iain Learmonth <a href="https://mosh.org/elevator.txt">escape from an elevator</a>.
  </li></ul>
</section>

<section id="getting">
  

  <!-- OSX / Darwin -->
  

  <!-- Windows -->
  <div>
    <div>
      <h3>Windows</h3>
      
      <p><small>There is no &#34;native&#34; mosh executable for Windows available at this time. The <a href="https://chrome.google.com/webstore/detail/mosh/ooiklbnjmhbcgemelgfhaeaocllobloj">Chrome version of Mosh</a> is the easiest way to use mosh on Windows.</small></p>
    </div>
  
    <div>
      <h3><a href="https://www.cygwin.com"></a>Cygwin</h3>
      <pre>C:\&gt; setup.exe -q mobile-shell</pre>
      <p><small>Mosh on Cygwin uses OpenSSH and is suitable for Windows users with advanced SSH configurations.
	  </small></p>
    </div>
  </div>

  <!-- Google / Mobile platforms -->
  

  <!-- Linux -->
  
  
  <div>
    <div>
      <h3><a href="http://www.ubuntu.com"></a>Ubuntu <small>12.04 and later</small></h3>
            <pre>$ sudo apt-get install mosh</pre>
      <p><small>The <a href="https://launchpad.net/~keithw/+archive/ubuntu/mosh-dev">ppa:keithw/mosh-dev</a> PPA tracks the development version of Mosh.</small></p>
      <br/>
    </div>
  </div>


  <!-- *BSD -->
  

  <!-- Other UNIXes -->
  <div>
    <div>
      <h3><a href="https://www.opencsw.org"></a>OpenCSW <small>Solaris 10 Update 8 or later</small></h3>
      <pre># pkgutil -i mosh</pre>
      <br/>
    </div>
  </div>

  <p><small>Operating system logos are trademarks or registered trademarks and are displayed for identification
only. The vendors shown aren&#39;t affiliated with and haven&#39;t endorsed Mosh.</small></p>

  

  <div>
    
    <div>
      <div>
            <h3>Security on new operating systems</h3></div>
    </div>
  </div>
</section>

<section id="usage">
  

  <h3>Replaces interactive SSH. Instant keystroke response, robust to roaming. <small>But you&#39;ll need working UDP.</small></h3>

  <div>
    <div>
      <h2>Typical usage</h2>
      <pre>$ mosh <i>chewbacca.norad.mil</i></pre>
      <p>Mosh will log the user in via SSH, then start a connection on a UDP port between 60000 and 61000.</p>
    </div>

    <div>
      <h3>Different username</h3>
      <pre>$ mosh <b>potus@</b><i>ackbar.bls.gov</i></pre>
    </div>

    <div>
      <h3>Server binary outside path</h3>
      <pre>$ mosh <b>--server=/tmp/mosh-server</b> <i>r2d2</i></pre>
      <p>The user can specify an alternate path for the <code>mosh-server</code> on the remote host. The server binary can even
        be installed in the user&#39;s home directory.</p>
    </div>
  </div>

  <div>

    <div>
      <h3>Selecting Mosh UDP port</h3>
      <pre>$ mosh <b>-p 1234</b> <i>darth</i></pre>
      <p>Useful when the server is behind a port-forwarder or NAT.</p>
    </div>

          <div>
            <h3>Selecting SSH port</h3>
            <pre>$ mosh <b>--ssh=&#34;ssh -p 2222&#34;</b> <i>figrindan</i></pre>
          </div>

          <div>
            <h3>Other SSH options</h3>
            <pre>$ mosh <b>--ssh=&#34;~/bin/ssh -i ./identity&#34;</b> <i>fett</i></pre>
          </div>

        </div>

  <div>

    <div>
      <h3>Disable instant echo</h3>
      <pre>$ mosh <b>--predict=never</b> <i>niennunb</i></pre>
      <p>The <code>-n</code> switch is a synonym. By contrast,
      passing <code>--predict=always</code> or <code>-a</code>
      will enable instant local echo even on low-delay
      links.</p>
    </div>

    <div>
      <h3>With a command</h3>
      <pre>$ mosh <i>pello</i> <b>-- screen -dr</b></pre>
      <p>This reattaches to a long-running screen session.</p>
    </div>
  </div>

  <h3>Ending the connection</h3>

  <p>Normally, <span>logout</span> or <span>exit</span> on the remote host will close
    the session. Mosh accepts the escape sequence <code>Ctrl-^
    .</code>  (typically typed with Control-Shift-6, then a
    period) to end the connection forcibly. To send a
    literal Ctrl-^, type <code>Ctrl-^ ^</code>.</p>

  <h3>Manual</h3>

  <p>More details can be found in
  the <code>mosh(1)</code>, <code>mosh-client(1)</code>,
  and <code>mosh-server(1)</code> manual pages.</p>

</section>

<section id="techinfo">
  
  

  <h2>Papers</h2>

  <div>
    <div>
      <p>The <a href="https://mosh.org/mosh-paper.pdf"> Mosh research paper</a> describes the
        design and evaluation of Mosh in more detail than you may
        want.
        The paper was presented at the
      <a href="https://www.usenix.org/conference/atc12/tech-schedule/usenix-atc-12-technical-sessions">2012 USENIX
        Annual Technical Conference</a>, held June 13–15, 2012, in
        sunny Boston, Mass.</p>

      <p>In addition,
the <a href="https://www.usenix.org/system/files/login/articles/winstein.pdf"> Mosh: A State-of-the-Art Good
Old-Fashioned Mobile Shell</a> essay gives further information about
the design principles behind Mosh, including the &#34;prophylactic
retransmission&#34; technique. The essay was published
in <a href="https://www.usenix.org/publications/login">USENIX
;login:</a> magazine, August 2012.</p>

      <div><h3>“ISO 2022 locking escape
    sequences oh flying spaghetti monster please kill me
    now.” </h3>

        <p>(Why you should trust Mosh with your remote terminal needs: we
        worry about details so obscure, even USENIX reviewers don&#39;t want to
            hear about them.)</p>

      </div>
    </div>

    <p>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/XsIxNYl0oyU?rel=0" allowfullscreen=""></iframe>
    </p>
  </div>

  <h2>How Mosh works</h2>

  <div>
    <div>
  <p>Remote-shell protocols traditionally work by conveying a
    byte-stream from the server to the client, to be interpreted
    by the client&#39;s terminal. (This includes TELNET, RLOGIN, and
    SSH.) Mosh works differently and at a different layer. With
      Mosh, the server and client both maintain a snapshot of
      the current screen state. The problem becomes one of
      state-synchronization: getting the client to the
      most recent server-side screen as efficiently as
      possible.</p>

    <p>This is accomplished using a new protocol called the
      <strong>State Synchronization Protocol</strong>, for which Mosh is the
      first application. SSP runs over UDP, synchronizing the
      state of any object from one host to another. Datagrams
      are encrypted and authenticated
      using <a href="http://www.cs.ucdavis.edu/~rogaway/ocb/">AES-128
      in OCB3 mode</a>. While SSP takes care of the networking
      protocol, it is the implementation of the object being
      synchronized that defines the ultimate semantics of the
      protocol.</p>

    <p>Roaming with SSP becomes easy: the client sends datagrams
      to the server with increasing sequence numbers, including
      a &#34;heartbeat&#34; at least once every three seconds. Every time
      the server receives an authentic packet from the client
      with a sequence number higher than any it has previously
      received, the IP source address of that packet becomes the
      server&#39;s new target for its outgoing packets. By doing
      roaming “statelessly” in this manner, roaming works in and
      out of NATs, even ones that may themselves be
      roaming. Roaming works even when the client is not aware
      that its Internet-visible IP address has changed. The
      heartbeats allow Mosh to inform the user when it hasn&#39;t
      heard from the server in a while (unlike SSH, where users
      may be unaware of a dropped connection until they try to
      type).</p>

    <p>Mosh runs two copies of SSP, one in each direction of the
      connection. The connection from client to server
      synchronizes an object that represents the keys typed by
      the user, and with TCP-like semantics. The connection from
      server to client synchronizes an object that represent the
      current screen state, and the goal is always to convey the
      client to the most recent server-side state, possibly
    skipping intermediate frames.</p>

    <p>Because SSP works at the object layer and can control the
      rate of synchronization (in other words, the frame rate),
      it does not need to send every byte it receives from the
      application. That means Mosh can regulate the frames so as
      not to fill up network buffers, retaining the
      responsiveness of the connection and making sure Control-C
      always works quickly. Protocols that must send every byte
      can&#39;t do this.</p>

  <h3>Careful terminal emulation</h3>

    <p>One benefit of working at the terminal layer
      was the opportunity to build a clean UTF-8 terminal
      emulator from scratch. Mosh fixes several Unicode bugs in
      existing terminals and in SSH, and was designed as a fresh
      start to try to be robust and correct even for
      pathological inputs.</p>

<dl>
  <dt>Tricky unicode</dt>

  <dd><p>Only Mosh and the OS X Terminal correctly handle a Unicode combining character in the first column.</p>
    
  </dd>

  <dt>ISO 2022 locking escapes</dt>

  <dd><p>Only Mosh will never get stuck in hieroglyphs when a nasty program writes to the terminal. (See Markus Kuhn&#39;s discussion of the relationship between
<a href="https://www.cl.cam.ac.uk/~mgk25/unicode.html#term">ISO 2022 and UTF-8</a>.)</p>

    
  </dd>

  <dt>Evil escape sequences</dt>

  <dd><p>Only Mosh and GNOME Terminal have a defensible rendering when
Unicode mixes with an ECMA-48/ANSI escape sequence. The OS X Terminal
unwisely tries to normalize its input before the vt500 state machine,
causing it to misinterpret and become unusable after receiving the
following input!* (This also means the OS X Terminal&#39;s interpretation
of the incoming octet stream <strong>varies</strong> depending on how
the incoming octets are split across TCP segments, because the
normalization only looks ahead to available bytes.)</p>

<p><small>* We earlier wrote that this misbehaving sequence &#34;crashes&#34;
the OS X Terminal.app. This was mistaken—instead, Terminal.app
interprets the escape sequence as shutting off keyboard input, and
because of an unrelated bug in Terminal.app, it is not possible for
the user to restore keyboard input by resetting the terminal from the
menu.</small></p>

    
  </dd>

  <dt>Mosh sets IUTF8</dt>

  <dd><p>In the POSIX framework, the kernel needs to know whether
    the user is typing in an 8-bit character set or in UTF-8,
    because in canonical mode (i.e. &#34;cooked&#34; mode), the kernel
    needs to be able to delete a typed multibyte character
    sequence from an input buffer.  On OS X and Linux, this is
    done with the &#34;IUTF8&#34; termios flag.)
    (See <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=665757">diagnostic
        explaining the need for this flag.</a>)</p>

    <p>Mosh sets the IUTF8 flag when possible and stubbornly refuses to start up unless the user has a
    UTF-8-clean environment. SSH does not set the IUTF8 flag, which can lead to garbage in input buffers.</p>
  </dd>
</dl>

  <h3>Instant local echo and line editing</h3>

    <p>The other major benefit of working at the
      terminal-emulation layer is that the Mosh client is free
      to scribble on the local screen without lasting
      consequence. We use this to implement intelligent local
      echo. The client runs a predictive model in the background
      of the server&#39;s behavior, hypothesizing that each
      keystroke will be echoed at the cursor location and that
      the backspace and left- and right-arrow keys will have
      their traditional effect. But only when a prediction is
      confirmed by the server are these effects actually shown
      to the user. (In addition, by default predictions are only
      displayed on high-delay connections or during a network
      “glitch.”) Predictions are done in epochs: when the
      user does something that might alter the echo behavior
      — like hit ESC or carriage return or an up- or
      down-arrow — Mosh goes back into making background
      predictions until a prediction from the new batch can be
      confirmed as correct.</p>

    <p>Thus, unlike previous attempts at local echo with TELNET
      and RLOGIN, Mosh&#39;s local echo can be used everywhere, even
      in full-screen programs like emacs and vi.</p>

  <h3>Real-world benefits</h3>

<p>We evaluated Mosh using traces contributed by six users, covering
about 40 hours of real-world usage and including 9,986 total
keystrokes. These traces included the timing and contents of all
writes from the user to the host and vice versa. The users were asked
to contribute &#34;typical, real-world sessions.&#34; In practice, the traces
include use of popular programs such as the bash shell and zsh shells,
the alpine and mutt e-mail clients, the emacs and vim text editors,
the irssi and barnowl chat clients, the links text-mode Web browser,
and several programs unique to each user.</p>

<p>To evaluate typical usage of a &#34;mobile&#34; terminal, we replayed the
traces over an otherwise unloaded Sprint commercial EV-DO (3G)
cellular Internet connection in Cambridge, Mass. A client-side process
played the user portion of the traces, and a server-side process
waited for the expected user input and then replied (in time) with the
prerecorded server output. We speeded up long periods with no
activity.  The average round-trip time on the link was about half a
second.</p>

<p>We replayed the traces over two different transports, SSH and Mosh,
and recorded the user interface response latency to each simulated
user keystroke. The Mosh predictive algorithm was frozen prior to
collecting the traces and was not adjusted in response to their
contents or results.</p>

<h4>The results</h4>
<div>
  <p></p><h4>Cumulative distribution of keystroke response times with Sprint EV-DO (3G) Internet service</h4>
</div>
</div>
  </div>
</section>

      <section id="faq">
  

  <div>
  <div>
  <dl>
  <dt>Q: Who wrote Mosh?</dt>

  <dd><p>Mosh was written by Keith Winstein, along with Anders Kaseorg, Quentin Smith, Richard Tibbetts, Keegan McAllister, and John Hood.</p></dd>

  <dt>Q: Why another remote-terminal protocol?</dt>

  <dd><p>Practical latency on the Internet is on the increase, with
    the rise of bufferbloat and sophisticated wireless links
    that optimize for throughput over delay. And roaming is more
    common than ever, now that laptops and handheld devices have
    largely displaced desktops. SSH is great, but frustrating to
    use when you want to change IP addresses or have a
    long-delay link or a dodgy connection.</p>

  <p>Moreover, TELNET had some good things going for it — a
    local-echo mode and a well-defined network virtual
    terminal. Even today, SSH doesn&#39;t properly support UTF-8
    end-to-end on a POSIX system.</p></dd>

  <dt>Q: Are the mosh principles relevant to other network applications?</dt>

  <dd><p>We think so. The design principles that Mosh stands for are
    conservative: warning the user if the state being displayed
    is out of date, serializing and checkpointing all
    transactions so that if there are no warnings, the user
    knows every prior transaction has succeeded, and handling expected events (like roaming from one
    WiFi network to another) gracefully.</p>

  <p>Those don&#39;t seem too controversial, but fancy apps like
  Gmail-in-Chromium or on Android still behave atrociously on
  dodgy connections or after switching IP addresses. (Have you
  ever had Gmail leave an e-mail message in &#34;Sending...&#34; for ten
  hours while merrily retrieving new mail and not indicating any
  kind of error? Us too.) We think there may be considerable
  room for improvement in many network user interfaces from the
  application of these values.</p></dd>

  <!--
  <dt>Q: I'm using gnome-terminal or xfce4-terminal and seeing glitches in the last line of the terminal. Sometimes they go away when I select the text.</dt>

  <dd><p>This is a bug in some versions of VTE, the terminal emulation library that powers gnome-terminal, xfce4-terminal, and some other terminal emulators. The VTE maintainers have fixed this bug; please see the below referenced bugzillas and other links. Another option is to switch to a non-VTE-based terminal, such as rxvt-unicode or xterm.</p>

	<p>After installing a fixed package, for the fix to become effective,
	please make sure to restart <b>all</b> instances of the terminal.</p>

	<p>See also:</p>

	<ul>
	<li>Original (?): <a href="https://bugzilla.gnome.org/show_bug.cgi?id=542087"
		>542087 - Graphical glitches after "change scroll region"</a></li>
	<li>One of its duplicates: <a href="https://bugzilla.gnome.org/show_bug.cgi?id=686097"
		>686097 - screen not redrawn correctly when using mosh</a></li>
	<li>Fedora bugzilla, including a rebuild script:
		<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1080662#c1">RHBZ #1080662</a></li>
	<li>vte upstream commit <a href="https://git.gnome.org/browse/vte/commit/?id=88e8e89560a62d0981ce2b18974a230d0a07dbdd"
		>88e8e89 widget: Fix invalidation region</a></li>
	</ul>
  </dd>
-->

  <dt>Q: I&#39;m getting &#34;mosh requires a UTF-8 locale.&#34; How can I fix this?</dt>

        <dd><p>To diagnose the problem, run <code>locale</code> on the local
        terminal, and <code>ssh <i>remotehost</i> locale</code>. To use Mosh,
        both sides of the connection will need to show a UTF-8 locale, like
        <code>LC_CTYPE=&#34;en_US.UTF-8&#34;</code>.</p>

        <p>On many systems, SSH will transfer the locale-related
        environment variables, which are then inherited by
        <code>mosh-server</code>.  If this mechanism fails, Mosh (as of
        version 1.2) will pass the variables itself.  If neither
        mechanism is successful, you can do something like</p>

        <pre>mosh <i>remotehost</i> <b>--server=&#34;LANG=en_US.UTF-8 mosh-server&#34;</b></pre>

        <p>If <code>en_US.UTF-8</code> does not exist on the remote server,
        you can replace this with a UTF-8 locale that does exist.  You
        may also need to set LANG locally for the benefit of
        <code>mosh-client</code>.  It is possible that the local and
        remote machines will need different locale names. See also <a href="https://github.com/keithw/mosh/issues/98">this GitHub
        ticket</a>.</p></dd>

  <dt>Q: What does the message &#34;Nothing received from the server on UDP port 60003&#34; mean?</dt>

  <dd>
    <p>This means that <code>mosh</code> was able to start
    <code>mosh-server</code> successfully on the remote machine, but the client is
    not able to communicate with the server.  This generally means that
    some type of firewall is
    blocking the UDP packets between the client and the server.  If you
    had to forward TCP port 22 on a NAT for SSH, then you will have to
    forward UDP ports as well.  Mosh will use the first available
    UDP port, starting at 60001 and stopping at 60999.  If you are only
    going to have a small handful of concurrent sessions on a server, then you can
    forward a smaller range of ports (e.g., 60000 to 60010).
    </p>

    <p>
    Tools like netstat, netcat, socat, and tcpdump can be useful for debugging
    networking and firewall problems.
    </p>

    <p>This problem can also be the result of a bug in glibc 2.22 that
      affects programs that link with protobuf and utempter and use
      aggressive compiler hardening flags. (<a href="https://sourceware.org/bugzilla/show_bug.cgi?id=19861">glibc bugtracker entry</a>, as well as <a href="https://github.com/mobile-shell/mosh/issues/727">Mosh bugtracker entry</a>.) The
      problem causes mosh-server to segfault immediately on startup. We
      believe we have worked around this problem in Mosh 1.2.6, but please
      report a bug if you find otherwise.</p>
  </dd>

  <dt>Q: Why do you insist on UTF-8 everywhere?</dt>

  <dd><p>We&#39;re really not UTF-8 zealots. But it&#39;s a lot easier to
  correctly implement <strong>one</strong> terminal emulator
  than to try to do the right thing in a variety of difficult
  edge cases. (This is what GNU screen tries to do, and in our
  experience it leads to some very tricky-to-debug situations.)
  So mosh just won&#39;t start up until the user has everything
  configured for a UTF-8-clean pathway. It may be annoying, but
  it also probably reduces frustration down the
  road. (Unfortunately an 8-bit vt220 and a UTF-8 vt220 are
  different and incompatible terminal types; the UTF-8 goes
  in <strong>underneath</strong> the vt220 state machine.)</p></dd>

  <dt>Q: How do I use a different SSH port (not 22)?</dt>

        <dd><p>As of Mosh 1.2, you can pass arguments to <code>ssh</code> like so:</p>

        <pre>mosh <i>remotehost</i> <b>--ssh=&#34;ssh -p 2222&#34;</b></pre>

        <p>Or configure a host alias in <code>~/.ssh/config</code> with a
        <code>Port</code> directive.  Mosh will respect that too.</p></dd>

  <dt>Q: I&#39;m getting &#39;mosh-server not found&#39;.</dt>

  <dd><p>Please make sure that mosh is installed on the client, and
  mosh (or at least mosh-server) is installed on the server you are
  trying to connect to.  Also, the server is expected to be available
  on your server&#39;s default login <code>PATH</code>, which is not
  usually true on OS X and BSD servers, or if you install mosh-server
  in your home directory.  In these cases please see the &#34;Server
  binary outside path&#34; instructions in the Usage section,
  above.</p></dd>

  <dt>Q: SSH authenticates using Kerberos tickets, but Mosh asks me for a password.</dt>
        <dd><p>In some configurations, SSH canonicalizes the hostname
        before passing it to the Kerberos GSSAPI plugin.  This breaks
        for Mosh, because the initial forward DNS lookup is done by
        the Mosh wrapper script.  To work around this, invoke Mosh as</p>

        <pre>mosh <i>remotehost</i> <b>--ssh=&#34;ssh -o GSSAPITrustDns=no&#34;</b></pre>

        <p>This <a href="https://bugzilla.mindrot.org/show_bug.cgi?id=1008">will
        often fail</a> on a round-robin DNS setup.  In that case it is probably
        best to pick a specific host from the round-robin pool.</p></dd>

  <dt>Q: Why is my terminal&#39;s scrollback buffer incomplete?</dt>

        <dd><p>Mosh synchronizes only the <b>visible</b> state of the terminal.  We
are tracking this issue; see <a href="https://github.com/keithw/mosh/issues/2">this issue</a> and the
        others which are linked from there.  For now, the workaround is to use
        <a href="https://www.gnu.org/software/screen/">screen</a> or <a href="https://github.com/tmux/tmux">tmux</a> on the remote side.</p></dd>

  <dt>Q: How do I get 256 colors?</dt>

  <dd><p>Make sure you are running mosh in a terminal that
  advertises itself as 256-color capable. (This generally means
  TERM will be xterm-256color or screen-256color-bce.)</p></dd>

  <dt>Q: How do I type C-^, Mosh&#39;s default escape character?</dt>

  <dd><p>On keyboards with the United States layout, this can be typed
  as Ctrl-Shift-6, or often as Ctrl-6 (this depends on your OS and
  terminal emulator).  On non-US keyboards, it is often hard to find
  the right key, and sometimes it&#39;s not available at all.  If your
  keyboard has a dead key with an accent-circumflex, this is not
  likely to be the right key.  Ctrl-6 sometimes works, though.  If you
  are unable to type this character, you will need to set
  the <code>MOSH_ESCAPE_KEY</code> variable; see the Mosh man page for
  details.</p></dd>

  <dt>Q: How can I make the server automatically clean up dormant sessions?</dt>

  <dd><p>Please see the entries for <code>MOSH_SERVER_NETWORK_TMOUT</code>
      and <code>MOSH_SERVER_SIGNAL_TMOUT</code> in the <i>mosh-server(1)</i> man page.</p></dd>

  <dt>Q: What is Mosh&#39;s security track record so far?</dt>

  <dd><p>Mosh 1.0 was released in March 2012. As of the release of Mosh
      1.3.2 in July 2017, as far as the developers are aware:

      </p><ul>
      
      <li>In the last four years, <b>no security vulnerabilities of
	any kind</b> (major or minor) have been reported in Mosh.

      </li><li>No major security vulnerabilities have <b>ever</b> been
      reported in Mosh. We define major security vulnerabilities to
      include privilege escalation, remote code execution,
      denial-of-service by a third party, etc.

      </li><li>Two denial-of-service issues were discovered and fixed in
	releases in 2012. One issue allowed a mosh-server to cause the
	mosh-client to spend excess CPU (CVE-2012-2385, fixed in Mosh
	1.2.1, released May 2012). Another issue allowed the server
	host to cause the mosh-client to send UDP datagrams to an
	incorrect address, foiling its attempt to connect (fixed in
	Mosh 1.2.3, released October 2012).
      </li></ul></dd>

      <dt>Q: How does Mosh&#39;s security compare with SSH&#39;s?</dt>
      
    <dd><p>We think that Mosh&#39;s conservative design means that its attack
      surface compares favorably with more-complicated systems like
      OpenSSL and OpenSSH. Mosh&#39;s track record has so
      far borne this out. Ultimately, however, only time will tell
      when the first serious security vulnerability is discovered in
      Mosh—either because it was there all along or because it
      was added inadvertently in development. OpenSSH and OpenSSL have
      had more vulnerabilities, but they have also been released
      longer and are more prevalent.</p>

    <p>In one concrete respect, the Mosh protocol is more secure than
      SSH&#39;s: SSH relies on unauthenticated TCP to carry the contents
      of the secure stream. That means that an attacker can end an SSH
      connection with a single phony &#34;RST&#34; segment. By contrast, Mosh
      applies its security at a different layer (authenticating every
      datagram), so an attacker cannot end a Mosh session unless the
      attacker can <b>continuously</b> prevent packets from reaching
      the other side. A transient attacker can cause only a transient
      user-visible outage; once the attacker goes away, Mosh will
      resume the session.</p>

    <p>However, in typical usage, Mosh relies on SSH to exchange keys
      at the beginning of a session, so Mosh will inherit the
      weaknesses of SSH—at least insofar as they affect the
      brief SSH session that is used to set up a long-running Mosh
      session.</p></dd>

  <dt>Q: Is Mosh affected by the 2018 <a href="https://eprint.iacr.org/2018/1040.pdf">attacks against the OCB2 cipher mode</a>?</dt>

  <dd><p>Not that we know of—Mosh uses OCB3. The authors of the
paper write that the attack is not applicable to OCB3.</p></dd>

  <dt>Q: Why does mosh use AES-128 for a session-key, not AES-192 or AES-256?</dt>

  <dd>
    <ul>
      <li>AES-128 is more than an adequate key length for a session key.</li>

      <li>The <a href="https://web.cs.ucdavis.edu/~rogaway/ocb/ocb-faq.htm#what-blockcipher">OCB FAQ</a> recommends AES-128.</li>

      <li>AES-128 is a bit nicer and is not subject to the related-key attacks that afflict AES-192 and AES-256. (Schneier: &#34;the key schedule for 256-bit version is pretty lousy -- something we pointed out in our 2000 paper -- but doesn&#39;t extend to AES with a 128-bit key.&#34; See <a href="https://www.schneier.com/blog/archives/2009/07/another_new_aes.html">this blog post</a>.)</li>
    </ul>
  </dd>

  <dt>Q: Does mosh work with Amazon EC2?</dt>

  <dd><p>Yes, it works great, but please remember to open up UDP ports 60000–61000 on the EC2 firewall.</p></dd>

  <dt>Q: How do I tell if mosh is working correctly?</dt>

  <dd>
      <p>After you run <code>mosh user@server</code>, if successful you will be dropped into your login
      shell on the remote machine.

      If you want
      to check that mosh is being used instead of ssh, try typing <code>Ctrl-^ Ctrl-Z</code>
      to suspend the session (with mosh 1.2.4 or later on the client). Running <code>fg</code> will then return.
      </p>
  </dd>

  <dt>Q: What&#39;s the difference between mosh, mosh-client, and mosh-server?   Which one do I use?</dt>

  <dd>
      <p>The <code>mosh</code> command is a wrapper script that is designed to be the primary way that
      you use mosh.  In most cases, you can simply just replace &#34;ssh&#34; with &#34;mosh&#34; in your command line.
      Behind the scenes, the <code>mosh</code> wrapper script will SSH to the server, start up
      <code>mosh-server</code>, and then close the SSH connection.  Then it will start up the
      <code>mosh-client</code> executable on the client, passing it the necessary information for
      it to connect to the newly spawned <code>mosh-server</code> instance.
      </p>

      <p>In normal usage, <code>mosh-client</code> and
      <code>mosh-server</code> don&#39;t need to be run directly.
      </p>
  </dd>

  <dt>Q: How do I run the mosh client and server separately?</dt>

  <dd><p>If the <code>mosh</code> wrapper script isn&#39;t working for you, you can try running
    the <code>mosh-client</code> and <code>mosh-server</code> programs separately to
    form a connection. This can be a useful debugging technique.</p>

  <p>1. Log in to the remote host, and run <code>mosh-server</code>.</p>

  <p>It will give output like:</p>
<pre>$ mosh-server 

MOSH CONNECT <b>60004</b> <b>4NeCCgvZFe2RnPgrcU1PQw</b>

mosh-server (mosh 1.1.3)
Copyright 2012 Keith Winstein &lt;mosh-devel@mit.edu&gt;
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

[mosh-server detached, pid = 30261]
</pre>

  <p>2. On the local host, run:</p>
<pre>$ MOSH_KEY=<b>key</b> mosh-client <b>remote-IP</b> <b>remote-PORT</b></pre>

<p>where &#34;key&#34; is the 22-byte string printed by mosh-server (in this
example, &#34;4NeCCgvZFe2RnPgrcU1PQw&#34;), &#34;remote-PORT&#34; is the port number
given by the server (60004 in this case), and &#34;remote-IP&#34; is the IP address of the server. You can look up the
server&#39;s IP address with &#34;host remotehost&#34;.</p>

  <p>3. If all goes well, you should have a working Mosh connection. Information about where the process fails can help us debug why Mosh isn&#39;t working for you.</p>

  </dd><dt>Q: With the mosh-server on FreeBSD or OS X, I sometimes get weird color problems. What&#39;s wrong?</dt>

  <dd><p>This <a href="https://github.com/keithw/mosh/pull/129">bug</a> is fixed in Mosh 1.2. Thanks to Ed Schouten and Peter Jeremy for tracking this down.</p></dd>

  <dt>Q: How do I contribute to mosh?</dt>

  <dd><p>We welcome your contribution! Please join us in <code>#mosh</code> channel on <a href="https://libera.chat/">Libera Chat</a> IRC, <a href="https://github.com/mobile-shell">visit us on GitHub</a>,
  or email <code>mosh-devel@mit.edu</code>.  To contribute to our code base, please fork the repository on GitHub and open a pull request there.</p></dd>

  <dt>Q: Who helped with mosh?</dt>

  <dd><p>We&#39;re very grateful for assistance and support from:</p>

    <ul>

<li>Hari Balakrishnan, who advised this work and came up with the name.

</li><li><a href="http://www.vt100.net">Paul Williams</a>, whose reverse-engineered vt500 state diagram is the basis for the Mosh parser.

</li><li>The anonymous users who contributed session logs for tuning and measuring Mosh&#39;s predictive echo.

</li><li>Nickolai Zeldovich for helpful comments on the Mosh research paper.

</li><li>Richard Stallman for helpful discussion about the capabilities of the <a href="https://dspace.mit.edu/handle/1721.1/5694">SUPDUP Local Editing Protocol</a>.

</li><li>Nelson Elhage

</li><li>Christine Spang

</li><li>Stefie Tellex

</li><li>Joseph Sokol-Margolis

</li><li>Waseem Daher

</li><li>Bill McCloskey

</li><li>Austin Roach

</li><li>Greg Hudson

</li><li>Karl Ramm

</li><li>Alexander Chernyakhovsky

</li><li>Peter Iannucci

</li><li>Evan Broder

</li><li>Neha Narula

</li><li>Katrina LaCurts

</li><li>Ramesh Chandra

</li><li>Peter Jeremy

</li><li>Ed Schouten

</li><li>Ryan Steinmetz

</li><li>Jay Freeman

</li><li>Dave Täht

</li><li>Larry Doolittle

</li><li>Daniel Drown

</li><li>Timo Juhani Lindfors

</li><li>Timo Sirainen

</li><li>Ira Cooper

</li><li>Felix Gröbert

</li><li>Luke Mewburn

</li><li>Anton Lundin

</li><li>Philipp Haselwarter

</li><li>Timo J. Rinne

</li><li>Barosl Lee

</li><li>Andrew Chin

</li><li>Louis Kruger

</li><li>Jérémie Courrèges-Anglas

</li><li>Pasi Sjöholm

</li><li>Richard Woodbury

</li><li>Igor Bukanov

</li><li>Geoffrey Thomas

</li><li>Steve Dignam

</li><li>HIGUCHI Yuta

</li><li>Baruch Siach

</li></ul></dd>
</dl>
</div>
</div>
</section>

<section id="contact">
  
  
  <div>
  <div>
  <ul>
      <li><p><code>mosh-devel@mit.edu</code></p></li>

      <li><p><code>mosh-users@mit.edu</code></p></li>

      <li><p><code>#mosh</code> channel on <a href="https://libera.chat/">Libera</a> IRC</p></li>

      <li><p>At the recommendation of the security community, <b>confidential security-related matters</b> may be sent to: <code>mosh-security@mit.edu</code><br/></p>

        <div><p>
    Messages may optionally be encrypted with <a href="https://mosh.org/keithw-gpg.txt">Keith Winstein&#39;s public key</a>:
</p><pre>pub   rsa4096 2012-02-05 [SC] [expires: 2022-02-18]
      B1A4 7069 121F 6642 BB3D  7F3E 20B7 283A FE25 4C69</pre>
        </div></li>

      </ul>
    </div>
  </div>


</section>

    </div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 00:51:40 +0000</pubDate>
      <source>https://mosh.org</source>
    </item>
    <item>
      <title>Open-source Dropbox client, with multi-account, no-device-limit and M1 support</title>
      <link>https://github.com/SamSchott/maestral</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text"><p><a href="https://pypi.org/project/maestral/" rel="nofollow"></a>
<a href="https://pypi.org/pypi/maestral/" rel="nofollow"></a>
<a href="https://maestral.readthedocs.io/en/latest/?badge=latest" rel="nofollow"></a>
<a href="https://codecov.io/gh/SamSchott/maestral" rel="nofollow"></a></p>

<p>A light-weight and open-source Dropbox client for macOS and Linux.</p>
<h2><a id="user-content-about" aria-hidden="true" href="#about"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>About</h2>
<p>Maestral is an open-source Dropbox client written in Python. The project&#39;s main goal is to
provide a client for platforms and file systems that are no longer directly supported by
Dropbox.</p>
<p>Maestral currently does not support Dropbox Paper, the management of Dropbox teams, and
the management of shared folder settings. If you need any of this functionality, please
use the Dropbox website or the official client. Maestral does support syncing
multiple Dropbox accounts and excluding local files from sync with a &#34;.mignore&#34; file.</p>
<p>The focus on &#34;simple&#34; file syncing does come with advantages: on macOS, the Maestral App
bundle is significantly smaller than the official Dropbox app and uses less memory. The
exact memory usage will depend on the size of your synced Dropbox folder and can be further
reduced when running Maestral without a GUI.</p>
<p>Maestral uses the public Dropbox API which, unlike the official client, does not support
transferring only those parts of a file which changed (&#34;binary diff&#34;). Maestral may
therefore use more bandwidth that the official client. However, it will avoid uploading
or downloading a file if it already exists with the same content locally or in the cloud.</p>
<h2><a id="user-content-warning" aria-hidden="true" href="#warning"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Warning</h2>
<ul>
<li>Never sync a local folder with both the official Dropbox client and Maestral at the same
time.</li>
<li>Network drives and some external hard drives are not supported as locations for the
Dropbox folder.</li>
</ul>
<h2><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p>An app bundle is provided for macOS High Sierra and higher and can be downloaded from the
Releases tab. On other platforms, please download and install the Python package from PyPI:</p>
<div data-snippet-clipboard-copy-content="$ python3 -m pip install --upgrade maestral
"><pre>$ <span>python3 -m pip install --upgrade maestral</span></pre></div>
<p>If you intend to use the graphical user interface, you also need to specify the GUI option
during installation or upgrade. This will install the <code>maestral-qt</code> frontend and <code>PyQt5</code>
on Linux and <code>maestral-cocoa</code> on macOS:</p>
<div data-snippet-clipboard-copy-content="$ python3 -m pip install --upgrade maestral[gui]
"><pre>$ <span>python3 -m pip install --upgrade maestral[gui]</span></pre></div>
<p>There also a Docker image available for x86, arm/v7 (32bit) and arm64 platforms which can
be installed with:</p>
<div data-snippet-clipboard-copy-content="docker pull maestraldbx/maestral
"><pre lang="colsole"><code>docker pull maestraldbx/maestral
</code></pre></div>
<p>For more detailed information on the installation, setup and system requirements, please
check the <a href="https://samschott.github.io/maestral/docs/installation" rel="nofollow">documentation</a>.</p>
<h2><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p>Run <code>maestral gui</code> in the command line (or open the Maestral app on macOS) to start
Maestral with a graphical user interface. On its first run, Maestral will guide you
through linking and configuring your Dropbox and will then start syncing.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/SamSchott/maestral-dropbox/master/screenshots/macOS_dark.png"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/SamSchott/maestral-dropbox/master/screenshots/Ubuntu.png"></a></p>
<h3><a id="user-content-command-line-usage" aria-hidden="true" href="#command-line-usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Command line usage</h3>
<p>After installation, Maestral will be available as a command line script by typing
<code>maestral</code> in the command prompt. Type <code>maestral --help</code> to get a full list of available
commands. The most important are:</p>
<ul>
<li><code>maestral gui</code>: Starts the Maestral GUI. Creates a sync daemon if not already running.</li>
<li><code>maestral start|stop</code>: Starts or stops the Maestral sync daemon.</li>
<li><code>maestral pause|resume</code>: Pauses or resumes syncing.</li>
<li><code>maestral autostart -Y|-N</code>: Sets the daemon to start on log in.</li>
<li><code>maestral status</code>: Gets the current status of Maestral.</li>
<li><code>maestral filestatus LOCAL_PATH</code>: Gets the sync status of an individual file or folder.</li>
<li><code>maestral excluded add|remove|list</code>: Command group to manage excluded folders.</li>
<li><code>maestral ls DROPBOX_PATH</code>: Lists the contents of a directory on Dropbox.</li>
<li><code>maestral notify snooze N</code>: Snoozes desktop notifications for N minutes.</li>
</ul>
<p>Maestral supports syncing multiple Dropbox accounts by running multiple instances
with different configuration files. This needs to be configured from the command
line by passing the option <code>--config-name</code> to <code>maestral start</code> or <code>maestral gui</code>.
Maestral will then select an existing config with the given name or create a new one.
For example:</p>
<div data-snippet-clipboard-copy-content="$ maestral start --config-name=&#34;personal&#34;
$ maestral start --config-name=&#34;work&#34;
"><pre>$ <span>maestral start --config-name=<span><span>&#34;</span>personal<span>&#34;</span></span></span>
$ <span>maestral start --config-name=<span><span>&#34;</span>work<span>&#34;</span></span></span></pre></div>
<p>This will start two instances of Maestral, syncing a private and a work account,
respectively. Configs will be automatically cleared when unlinking an account and you can
list all currently linked accounts with <code>maestral configs</code>:</p>
<div data-snippet-clipboard-copy-content="$ maestral configs

Config name  Account
personal     user@gmail.com
work         user@mycorp.org

"><pre>$ <span>maestral configs</span>

<span>Config name  Account</span>
<span>personal     user@gmail.com</span>
<span>work         user@mycorp.org</span>
</pre></div>
<p>By default, the Dropbox folder names will contain the capitalised config-name in braces.
In the above case, this will be &#34;Dropbox (Personal)&#34; and &#34;Dropbox (Work)&#34;.</p>
<p>A full documentation of the CLI is available on the
<a href="https://samschott.github.io/maestral/cli/" rel="nofollow">website</a>.</p>
<h2><a id="user-content-contribute" aria-hidden="true" href="#contribute"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contribute</h2>
<p>There are multiple topics that could use your help. Some of them are easy, such as adding
new CLI commands, others require more experience, such as packaging for non-macOS
platforms. Look out for issues marked with &#34;good first issue&#34; or &#34;help wanted&#34;. Pull
requests should be made against the develop branch.</p>
<p>Relevant resources are:</p>
<ul>
<li><a href="https://maestral.readthedocs.io" rel="nofollow">Maestral API docs</a></li>
<li><a href="https://www.dropbox.com/developers/documentation/http/documentation" rel="nofollow">Dropbox API docs</a></li>
<li><a href="https://dropbox-sdk-python.readthedocs.io/en/latest/" rel="nofollow">Dropbox Python SDK docs</a></li>
</ul>
<p><a href="https://github.com/SamSchott/maestral/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a> contains detailed information on the expected code
style and test format.</p>
<p>If you are using the macOS app bundle, please consider sponsoring the project with £1 per
month to offset the cost of an Apple Developer account to sign and notarize the bundle.</p>
<h2><a id="user-content-system-requirements" aria-hidden="true" href="#system-requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>System requirements</h2>
<ul>
<li>macOS 10.14 Mojave or higher or Linux</li>
<li>Python 3.6 or higher</li>
<li>For the system tray icon on Linux:
<ul>
<li><a href="https://github.com/ubuntu/gnome-shell-extension-appindicator">gnome-shell-extension-appindicator</a>
on Gnome 3.26 and higher</li>
</ul>
</li>
</ul>
</article>
        </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 23:56:10 +0000</pubDate>
      <source>https://github.com/SamSchott/maestral</source>
    </item>
    <item>
      <title>Poly Network hacker returns $258M after stealing $600M</title>
      <link>https://www.forbes.com/sites/jonathanponciano/2021/08/11/crypto-hacker-returns-258-million-after-stealing-600-million-solicits-donations-for-hacking-for-good/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><article id="article-container-0"><fbs-ad position="ntv-contentd" ad-id="ntv-contentd" batched=""></fbs-ad><main id="article-stream-0"><div><div><div><div><div><p><a href="https://www.forbes.com/sites/jonathanponciano/" title="Photo of Jonathan Ponciano"></a></p></div></div></div><div><div><h2>Topline</h2> 
<p>In an unusual twist for the one of the largest cryptocurrency heists ever, a hacker who stole more than $600 million in tokens from blockchain-based platform Poly Network started sending back the stolen funds Wednesday after a slew of cryptocurrency experts and businesses pledged to track the hacker’s crypto wallet on the blockchain and help retrieve the assets. </p> 
<figure role="presentation"> 
  
 <figcaption> 
  <fbs-accordion> 
   <p>In a transaction early Wednesday, the hacker said it&#39;s &#34;ready to return the fund!&#34;</p> 
  </fbs-accordion> 
  <small>getty</small> 
 </figcaption> 
</figure> 
 
<h2>Key Facts</h2> 
<div> 
 <p>Transactions publicly <a href="https://polygonscan.com/address/0xA4b291Ed1220310d3120f515B5B7AccaecD66F17#tokentxns" target="_blank" title="https://polygonscan.com/address/0xA4b291Ed1220310d3120f515B5B7AccaecD66F17#tokentxns" rel="nofollow noopener noreferrer" data-ga-track="ExternalLink:https://polygonscan.com/address/0xA4b291Ed1220310d3120f515B5B7AccaecD66F17#tokentxns" aria-label="stored">stored</a> on the blockchain show an address belonging to Poly&#39;s hacker started returning the assets through several transactions early Wednesday.</p> 
 <div> 
  <p>So far, Tom Robinson, the chief scientist at blockchain analytics company Elliptic, says Poly has received about $258 million of the stolen funds, meaning about $350 million in stolen funds have yet to be retrieved.</p> 
   
 </div> 
 <div> 
  <p>The alleged hacker has been leaving notes alongside the transactions, which continued throughout Wednesday morning, in one instance saying: &#34;Just dumped all assets on [blockchains] BSC &amp; Polygon. Hacking for Good, I did save the project.&#34;</p> 
  <fbs-ad position="inread" progressive="" ad-id="article-0-inread" aria-hidden="true" role="presentation"></fbs-ad> 
 </div> 
 <p>In another message, the hacker included his cryptocurrency wallet address and asked for donations from those supporting his decision to return the stolen assets, which included about $267 million in ether, $252 million in binance coins and roughly $85 million in USDC tokens on the Polygon network.</p> 
 <div> 
  <p>The reversal comes after Poly demanded in a string of tweets that the hacker start returning the funds to three cryptocurrency wallet addresses, at one point saying the money stolen belonged to &#34;tens of thousands of crypto community members.&#34;</p> 
   
 </div> 
 <p>In an email to <em>Forbes</em>, Robinson confirmed the transactions and said he thinks the hacker beginning to return the funds &#34;demonstrates that even if you can steal cryptoassets, laundering them and cashing out is extremely difficult due to the transparency of the blockchain.&#34; </p> 
</div> 
<h2>Key Background</h2> 
<p>Tuesday&#39;s hack on Poly marks one of the biggest hacks in cryptocurrency history and is even bigger than the $460 million <a href="https://www.wired.com/2014/03/bitcoin-exchange/" target="_blank" title="https://www.wired.com/2014/03/bitcoin-exchange/" rel="nofollow noopener noreferrer" data-ga-track="ExternalLink:https://www.wired.com/2014/03/bitcoin-exchange/" aria-label="hack">hack</a> on cryptocurrency exchange Mt. Gox that led to the company’s bankruptcy and heightened regulation in the nascent space about seven years ago. Shortly after the Tuesday morning exploit, Poly <a href="https://twitter.com/PolyNetwork2/status/1425079073366106118?s=20" target="_blank" title="https://twitter.com/PolyNetwork2/status/1425079073366106118?s=20" rel="nofollow noopener noreferrer" data-ga-track="ExternalLink:https://twitter.com/PolyNetwork2/status/1425079073366106118?s=20" aria-label="urged">urged</a> cryptocurrency miners and exchanges to &#34;blacklist&#34; tokens coming from the hacker&#39;s addresses, and many soon heeded the call. Executives at some of the world&#39;s largest cryptocurrency exchanges—including Huboi, OKEx and Binance—said they were monitoring their platforms for any activity by the hacker. Changpeng Zhao, Binance&#39;s billionaire CEO, <a href="https://twitter.com/cz_binance/status/1425091869709570060?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1425091869709570060%7Ctwgr%5E%7Ctwcon%5Es1_c10&amp;ref_url=https%3A%2F%2Fcdn.embedly.com%2Fwidgets%2Fmedia.html%3Ftype%3Dtext2Fhtmlkey%3D3ce26dc7e3454db5820ba084d28b4935schema%3Dtwitterurl%3Dhttps3A%2F%2Ftwitter.com%2Fcz_binance%2Fstatus%2F1425091869709570060image%3Dhttps3A%2F%2Fi.embed.ly%2F1%2Fimage3Furl3Dhttps253A252F252Fabs.twimg.com252Ferrors252Flogo46x38.png26key3D3ce26dc7e3454db5820ba084d28b4935" target="_blank" title="https://twitter.com/cz_binance/status/1425091869709570060?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1425091869709570060%7Ctwgr%5E%7Ctwcon%5Es1_c10&amp;ref_url=https%3A%2F%2Fcdn.embedly.com%2Fwidgets%2Fmedia.html%3Ftype%3Dtext2Fhtmlkey%3D3ce26dc7e3454db5820ba084d28b4935schema%3Dtwitterurl%3Dhttps3A%2F%2Ftwitter.com%2Fcz_binance%2Fstatus%2F1425091869709570060image%3Dhttps3A%2F%2Fi.embed.ly%2F1%2Fimage3Furl3Dhttps253A252F252Fabs.twimg.com252Ferrors252Flogo46x38.png26key3D3ce26dc7e3454db5820ba084d28b4935" rel="nofollow noopener noreferrer" data-ga-track="ExternalLink:https://twitter.com/cz_binance/status/1425091869709570060?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1425091869709570060%7Ctwgr%5E%7Ctwcon%5Es1_c10&amp;ref_url=https%3A%2F%2Fcdn.embedly.com%2Fwidgets%2Fmedia.html%3Ftype%3Dtext2Fhtmlkey%3D3ce26dc7e3454db5820ba084d28b4935schema%3Dtwitterurl%3Dhttps3A%2F%2Ftwitter.com%2Fcz_binance%2Fstatus%2F1425091869709570060image%3Dhttps3A%2F%2Fi.embed.ly%2F1%2Fimage3Furl3Dhttps253A252F252Fabs.twimg.com252Ferrors252Flogo46x38.png26key3D3ce26dc7e3454db5820ba084d28b4935" aria-label="said">said</a> the company, which serves as the primary operator of the blockchain on which binance coins are built, would coordinate with its security partners and “do as much as [it] can” to help. Meanwhile, Jay Hao, the CEO of cryptocurrency exchange OKEx, <a href="https://twitter.com/JayHao8/status/1425094897976193034?s=20" target="_blank" title="https://twitter.com/JayHao8/status/1425094897976193034?s=20" rel="nofollow noopener noreferrer" data-ga-track="ExternalLink:https://twitter.com/JayHao8/status/1425094897976193034?s=20" aria-label="said">said</a> the company is “watching the flow of coins and will do [its] best to manage the situation.”</p> 
<h2>What To Watch For</h2> 
<p>Legal action—and potential regulation—stemming from the hack. Less than a week ago, SEC Chairman Gary Gensler said booming decentralized finance platforms, also known as DeFi, deserve more government scrutiny and likened the space to the &#34;Wild West.&#34; According to crypto intelligence firm CipherTrace, more than 75% of cryptocurrency hacks this year have been linked to DeFi.</p> 
<h2>Big Number</h2> 
<p>$103 billion. That’s the current market value of all decentralized finance tokens (like Polygon), according to cryptodata website CoinGecko. The space shot past a $100 billion valuation for the first time ever this year and peaked at about $150 billion in May before the broader crypto market crashed nearly 50%. </p> 
 
<h2>Further Reading</h2> 
<p><a href="https://www.forbes.com/sites/jonathanponciano/2021/08/10/more-than-600-million-stolen-in-ethereum-and-other-cryptocurrencies-marking-one-of-cryptos-biggest-hacks-ever/" target="_self" title="https://www.forbes.com/sites/jonathanponciano/2021/08/10/more-than-600-million-stolen-in-ethereum-and-other-cryptocurrencies-marking-one-of-cryptos-biggest-hacks-ever/" data-ga-track="InternalLink:https://www.forbes.com/sites/jonathanponciano/2021/08/10/more-than-600-million-stolen-in-ethereum-and-other-cryptocurrencies-marking-one-of-cryptos-biggest-hacks-ever/" aria-label="More Than $600 Million Stolen In Ethereum And Other Cryptocurrencies—Marking One Of Crypto&#39;s Biggest Hacks Ever">More Than $600 Million Stolen In Ethereum And Other Cryptocurrencies—Marking One Of Crypto&#39;s Biggest Hacks Ever</a> <em>(Forbes)</em></p> 
</div><p><span>Follow me on </span><a href="https://www.twitter.com/Jon_Ponciano" rel="noopener noreferrer" target="_blank">Twitter</a>. <span>Send me a secure <a href="https://www.forbes.com/tips/" rel="noopener noreferrer" target="_blank">tip</a></span>. </p><div><div><div><p><a href="https://www.forbes.com/sites/jonathanponciano/" title="Photo of Jonathan Ponciano"></a></p></div><fbs-cordial type="Follow" natural-id="blogAuthorId/blog/author/2958613" author-slug="jonathanponciano" page-position="bottom"></fbs-cordial></div><div><div><p>I&#39;m a reporter at Forbes focusing on markets and finance. I graduated from the University of North Carolina at Chapel Hill, where I double-majored in business journalism</p><p>…</p></div></div></div></div></div></div></main></article></div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 03:34:41 +0000</pubDate>
      <source>https://www.forbes.com/sites/jonathanponciano/2021/08/11/crypto-hacker-returns-258-million-after-stealing-600-million-solicits-donations-for-hacking-for-good/</source>
    </item>
    <item>
      <title>Ask HN: What are you using to replace shared iCloud Photos albums?</title>
      <link>https://news.ycombinator.com/item?id=28150772</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>Please recommend a boomer friendly photo sharing service that is also privacy conscious…if such thing even exists.<p>Looking for easier/better alternatives than doing Nextcloud, ownCloud, etc.</p></div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 02:02:36 +0000</pubDate>
      <source>https://news.ycombinator.com/item?id=28150772</source>
    </item>
    <item>
      <title>Node.js Security – OWASP Cheat Sheet Series</title>
      <link>https://cheatsheetseries.owasp.org/cheatsheets/Nodejs_Security_Cheat_Sheet.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-md-component="container">
<main data-md-component="main">
<div>


<div data-md-component="content">
<article>

<h2 id="introduction">Introduction<a href="#introduction" title="Permanent link">¶</a></h2>
<p>This cheat sheet lists actions developers can take to develop secure Node.js applications. Each item has a brief explanation and solution that is specific to the Node.js environment.</p>
<h2 id="context">Context<a href="#context" title="Permanent link">¶</a></h2>
<p>Node.js applications are increasing in number and they are no different from other frameworks and programming languages. Node.js applications are prone to all kinds of web application vulnerabilities.</p>
<h2 id="objective">Objective<a href="#objective" title="Permanent link">¶</a></h2>
<p>This cheat sheet aims to provide a list of best practices to follow during development of Node.js applications.</p>
<h2 id="recommendations">Recommendations<a href="#recommendations" title="Permanent link">¶</a></h2>
<p>There are several different recommendations to enhance security of your Node.js applications. These are categorized as:</p>
<ul>
<li><strong>Application Security</strong></li>
<li><strong>Error &amp; Exception Handling</strong></li>
<li><strong>Server Security</strong></li>
<li><strong>Platform Security</strong></li>
</ul>
<h3 id="application-security">Application Security<a href="#application-security" title="Permanent link">¶</a></h3>
<h4 id="use-flat-promise-chains">Use flat Promise chains<a href="#use-flat-promise-chains" title="Permanent link">¶</a></h4>
<p>Asynchronous callback functions are one of the strongest features of Node.js. However, increasing layers of nesting within callback functions can become a problem. Any multistage process can become nested 10 or more levels deep. This problem is referred to as a &#34;Pyramid of Doom&#34; or &#34;Callback Hell&#34;. In such code, the errors and results get lost within the callback. Promises are a good way to write asynchronous code without getting into nested pyramids. Promises provide top-down execution while being asynchronous by delivering errors and results to next <code>.then</code> function.</p>
<p>Another advantage of Promises is the way Promises handle errors. If an error occurs in a Promise class, it skips over the <code>.then</code> functions and invokes the first <code>.catch</code> function it finds. This way Promises provide a higher assurance of capturing and handling errors. As a principle, you can make all your asynchronous code (apart from emitters) return promises. It should be noted that Promise calls can also become a pyramid. In order to completely stay away from &#34;Callback Hell&#34;, flat Promise chains should be used. If the module you are using does not support Promises, you can convert base object to a Promise by using <code>Promise.promisifyAll()</code> function.</p>
<p>The following code snippet is an example of &#34;Callback Hell&#34;:</p>
<div><pre><span></span><code><span>function</span> <span>func1</span><span>(</span><span>name</span><span>,</span> <span>callback</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then calls the callback</span>
<span>}</span>
<span>function</span> <span>func2</span><span>(</span><span>name</span><span>,</span> <span>callback</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then calls the callback</span>
<span>}</span>
<span>function</span> <span>func3</span><span>(</span><span>name</span><span>,</span> <span>callback</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then calls the callback</span>
<span>}</span>
<span>function</span> <span>func4</span><span>(</span><span>name</span><span>,</span> <span>callback</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then calls the callback</span>
<span>}</span>

<span>func1</span><span>(</span><span>&#34;input1&#34;</span><span>,</span> <span>function</span><span>(</span><span>err</span><span>,</span> <span>result1</span><span>){</span>
   <span>if</span><span>(</span><span>err</span><span>){</span>
      <span>// error operations</span>
   <span>}</span>
   <span>else</span> <span>{</span>
      <span>//some operations</span>
      <span>func2</span><span>(</span><span>&#34;input2&#34;</span><span>,</span> <span>function</span><span>(</span><span>err</span><span>,</span> <span>result2</span><span>){</span>
         <span>if</span><span>(</span><span>err</span><span>){</span>
            <span>//error operations</span>
         <span>}</span>
         <span>else</span><span>{</span>
            <span>//some operations</span>
            <span>func3</span><span>(</span><span>&#34;input3&#34;</span><span>,</span> <span>function</span><span>(</span><span>err</span><span>,</span> <span>result3</span><span>){</span>
               <span>if</span><span>(</span><span>err</span><span>){</span>
                  <span>//error operations</span>
               <span>}</span>
               <span>else</span><span>{</span>
                  <span>// some operations</span>
                  <span>func4</span><span>(</span><span>&#34;input 4&#34;</span><span>,</span> <span>function</span><span>(</span><span>err</span><span>,</span> <span>result4</span><span>){</span>
                     <span>if</span><span>(</span><span>err</span><span>){</span>
                        <span>// error operations</span>
                     <span>}</span>
                     <span>else</span> <span>{</span>
                        <span>// some operations</span>
                     <span>}</span>
                  <span>});</span>
               <span>}</span>
            <span>});</span>
         <span>}</span>
      <span>});</span>
   <span>}</span>
<span>});</span>
</code></pre></div>
<p>The above code can be securely written as follows using a flat Promise chain:</p>
<div><pre><span></span><code><span>function</span> <span>func1</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>
<span>function</span> <span>func2</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>
<span>function</span> <span>func3</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>
<span>function</span> <span>func4</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>

<span>func1</span><span>(</span><span>&#34;input1&#34;</span><span>)</span>
   <span>.</span><span>then</span><span>(</span><span>function</span> <span>(</span><span>result</span><span>){</span>
      <span>return</span> <span>func2</span><span>(</span><span>&#34;input2&#34;</span><span>);</span>
   <span>})</span>
   <span>.</span><span>then</span><span>(</span><span>function</span> <span>(</span><span>result</span><span>){</span>
      <span>return</span> <span>func3</span><span>(</span><span>&#34;input3&#34;</span><span>);</span>
   <span>})</span>
   <span>.</span><span>then</span><span>(</span><span>function</span> <span>(</span><span>result</span><span>){</span>
      <span>return</span> <span>func4</span><span>(</span><span>&#34;input4&#34;</span><span>);</span>
   <span>})</span>
   <span>.</span><span>catch</span><span>(</span><span>function</span> <span>(</span><span>error</span><span>)</span> <span>{</span>
      <span>// error operations</span>
   <span>});</span>
</code></pre></div>
<p>And using async/await:</p>
<div><pre><span></span><code><span>function</span> <span>func1</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>
<span>function</span> <span>func2</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>
<span>function</span> <span>func3</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>
<span>function</span> <span>func4</span><span>(</span><span>name</span><span>)</span> <span>{</span>
  <span>// operations that takes a bit of time and then resolves the promise</span>
<span>}</span>

<span>(</span><span>async</span><span>()</span> <span>=&gt;</span> <span>{</span>
  <span>try</span> <span>{</span>
    <span>let</span> <span>res1</span> <span>=</span> <span>await</span> <span>func1</span><span>(</span><span>&#34;input1&#34;</span><span>);</span>
    <span>let</span> <span>res2</span> <span>=</span> <span>await</span> <span>func2</span><span>(</span><span>&#34;input2&#34;</span><span>);</span>
    <span>let</span> <span>res3</span> <span>=</span> <span>await</span> <span>func3</span><span>(</span><span>&#34;input2&#34;</span><span>);</span>
    <span>let</span> <span>res4</span> <span>=</span> <span>await</span> <span>func4</span><span>(</span><span>&#34;input2&#34;</span><span>);</span>
  <span>}</span> <span>catch</span><span>(</span><span>err</span><span>)</span> <span>{</span>
    <span>// error operations</span>
  <span>}</span>
<span>})();</span>
</code></pre></div>
<h4 id="set-request-size-limits">Set request size limits<a href="#set-request-size-limits" title="Permanent link">¶</a></h4>
<p>Buffering and parsing of request bodies can be a resource intensive task. If there is no limit on the size of requests, attackers can send requests with large request bodies that can exhaust server memory and/or fill disk space. You can limit the request body size for all requests using <a href="https://www.npmjs.com/package/raw-body">raw-body</a>.</p>
<div><pre><span></span><code><span>const</span> <span>contentType</span> <span>=</span> <span>require</span><span>(</span><span>&#39;content-type&#39;</span><span>)</span>
<span>const</span> <span>express</span> <span>=</span> <span>require</span><span>(</span><span>&#39;express&#39;</span><span>)</span>
<span>const</span> <span>getRawBody</span> <span>=</span> <span>require</span><span>(</span><span>&#39;raw-body&#39;</span><span>)</span>

<span>const</span> <span>app</span> <span>=</span> <span>express</span><span>()</span>

<span>app</span><span>.</span><span>use</span><span>(</span><span>function</span> <span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>!</span><span>[</span><span>&#39;POST&#39;</span><span>,</span> <span>&#39;PUT&#39;</span><span>,</span> <span>&#39;DELETE&#39;</span><span>].</span><span>includes</span><span>(</span><span>req</span><span>.</span><span>method</span><span>))</span> <span>{</span>
    <span>next</span><span>()</span>
    <span>return</span>
  <span>}</span>

  <span>getRawBody</span><span>(</span><span>req</span><span>,</span> <span>{</span>
    <span>length</span><span>:</span> <span>req</span><span>.</span><span>headers</span><span>[</span><span>&#39;content-length&#39;</span><span>],</span>
    <span>limit</span><span>:</span> <span>&#39;1kb&#39;</span><span>,</span>
    <span>encoding</span><span>:</span> <span>contentType</span><span>.</span><span>parse</span><span>(</span><span>req</span><span>).</span><span>parameters</span><span>.</span><span>charset</span>
  <span>},</span> <span>function</span> <span>(</span><span>err</span><span>,</span> <span>string</span><span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>err</span><span>)</span> <span>return</span> <span>next</span><span>(</span><span>err</span><span>)</span>
    <span>req</span><span>.</span><span>text</span> <span>=</span> <span>string</span>
    <span>next</span><span>()</span>
  <span>})</span>
<span>})</span>
</code></pre></div>
<p>However, fixing a request size limit for all requests may not be the correct behavior, since some requests may have a large payload in the request body, such as when uploading a file. Also, input with a JSON type is more dangerous than a multipart input, since parsing JSON is a blocking operation. Therefore, you should set request size limits for different content types. You can accomplish this very easily with express middleware as follows:</p>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>express</span><span>.</span><span>urlencoded</span><span>({</span> <span>extended</span><span>:</span> <span>true</span><span>,</span> <span>limit</span><span>:</span> <span>&#34;1kb&#34;</span> <span>}));</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>express</span><span>.</span><span>json</span><span>({</span> <span>limit</span><span>:</span> <span>&#34;1kb&#34;</span> <span>}));</span>
</code></pre></div>
<p>It should be noted that attackers can change the <code>Content-Type</code> header of the request and bypass request size limits. Therefore, before processing the request, data contained in the request should be validated against the content type stated in the request headers. If content type validation for each request affects the performance severely, you can only validate specific content types or request larger than a predetermined size.</p>
<h4 id="do-not-block-the-event-loop">Do not block the event loop<a href="#do-not-block-the-event-loop" title="Permanent link">¶</a></h4>
<p>Node.js is very different from common application platforms that use threads. Node.js has a single-thread event-driven architecture. By means of this architecture, throughput becomes high and the programming model becomes simpler. Node.js is implemented around a non-blocking I/O event loop. With this event loop, there is no waiting on I/O or context switching. The event loop looks for events and dispatches them to handler functions. Because of this, when CPU intensive JavaScript operations are executed, the event loop waits for them to finish. This is why such operations are called &#34;blocking&#34;. To overcome this problem, Node.js allows assigning callbacks to IO-blocked events. This way, the main application is not blocked and callbacks run asynchronously. Therefore, as a general principle, all blocking operations should be done asynchronously so that the event loop is not blocked.</p>
<p>Even if you perform blocking operations asynchronously, your application may still not serve as expected. This happens if there is a code outside the callback that relies on the code within the callback to run first. For example, consider the following code:</p>
<div><pre><span></span><code><span>const</span> <span>fs</span> <span>=</span> <span>require</span><span>(</span><span>&#39;fs&#39;</span><span>);</span>
<span>fs</span><span>.</span><span>readFile</span><span>(</span><span>&#39;/file.txt&#39;</span><span>,</span> <span>(</span><span>err</span><span>,</span> <span>data</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>// perform actions on file content</span>
<span>});</span>
<span>fs</span><span>.</span><span>unlinkSync</span><span>(</span><span>&#39;/file.txt&#39;</span><span>);</span>
</code></pre></div>
<p>In the above example, <code>unlinkSync</code> function may run before the callback, which will delete the file before the desired actions on the file content is done. Such race conditions can also affect the security of your application. An example would be a scenario where authentication is performed in a callback and authenticated actions are run synchronously. In order to eliminate such race conditions, you can write all operations that rely on each other in a single non-blocking function. By doing so, you can guarantee that all operations are executed in the correct order. For example, above code example can be written in a non-blocking way as follows:</p>
<div><pre><span></span><code><span>const</span> <span>fs</span> <span>=</span> <span>require</span><span>(</span><span>&#39;fs&#39;</span><span>);</span>
<span>fs</span><span>.</span><span>readFile</span><span>(</span><span>&#39;/file.txt&#39;</span><span>,</span> <span>(</span><span>err</span><span>,</span> <span>data</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>// perform actions on file content</span>
  <span>fs</span><span>.</span><span>unlink</span><span>(</span><span>&#39;/file.txt&#39;</span><span>,</span> <span>(</span><span>err</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>if</span> <span>(</span><span>err</span><span>)</span> <span>throw</span> <span>err</span><span>;</span>
  <span>});</span>
<span>});</span>
</code></pre></div>
<p>In the above code, call to unlink the file and other file operations are within the same callback. This provides the correct order of operations.</p>
<h4 id="perform-input-validation">Perform input validation<a href="#perform-input-validation" title="Permanent link">¶</a></h4>
<p>Input validation is a crucial part of application security. Input validation failures can result in many different types of application attacks. These include SQL Injection, Cross-Site Scripting, Command Injection, Local/Remote File Inclusion, Denial of Service, Directory Traversal, LDAP Injection and many other injection attacks. In order to avoid these attacks, input to your application should be sanitized first. The best input validation technique is to use a list of accepted inputs. However, if this is not possible, input should be first checked against expected input scheme and dangerous inputs should be escaped. In order to ease input validation in Node.js applications, there are some modules like <a href="https://www.npmjs.com/package/validator">validator</a> and <a href="https://www.npmjs.com/package/mongo-express-sanitize">mongo-express-sanitize</a>.
For detailed information on input validation, please refer to <a href="https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html">Input Validation Cheat Sheet</a>.</p>
<p>JavaScript is a dynamic language and depending on how the framework parses a URL, the data seen by the application code can take on many different forms. Here are some examples after parsing a query string in express.js:</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Content of request.query.foo in code</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>?foo=bar</code></td>
<td><code>&#39;bar&#39;</code> (string)</td>
</tr>
<tr>
<td><code>?foo=bar&amp;foo=baz</code></td>
<td><code>[&#39;bar&#39;, &#39;baz&#39;]</code> (array of string)</td>
</tr>
<tr>
<td><code>?foo[]=bar</code></td>
<td><code>[&#39;bar&#39;]</code> (array of string)</td>
</tr>
<tr>
<td><code>?foo[]=bar&amp;foo[]=baz</code></td>
<td><code>[&#39;bar&#39;, &#39;baz&#39;]</code> (array of string)</td>
</tr>
<tr>
<td><code>?foo[bar]=baz</code></td>
<td><code>{ bar : &#39;baz&#39; }</code> (object with a key)</td>
</tr>
<tr>
<td><code>?foo[]=bar</code></td>
<td><code>[&#39;bar&#39;]</code> (array of string)</td>
</tr>
<tr>
<td><code>?foo[]baz=bar</code></td>
<td><code>[&#39;bar&#39;]</code> (array of string - postfix is lost)</td>
</tr>
<tr>
<td><code>?foo[][baz]=bar</code></td>
<td><code>[ { baz: &#39;bar&#39; } ]</code> (array of object)</td>
</tr>
<tr>
<td><code>?foo[bar][baz]=bar</code></td>
<td><code>{ foo: { bar: { baz: &#39;bar&#39; } } }</code> (object tree)</td>
</tr>
<tr>
<td><code>?foo[10]=bar&amp;foo[9]=baz</code></td>
<td><code>[ &#39;baz&#39;, &#39;bar&#39; ]</code> (array of string - notice order)</td>
</tr>
<tr>
<td><code>?foo[toString]=bar</code></td>
<td><code>{}</code> (object where calling <code>toString()</code> will fail)</td>
</tr>
</tbody>
</table>
<h4 id="perform-output-escaping">Perform output escaping<a href="#perform-output-escaping" title="Permanent link">¶</a></h4>
<p>In addition to input validation, you should escape all HTML and JavaScript content shown to users via application in order to prevent cross-site scripting (XSS) attacks. You can use <a href="https://github.com/component/escape-html">escape-html</a> or <a href="https://github.com/ESAPI/node-esapi">node-esapi</a> libraries to perform output escaping.</p>
<h4 id="perform-application-activity-logging">Perform application activity logging<a href="#perform-application-activity-logging" title="Permanent link">¶</a></h4>
<p>Logging application activity is an encouraged good practice. It makes it easier to debug any errors encountered during application runtime. It is also useful for security concerns, since it can be used during incident response. In addition, these logs can be used to feed Intrusion Detection/Prevention Systems (IDS/IPS). In Node.js, there are modules such as <a href="https://www.npmjs.com/package/winston">Winston</a>, <a href="https://www.npmjs.com/package/bunyan">Bunyan</a>, or <a href="https://www.npmjs.com/package/pino">Pino</a> to perform application activity logging. These modules enable streaming and querying logs, and they provide a way to handle uncaught exceptions.</p>
<p>With the following code, you can log application activities in both console and a desired log file:</p>
<div><pre><span></span><code><span>const</span> <span>logger</span> <span>=</span> <span>new</span> <span>(</span><span>Winston</span><span>.</span><span>Logger</span><span>)</span> <span>({</span>
    <span>transports</span><span>:</span> <span>[</span>
        <span>new</span> <span>(</span><span>winston</span><span>.</span><span>transports</span><span>.</span><span>Console</span><span>)(),</span>
        <span>new</span> <span>(</span><span>winston</span><span>.</span><span>transports</span><span>.</span><span>File</span><span>)({</span> <span>filename</span><span>:</span> <span>&#39;application.log&#39;</span> <span>})</span>
    <span>],</span>
    <span>level</span><span>:</span> <span>&#39;verbose&#39;</span>
<span>});</span>
</code></pre></div>
<p>You can provide different transports so that you can save errors to a separate log file and general application logs to a different log file. Additional information on security logging can be found in <a href="https://cheatsheetseries.owasp.org/cheatsheets/Logging_Cheat_Sheet.html">Logging Cheat Sheet</a>.</p>
<h4 id="monitor-the-event-loop">Monitor the event loop<a href="#monitor-the-event-loop" title="Permanent link">¶</a></h4>
<p>When your application server is under heavy network traffic, it may not be able to serve its users. This is essentially a type of <a href="https://cheatsheetseries.owasp.org/cheatsheets/Denial_of_Service_Cheat_Sheet.html">Denial of Service (DoS)</a> attack. The <a href="https://www.npmjs.com/package/toobusy-js">toobusy-js</a> module allows you to monitor the event loop. It keeps track of the response time, and when it goes beyond a certain threshold, this module can indicate your server is too busy. In that case, you can stop processing incoming requests and send them <code>503 Server Too Busy</code> message so that your application stay responsive. Example use of the <a href="https://www.npmjs.com/package/toobusy-js">toobusy-js</a> module is shown here:</p>
<div><pre><span></span><code><span>const</span> <span>toobusy</span> <span>=</span> <span>require</span><span>(</span><span>&#39;toobusy-js&#39;</span><span>);</span>
<span>const</span> <span>express</span> <span>=</span> <span>require</span><span>(</span><span>&#39;express&#39;</span><span>);</span>
<span>const</span> <span>app</span> <span>=</span> <span>express</span><span>();</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>toobusy</span><span>())</span> <span>{</span>
        <span>// log if you see necessary</span>
        <span>res</span><span>.</span><span>send</span><span>(</span><span>503</span><span>,</span> <span>&#34;Server Too Busy&#34;</span><span>);</span>
    <span>}</span> <span>else</span> <span>{</span>
    <span>next</span><span>();</span>
    <span>}</span>
<span>});</span>
</code></pre></div>
<h4 id="take-precautions-against-brute-forcing">Take precautions against brute-forcing<a href="#take-precautions-against-brute-forcing" title="Permanent link">¶</a></h4>
<p><a href="https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html#protect-against-automated-attacks">Brute-forcing</a> is a common threat to all web applications. Attackers can use brute-forcing as a password guessing attack to obtain account passwords. Therefore, application developers should take precautions against brute-force attacks especially in login pages. Node.js has several modules available for this purpose. <a href="https://libraries.io/npm/express-bouncer">Express-bouncer</a>, <a href="https://libraries.io/npm/express-brute">express-brute</a> and <a href="https://libraries.io/npm/rate-limiter">rate-limiter</a> are just some examples. Based on your needs and requirements, you should choose one or more of these modules and use accordingly. <a href="https://libraries.io/npm/express-bouncer">Express-bouncer</a> and <a href="https://libraries.io/npm/express-brute">express-brute</a> modules work very similar and they both increase the delay with each failed request. They can both be arranged for a specific route. These modules can be used as follows:</p>
<div><pre><span></span><code><span>const</span> <span>bouncer</span> <span>=</span> <span>require</span><span>(</span><span>&#39;express-bouncer&#39;</span><span>);</span>
<span>bouncer</span><span>.</span><span>whitelist</span><span>.</span><span>push</span><span>(</span><span>&#39;127.0.0.1&#39;</span><span>);</span> <span>// allow an IP address</span>
<span>// give a custom error message</span>
<span>bouncer</span><span>.</span><span>blocked</span> <span>=</span> <span>function</span> <span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>,</span> <span>remaining</span><span>)</span> <span>{</span>
    <span>res</span><span>.</span><span>send</span><span>(</span><span>429</span><span>,</span> <span>&#34;Too many requests have been made. Please wait &#34;</span> <span>+</span> <span>remaining</span><span>/</span><span>1000</span> <span>+</span> <span>&#34; seconds.&#34;</span><span>);</span>
<span>};</span>
<span>// route to protect</span>
<span>app</span><span>.</span><span>post</span><span>(</span><span>&#34;/login&#34;</span><span>,</span> <span>bouncer</span><span>.</span><span>block</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>LoginFailed</span><span>){</span>  <span>}</span>
    <span>else</span> <span>{</span>
        <span>bouncer</span><span>.</span><span>reset</span><span>(</span> <span>req</span> <span>);</span>
    <span>}</span>
<span>});</span>
</code></pre></div>
<div><pre><span></span><code><span>const</span> <span>ExpressBrute</span> <span>=</span> <span>require</span><span>(</span><span>&#39;express-brute&#39;</span><span>);</span>

<span>const</span> <span>store</span> <span>=</span> <span>new</span> <span>ExpressBrute</span><span>.</span><span>MemoryStore</span><span>();</span> <span>// stores state locally, don&#39;t use this in production</span>
<span>const</span> <span>bruteforce</span> <span>=</span> <span>new</span> <span>ExpressBrute</span><span>(</span><span>store</span><span>);</span>

<span>app</span><span>.</span><span>post</span><span>(</span><span>&#39;/auth&#39;</span><span>,</span>
    <span>bruteforce</span><span>.</span><span>prevent</span><span>,</span> <span>// error 429 if we hit this route too often</span>
    <span>function</span> <span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
        <span>res</span><span>.</span><span>send</span><span>(</span><span>&#39;Success!&#39;</span><span>);</span>
    <span>}</span>
<span>);</span>
</code></pre></div>
<p>Apart from <a href="https://libraries.io/npm/express-bouncer">express-bouncer</a> and <a href="https://libraries.io/npm/express-brute">express-brute</a>, the <a href="https://libraries.io/npm/rate-limiter">rate-limiter</a> module can also help to prevent brute-forcing attacks. It enables specifying how many requests a specific IP address can make during a specified time period.</p>
<div><pre><span></span><code><span>const</span> <span>limiter</span> <span>=</span> <span>new</span> <span>RateLimiter</span><span>();</span>
<span>limiter</span><span>.</span><span>addLimit</span><span>(</span><span>&#39;/login&#39;</span><span>,</span> <span>&#39;GET&#39;</span><span>,</span> <span>5</span><span>,</span> <span>500</span><span>);</span> <span>// login page can be requested 5 times at max within 500 seconds</span>
</code></pre></div>
<p><a href="https://cheatsheetseries.owasp.org/cheatsheets/Credential_Stuffing_Prevention_Cheat_Sheet.html#captcha">CAPTCHA usage</a> is also another common mechanism used against brute-forcing. There are modules developed for Node.js CAPTCHAs. A common module used in Node.js applications is <a href="https://www.npmjs.com/package/svg-captcha">svg-captcha</a>. It can be used as follows:</p>
<div><pre><span></span><code><span>const</span> <span>svgCaptcha</span> <span>=</span> <span>require</span><span>(</span><span>&#39;svg-captcha&#39;</span><span>);</span>
<span>app</span><span>.</span><span>get</span><span>(</span><span>&#39;/captcha&#39;</span><span>,</span> <span>function</span> <span>(</span><span>req</span><span>,</span> <span>res</span><span>)</span> <span>{</span>
    <span>const</span> <span>captcha</span> <span>=</span> <span>svgCaptcha</span><span>.</span><span>create</span><span>();</span>
    <span>req</span><span>.</span><span>session</span><span>.</span><span>captcha</span> <span>=</span> <span>captcha</span><span>.</span><span>text</span><span>;</span>
    <span>res</span><span>.</span><span>type</span><span>(</span><span>&#39;svg&#39;</span><span>);</span>
    <span>res</span><span>.</span><span>status</span><span>(</span><span>200</span><span>).</span><span>send</span><span>(</span><span>captcha</span><span>.</span><span>data</span><span>);</span>
<span>});</span>
</code></pre></div>
<p><a href="https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html#account-lockout">Account lockout</a> is a recommended solution to keep attackers away from your valid users. Account lockout is possible with many modules like <a href="https://www.npmjs.com/package/mongoose">mongoose</a>. You can refer to <a href="http://devsmash.com/blog/implementing-max-login-attempts-with-mongoose">this blog post</a> to see how account lockout is implemented in mongoose.</p>
<h4 id="use-anti-csrf-tokens">Use Anti-CSRF tokens<a href="#use-anti-csrf-tokens" title="Permanent link">¶</a></h4>
<p><a href="https://owasp.org/www-community/attacks/csrf">Cross-Site Request Forgery (CSRF)</a> aims to perform authorized actions on behalf of an authenticated user, while the user is unaware of this action. CSRF attacks are generally performed for state-changing requests like changing a password, adding users or placing orders. <a href="https://www.npmjs.com/package/csurf">Csurf</a> is an express middleware that can be used to mitigate CSRF attacks. It can be used as follows:</p>
<div><pre><span></span><code><span>const</span> <span>csrf</span> <span>=</span> <span>require</span><span>(</span><span>&#39;csurf&#39;</span><span>);</span>
<span>csrfProtection</span> <span>=</span> <span>csrf</span><span>({</span> <span>cookie</span><span>:</span> <span>true</span> <span>});</span>
<span>app</span><span>.</span><span>get</span><span>(</span><span>&#39;/form&#39;</span><span>,</span> <span>csrfProtection</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>)</span> <span>{</span>
    <span>res</span><span>.</span><span>render</span><span>(</span><span>&#39;send&#39;</span><span>,</span> <span>{</span> <span>csrfToken</span><span>:</span> <span>req</span><span>.</span><span>csrfToken</span><span>()</span> <span>})</span>
<span>})</span>
<span>app</span><span>.</span><span>post</span><span>(</span><span>&#39;/process&#39;</span><span>,</span> <span>parseForm</span><span>,</span> <span>csrfProtection</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>)</span> <span>{</span>
    <span>res</span><span>.</span><span>send</span><span>(</span><span>&#39;data is being processed&#39;</span><span>);</span>
<span>});</span>
</code></pre></div>
<p>After writing this code, you also need to add <code>csrfToken</code> to your HTML form, which can be easily done as follows:</p>
<div><pre><span></span><code><span>&lt;</span><span>input</span> <span>type</span><span>=</span><span>&#34;hidden&#34;</span> <span>name</span><span>=</span><span>&#34;_csrf&#34;</span> <span>value</span><span>=</span><span>&#34;&#34;</span><span>&gt;</span>
</code></pre></div>
<p>For detailed information on cross-site request forgery (CSRF) attacks and prevention methods, you can refer to <a href="https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html">Cross-Site Request Forgery Prevention</a>.</p>
<h4 id="remove-unnecessary-routes">Remove unnecessary routes<a href="#remove-unnecessary-routes" title="Permanent link">¶</a></h4>
<p>A web application should not contain any page that is not used by users, as it may increase the attack surface of the application. Therefore, all unused API routes should be disabled in Node.js applications. This occurs especially in frameworks like <a href="https://sailsjs.com">Sails</a> and <a href="https://feathersjs.com">Feathers</a>, as they automatically generate REST API endpoints. For example, in <a href="https://sailsjs.com">Sails</a>, if a URL does not match a custom route, it may match one of the automatic routes and still generate a response. This situation may lead to results ranging from information leakage to arbitrary command execution. Therefore, before using such frameworks and modules, it is important to know the routes they automatically generate and remove or disable these routes.</p>
<h4 id="prevent-http-parameter-pollution">Prevent HTTP Parameter Pollution<a href="#prevent-http-parameter-pollution" title="Permanent link">¶</a></h4>
<p><a href="https://owasp.org/www-project-web-security-testing-guide/stable/4-Web_Application_Security_Testing/07-Input_Validation_Testing/04-Testing_for_HTTP_Parameter_Pollution.html">HTTP Parameter Pollution(HPP)</a> is an attack in which attackers send multiple HTTP parameters with the same name and this causes your application to interpret them in an unpredictable way. When multiple parameter values are sent, Express populates them in an array. In order to solve this issue, you can use <a href="https://www.npmjs.com/package/hpp">hpp</a> module. When used, this module will ignore all values submitted for a parameter in <code>req.query</code> and/or <code>req.body</code> and just select the last parameter value submitted. You can use it as follows:</p>
<div><pre><span></span><code><span>const</span> <span>hpp</span> <span>=</span> <span>require</span><span>(</span><span>&#39;hpp&#39;</span><span>);</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>hpp</span><span>());</span>
</code></pre></div>
<h4 id="only-return-what-is-necessary">Only return what is necessary<a href="#only-return-what-is-necessary" title="Permanent link">¶</a></h4>
<p>Information about the users of an application is among the most critical information about the application. User tables generally include fields like id, username, full name, email address, birth date, password and in some cases social security numbers. Therefore, when querying and using user objects, you need to return only needed fields as it may be vulnerable to personal information disclosure. This is also correct for other objects stored on the database. If you just need a certain field of an object, you should only return the specific fields required. As an example, you can use a function like the following whenever you need to get information on a user. By doing so, you can only return the fields that are needed for your specific operation. In other words, if you only need to list names of the users available, you are not returning their email addresses or credit card numbers in addition to their full names.</p>
<div><pre><span></span><code><span>exports</span><span>.</span><span>sanitizeUser</span> <span>=</span> <span>function</span><span>(</span><span>user</span><span>)</span> <span>{</span>
  <span>return</span> <span>{</span>
    <span>id</span><span>:</span> <span>user</span><span>.</span><span>id</span><span>,</span>
    <span>username</span><span>:</span> <span>user</span><span>.</span><span>username</span><span>,</span>
    <span>fullName</span><span>:</span> <span>user</span><span>.</span><span>fullName</span>
  <span>};</span>
<span>};</span>
</code></pre></div>
<h4 id="use-object-property-descriptors">Use object property descriptors<a href="#use-object-property-descriptors" title="Permanent link">¶</a></h4>
<p>Object properties include three hidden attributes: <code>writable</code> (if false, property value cannot be changed), <code>enumerable</code> (if false, property cannot be used in for loops) and <code>configurable</code> (if false, property cannot be deleted). When defining an object property through assignment, these three hidden attributes are set to true by default. These properties can be set as follows:</p>
<div><pre><span></span><code><span>const</span> <span>o</span> <span>=</span> <span>{};</span>
<span>Object</span><span>.</span><span>defineProperty</span><span>(</span><span>o</span><span>,</span> <span>&#34;a&#34;</span><span>,</span> <span>{</span>
    <span>writable</span><span>:</span> <span>true</span><span>,</span>
    <span>enumerable</span><span>:</span> <span>true</span><span>,</span>
    <span>configurable</span><span>:</span> <span>true</span><span>,</span>
    <span>value</span><span>:</span> <span>&#34;A&#34;</span>
<span>});</span>
</code></pre></div>
<p>Apart from these, there are some special functions for object attributes. <code>Object.preventExtensions()</code> prevents new properties from being added to the object.</p>
<h4 id="use-access-control-lists">Use access control lists<a href="#use-access-control-lists" title="Permanent link">¶</a></h4>
<p>Authorization prevents users from acting outside of their intended permissions. In order to do so, users and their roles should be determined with consideration of the principle of least privilege. Each user role should only have access to the resources they must use. For your Node.js applications, you can use the <a href="https://www.npmjs.com/package/acl">acl</a> module to provide ACL (access control list) implementation. With this module, you can create roles and assign users to these roles.</p>
<h3 id="error-exception-handling">Error &amp; Exception Handling<a href="#error-exception-handling" title="Permanent link">¶</a></h3>
<h4 id="handle-uncaughtexception">Handle uncaughtException<a href="#handle-uncaughtexception" title="Permanent link">¶</a></h4>
<p>Node.js behavior for uncaught exceptions is to print current stack trace and then terminate the thread. However, Node.js allows customization of this behavior. It provides a global object named process that is available to all Node.js applications. It is an EventEmitter object and in case of an uncaught exception, uncaughtException event is emitted and it is brought up to the main event loop. In order to provide a custom behavior for uncaught exceptions, you can bind to this event. However, resuming the application after such an uncaught exception can lead to further problems. Therefore, if you do not want to miss any uncaught exception, you should bind to uncaughtException event and cleanup any allocated resources like file descriptors, handles and similar before shutting down the process. Resuming the application is strongly discouraged as the application will be in an unknown state. It is important to note that when displaying error messages to the user in case of an uncaught exception, detailed information like stack traces should not be revealed to the user. Instead, custom error messages should be shown to the users in order not to cause any information leakage.</p>
<div><pre><span></span><code><span>process</span><span>.</span><span>on</span><span>(</span><span>&#34;uncaughtException&#34;</span><span>,</span> <span>function</span><span>(</span><span>err</span><span>)</span> <span>{</span>
    <span>// clean up allocated resources</span>
    <span>// log necessary error details to log files</span>
    <span>process</span><span>.</span><span>exit</span><span>();</span> <span>// exit the process to avoid unknown state</span>
<span>});</span>
</code></pre></div>
<h4 id="listen-to-errors-when-using-eventemitter">Listen to errors when using EventEmitter<a href="#listen-to-errors-when-using-eventemitter" title="Permanent link">¶</a></h4>
<p>When using EventEmitter, errors can occur anywhere in the event chain. Normally, if an error occurs in an EventEmitter object, an error event that has an Error object as an argument is called. However, if there are no attached listeners to that error event, the Error object that is sent as an argument is thrown and becomes an uncaught exception. In short, if you do not handle errors within an EventEmitter object properly, these unhandled errors may crash your application. Therefore, you should always listen to error events when using EventEmitter objects.</p>
<div><pre><span></span><code><span>const</span> <span>events</span> <span>=</span> <span>require</span><span>(</span><span>&#39;events&#39;</span><span>);</span>
<span>const</span> <span>myEventEmitter</span> <span>=</span> <span>function</span><span>(){</span>
    <span>events</span><span>.</span><span>EventEmitter</span><span>.</span><span>call</span><span>(</span><span>this</span><span>);</span>
<span>}</span>
<span>require</span><span>(</span><span>&#39;util&#39;</span><span>).</span><span>inherits</span><span>(</span><span>myEventEmitter</span><span>,</span> <span>events</span><span>.</span><span>EventEmitter</span><span>);</span>
<span>myEventEmitter</span><span>.</span><span>prototype</span><span>.</span><span>someFunction</span> <span>=</span> <span>function</span><span>(</span><span>param1</span><span>,</span> <span>param2</span><span>)</span> <span>{</span>
    <span>//in case of an error</span>
    <span>this</span><span>.</span><span>emit</span><span>(</span><span>&#39;error&#39;</span><span>,</span> <span>err</span><span>);</span>
<span>}</span>
<span>const</span> <span>emitter</span> <span>=</span> <span>new</span> <span>myEventEmitter</span><span>();</span>
<span>emitter</span><span>.</span><span>on</span><span>(</span><span>&#39;error&#39;</span><span>,</span> <span>function</span><span>(</span><span>err</span><span>){</span>
    <span>//Perform necessary error handling here</span>
<span>});</span>
</code></pre></div>
<h4 id="handle-errors-in-asynchronous-calls">Handle errors in asynchronous calls<a href="#handle-errors-in-asynchronous-calls" title="Permanent link">¶</a></h4>
<p>Errors that occur within asynchronous callbacks are easy to miss. Therefore, as a general principle first argument to the asynchronous calls should be an Error object. Also, express routes handle errors itself, but it should be always remembered that errors occurred in asynchronous calls made within express routes are not handled, unless an Error object is sent as a first argument.</p>
<p>Errors in these callbacks can be propagated as many times as possible. Each callback that the error has been propagated to can ignore, handle or propagate the error.</p>
<h3 id="server-security">Server Security<a href="#server-security" title="Permanent link">¶</a></h3>
<h4 id="set-cookie-flags-appropriately">Set cookie flags appropriately<a href="#set-cookie-flags-appropriately" title="Permanent link">¶</a></h4>
<p>Generally, session information is sent using cookies in web applications. However, improper use of HTTP cookies can render an application to several session management vulnerabilities. Some flags can be set for each cookie to prevent these kinds of attacks. <code>httpOnly</code>, <code>Secure</code> and <code>SameSite</code> flags are very important for session cookies. <code>httpOnly</code> flag prevents the cookie from being accessed by client-side JavaScript. This is an effective counter-measure for XSS attacks. <code>Secure</code> flag lets the cookie to be sent only if the communication is over HTTPS. <code>SameSite</code> flag can prevent cookies from being sent in cross-site requests that helps protect against Cross-Site Request Forgery (CSRF) attacks. Apart from these, there are other flags like domain, path and expires. Setting these flags appropriately is encouraged, but they are mostly related to cookie scope not the cookie security. Sample usage of these flags is given in the following example:</p>
<div><pre><span></span><code><span>const</span> <span>session</span> <span>=</span> <span>require</span><span>(</span><span>&#39;express-session&#39;</span><span>);</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>session</span><span>({</span>
    <span>secret</span><span>:</span> <span>&#39;your-secret-key&#39;</span><span>,</span>
    <span>key</span><span>:</span> <span>&#39;cookieName&#39;</span><span>,</span>
    <span>cookie</span><span>:</span> <span>{</span> <span>secure</span><span>:</span> <span>true</span><span>,</span> <span>httpOnly</span><span>:</span> <span>true</span><span>,</span> <span>path</span><span>:</span> <span>&#39;/user&#39;</span><span>,</span> <span>sameSite</span><span>:</span> <span>true</span><span>}</span>
<span>}));</span>
</code></pre></div>

<p>There are several different <a href="https://owasp.org/www-project-secure-headers/">HTTP security headers</a> that can help you prevent some common attack vectors. These are listed below:</p>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">Strict-Transport-Security</a></strong>: <a href="https://cheatsheetseries.owasp.org/cheatsheets/HTTP_Strict_Transport_Security_Cheat_Sheet.html">HTTP Strict Transport Security (HSTS)</a> dictates browsers that the application can only be accessed via HTTPS connections. In order to use it in your application, add the following codes:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>hsts</span><span>());</span> <span>// default configuration</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>hsts</span><span>(</span><span>&#34;&lt;max-age&gt;&#34;</span><span>,</span> <span>&#34;&lt;includeSubdomains&gt;&#34;</span><span>));</span> <span>// custom configuration</span>
</code></pre></div>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options">X-Frame-Options</a>:</strong> determines if a page can be loaded via a <code>&lt;frame&gt;</code> or an <code>&lt;iframe&gt;</code> element. Allowing the page to be framed may result in <a href="https://owasp.org/www-community/attacks/Clickjacking">Clickjacking</a> attacks. This header can be used with <a href="https://www.npmjs.com/package/helmet">helmet</a> module as follows:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>xframe</span><span>());</span> <span>// default behavior (DENY)</span>
<span>helmet</span><span>.</span><span>xframe</span><span>(</span><span>&#39;sameorigin&#39;</span><span>);</span> <span>// SAMEORIGIN</span>
<span>helmet</span><span>.</span><span>xframe</span><span>(</span><span>&#39;allow-from&#39;</span><span>,</span> <span>&#39;http://alloweduri.com&#39;</span><span>);</span> <span>//ALLOW-FROM uri</span>
</code></pre></div>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection">X-XSS-Protection</a>:</strong> As described in the <a href="https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html#x-xss-protection-header">XSS Prevention Cheat Sheet</a>, this header should be set to <code>0</code> to disable the XSS Auditor.</li>
</ul>
<blockquote>
<p>An <a href="https://github.com/helmetjs/x-xss-protection/issues/14">issue</a> was created in the <a href="https://github.com/helmetjs/">helmetjs</a> project to be able to set the header to <code>0</code>. Once it is updated, this section will be updated to inform the user to disable the XSS auditor properly using helmetjs.</p>
</blockquote>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options">X-Content-Type-Options</a>:</strong> Even if the server sets a valid <code>Content-Type</code> header in the response, browsers may try to sniff the MIME type of the requested resource. This header is a way to stop this behavior and tell the browser not to change MIME types specified in <code>Content-Type</code> header. It can be configured in the following way:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>noSniff</span><span>());</span>
</code></pre></div>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy">Content-Security-Policy</a>:</strong> Content Security Policy is developed to reduce the risk of attacks like <a href="https://owasp.org/www-community/attacks/xss/">Cross-Site Scripting (XSS)</a> and <a href="https://owasp.org/www-community/attacks/Clickjacking">Clickjacking</a>. It allows content from a list that you decide. It has several directives each of which prohibits loading specific type of a content. You can refer to <a href="https://cheatsheetseries.owasp.org/cheatsheets/Content_Security_Policy_Cheat_Sheet.html">Content Security Policy Cheat Sheet</a> for detailed explanation of each directive and how to use it. You can implement these settings in your application as follows:</li>
</ul>
<div><pre><span></span><code><span>const</span> <span>csp</span> <span>=</span> <span>require</span><span>(</span><span>&#39;helmet-csp&#39;</span><span>)</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>csp</span><span>({</span>
   <span>directives</span><span>:</span> <span>{</span>
       <span>defaultSrc</span><span>:</span> <span>[</span><span>&#34;&#39;self&#39;&#34;</span><span>],</span>  <span>// default value for all directives that are absent</span>
       <span>scriptSrc</span><span>:</span> <span>[</span><span>&#34;&#39;self&#39;&#34;</span><span>],</span>   <span>// helps prevent XSS attacks</span>
       <span>frameAncestors</span><span>:</span> <span>[</span><span>&#34;&#39;none&#39;&#34;</span><span>],</span>  <span>// helps prevent Clickjacking attacks</span>
       <span>imgSrc</span><span>:</span> <span>[</span><span>&#34;&#39;self&#39;&#34;</span><span>,</span> <span>&#34;&#39;http://imgexample.com&#39;&#34;</span><span>],</span>
       <span>styleSrc</span><span>:</span> <span>[</span><span>&#34;&#39;none&#39;&#34;</span><span>]</span>
    <span>}</span>
<span>}))</span>
</code></pre></div>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Pragma">Pragma</a>:</strong> Cache-Control header can be used to prevent browsers from caching the given responses. This should be done for pages that contain sensitive information about either the user or the application. However, disabling caching for pages that do not contain sensitive information may seriously affect the performance of the application. Therefore, caching should only be disabled for pages that return sensitive information. Appropriate caching controls and headers can be used easily by the following code:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>noCache</span><span>());</span>
</code></pre></div>
<p>The above code sets Cache-Control, Surrogate-Control, Pragma and Expires headers accordingly.</p>
<ul>
<li><strong>X-Download-Options:</strong> This header prevents Internet Explorer from executing downloaded files in the site&#39;s context. This is achieved with noopen directive. You can do so with the following piece of code:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>ieNoOpen</span><span>());</span>
</code></pre></div>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect-CT">Expect-CT</a>:</strong> Certificate Transparency is a new mechanism developed to fix some structural problems regarding current SSL infrastructure. Expect-CT header may enforce certificate transparency requirements. It can be implemented in your application as follows:</li>
</ul>
<div><pre><span></span><code><span>const</span> <span>expectCt</span> <span>=</span> <span>require</span><span>(</span><span>&#39;expect-ct&#39;</span><span>);</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>expectCt</span><span>({</span> <span>maxAge</span><span>:</span> <span>123</span> <span>}));</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>expectCt</span><span>({</span> <span>enforce</span><span>:</span> <span>true</span><span>,</span> <span>maxAge</span><span>:</span> <span>123</span> <span>}));</span>
<span>app</span><span>.</span><span>use</span><span>(</span><span>expectCt</span><span>({</span> <span>enforce</span><span>:</span> <span>true</span><span>,</span> <span>maxAge</span><span>:</span> <span>123</span><span>,</span> <span>reportUri</span><span>:</span> <span>&#39;http://example.com&#39;</span><span>}));</span>
</code></pre></div>
<ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Public-Key-Pins">Public-Key-Pins</a>:</strong> This header increases the security of HTTPS. With this header, a specific cryptographic public key is associated with a specific web server. If the server does not use the pinned keys in future, the browser regards the responses as illegitimate. It can be used as follows:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>hpkp</span><span>({</span>
    <span>maxAge</span><span>:</span> <span>123</span><span>,</span>
    <span>sha256s</span><span>:</span> <span>[</span><span>&#39;Ab3Ef123=&#39;</span><span>,</span> <span>&#39;ZyxawuV45=&#39;</span><span>],</span>
    <span>reportUri</span><span>:</span> <span>&#39;http://example.com&#39;</span><span>,</span>
    <span>includeSubDomains</span><span>:</span> <span>true</span>
<span>}));</span>
</code></pre></div>
<p>As discussed in <a href="https://cheatsheetseries.owasp.org/cheatsheets/Transport_Layer_Protection_Cheat_Sheet.html#consider-using-public-key-pinning">Transport Layer Security Cheat Sheet</a>, the decision to use public key pinning should be made with careful consideration, since it may cause locking out users for a long time if used incorrectly.</p>
<ul>
<li><strong>X-Powered-By:</strong> X-Powered-By header is used to inform what technology is used in the server side. This is an unnecessary header causing information leakage, so it should be removed from your application. To do so, you can use the <code>hidePoweredBy</code> as follows:</li>
</ul>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>hidePoweredBy</span><span>());</span>
</code></pre></div>
<p>Also, you can lie about the technologies used with this header. For example, even if your application does not use PHP, you can set X-Powered-By header to seem so.</p>
<div><pre><span></span><code><span>app</span><span>.</span><span>use</span><span>(</span><span>helmet</span><span>.</span><span>hidePoweredBy</span><span>({</span> <span>setTo</span><span>:</span> <span>&#39;PHP 4.2.0&#39;</span> <span>}));</span>
</code></pre></div>
<h3 id="platform-security">Platform Security<a href="#platform-security" title="Permanent link">¶</a></h3>
<h4 id="keep-your-packages-up-to-date">Keep your packages up-to-date<a href="#keep-your-packages-up-to-date" title="Permanent link">¶</a></h4>
<p>Security of your application depends directly on how secure the third-party packages you use in your application are. Therefore, it is important to keep your packages up-to-date. It should be noted that <a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A9-Using_Components_with_Known_Vulnerabilities">Using Components with Known Vulnerabilities</a> is still in the OWASP Top 10. You can use <a href="https://jeremylong.github.io/DependencyCheck/analyzers/nodejs.html">OWASP Dependency-Check</a> to see if any of the packages used in the project has a known vulnerability. Also you can use <a href="https://github.com/retirejs/retire.js/">Retire.js</a> to check JavaScript libraries with known vulnerabilities.</p>
<p>Starting with version 6, <code>npm</code> introduced <code>audit</code>, which will warn about vulnerable packages:</p>

<p><code>npm</code> also introduced a simple way to upgrade the affected packages:</p>

<p>There are several other tools you can use to check your dependencies. A more comprehensive list can be found in <a href="https://cheatsheetseries.owasp.org/cheatsheets/Vulnerable_Dependency_Management_Cheat_Sheet.html#tools">Vulnerable Dependency Management CS</a>.</p>
<h4 id="do-not-use-dangerous-functions">Do not use dangerous functions<a href="#do-not-use-dangerous-functions" title="Permanent link">¶</a></h4>
<p>There are some JavaScript functions that are dangerous and should only be used where necessary or unavoidable. The first example is the <code>eval()</code> function. This function takes a string argument and executes it as any other JavaScript source code. Combined with user input, this behavior inherently leads to remote code execution vulnerability. Similarly, calls to <code>child_process.exec</code> are also very dangerous. This function acts as a bash interpreter and sends its arguments to /bin/sh. By injecting input to this function, attackers can execute arbitrary commands on the server.</p>
<p>In addition to these functions, some modules require special care when being used. As an example, <code>fs</code> module handles filesystem operations. However, if improperly sanitized user input is fed into this module, your application may become vulnerable to file inclusion and directory traversal vulnerabilities. Similarly, <code>vm</code> module provides APIs for compiling and running code within V8 Virtual Machine contexts. Since it can perform dangerous actions by nature, it should be used within a sandbox.</p>
<p>It would not be fair to say that these functions and modules should not be used whatsoever, however, they should be used carefully especially when they use with user input. Also, there are <a href="https://github.com/wisec/domxsswiki/wiki/Direct-Execution-Sinks">some other functions</a> that may render your application vulnerable.</p>
<h4 id="stay-away-from-evil-regexes">Stay away from evil regexes<a href="#stay-away-from-evil-regexes" title="Permanent link">¶</a></h4>
<p>The Regular expression Denial of Service (ReDoS) is a Denial of Service attack, that exploits the fact that most Regular Expression implementations may reach extreme situations that cause them to work very slowly (exponentially related to input size). An attacker can then cause a program using a Regular Expression to enter these extreme situations and then hang for a very long time.</p>
<p><a href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS">The Regular Expression Denial of Service (ReDoS)</a> is a type of Denial of Service attack that uses regular expressions. Some Regular Expression (Regex) implementations cause extreme situations that makes the application very slow. Attackers can use such regex implementations to cause application to get into these extreme situations and hang for a long time. Such regexes are called evil if application can be stuck on crafted input. Generally, these regexes are exploited by grouping with repetition and alternation with overlapping. For example, the following regular expression <code>^(([a-z])+.)+[A-Z]([a-z])+$</code> can be used to specify Java class names. However, a very long string (aaaa...aaaaAaaaaa...aaaa) can also match with this regular expression. There are some tools to check if a regex has a potential for causing denial of service. One example is <a href="https://github.com/davisjam/vuln-regex-detector">vuln-regex-detector</a>.</p>
<h4 id="run-security-linters">Run security linters<a href="#run-security-linters" title="Permanent link">¶</a></h4>
<p>When developing code, keeping all security tips in mind can be really difficult. Also keeping all team members obey these rules is nearly impossible. This is why there are Static Analysis Security Testing (SAST) tools. These tools do not execute your code, but they simply look for patterns that can contain security risks. As JavaScript is a dynamic and loosely-typed language, linting tools are really essential in the software development life cycle. The linting rules should be reviewed periodically and the findings should be audited. Another advantage of these tools is the feature that you can add custom rules for patterns that you may see dangerous. <a href="https://eslint.org/">ESLint</a> and <a href="http://jshint.com/">JSHint</a> are commonly used SAST tools for JavaScript linting.</p>
<h4 id="use-strict-mode">Use strict mode<a href="#use-strict-mode" title="Permanent link">¶</a></h4>
<p>JavaScript has a number of unsafe and dangerous legacy features that should not be used. In order to remove these features, ES5 included a strict mode for developers. With this mode, errors that were silent previously are thrown. It also helps JavaScript engines perform optimizations. With strict mode, previously accepted bad syntax causes real errors. Because of these improvements, you should always use strict mode in your application. In order to enable strict mode, you just need to write <code>&#34;use strict&#34;;</code> on top of your code.</p>
<p>The following code will generate a <code>ReferenceError: Can&#39;t find variable: y</code> on the console, which will not be displayed unless strict mode is used:</p>
<div><pre><span></span><code><span>&#34;use strict&#34;</span><span>;</span>

<span>func</span><span>();</span>
<span>function</span> <span>func</span><span>()</span> <span>{</span>
  <span>y</span> <span>=</span> <span>3.14</span><span>;</span>   <span>// This will cause an error (y is not defined)</span>
<span>}</span>
</code></pre></div>
<h4 id="adhere-to-general-application-security-principles">Adhere to general application security principles<a href="#adhere-to-general-application-security-principles" title="Permanent link">¶</a></h4>
<p>This list mainly focuses on issues that are common in Node.js applications, with recommendations and examples. In addition to these, there are general <a href="https://wiki.owasp.org/index.php/Security_by_Design_Principles">security by design principles</a> that apply to web applications regardless of technologies used in application server. You should also keep those principles in mind while developing your applications. You can always refer to <a href="https://cheatsheetseries.owasp.org/">OWASP Cheat Sheet Series</a> to learn more about web application vulnerabilities and mitigation techniques used against them.</p>
<h2 id="additional-resources-about-nodejs-security">Additional resources about Node.js security<a href="#additional-resources-about-nodejs-security" title="Permanent link">¶</a></h2>
<p><a href="https://github.com/lirantal/awesome-nodejs-security">Awesome Node.js Security resources</a></p>
</article>
</div>
</div>
</main>

</div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 05:29:50 +0000</pubDate>
      <source>https://cheatsheetseries.owasp.org/cheatsheets/Nodejs_Security_Cheat_Sheet.html</source>
    </item>
    <item>
      <title>Senators introduce bipartisan antitrust bill to promote app store competition</title>
      <link>https://www.blumenthal.senate.gov/newsroom/press/release/blumenthal-blackburn-and-klobuchar-introduce-bipartisan-antitrust-legislation-to-promote-app-store-competition</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><article id="main" role="main">
			<header>
				
				
			


	
		
	
	
		
	
	
		
	

	
		
	


	
		
		


		


			
				
				<h2>Apple &amp; Google have gatekeeper control of the multi-billion dollar app economy, stifling competition &amp; disadvantaging consumers</h2>
				

			</header>

			
			<p>[WASHINGTON, D.C.] – U.S. Senators Richard Blumenthal (D-CT), Marsha Blackburn (R-TN), and Amy Klobuchar (D-MN) introduced the Open App Markets Act, which would set fair, clear, and enforceable rules to protect competition and strengthen consumer protections within the app market. Two companies, Google and Apple, have gatekeeper control of the two dominant mobile operating systems and their app stores that allow them to exclusively dictate the terms of the app market, inhibiting competition and restricting consumer choice. </p>
<p><b>“This legislation will tear down coercive anticompetitive walls in the app economy, giving consumers more choices and smaller startup tech companies a fighting chance,” </b>said Blumenthal.<b> “For years, Apple and Google have squashed competitors and kept consumers in the dark—pocketing hefty windfalls while acting as supposedly benevolent gatekeepers of this multi-billion dollar market. I’m proud to partner with Senators Blackburn and Klobuchar in this breakthrough blow against Big Tech bullying. This bipartisan bill will help break these tech giants’ ironclad grip, open the app economy to new competitors, and give mobile users more control over their own devices.”  </b></p>
<p><b>“Big Tech giants are forcing their own app stores on users at the expense of innovative start-ups,” </b>said Blackburn.<b> “Apple and Google want to prevent developers and consumers from using third-party app stores that would threaten their bottom line. Their anticompetitive conduct is a direct affront to a free and fair marketplace. Senator Blumenthal, Klobuchar, I are committed to ensuring U.S. consumers and small businesses are not punished by Big Tech dominance.”</b></p>
<p><b>“Competition is critical to protecting small businesses and consumers, spurring innovation, and promoting economic equity. But as mobile technologies have become essential to our daily lives, it has become clear that a few gatekeepers control the app marketplace, wielding incredible power over which apps consumers can access. This raises serious competition concerns,” </b>said Klobuchar. <b>“By establishing new rules for app stores, this legislation levels the playing field and is an important step forward in ensuring an innovative and competitive app marketplace.”</b></p>
<p>Mobile devices are central to consumers’ economic, social, and civic lives, and the mobile app market is a significant part of the digital economy. In 2020 alone, U.S. consumers spent nearly $33 billion in mobile app stores, downloading 13.4 billion apps.</p>
<p>According to numerous reports, including testimony provided in a <a href="https://www.judiciary.senate.gov/meetings/antitrust-applied-examining-competition-in-app-stores">Senate Judiciary Antitrust Subcommittee hearing</a> held in April and chaired by Klobuchar, both Apple and Google have appeared to use their powerful gatekeeper control to stifle competition in the app store market. For example, Apple has prevented the creation of third-party app stores on iPhones, required that apps exclusively use their own expensive payment system, and penalized app developers for telling users about discounted offers. These strict terms close off avenues of competition and drive up prices for consumers. Startups also face serious challenges when Big Tech gatekeepers are able to prioritize their own apps to the disadvantage of others, make use of competitors’ confidential business information, and block developers from using features on a consumers’ phone.   </p>
<p>The Open App Markets Act would protect developers’ rights to tell consumers about lower prices and offer competitive pricing; protect sideloading of apps; open up competitive avenues for startup apps, third party app stores, and payment services; make it possible for developers to offer new experiences that take advantage of consumer device features; give consumers more control over their devices; prevent app stores from disadvantaging developers; and set safeguards to continue to protect privacy, security, and safety of consumers.</p>
<p>The Open App Markets Act has been endorsed by a number of technology and consumer groups, including Consumer Reports, Internet Accountability Project, Public Citizen, Coalition for App Fairness, Color Of Change, News Media Alliance, Public Knowledge, Lincoln Network, Consumer Action for a Strong Economy (CASE), Digital Progress Institute, Electronic Frontier Foundation, American Principles Project, and the American Economic Liberties Project.</p>
<p><b>“The targeted market rules proposed in this legislation will help create an app ecosystem that is fairer and more competitive, and will enable unfettered innovation by all companies – big and small – to the benefit of consumers,” said </b>Sumit Sharma, Senior Researcher, Technology Competition at Consumer Reports. <b>“The legislation is crucial as smartphones have become central to our digital ecosystem, and apps are increasingly the primary mode for consumers to access online services.”</b></p>
<p><b>“There’s no doubt the fight against Big Tech is a battle of David versus Goliath,” </b>said Mike Davis, Founder and President, Internet Accountability Project.<b> “The Internet Accountability Project applauds Sens. Blackburn, Blumenthal, and Klobuchar for their bipartisan leadership. The Open App Markets Act takes a serious crack at breaking up Big Tech monopolies and increasing competition and innovation, all while protecting user privacy. Startups should have a fighting chance against monopolists, and this legislation takes an important step toward ending the crushing dominance of Big Tech.”</b></p>
<p><b>“The power of large app stores to extract enormous profits is a direct result of the anticompetitive and unfair way in which the stores are operated and controlled,” </b>said Alex Harman, Competition Policy Advocate at Public Citizen.<b> “This bipartisan legislation will open up the app stores to more competition, protect small app developers, and lower prices for consumers.” </b></p>
<p><b>“Since launching CAF, we have worked toward creating a fairer and more competitive app marketplace for both developers and consumers,” </b>Meghan DiMuzio, Executive Director, Coalition for App Fairness.<b> “The bipartisan Open App Markets Act is a step towards holding big tech companies accountable for practices that stifle competition for developers in the U.S. and around the world. CAF is proud to stand with Senators Blumenthal, Blackburn, and Klobuchar and we thank them for their courageous and visionary leadership on this important issue.”</b></p>
<p><b>“It is past due Big Tech companies like Apple and Google are forced to loosen their stranglehold on small businesses,” </b>said Arisha Hatch, vice president of Color Of Change.<b> “Monopolized digital industries drain any opportunity for small business owners and only centralize power to the already massive tech corporations — and congressional legislation is our greatest tool to combat them. The Open App Markets Act is the kind of legislation necessary to ensure greater protections for small and medium sized developers, especially those who are Black and people of color. Color Of Change commends Senators Blumenthal, Blackburn, and Klobuchar for challenging Big Tech’s widespread power and implementing the effective legislation that will guarantee greater opportunity for Black developers and their communities.”</b></p>
<p><b>“The News Media Alliance supports competition in the distribution of content,” </b>said David Chavern, President and CEO, News Media Alliance.<b> “We applaud Senators Blackburn, Blumenthal, and Klobuchar for their leadership in removing roadblocks and unnecessary fees associated with apps that allow news publishers to disseminate and monetize quality journalism.”</b></p>
<p><b>“Users expect their mobile devices to keep them protected and their personal data safe, but the same practices intended to protect users can also be used to restrict fair competition,” </b>said John Bergmayer, Legal Director at Public Knowledge.<b> “The Open App Markets Act will ensure fairness for both users and developers without forcing security or privacy compromises, resulting in greater consumer choices and lower prices in the app ecosystem.”</b></p>
<p><b>“The proliferation of digital walled gardens has led to a range of new challenges to free speech, competition, and human rights. Yet, many recent proposals for tech regulations have been punitive and heavy-handed. Such an approach threatens to weaken the American innovation ecosystem, ultimately increasing costs and reducing options for consumers,” </b>said Zach Graves, Head of Policy, Lincoln Network.<b> “The Open App Markets Act offers a better way forward, taking a light-touch regulatory approach to increase market competition and empower consumers with more options (and to vote with their feet). While all such regulations have tradeoffs, I believe this legislation strikes the right balance, allocating appropriate exemptions for privacy and security, and avoiding overly-cumbersome design mandates. Under this law, consumers will be more free to choose their digital world.”</b></p>
<p><b>“Mobile apps are a driving force in bringing new technologies into our digital economy while generating billions of dollars in GDP,” </b>said Gerard Scimeca, Chairman, CASE.<b> “Through this important piece of legislation, Senators Blackburn, Blumenthal, and Klobuchar have taken an enormous step forward in working to ensure that the mobile app market is open, fair, and not beholden to anti-competitive actions or incentives. If passed into law, the Open App Markets Act will play a major role in securing America&#39;s continued leadership in digital innovation that benefits all consumers and every sector of our economy.”</b></p>
<p><b>“The Open App Markets Act represents a thoughtful and pragmatic approach to facilitate equity in the app economy,” </b>said Joel Thayer, President, Digital Progress Institute.<b> “This Act would provide small-business developers with the appropriate leverage to challenge large app store platforms’ often mercurial standards and forced taxes on their innovative products. The Digital Progress Institute welcomes this much needed and bipartisan reform to the tech ecosystem.”</b></p>
<p><b>“Senators Blumenthal, Blackburn, and Klobuchar recognize that independent 3rd party developers are being restricted in anti-competitive ways that impact what users pay for video games and other software,” </b>said Ernesto Falcon, Senior Legislative Counsel at the Electronic Frontier Foundation.<b> “The Open App Markets Act will put a stop to these practices, which will lower the costs for both developers and their customers by setting forth common sense competition policy for the industry.”</b></p>
<p><b>“A healthy free market requires open and fair competition,” </b>said Jon Schweppe, director of policy and government affairs, American Principles Project.<b> “Unfortunately, Big Tech companies have rigged the game by engaging in anti-competitive practices that restrict the ability for innovators and entrepreneurs to challenge their market dominance. This not only distorts the free market at large, but it harms consumers directly. The Open App Markets Act gets to the heart of the problem with the app store market: Google and Apple have leveraged their market power to prevent any of their competitors from achieving a foothold, resulting in higher prices and a lack of choices for consumers. Sen. Blackburn deserves a great deal of credit for taking on this challenging issue and doing so in a bipartisan manner. American Principles Project is proud to support the bill.”</b></p>
<p><b>“I applaud Senator Blackburn, Senator Blumenthal, and Senator Klobuchar for their leadership in working to rein in Big Tech,” </b>said Federal Communications Commission (FCC) Commissioner Brendan Carr. <b>“The gatekeeper power that corporate behemoths now exercise over the app economy is harming consumers and competition. This legislation is a thoughtful way to eliminate those harms while promoting innovation.”</b></p>
<p><strong>“We applaud Sen. Blumenthal and his co-sponsors for introducing this important measure to break the power of app store gatekeepers,”</strong> said Economic Liberties’ Director of State and Local Policy Pat Garofalo.<strong> “It’s an important step in the effort to rein in the power of Big Tech corporations and ensure access to markets for American entrepreneurs and innovators. Dominant gatekeepers like Apple and Google are able to use their outsized power to extract enormous fees from small- and mid-sized businesses, with the ever-present threat of severing those businesses from their own customers. The set of rights laid out in this bill – including payment systems freedom, protections from retaliation, and giving consumers the ability to access alternative app stores – are vital to creating fairer commerce online.”</strong></p>


<p>The full text of the Senate bill can be <a href="https://www.blumenthal.senate.gov/download/81121_-open-app-markets-act---bill-text">found here</a>.</p>
<p>-30-</p>

			
            
		</article></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 17:20:42 +0000</pubDate>
      <source>https://www.blumenthal.senate.gov/newsroom/press/release/blumenthal-blackburn-and-klobuchar-introduce-bipartisan-antitrust-legislation-to-promote-app-store-competition</source>
    </item>
    <item>
      <title>Event Sourcing (2005)</title>
      <link>https://martinfowler.com/eaaDev/EventSourcing.html</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___martinfowler_com_eaaDev_EventSourcing_html/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
<div>


<p>Capture all changes to an application state as a sequence of
  events.</p>



<p>This is part of the <a href="https://martinfowler.com/eaaDev">Further Enterprise Application Architecture development</a> writing that I was doing in the mid 2000’s. Sadly too many other things have claimed my attention since, so I haven’t had time to work on them further, nor do I see much time in the foreseeable future. As such this material is very much in draft form and I won’t be doing any corrections or updates until I’m able to find time to work on it again.</p>

<div>
<p>We can query an application&#39;s state to find out the current
    state of the world, and this answers many questions. However there
    are times when we don&#39;t just want to see where we are, we also
    want to know how we got there.</p>

<p><span>Event Sourcing</span> ensures that all changes to application state are
    stored as a sequence of events. Not just can we query these
    events, we can also use the event log to reconstruct past states,
    and as a foundation to automatically adjust the state to cope with
    retroactive changes.</p>
</div>

<section>
<h2>How it Works</h2>

<p>The fundamental idea of <span>Event Sourcing</span> is that of ensuring every
    change to the state of an application is captured in an event
    object, and that these event objects are themselves stored in the
    sequence they were applied for the same lifetime as the
    application state itself.</p>

<p>Let&#39;s consider a simple example to do with shipping
    notifications. In this example we have many ships on the high
    seas, and we need to know where they are. A simple way to do this
    is to have a tracking application with methods to allow us to tell
    when a ship arrives or leaves at a port.</p>

<div id="eventSourcing_simpleService.gif"><p></p><p>Figure 1: A simple interface
    for tracking shipping movements.</p>
</div>



<p>In this case when the service is called, it finds the relevant
    ship and updates its location. The ship objects record the current
    known state of the ships.</p>

<p>Introducing <span>Event Sourcing</span> adds a step to this process. Now the
    service creates an event object to record the change and processes
    it to update the ship.</p>

<div id="eventSourcing_simpleEventCd.gif"><p></p><p>Figure 2: Using an event to
    capture the change.</p>
</div>



<p>Looking at just the processing, this is just an unnecessary
    level of indirection. The interesting difference is when we look
    at what persists in the application after a few changes. Let&#39;s
    imagine some simple changes:</p>

<ul>
<li>The Ship &#39;King Roy&#39; departs San Francisco</li>

<li>The Ship &#39;Prince Trevor&#39; arrives at Los Angeles</li>

<li>The Ship &#39;King Roy&#39; arrives in Hong Kong</li>
</ul>

<p>With the basic service, we see just the final state captured by
    the ship objects. I&#39;ll refer to this as the application state.</p>

<div id="eventSourcing_simpleServiceHis.gif"><p></p><p>Figure 3: State after a few
    movements tracked by simple tracker.</p>
</div>



<p>With <span>Event Sourcing</span> we also capture each event. If we are using a
    persistent store the events will be persisted just the same as the
    ship objects are. I find it useful to say that we are persisting
    two different things an application state
    and an event log.</p>

<div id="eventSourcing_simpleEventHis.gif"><p></p><p>Figure 4: State after a few
    movements tracked by event sourced tracker.</p>
</div>



<p>The most obvious thing we&#39;ve gained by using <span>Event Sourcing</span> is that we
    now have a log of all the changes. Not just can we see where each
    ship is, we can see where it&#39;s been. However this is a small
    gain. We could also do this by keeping a history of past ports in
    the ship object, or by writing to a log file whenever a ship
    moves. Both of these can give us an adequate history.</p>

<p>The key to <span>Event Sourcing</span> is that we guarantee that all changes to the
    domain objects are initiated by the event objects. This leads to a
    number of facilities that can be built on top of the event log:</p>

<ul>
<li>Complete Rebuild: We can discard the application state
completely and rebuild it by re-running the events from the event log
on an empty application.</li>

<li>Temporal Query: We can determine the application state at
any point in time. Notionally we do this by starting with a blank
state and rerunning the events up to a particular time or event. We
can take this further by considering multiple time-lines (analogous to
branching in a version control system).</li>

<li>Event Replay: If we find a past event was incorrect, we can
compute the consequences by reversing it and later events and then
replaying the new event and later events. (Or indeed by throwing away
the application state and replaying all events with the correct event
in sequence.) The same technique can handle events received in the
wrong sequence - a common problem with systems that communicate with
asynchronous messaging.</li>
</ul>

<p>A common example of an application that uses <span>Event Sourcing</span> is a
    version control system. Such a system uses temporal queries quite
    often. Subversion uses complete rebuilds whenever you use dump and
    restore to move stuff between repository files. I&#39;m not aware of
    any that do event replay since they are not particularly
    interested in that information. Enterprise applications that use
    <span>Event Sourcing</span> are rarer, but I have seen a few applications (or parts of
    applications) that use it.</p>

<section id="ApplicationStateStorage">
<h3>Application State Storage</h3>

<p>The simplest way to think of using <span>Event Sourcing</span> is to calculate a
requested application state by starting from a blank application state
and then applying the events to reach the desired state. It&#39;s equally
simple to see why this is a slow process, particularly if there are
many events.</p>

<p>In many applications it&#39;s more common to request recent
application states, if so a faster alternative is to store the current
application state and if someone wants the special features that
<span>Event Sourcing</span> offers then that additional capability is built on top.</p>

<p>Application states can be stored either in memory or on disk.
Since an application state is purely derivable from the event log, you
can cache it anywhere you like. A system in use during a working day
could be started at the beginning of the day from an overnight snapshot
and hold the current application state in memory. Should it crash it
replays the events from the overnight store. At the end of the working
day a new snapshot can be made of the state. New snapshots can be made
at any time in parallel without bringing down the running
application.</p>

<p>The official system of record can either be the event logs or
the current application state. If the current application state is
held in a database, then the event logs may only be there for audit
and special processing. Alternatively the event logs can be the
official record and databases can be built from them whenever
needed.</p>
</section>

<section id="StructuringTheEventHandlerLogic">
<h3>Structuring the Event Handler Logic</h3>

<p>There are a number of choices about where to put the logic
      for handling events. The primary choice is whether to put the
      logic in <a href="https://martinfowler.com/eaaCatalog/transactionScript.html">Transaction Scripts</a> or <a href="https://martinfowler.com/eaaCatalog/domainModel.html">Domain Model</a>. As usual <a href="https://martinfowler.com/eaaCatalog/transactionScript.html">Transaction Scripts</a> are better for simple
      logic and a <a href="https://martinfowler.com/eaaCatalog/domainModel.html">Domain Model</a> is better when things get more
      complicated. </p>

<p>In general I have noticed a tendency to use <a href="https://martinfowler.com/eaaCatalog/transactionScript.html">Transaction Scripts</a> with applications that
      drive changes through events or commands. Indeed some people
      believe that this is a necessary way of structuring systems that
      are driven this way. This is, however, an
      illusion. </p>

<p>A good way to think of this is that there are two
responsibilities involved. <i>Processing domain logic</i> is the
business logic that manipulates the application. <i>Processing
selection logic</i> is the logic that chooses which chunk of
processing domain logic should run depending on the incoming event.
You can combine these together, essentially this is the <a href="https://martinfowler.com/eaaCatalog/transactionScript.html">Transaction Script</a> approach, but you can also separate
      them by putting the processing selection logic in the event
      processing system, and it calls a method in the domain model
      that contains the processing domain logic.</p>

<p>Once you&#39;ve made that decision, the next is whether to put the
      processing selection logic in the event object itself, or have a
      separate event processor object. The problem with the processor is that
      it necessarily runs different logic depending on the type of
      event, which is the kind of type switch that is abhorrent to any
      good OOer. All things being equal you want the processing selection
      logic in the event itself, since that&#39;s the thing that varies
      with the type of event.</p>

<p>Of course all things aren&#39;t always equal. One case where
      having a separate processor can make sense is when the event
      object is a <a href="https://martinfowler.com/eaaCatalog/dataTransferObject.html">DTO</a> which is
      serialized and de-serialized by some automatic means that
      prohibits putting code into the event. In this case you need to
      find selection logic for the event. My inclination would be to
      avoid this if at all possible, if you can&#39;t then treat the
      <a href="https://martinfowler.com/eaaCatalog/dataTransferObject.html">DTO</a> as an hidden data holder
      for the event and still treat the event as a regular polymorphic
      object. In this case it&#39;s worth doing something moderately
      clever to match the serialized event DTOs to the actual events
      using configuration files or (better) naming conventions.</p>

<p>If there&#39;s no need to reverse events, then then it&#39;s easy to
make a <a href="https://martinfowler.com/eaaCatalog/domainModel.html">Domain Model</a> ignorant of the event
log. Reversing logic makes this more tricky since the
      <a href="https://martinfowler.com/eaaCatalog/domainModel.html">Domain Model</a> needs to store and retrieve the
prior state, which makes it much more handy for the
<a href="https://martinfowler.com/eaaCatalog/domainModel.html">Domain Model</a> to be aware of the event log.</p>
</section>

<section id="ReversingEvents">
<h3>Reversing Events</h3>

<p>As well as events playing themselves forwards, it&#39;s also
often useful for them to be able to reverse themselves. </p>

<p>Reversal is the most straightforward when the event is cast
in the form of a difference. An example of this would be &#34;add $10 to
Martin&#39;s account&#34; as opposed to &#34;set Martin&#39;s account to $110&#34;. In
the former case I can reverse by just subtracting $10, but in the
latter case I don&#39;t have enough information to recreate the past value
of the account.</p>

<p>If the input events don&#39;t follow the difference approach,
then the event should ensure it stores everything needed for reversal
during processing. You can do this by storing the previous values on
any value that is changed, or by calculating and storing differences
on the event.</p>

<p>This requirement to store has a significant consequence when
the processing logic is inside a domain model, since the domain model
may alter its internal state in ways which shouldn&#39;t be visible to the
event object&#39;s processing. In this case it&#39;s best to design the domain
model to be aware of events and to be able to use them in order to
store prior values.</p>

<p>It&#39;s worth remembering that all the capabilities of reversing
      events can be done instead by reverting to a past snapshot and
      replaying the event stream. As a result reversal is never
      absolutely needed for functionality. However it may make a big
      difference to efficiency since you may often be in a position
      where reversing a few events is much more efficient than using
      forward play on a lot of events.</p>
</section>

<section id="ExternalUpdates">
<h3>External Updates</h3>

<p>One of the tricky elements to <span>Event Sourcing</span> is how to deal with 
      external systems that don&#39;t follow this approach (and most
      don&#39;t). You get problems when you are sending modifier messages
      to external systems and when you are receiving queries from
      other systems.</p>

<p>Many of the advantages of <span>Event Sourcing</span> stem from the ability
      to replay events at will, but if these events cause update messages to
      be sent to external systems, then things will go wrong because
      those external systems don&#39;t know the difference between real
      processing and replays.</p>

<p>To handle this you&#39;ll need to wrap any external systems with
      a <a href="https://martinfowler.com/eaaCatalog/gateway.html">Gateway</a>. This in itself isn&#39;t too onerous
      since it&#39;s a thoroughly good idea in any case. The gateway has
      to be a bit more sophisticated so it can deal with any replay
      processing that the <span>Event Sourcing</span> system is doing.</p>

<p>For rebuilds and temporal queries it&#39;s usually sufficient for
      the gateways to be able to be disabled during the replay
      processing. You want to do this in a way that&#39;s invisible to the
      domain logic. If the domain logic calls PaymentGateway.send it
      should do so whether or not you are in replay mode. The
      gateway should handle that distinction by having a reference to
      the event processor and checking the whether it&#39;s in replay mode
      before passing the external call off to the outside world.</p>

<p>External updates get more complicated if you are using
      <a href="https://martinfowler.com/eaaDev/RetroactiveEvent.html">Retroactive Event</a> see the discussion there
      for gory details.</p>

<p>Another tactic that you might see with external systems is
      buffering the external notifications by time. It may be that we
      don&#39;t need to make the external notification right away, instead
      we only need to do it at the end of the month. In this case we
      can reprocess more freely until that time appears. We can deal
      with this either by having gateways that store external messages
      till the release date, or triggering the external messages
      through a notification domain event rather than doing the
      notification  immediately.</p>
</section>

<section id="ExternalQueries">
<h3>External Queries</h3>

<p>The primary problem with external queries is that the data
      that they return has an effect on the results on handling an
      event. If I ask for an exchange rate on December 5th and replay
      that event on December 20th, I will need the exchange rate on
      Dec 5 not the later one.</p>

<p>It may be that the external system can give me past data by
      asking for a value on a date. If it can, and we trust it to be
      reliable, then we can use that to ensure consistent replay. It also may be that we are using <a href="https://martinfowler.com/eaaDev/EventCollaboration.html">Event Collaboration</a>, in which case all we have to ensure we retain the history of changes.</p>

<p>If we can&#39;t use those simple plans then we have to do something a bit more involved. One approach is to design the
      gateway to the external system so that it remembers the
      responses to its queries and uses them during replay. To be
      complete this means that the response to every external query
      needs to be remembered. If the external data changes slowly it
      may be reasonable to only remember changes when values change.</p>
</section>

<section id="ExternalInteraction">
<h3>External Interaction</h3>

<p>Both queries and updates to external systems cause a lot of
      complication with <span>Event Sourcing</span>. You get the worst of both with
      interactions that involve both. Such an interaction might be a
      an external call that both returns a result (a query) but also
      causes a state change to the external system, such as submitting
      an order for delivery that return delivery information on that order.</p>
</section>

<section id="CodeChanges">
<h3>Code Changes</h3>

<p>So this discussion has made the assumption that the
      application processing the events stays the same. Clearly that&#39;s
      not going to be the case. Events handle changes to data, what
      about changes to code?</p>

<p>We can think as three broad kinds of code changes here: new
      features, defect fixes, and temporal logic.</p>

<p>New features essentially add new capabilities to the system
      but don&#39;t invalidate things that happened before. These can be
      added pretty freely at any time. If you want to take advantage
      of the new features with old events you can just reprocess the
      events and the new results pop up.</p>

<p>When reprocessing with new features you&#39;ll usually want
      the external gateways turned off, which is the normal case. The
      exception is when the new features involve these gateways. Even
      then you may not want to notify for past events, if you do
      you&#39;ll need to put some special handling in for the first
      reprocess of the old events. It&#39;ll be kludgey, but you&#39;ll only
      have to do it once.</p>

<p>Bug fixes occur when you look at past processing and realize
      it was incorrect. For internal stuff this is really easy to fix,
      all you need to do is make the fix and reprocess the
      events. Your application state is now fixed to what it should
      have been. For many situations this is really rather nice.</p>

<p>Again external gateways bring the complexity. Essentially the
      gateways need to track the difference between what happened with
      the bug, and what happens without it. The idea is similar to
      what needs to happen with <a href="https://martinfowler.com/eaaDev/RetroactiveEvent.html">Retroactive Events</a>. Indeed if there&#39;s
      a lot of reprocessing to consider it would be worth actually
      using the <a href="https://martinfowler.com/eaaDev/RetroactiveEvent.html">Retroactive Event</a> mechanism to
      replace an event with itself, although to do that you&#39;ll need to
      ensure the event can correctly reverse the buggy event as well
      as the correct one.</p>

<p>The third case is where the logic itself changes over time, a
rule along the lines of &#34;charge $10 before November 18 and $15
afterwords&#34;. This kind of stuff needs to actually go into the domain
model itself. The domain model should be able to run events at any
time with the correct rules for the event processing. You can do this
with conditional logic, but this will get messy if you have much
temporal logic. The better route is to hook strategy objects into a
<a href="https://martinfowler.com/eaaDev/TemporalProperty.html">Temporal Property</a>: something like
<code>chargingRules.get(aDate).process(anEvent)</code>. Take a look at
<a href="https://martinfowler.com/eaaDev/AgreementDispatcher.html">Agreement Dispatcher</a> for this kind of style.</p>

<p>There is potentially an overlap between dealing with bugs and
      temporal logic when old events need to be processed using the
      the buggy code. This may lead into bi-temporal
      behavior: &#34;reverse this event according to the rules for Aug 1
      that we had on Oct 1 and replace it according to the rules for
      Aug 1 that we have now&#34;. Clearly this stuff can get very messy,
      don&#39;t go down this path unless you really need to.</p>

<p>Some of these issues can be handled by putting the code in
      the data. Using Adaptive Object Models that figure out the
      processing using configurations of objects is one way to do
      this. Another might be embed scripts into your data using some
      directly executable language that doesn&#39;t require compilation -
      embedding JRuby into a Java app for example. Of course the
      danger here is keeping under proper configuration control. I
      would be inclined to do it by ensuring any change to the
      processing scripts was handled in the same way as any other
      update - through an event. (Although by now I&#39;m certainly drifting away
      from observation to speculation.)</p>
</section>

<section id="EventsAndAccounts">
<h3>Events and Accounts</h3>

<p>I&#39;ve seen some particularly strong examples of <span>Event Sourcing</span> (and
      consequent patterns) in the context of accounting systems. The
      two have a very good synergy between them, both in their
      requirements (audit is very important for accounting systems)
      and in their implementation. A key factor here is that you can
      arrange things so that all the accounting consequences of a
      <a href="https://martinfowler.com/eaaDev/DomainEvent.html">Domain Event</a> are the creation of <a href="https://martinfowler.com/eaaDev/AccountingEntry.html">Accounting Entrys</a> and link these entries to
      the original event. This gives you a very good basis for
      tracking changes, reversal, and the like. In particular it
      simplified the various adjustment techniques.</p>

<p>Indeed one way of thinking about accounts is that the
      <a href="https://martinfowler.com/eaaDev/AccountingEntry.html">Accounting Entrys</a> are a log of
      all of the events that change the value of an <a href="https://martinfowler.com/eaaDev/Account.html">Account</a>, so that an <a href="https://martinfowler.com/eaaDev/Account.html">Account</a> is
          itself an example of <span>Event Sourcing</span>.</p>
</section>
</section>

<section>
<h2>When to Use It</h2>

<p>Packaging up every change to an application as an event
is an interface style that not everyone is comfortable with, and many
find to be awkward. As a result it&#39;s not a natural choice and to use
it means that you expect to get some form of return.</p>

<p>One obvious form of return is that it&#39;s easy to serialize the
events to make an <a href="https://martinfowler.com/eaaDev/AuditLog.html">Audit Log</a>.Such an audit
trail is useful for audit, no shocks there, but also has other usages.
I chatted with someone who got their online accounts into an awkward
state and phoned in for help. He was impressed that the helper was
able to tell him exactly what he did and thus was able to figure out
how to fix it. To provide such a capability means exposing the audit
trail to the support group so they can walk through a user&#39;s
interaction. While <span>Event Sourcing</span> is a good way of doing this, you could
also do this with more regular logging mechanisms, and that way not
have to deal with the odd interface.</p>

<p>Another use for this kind of complete <a href="https://martinfowler.com/eaaDev/AuditLog.html">Audit Log</a> is to help with debugging. Of course, it&#39;s old hat
    to use log files for debugging production problems. But <span>Event Sourcing</span>
    can go further, allowing you to create a test environment and
    replay the events into the test environment to see exactly what
    happend, with the ability to stop, rewind, and replay just like
    you can when executing tests in a debugger. This can be
    particularly valuable to do parallel testing before putting an
    upgrade into production. You can replay the actual events in your
    test system and test that you get the answers you expect.</p>

<p><span>Event Sourcing</span> is the foundation for  <a href="https://martinfowler.com/eaaDev/ParallelModel.html">Parallel Models</a> or <a href="https://martinfowler.com/eaaDev/RetroactiveEvent.html">Retroactive Events</a>. If you want to use either of those patterns
        you will need to use <span>Event Sourcing</span> first. Indeed this goes to the
        extent that it&#39;s very hard to retrofit these patterns onto a
        system that wasn&#39;t built with <span>Event Sourcing</span>. Thus if you think
        there&#39;s a reasonable chance that the system will need these
        patterns later it&#39;s wise to build <span>Event Sourcing</span> now. This does seem
        to be one of those cases where it isn&#39;t wise to leave this
        decision to later refactoring.</p>

<p><span>Event Sourcing</span> also raises some possibilities for your overall
    architecture, particularly if you are looking for something that is
    very scalable. There is a fair amount of interest in &#39;event-driven
    architecture&#39; these days. This term covers a fair range of ideas,
    but most of centers around systems communicating through event
    messages. Such systems can operate in a very loosely coupled
    parallel style which provides excellent horizontal scalability and
    resilience to systems failure.</p>

<p>An example of this would be a system with lots of readers and a
    few writers. Using <span>Event Sourcing</span> this could be delivered as a cluster of
    systems with in-memory databases, kept up to date with each other
    through a stream of events. If updates are needed, they can be
    routed to a single master system (or a tighter cluster of servers
    around a single database or message queue) which applies the
    updates to the system of record and then broadcasts the resulting
    events to the wider cluster of readers. Even when the system of
    record is the application state in a database this could be a very
    appealing structure. If the system of record is the event log,
    there is are plenty of options for very high performance since the
    event log is a purely additive structure that requires minimal locking.</p>

<p>Such an architecture isn&#39;t flawless, of course. The reader
    systems are liable to be out of sync with the master (and each
    other) due to differences in timing with event
    propagation. However this broad style of architecture is used and
    I&#39;ve heard almost entirely favorable comment about it.</p>

<p>Using event streams like this also allows new applications to
    be added easily by tapping into the event streams and populating
    their own models, which don&#39;t need to be the same for all
    systems. It&#39;s an approach that fits in very well with a messaging
    approach to integration.</p>
</section>

<section>
<h2>Example: Tracking Ships (C#)</h2>

<p>Here is a very simple example of <span>Event Sourcing</span> to get the basic idea
    over. For this example I&#39;m deliberately being ultra-simple to act
    as a starting point - then I&#39;ll use further examples to explore
    some of the more complicated issues.</p>

<p>The domain model is a simple one of ships that carry cargo and
    move between ports.</p>

<div id="eventSourcing_shipDomainCd.gif"><p></p>
</div>



<p>There are four kinds of events that affect the model:</p>

<ul>
<li>Arrival: ship arrives at a port</li>

<li>Departure: ship leaves a port</li>

<li>Load: cargo is loaded on a ship</li>

<li>Unload: cargo is unloaded from a ship</li>
</ul>

<p>Let&#39;s take a simple example of moving a ship around.</p>

<p>class Tester...
</p>

<pre>  Ship kr;
  Port sfo, la, yyv;
  Cargo refact;
  EventProcessor eProc;

  [SetUp]
  public void SetUp() {
    eProc = new EventProcessor(); 
    refact = new Cargo (&#34;Refactoring&#34;);
    kr = new Ship(&#34;King Roy&#34;);
    sfo = new Port(&#34;San Francisco&#34;, Country.US);
    la = new Port(&#34;Los Angeles&#34;, Country.US);
    yyv = new Port(&#34;Vancouver&#34;, Country.CANADA) ;
  }
</pre>

<pre>[Test]
public void ArrivalSetsShipsLocation() {
  ArrivalEvent ev = new ArrivalEvent(new DateTime(2005,11,1), sfo, kr);
  eProc.Process(ev);
  Assert.AreEqual(sfo, kr.Port);
}
[Test]
public void DeparturePutsShipOutToSea() {
  eProc.Process(new ArrivalEvent(new DateTime(2005,10,1), la, kr));
  eProc.Process(new ArrivalEvent(new DateTime(2005,11,1), sfo, kr));
  eProc.Process(new DepartureEvent(new DateTime(2005,11,1), sfo, kr));
  Assert.AreEqual(Port.AT_SEA, kr.Port);    
}</pre>

<p>To make these tests work we just need the arrival and departure
    events. The event processor is very simple.</p>

<p>class EventProcessor...
</p>

<pre>  IList log = new ArrayList();  
  public void Process(DomainEvent e) {
    e.Process();
    log.Add(e);
  }
</pre>

<p>Each event has a process method.</p>

<p>class DomainEvent...
</p>

<pre>  DateTime _recorded, _occurred;
  internal DomainEvent (DateTime occurred) {
    this._occurred = occurred;
    this._recorded = DateTime.Now;
  }
  abstract internal void Process();
</pre>

<p>The arrival event simply captures the data and has a process
    method that simply forwards the event to an appropriate domain object.</p>

<p>class DepartureEvent...
</p>

<pre>  Port _port;
  Ship _ship;
  internal Port Port  {get { return _port; }}
  internal Ship Ship  {get { return _ship; }}
  internal DepartureEvent(DateTime time, Port port, Ship ship) : base (time)  {
    this._port = port;
    this._ship = ship;
  }
  internal override void Process() {
    Ship.HandleDeparture(this);
  }
</pre>

<p>So here the event just does the processing selection logic. The
    processing domain logic is done by the ship.</p>

<p>class Ship...
</p>

<pre>  public Port Port;
  public void HandleDeparture(DepartureEvent ev) {
    Port = Port.AT_SEA;
  }
</pre>

<p>A departure event just sets the Ship&#39;s port to a <a href="https://martinfowler.com/eaaCatalog/specialCase.html">Special Case</a>. You&#39;ll notice I&#39;m passing the event into the
    domain object. There is a choice here about whether the event
    should pass in just the data the domain object needs for its
    processing, or pass in the event itself. By passing the event the
    event doesn&#39;t need to know exactly what data the domain logic
    needs. If the event gains additional data later, there&#39;s no need
    to update signatures. The downside of passing the event is that
    the domain logic is now aware of the event itself.</p>

<p>That simple test just shows how the basic event processing
    works. Now I&#39;ll show a little domain logic to see how that would
    work. Our ships are transporting books to satisfy my fantasies of
    having an entire shipping line to move my books around the
    world. As I&#39;m sure you know, it&#39;s very dangerous to send books through
    Canada, since it&#39;s this runs the risk of the books being contaminated
    with lots of &#34;eh&#34;. I&#39;ve seen books where nearly every sentence has
    a eh (longer sentences can get two or three).</p>

<p>So my perfect book shipping system would be able to detect if a
    cargo had passed through Canada.</p>

<p>class Tester...
</p>

<pre>  [Test]
  public void VisitingCanadaMarksCargo() {
    eProc.Process(new LoadEvent(new DateTime(2005,11,1), refact, kr));
    eProc.Process(new ArrivalEvent(new DateTime(2005,11,2), yyv, kr));
    eProc.Process(new DepartureEvent(new DateTime(2005,11,3), yyv, kr ));
    eProc.Process(new ArrivalEvent(new DateTime(2005,11,4), sfo, kr));
    eProc.Process(new UnloadEvent(new DateTime(2005,11,5), refact, kr));
    Assert.IsTrue(refact.HasBeenInCanada);
  }
</pre>

<p>Since the cargo may be moved between ships and offloaded, it&#39;s
    the cargo that has the responsibility of knowing whether it&#39;s been
    exposed to these northern dangers. Fortunately the risk only
    occurs when actually in a port, just being in the waters is
    safe. So our arrival event has to keep track of this.</p>

<p>class ArrivalEvent...
</p>

<pre>  Port _port;
  Ship _ship; 
  internal ArrivalEvent (DateTime occurred, Port port, Ship ship) : base (occurred) {
    this._port = port;
    this._ship = ship;
  } 
  internal Port Port {get {return _port;}}
  internal Ship Ship {get{return _ship;}}
  
  internal override void Process() {
    Ship.HandleArrival(this);
  }
</pre>

<p>Again the handler is the Ship object.</p>

<p>class Ship...
</p>

<pre>  IList cargo;
  public void HandleArrival (ArrivalEvent ev) {
    Port = ev.Port;
    foreach (Cargo c in cargo) c.HandleArrival(ev);
  }
</pre>

<p>The ship isn&#39;t responsible for tracking Canadian visits so it
    passes the arrival notification on to the cargo.</p>

<p>class Cargo...
</p>

<pre>  public bool HasBeenInCanada = false;
  public void HandleArrival(ArrivalEvent ev) {
    if (Country.CANADA == ev.Port.Country) 
      HasBeenInCanada = true;
  }
</pre>

<p>Consider the alternative of where the event process method
    holds the domain logic - it would need to have a lot of knowledge
    of the domain model as the domain logic gets more complex. In this
    approach the domain objects pass the event around to relevant
    objects so they can handle it to do what they need in response.</p>
</section>

<section>
<h2>Example: Updating an External System (C#)</h2>

<p>One of the great features of <span>Event Sourcing</span> is that you can reprocess
events as much as you like. However if processing events should cause
interactions with external systems, then this is a Bad Thing. The best
that could happen is they&#39;ll tired of all your Spam events.</p>

<p>An easy way to help deal with this is to ensure that your
    system calls external systems through gateways that can be
    configured to ensure that no messages go out unless you are
    processing an event &#39;for real&#39;.</p>

<p>I&#39;ll illustrate this with a simple example using ships and
    ports (no cargo this time). Let&#39;s say that whenever a ship enters
    a port it must notify the local customs authority. We can make
    this happen in the event processing domain logic.</p>

<p>class Port...
</p>

<pre>  public void HandleArrival (ArrivalEvent ev) {
    ev.Ship.Port = this;
    Registry.CustomsNotificationGateway.Notify(ev.Occurred, ev.Ship, ev.Port);
  }
</pre>

<p>Notice that this code just invokes the notification on the
    gateway object, it doesn&#39;t care whether this is a real processing
    or some kind of replay. The general principle here is that the
    domain logic should never care about the context of the running of
    the events.</p>

<p>It&#39;s the gateway&#39;s responsibility to figure out whether to
    actually send the message on or not. Since this case is pretty
    simple, it does this simply by having a link to the event
    processor and checking to see if the processor is active.</p>

<p>class CustomsEventGateway...
</p>

<pre>  EventProcessor processor;
  public void Notify (DateTime arrivalDate, Ship ship, Port port) {
    if (processor.isActive) 
      SendToCustoms(BuildArrivalMessage(arrivalDate, ship, port));
  }
</pre>

<p>The event processor simply makes itself active when doing
    regular processing.</p>

<p>class EventProcessor...
</p>

<pre>  public void Process(DomainEvent e) {
    isActive = true;
    e.Process();
    isActive = false;
    log.Add(e);
  }
</pre>

<p>Although this case is very simple, the fundamental principles
    are the same. Gateways decide whether to send an external message,
    not the domain logic. The gateways decide this based on
    information they gather about the context of the processing. In
    this case a simple boolean state from the processor is
    enough.</p>
</section>

<section>
<h2>Example: Reversing an Event (C#)</h2>

<p>Here we&#39;ll take the shipping example and see how to reverse the
    events. The critical thing we need for reversal is to ensure that
    we can accurately calculate the prior state of any object that
    has changed state due to the event.</p>

<p>A good place to store this prior data is on the event itself,
    something that works quite well with the example&#39;s approach of
    passing the event around the domain objects. Since the domain
    objects have the event to hand, they can easily store information
    on the event for them.</p>

<p>The load event makes a simple example. The event carries the
    following source data.</p>

<p>class LoadEvent...
</p>

<pre>  int _shipCode;
  string _cargoCode;
  internal LoadEvent(DateTime occurred, string cargo, int ship) : base(occurred){
    this._shipCode = ship;
    this._cargoCode = cargo;
  }
  internal Ship Ship {get { return Ship.Find(_shipCode); }}
  internal Cargo Cargo {get { return Cargo.Find(_cargoCode); }}
</pre>

<p>The processing is handed off to the cargo object, which needs
    to store the port that was the prior location of the cargo.</p>

<p>class LoadEvent...
</p>

<pre>  internal override void Process() {
    Cargo.HandleLoad(this);
  }
</pre>

<pre>internal Port priorPort;
</pre>

<p>class Cargo...
</p>

<pre>  internal void HandleLoad(LoadEvent ev) {
    ev.priorPort = _port;
    _port = null;
    _ship = ev.Ship;
    _ship.HandleLoad(ev);
  }
</pre>

<p>To reverse the event we add a reverse method that mirrors the
    process method, calling a reversal method on the domain object.</p>

<p>class LoadEvent...
</p>

<pre>  internal override void Reverse() {
    Cargo.ReverseLoad(this);
  }
</pre>

<p>class Cargo...
</p>

<pre>  public void ReverseLoad(LoadEvent ev) {
    _ship.ReverseLoad(ev);
    _ship = null;
    _port = ev.priorPort;
  }
</pre>

<p>In this case the event takes on a bunch of mutable prior data
    which is part of its processing data. In cases like this, simple
    fields suffice. Other cases can require a more sophisticated data
    structure. When the cargo handles an arrival event, it keeps track
    of whether it&#39;s been in Canada eh. It can do this with a simple
    boolean field. To store the prior value on the event needs more
    than a simple field since many cargoes can be affected by an
    arrival. So in this case I use a map indexed by the cargo.</p>

<p>class Cargo...
</p>

<pre>  public void HandleArrival(ArrivalEvent ev) {
    ev.priorCargoInCanada[this] = _hasBeenInCanada;
    if (&#34;CA&#34; == ev.Port.Country) 
      _hasBeenInCanada = true;
  }
  private bool _hasBeenInCanada = false;
  public bool HasBeenInCanada {get { return _hasBeenInCanada;}}
</pre>

<p>class ArrivalEvent...
</p>

<pre>  internal Port priorPort;
  internal IDictionary priorCargoInCanada = new Hashtable();
</pre>

<p>Then to reverse:</p>

<p>class Cargo...
</p>

<pre>  public void ReverseArrival(ArrivalEvent ev) {
    _hasBeenInCanada = (bool) ev.priorCargoInCanada[this];
  }
</pre>

<p>This example nicely illustrates how the source data on the
    event and the error handling affects how we do reversal. For the
    load event we need to store the port that the cargo was at when it
    was loaded. If the event included this on its source data we
    wouldn&#39;t have to do this. A bit of extra source data removes the
    need to add prior data. This doesn&#39;t work everywhere: the arrival
    event can&#39;t source the prior Canadian state of its cargoes.</p>

<p>What&#39;s deemed correct processing can also make a
    difference. In this system we have both arrival events and
    departure events for ships. Assuming all works correctly we should
    always get these interleaved. Thus a ship could reverse an arrival
    event by setting its port field to
    <code>Port.OUT_TO_SEA</code>. What happens when we get two arrival
    events in succession? To reverse this we need to store the prior
    port on the ship. Our alternative would be to declare a second
    arrival without a departure as an error, we don&#39;t need to do this
    storage.</p>


</section>

<section>
<h2>Example: External Query (C#)</h2>

<p>External queries are awkward even for basic <span>Event Sourcing</span> because if
    you want to rebuild the application state you need to do this
    using external query responses that were made in the past. </p>

<p>Let&#39;s imagine a case where a ship has to determine the value of
    its cargoes when it enters a port. This valuation is done by an
    external service. If a ship enters a port on November 3rd and I
    process the event immediately, I&#39;ll get the value of that cargo as
    at November 3rd. If I rebuild my application state on December 5th
    I&#39;ll want the same value of the cargo, even if its value has
    changed in the meantime.</p>

<p>For this example I&#39;ll show one way of handling this by keeping
    a record of external queries and using them to provide values when
    reprocessing an event. In many ways it&#39;s a similar approach to
    that you use with an external update - turn the interaction into
    events at the boundary of the system and use the record of events
    to remember what happened.</p>

<p>Using a similar style to event handling that I&#39;m using
    elsewhere in these examples, we pass the event to the domain
    objects to handle. In this case the cargo initiates the call to
    the external system and saves the value. (We&#39;ll assume we&#39;re going
    to actually do something useful with this value, but that&#39;s not
    relevant to this example.)</p>

<p>class Cargo...
</p>

<pre>  public void HandleArrival(ArrivalEvent ev) {
    declaredValue = Registry.PricingGateway.GetPrice(this);
  }
  private Money declaredValue;
</pre>

<p>As is my habit, I encapsulate all external system access
    through a <a href="https://martinfowler.com/eaaCatalog/gateway.html">Gateway</a> that I control. The basic
    gateway will just translate the call into whatever is needed for
    the external interaction. To support replaying events I just wrap
    this with a class that logs these queries.</p>

<div id="eventSourcing_externalQueryOD.gif"><p></p><p>Figure 6: Wrapping the
    gateway with a logging gateway to support proper rebuilding from
    events.</p>
</div>



<p>The logging gateway checks each call to see if it has an old
    request that matches this one, if not it makes a new request.</p>

<p>class LoggedPricingGateway...
</p>

<pre>  public Money GetPrice(Cargo cargo) {
    GetPriceRequest oldReq = oldRequest(cargo);
    if (null != oldReq) return (Money) oldReq.Result; 
    else return newRequest(cargo);
  }
</pre>

<p>If the request is a new one, it turns the request into an event
    object, invokes the external query, and stores it in the log.</p>

<p>class LoggedPricingGateway...
</p>

<pre>  private Money newRequest(Cargo cargo) {
    GetPriceRequest request = new GetPriceRequest(cargo);
    request.Result = gateway.GetPrice(cargo);
    log.Store(request);
    return (Money) request.Result;
  }
</pre>

<pre>private class GetPriceRequest : QueryEvent {
  private Cargo cargo;
  public GetPriceRequest(Cargo cargo) : base() {
    this.cargo = cargo;
  }
</pre>

<p>class QueryEvent...
</p>

<pre>  DomainEvent _eventBeingProcessed;
  Object result;
  public QueryEvent() {
    _eventBeingProcessed = Registry.EventProcessor.CurrentEvent;
  }
  public object Result {
    get { return result; }
    set { result = value; }
  }
  public DomainEvent EventBeingProcessed {
    get { return _eventBeingProcessed; }
  }
}
</pre>

<p>So to find an old request, it searches its log.</p>

<p>class LoggedPricingGateway...
</p>

<pre>  private GetPriceRequest oldRequest(Cargo cargo) {
    IList candidates =
      log.FindBy(EventProcessor.CurrentEvent, typeof (GetPriceRequest));
    foreach (GetPriceRequest request in candidates) {
      if (request.Cargo.RegistrationCode == cargo.RegistrationCode)
        return request;
    }
    return null;
  }
</pre>

<p>The query log is generic, so we can issue a query to get a few
    items by using the <a href="https://martinfowler.com/eaaDev/DomainEvent.html">Domain Event</a> that was
    processed and the type of request. This gives us a small set that
    needs further checking in a gateway-specific manner.</p>

<p>The log of requests will need to be persisted in the same way
    as the log of <a href="https://martinfowler.com/eaaDev/DomainEvent.html">Domain Events</a> is
    persisted as it&#39;s needed to rebuild the application state.</p>
</section>
</div>
</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 11:16:50 +0000</pubDate>
      <source>https://martinfowler.com/eaaDev/EventSourcing.html</source>
    </item>
    <item>
      <title>Netflix intensifies VPN ban and targets residential IP addresses</title>
      <link>https://torrentfreak.com/netflix-intensifies-vpn-ban-and-targets-residential-ip-addresses-too-210811/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___torrentfreak_com_netflix-intensifies-vpn-ban-and-targets-residential-ip-addresses-too-210811_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
<p>

<span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to TorrentFreak." href="https://torrentfreak.com"><span property="name">Home</span></a><meta property="position" content="1"/></span> &gt; <span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to the Anti-Piracy category archives." href="https://torrentfreak.com/category/anti-piracy/"><span property="name">Anti-Piracy</span></a><meta property="position" content="2"/></span> &gt; <span></span>
</p>
<p>
<span> </span>
Netflix has stepped up its efforts to ban VPN and proxy users from bypassing geographical restrictions. The streaming service is now blocking residential IP addresses too, since some unblocking tools use these to bypass restrictions. This isn&#39;t without collateral damage as many regular Internet users without a VPN now report &#34;missing content&#34; on Netflix.
</p>
</div><div>
<p>Six years ago, Netflix <a href="https://torrentfreak.com/netflix-cracks-down-on-vpn-and-proxy-pirates-150103/">started blocking</a> customers who tried to access its service over a commercial VPN or proxy service. </p>
<p>These changes came after copyright holders <a href="https://torrentfreak.com/copyright-holders-want-netflix-ban-vpn-users-140917/">repeatedly complained</a> that ‘pirates’ were bypassing Netflix’s geographical restrictions. </p>
<p>The VPN ban caused a lot of frustration for legitimate VPN users, many of whom had no intention of breaking any rules. At the same time, the VPN ‘pirates’ found workarounds by picking services that actively bypass Netflix’s restrictions. </p>
<h2>Bypassing Restrictions</h2>
<p>There are various ways VPN services have managed to circumvent these blocking efforts. Most keep the technical details private, but it’s commonly known that some are using residential IP-addresses as proxies, to make it look like VPN users are regular ISP subscribers. </p>
<p>This cat and mouse game has caused quite a bit of frustration at Netflix headquarters and, over the past few days, the company appears to have intensified its blocking measures. </p>
<p>There is a flurry of complaints on social media from users whose VPN services were suddenly ‘blocked’ by Netflix. Previously, these people couldn’t play any content while using a VPN. That changed last year. Now, VPN users can still see Netflix originals while <a href="https://torrentfreak.com/netflix-is-less-annoying-to-vpn-users-now-but-some-titles-are-hidden-200618/">other content is hidden and blocked</a>.</p>
<p>People who try to access blocked titles directly through a saved URL will see Netflix’s <a href="https://torrentfreak.com/images/netflix-pardon.jpg">dreaded proxy/VPN error message</a> instead. </p>
<h2>Netflix Bans Residential IP-Addresses</h2>
<p>Netflix doesn’t explain which IP addresses are blocked and why, but the most recent efforts are much broader than before. This issue was brought to our attention by <a href="https://torrentfreak.com/best-vpn-anonymous-no-logging/#wevpn">WeVPN</a>, which noticed that the updated geo-fencing system is blocking its residential IP addresses. </p>
<p>These IP addresses are assigned to common consumer ISPs such as AT&amp;T, Comcast, Verizon. While it makes sense for Netflix to put an end to these workarounds, there appears to be some collateral damage.</p>
<p>“The collateral damage is that you have hundreds of thousands of legitimate residential Netflix subscribers blocked from accessing Netflix’s local country full catalog from their home,” a WeVPN spokesperson informs us.</p>
<p>While we are unable to verify how many people are facing issues, it is clear that the measures are spilling over to regular subscribers.</p>
<h2>Complaints Start Pouring In</h2>
<p>TorrentFreak reached out to Netflix for a comment but the company didn’t immediately reply. However, a quick glance on social media shows a disturbing number of Netflix subscribers who are “missing” content, which is exactly what would happen when an IP-address is flagged. </p>
<p>“Hi! I noticed that my account is displaying nothing but Netflix originals and a handful of non-Netflix original content on my TV, but on my phone, it displays everything as usual/normal,” Reddit user <a href="https://www.reddit.com/r/netflix/comments/p26fr6/netflix_glitch/">literarydone observed</a>.</p>
<center></center>
<p>“Idk whats happened but Netflix suddenly stopped showing tv shows that I was watching when my laptop is connected to the internet over wifi. it shows the same tv shows when my laptop is connected to the internet over mobile data hotspot,” <a href="https://www.reddit.com/r/netflix/comments/p1trnt/help_netflix_shows_not_showing_over_but_showing/">another person wrote</a>, with a commenter reporting the same problem. </p>
<center></center>
<p>Over the past 24 hours alone, there were <a href="https://www.reddit.com/r/netflix/comments/p1tiv2/some_titles_suddenly_not_available_in_my_area/">multiple</a> reports <a href="https://www.reddit.com/r/netflix/comments/p1ureb/netflix_switched_all_my_continue_watchings_to/">from people</a> who <a href="https://www.reddit.com/r/netflix/comments/p1h3jp/shows_keep_disappearing_and_reappearing_out_of/">are</a> suffering “<a href="https://www.reddit.com/r/netflix/comments/p0ub9h/netflix_missing_content_fixed/">missing title</a>” issues. None of these appear to use a VPN.</p>
<p>The common theme is that Netflix only shows Netflix originals on their IP address, which is expected when it’s flagged as a VPN or proxy. One Redditor managed to get a new IP-address from his ISP, which immediately resolved the problem.</p>
<h2>“Contact Your ISP…”</h2>
<p>While Netflix hasn’t released an official comment on the situation, the company is aware of the problems. </p>
<p>One user who complained <a href="https://twitter.com/raymond_clum/status/1425333580352393218">on Twitter</a>, got the advice to contact their ISP to see if their IP address is associated with proxy or VPN use. This is a peculiar suggestion, as the blocking is taking place on Netflix’s end.</p>
<center></center>
<p>We don’t know how widespread the problem is but based on the number of complaints we have seen so far it’s certainly not an isolated issue. That begs the question if the VPN banning measures are worth the collateral damage. </p>
<p>Netflix has all the rights to take action against people who bypass their restrictions, but when this harms paying customers who don’t use a VPN, it might not be the best solution.</p>
<p>Meanwhile, VPNs are taking countermeasures to make sure that their customers can access Netflix without restrictions. </p>
<p>WeVPN told us that the company is experimenting with a solution, which appears to function for now. <a href="https://torrentfreak.com/best-vpn-anonymous-no-logging/#cyberghost">CyberGhost</a> and <a href="https://torrentfreak.com/best-vpn-anonymous-no-logging/#pia">Private Internet Access</a>, which were also affected by Netflix’s new blockades, say they managed to route around it within a day. </p>
<p><strong>Update:</strong> A Netflix spokesperson informed us that the company is not banning all content for VPN and proxy services. Netflix originals are still available, as we mentioned. The streaming service is working with people who were inadvertently affected to restore access to the full library.</p>
</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 15:32:21 +0000</pubDate>
      <source>https://torrentfreak.com/netflix-intensifies-vpn-ban-and-targets-residential-ip-addresses-too-210811/</source>
    </item>
    <item>
      <title>Apple Has Opened the Backdoor to Increased Surveillance and Censorship</title>
      <link>https://www.eff.org/deeplinks/2021/08/if-you-build-it-they-will-come-apple-has-opened-backdoor-increased-surveillance</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_eff_org_deeplinks_2021_08_if-you-build-it-they-will-come-apple-has-opened-backdoor-increased-surveillance/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
            <article role="article">
  
  
  <div>
    <div><div><div><p><a href="https://www.eff.org/deeplinks/2021/08/apples-plan-think-different-about-encryption-opens-backdoor-your-private-life"><span>Apple’s new program</span></a><span> for scanning images sent on iMessage steps back from the </span><a href="https://www.apple.com/customer-letter/"><span>company’s prior support</span></a><span> for the privacy and security of encrypted messages. The program, initially limited to the United States, narrows the </span><a href="https://www.eff.org/deeplinks/2019/11/why-adding-client-side-scanning-breaks-end-end-encryption"><span>understanding of end-to-end encryption</span></a><span> to allow for client-side scanning. While Apple aims at the scourge of child exploitation and abuse, the company has created an infrastructure that is all too easy to redirect to greater surveillance and censorship. The program will undermine Apple’s defense that it can’t comply with the broader demands.</span></p>
<p><span>For years, </span><a href="https://www.forbes.com/sites/barrycollins/2020/10/11/mission-impossible-7-countries-tell-facebook-to-break-encryption/?sh=192b28fc3a5a"><span>countries around the world</span></a><span> have asked for access to and control over encrypted messages, asking technology companies to “nerd harder” when faced with the pushback that access to messages in the clear was incompatible with strong encryption. The Apple </span><a href="https://www.apple.com/child-safety/pdf/Expanded_Protections_for_Children_Technology_Summary.pdf"><span>child safety message scanning program</span></a><span> is currently being rolled out only in the United States. </span></p>
<p><span>The United States has not been shy about </span><a href="https://www.eff.org/deeplinks/2021/03/fbi-should-stop-attacking-encryption-and-tell-congress-about-all-encrypted-phones"><span>seeking access</span></a><span> to encrypted communications, pressuring the companies to make it easier to obtain data with warrants and to voluntarily turn over data. However, the U.S. faces serious constitutional issues if it wanted to pass a law that required warrantless screening and reporting of content. Even if conducted by a private party, a search ordered by the government is subject to the Fourth Amendment’s protections. Any “warrant” issued for suspicionless mass surveillance would be an unconstitutional general warrant. As the Ninth Circuit Court of Appeals has </span><a href="https://scholar.google.com/scholar_case?case=9338223232061904003"><span>explained</span></a><span>, &#34;Search warrants . . . are fundamentally offensive to the underlying principles of the Fourth Amendment when they are so bountiful and expansive in their language that they constitute a virtual, all-encompassing dragnet[.]&#34; With this new program, Apple has failed to hold a strong policy line against U.S. laws undermining encryption, but there remains a constitutional backstop to some of the worst excesses. But U.S constitutional protection may not necessarily be replicated in every country.</span></p>
<p><span>Apple is a global company, with phones and computers in use all over the world, and many governments pressure that comes along with that. Apple has </span><a href="https://www.apple.com/child-safety/pdf/Expanded_Protections_for_Children_Frequently_Asked_Questions.pdf"><span>promised</span></a><span> it will refuse government “demands to build and deploy government-mandated changes that degrade the privacy of users.” It is good that Apple says it will not, but this is not nearly as strong a protection as saying it cannot, which could not honestly be said about any system of this type. Moreover, if it implements this change, Apple will need to not just fight for privacy, but win in legislatures and courts around the world. To keep its promise, Apple will have to resist the pressure to expand the iMessage scanning program to new countries, to scan for new types of content and to report outside parent-child relationships.  </span></p>
<p><span>It is no surprise that authoritarian countries demand companies provide access and control to encrypted messages, often the last best hope for dissidents to organize and communicate. For example, </span><a href="https://citizenlab.ca/2020/05/wechat-surveillance-explained/https://citizenlab.ca/2020/05/wechat-surveillance-explained/"><span>Citizen Lab’s research</span></a><span> shows that—right now—China’s unencrypted WeChat service already surveils images and files shared by users, and uses them to train censorship algorithms. “When a message is sent from one WeChat user to another, it passes through a server managed by Tencent (WeChat’s parent company) that detects if the message includes blacklisted keywords before a message is sent to the recipient.” As the Stanford Internet Observatory’s </span><a href="http://cyberlaw.stanford.edu/blog/2020/05/client-side-scanning-and-winnie-pooh-redux-plus-some-thoughts-zoomhttp://cyberlaw.stanford.edu/blog/2020/05/client-side-scanning-and-winnie-pooh-redux-plus-some-thoughts-zoom"><span>Riana Pfefferkorn explains</span></a><span>, this type of technology is a roadmap showing “how a client-side scanning system originally built only for CSAM [Child Sexual Abuse Material] could and would be suborned for censorship and political persecution.” As </span><a href="https://www.nytimes.com/2021/05/17/technology/apple-china-censorship-data.html"><span>Apple has found</span></a><span>, China, with the world’s biggest market, can be hard to refuse. Other countries are not shy about applying extreme pressure on companies, including </span><a href="https://www.wsj.com/articles/india-threatens-jail-for-facebook-whatsapp-and-twitter-employees-11614964542https://www.wsj.com/articles/india-threatens-jail-for-facebook-whatsapp-and-twitter-employees-11614964542"><span>arresting local employees</span></a><span> of the tech companies. </span></p>
<p><span>But many times potent pressure to access encrypted data also comes from democratic countries that strive to uphold the rule of law, at least at first. If companies fail to hold the line in such countries, the changes made to undermine encryption can easily be replicated by countries with weaker democratic institutions and poor human rights records—often using similar legal language, but with different ideas about public order and state security, as well as what constitutes impermissible content, from obscenity to indecency to political speech. This is very dangerous. These countries, with poor human rights records, will nevertheless contend that they are no different. They are sovereign nations, and will see their public-order needs as equally urgent. They will contend that if Apple is providing access to any nation-state under that state’s local laws, Apple must also provide access to other countries, at least, under the same terms.</span></p>
<h3><b>&#39;Five Eyes&#39; Countries Will Seek to Scan Messages </b></h3>
<p><span>For example, the Five Eyes—an alliance of the intelligence services of Canada, New Zealand, Australia, the United Kingdom, and the United States—</span><a href="https://web.archive.org/web/20180925154820/https://www.homeaffairs.gov.au/about/national-security/five-country-ministerial-2018/access-evidence-encryption"><span>warned</span></a><span> in 2018 that they will “pursue technological, enforcement, legislative or other measures to achieve lawful access solutions” if the companies didn’t voluntarily provide access to encrypted messages. More recently, the Five Eyes have </span><a href="https://www.justice.gov/opa/pr/international-statement-end-end-encryption-and-public-safety"><span>pivoted</span></a><span> from terrorism to the prevention of CSAM as the justification, but the demand for unencrypted access remains the same, and the Five Eyes are unlikely to be satisfied without changes to assist terrorism and criminal investigations too.</span></p>
<p><span>The United Kingdom’s Investigatory Powers Act, following through on the Five Eyes’ threat, allows their Secretary of State to issue “</span><a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/672475/TCRs_EM.pdf"><span>technical capacity notices</span></a><span>,” which oblige telecommunications operators to make the technical ability of “providing assistance in giving effect to an interception warrant, equipment interference warrant, or a warrant or authorisation for obtaining communications data.” As the UK Parliament considered the IPA, we </span><a href="http://data.parliament.uk/writtenevidence/committeeevidence.svc/evidencedocument/draft-investigatory-powers-bill-committee/draft-investigatory-powers-bill/written/26370.html"><span>warned</span></a><span> that a “company could be compelled to distribute an update in order to facilitate the execution of an equipment interference warrant, and ordered to refrain from notifying their customers.”</span></p>
<p><span>Under the IPA, the Secretary of State must consider “the technical feasibility of complying with the notice.” But the infrastructure needed to roll out Apple’s proposed changes makes it harder to say that additional surveillance is not technically feasible. With Apple’s new program, we worry that the UK might try to compel an update that would expand the current functionality of the iMessage scanning program, with different algorithmic targets and wider reporting. As the iMessage “communication safety” feature is entirely Apple’s own invention, Apple can all too easily change its own criteria for what will be flagged for reporting. Apple may receive an order to adopt its hash matching program for iPhoto into the message pre-screening. Likewise, the criteria for which accounts will apply this scanning, and where positive hits get reported, are wholly within Apple’s control. </span></p>
<p><span>Australia followed suit with its Assistance and Access Act, which likewise allows for requirements to provide technical assistance and capabilities, with the disturbing potential to undermine encryption. While the Act contains some safeguards, a coalition of civil society organizations, tech companies, and trade associations, including EFF and—wait for it—Apple, </span><a href="https://newamericadotorg.s3.amazonaws.com/documents/Coalition_comments_on_Australia_bill.pdf"><span>explained</span></a><span> that they were insufficient. </span></p>
<p><span>Indeed, in </span><a href="https://www.aph.gov.au/DocumentStore.ashx?id=ecd6be12-ab84-43de-be61-1599e1db2a74&amp;subId=661073&amp;usg=AOvVaw2q2yTnuLs36xm8C3gHGBIQhttps://www.aph.gov.au/DocumentStore.ashx?id=ecd6be12-ab84-43de-be61-1599e1db2a74&amp;subId=661073&amp;usg=AOvVaw2q2yTnuLs36xm8C3gHGBIQ"><span>Apple’s own submission</span></a><span> to the Australian government, Apple warned “the government may seek to compel providers to install or test software or equipment, facilitate access to customer equipment, turn over source code, remove forms of electronic protection, modify characteristics of a service, or substitute a service, among other things.” If only Apple would remember that these very techniques could also be used in an attempt to mandate or change the scope of Apple’s scanning program. </span></p>
<p><span>While Canada has </span><a href="https://citizenlab.ca/2018/05/shining-light-on-encryption-debate-canadian-field-guide/https://citizenlab.ca/2018/05/shining-light-on-encryption-debate-canadian-field-guide/"><span>yet to adopt</span></a><span> an explicit requirement for plain text access, the Canadian government is actively pursuing filtering obligations for </span><a href="https://www.eff.org/deeplinks/2021/08/o-no-canada-fast-moving-proposal-creates-filtering-blocking-and-reporting-rules-1"><span>various online platforms</span></a><span>, which raise the spectre of a more aggressive set of obligations targeting private messaging applications. </span></p>
<h3><b>Censorship Regimes Are In Place And Ready to Go</b></h3>
<p><span>For the Five Eyes, the ask is mostly for surveillance capabilities, but India and Indonesia are already down the slippery slope to content censorship. The Indian government’s new Intermediary Guidelines and Digital Media Ethics Code (“</span><a href="https://egazette.nic.in/WriteReadData/2021/225464.pdf"><span>2021 Rules</span></a><span>”), in effect earlier this year, directly </span><a href="https://www.eff.org/deeplinks/2021/07/indias-draconian-rules-internet-platforms-threaten-user-privacy-and-undermine"><span>imposes dangerous requirements</span></a><span> for platforms to pre-screen content. Rule 4(4) compels content filtering, requiring that providers “endeavor to deploy technology-based measures,” including automated tools or other mechanisms, to “proactively identify information” that has been forbidden under the Rules. </span></p>
<p><span>India’s </span><a href="https://pib.gov.in/PressReleasePage.aspx?PRID=1728738"><span>defense of the 2021 rules</span></a><span>, written in response to the criticism from </span><a href="https://spcommreports.ohchr.org/TMResultsBase/DownLoadPublicCommunicationFile?gId=26385"><span>three UN Special Rapporteurs</span></a><span>, was to highlight the very real dangers to children, and skips over the much broader mandate of the scanning and censorship rules. The 2021 Rules impose proactive and automatic enforcement of its content takedown provisions, requiring the proactive blocking of material previously held to be forbidden under Indian law. These laws broadly include those protecting “the sovereignty and integrity of India; security of the State; friendly relations with foreign States; public order; decency or morality.” This is no hypothetical slippery slope—it’s not hard to see how this language could be dangerous to freedom of expression and political dissent. Indeed, India’s track record on its </span><a href="https://www.indiacode.nic.in/handle/123456789/1470"><span>Unlawful Activities Prevention Act</span></a><span>, which has </span><a href="https://www.nytimes.com/2021/07/05/world/asia/india-jailed-priest-dies.html"><span>reportedly been used</span></a><span> to arrest academics, writers and poets for leading rallies and posting political messages on social media, highlight this danger.</span></p>
<p><span>It would be no surprise if India claimed that Apple’s scanning program was a great start towards compliance, with a few more tweaks needed to address the 2021 Rules’ wider mandate. Apple has promised to protest any expansion, and could argue in court, as </span><a href="https://www.forbesindia.com/media/supplement_pdf/WhatsApp_Petition.pdf"><span>WhatsApp</span></a><span> and others have, that the 2021 Rules should be struck down, or that Apple does not fit the definition of a social media intermediary regulated under these 2021 Rules. But the Indian rules illustrate both the governmental desire and the legal backing for pre-screening encrypted content, and Apple’s changes makes it all the easier to slip into this dystopia.</span></p>
<p><span>This is, unfortunately, an ever-growing trend. Indonesia, too, has adopted </span><a href="https://jdih.kominfo.go.id/produk_hukum/view/id/759/t/peraturan+menteri+komunikasi+dan+informatika+nomor+5+tahun+2020"><span>Ministerial Regulation MR5</span></a><span> to require service providers (including “instant messaging” providers) to “ensure” that their </span><a href="https://www.eff.org/deeplinks/2021/02/indonesias-proposed-online-intermediary-regulation-may-be-most-repressive-yet"><span>system</span></a><span> “does not contain any prohibited [information]; and [...] does not facilitate the dissemination of prohibited [information]”. </span><span>MR5 defines prohibited information as anything that violates any provision of Indonesia’s laws and regulations, or creates “community anxiety” or “disturbance in public order.” MR5 also imposes disproportionate sanctions, including a general blocking of systems for those who fail to ensure there is no prohibited content and information in their systems. Indonesia may also see the iMessage scanning functionality as a tool for compliance with Regulation MR5, and pressure Apple to adopt a broader and more invasive version in their country.</span></p>
<h3><b>Pressure Will Grow</b></h3>
<p><span>The pressure to expand Apple’s program to more countries and more types of content will only continue. In fall of 2020, in the European Union, a series of leaked documents from the European Commission </span><a href="https://www.eff.org/deeplinks/2020/10/orders-top-eus-timetable-dismantling-end-end-encryption"><span>foreshadowed</span></a><span> an anti-encryption law to the European Parliament, perhaps this year. Fortunately, there is a backstop in the EU. Under the e-commerce directive, </span><span>EU Member States are not allowed to impose a general obligation to monitor the information that users transmit or store, as stated in the Article 15 of the e-Commerce Directive (2000/31/EC). Indeed, the </span><span>Court of Justice of the European Union (</span><span>CJEU) </span><a href="https://edri.org/our-work/sabam_netlog_win/"><span>has stated</span></a> <a href="https://edri.org/our-work/scarlet_sabam_win/"><span>explicitly</span></a><span> that intermediaries may not be obliged to monitor their services in a general manner in order to detect and prevent illegal activity of their users. Such an obligation will be incompatible with fairness and proportionality. </span><span>Despite this, in a </span><a href="https://www.politico.eu/wp-content/uploads/2020/09/SKM_C45820090717470-1_new.pdf"><span>leaked internal document</span></a><span> published by Politico, the European Commission committed itself to an action plan for mandatory detection of CSAM by relevant online service providers (expected in December 2021) that pointed to client-side scanning as the solution, which can potentially apply to secure private messaging apps, and seizing upon the notion that it preserves the protection of end-to-end encryption.</span></p>
<p><span>For governmental policymakers who have been urging companies to nerd harder, wordsmithing harder is just as good. The end result of access to unencrypted communication is the goal, and if that can be achieved in a way that arguably leaves a more narrowly defined end-to-end encryption in place, all the better for them.</span></p>
<p><span>All it would take to widen the narrow backdoor that Apple is building is an expansion of the machine learning parameters to look for additional types of content, the adoption of the iPhoto hash matching to iMessage, or a tweak of the configuration flags to scan, not just children’s, but anyone’s accounts. Apple has a fully built system just waiting for external pressure to make the necessary changes. China and doubtless other countries already have hashes and content classifiers to identify messages impermissible under their laws, even if they are protected by international human rights law. The abuse cases are easy to imagine: governments that outlaw homosexuality might require a classifier to be trained to restrict apparent LGBTQ+ content, or an authoritarian regime might demand a classifier able to spot popular satirical images or protest flyers.</span></p>
<p><span>Now that Apple has built it, they will come. With good intentions, Apple has ​​paved the road to mandated security weakness around the world, enabling and reinforcing the arguments that, should the intentions be good enough, scanning through your personal life and private communications is acceptable. We urge Apple to reconsider and return to the mantra Apple so memorably </span><a href="https://www.macobserver.com/cool-stuff-found/apple-ces-what-happens-your-iphone-stays-your-iphone/"><span>emblazoned on a billboard</span></a><span> at 2019’s CES conference in Las Vegas: What happens on your iPhone, stays on your iPhone.</span></p>

</div></div></div>  </div>

          </article>
    </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 23:58:18 +0000</pubDate>
      <source>https://www.eff.org/deeplinks/2021/08/if-you-build-it-they-will-come-apple-has-opened-backdoor-increased-surveillance</source>
    </item>
    <item>
      <title>Dancoland, Part 2: Just-So Stories</title>
      <link>https://danco.substack.com/p/dancoland-part-2-just-so-stories</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___danco_substack_com_p_dancoland-part-2-just-so-stories/image.jpg" /> 
<div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff46006b8-5f6b-42b2-bd25-ca432ae94310_1754x426.png"></a></figure></div><p><em>Welcome back to Dancoland. If you missed <a href="https://danco.substack.com/p/dancoland-part-one">part one last week</a>, read that first. </em></p><p><strong>Teacher: Ok, let’s examine some of those things you told me about your village. I’d love to see what assumptions are behind them. </strong></p><p>Student: Okay, so like I said. When I look at all of these building blocks of what I know - how fast we walk, how we farm our food, and how big our village is - I see some pretty clear cause-and-effect relationships. A) this is how fast we walk, leads to B) how far out we can reach each day, leads to C) how large a harvest we can collect, leads to D) how large a village we can support. If it gets any bigger, we go hungry. Pretty clear to me. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5d299239-396f-4a37-aace-28fe570b8078_1084x736.png"></a></figure></div><p><strong>Teacher: Thank you for helping me see your thought process. You’re certainly more familiar with your village and your farming than I am. But I’m skeptical that this system actually works the way you’ve presented it. I have a strong suspicion that you’ve told me a </strong><em><strong>just-so story. </strong></em></p><p>Student: What’s a just-so story? </p><p><strong>Teacher: Whenever you hear an explanation for why a system works the way it does, with a neat, tidy conclusion, and you hear an answer that goes, “because it is </strong><em><strong>just so</strong></em><strong>.” </strong></p><p><strong>As an example, you may have wondered: why do Giraffes have such long necks? If someone told you, “because that’s precisely how high the leaves on the savannah trees are”, that is in fact a correct observation. But you ought to be suspicious of any kind of cause-and-effect conclusion you draw from that. Both the giraffes and the trees live inside a system. Same with your village: your crops, your harvest, and your villagers all exist inside a system. </strong></p><p>Student: I’ll certainly agree with that. There are lots of factors in my village that go into the details of how we farm. I’ve learned about them over the course of my life. But I don’t see what’s in conflict with my cause-and-effect conclusion I laid out for you. </p><p><strong>Teacher: Maybe I can show you something. How about we redraw our food system, except instead of focusing on causes and effects, first we start with something simple: what’s </strong><em><strong>flowing</strong></em><strong> through the system. </strong></p><p><strong>Let’s zoom out and ask: what is the basic thing that flows all the way through the system, from the beginning to the end?</strong></p><p>Student: I’d say it’s <em>nutrients</em>. At the very beginning, energy and nutrients exist out in the world. And at the very end, they’re consumed by our metabolism. That’s the biggest picture I can think of, anyway. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9ee72361-31c5-4fbf-8044-fae5995139b4_1546x674.png"></a></figure></div><p><strong>Teacher: Very good. I think that’s correct. We don’t need to worry about how the nutrients got into our environment; and we don’t really need to worry about what happens after we burn them as calories. So let’s draw those as clouds at either end of our system, with a pipe that flows from one end to the other. This is our starting point. </strong></p><p>Student: Sure they do. I can think of at least two places. First, they accumulate in plants, in our crop yield that grows every season. And then after we harvest them, they sit around, before we steadily consume them. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F1c4362d1-2d36-4945-b949-98cc600c3ad2_1600x614.png"></a></figure></div><p><strong>Teacher: Looks good to me. These two components you’ve drawn here have names - </strong><em><strong>flows</strong></em><strong>, which flow at a certain rate, and </strong><em><strong>stocks</strong></em><strong>, which accumulate in a certain size. Stocks and flows are the basis for good system thinking. So we’re making progress.</strong></p><p><em><strong>Now</strong></em><strong> why don’t we add in those variables we talked about before - our walking speed, and our village size - and let’s see where they land. </strong></p><p>Student: OK. So, as I said before, our walking speed influences how far out from our village we can cover. So let’s draw that in. And our area covered matters, because our area times our crop yield equals our potential harvest.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F6ea89853-a5d0-4aa4-9785-a71e1a098185_1600x858.png"></a></figure></div><p>The other thing we’ve got to include here is our village size. Our village size affects the rate at which we can harvest our crops, and the rate at which we eat them. </p><p>And now we’re back to my point I was making earlier. Our walking speed affects our coverage area. That affects our harvest. And our harvest size affects our villager population. </p><p><strong>Teacher: Again, I’m not challenging your claim that these factors are related to each other in some way. But what I </strong><em><strong>am</strong></em><strong> challenging is the idea of it being a fixed cause-and-effect relationship. </strong></p><p><strong>How about I ask you a different question. If your walking speed and coverage area is so critical to your well-being, why don’t you do something about it? For example, why don’t you have horses in your village that help you move around faster?</strong></p><p>Student: That’s a great question. We’ve actually thought about this a lot. Let me show you by drawing it out in our system. </p><p>If we added horses to our village, they would increase our coverage area. But they also eat food; way more than a person does. We’ve done the math on this: adding horses to our village, even if it increases our crop coverage area, wouldn’t actually increase the population size we could support. Without enough food, it puts pressure on our village population, or our horses, or both.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff78d66a7-cfac-4d9e-8222-5a859f47933b_1600x907.png"></a></figure></div><p><strong>Teacher: I’d like to highlight something important you’ve drawn here, which are these dotted lines looping back that keep the villager and horse populations in check. I’m glad to see you include this: this is </strong><em><strong>negative feedback. </strong></em><strong>It’s how systems find a steady state, and remain there consistently. </strong></p><p><strong>In this case, the negative feedback loops keep the horse population at zero. And that matches with your real life experience, which is that the village doesn’t have any horses - and from what you’re telling me, has no interest in getting any. </strong></p><p>Student: That’s right. Horses consume more net harvest than they create, so they don’t make sense. </p><p><strong>Teacher: Let me challenge you here. Remember when we met the nomads? They had a lot of horses. Any idea why?</strong></p><p>Student: They did, that’s true. I guess they live in a different environment than we do. We’re in the fertile valley, whereas they’re up on the steppe where it’s cold and plants don’t grow very fast. So the rate of nutrients flowing into crops is much slower. Let’s draw that in. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c0f0e5e-a12d-48b9-acb1-9aa0a82b24b7_1600x948.png"></a></figure></div><p>Aha, I see it now. Since the nomads are in a harsh environment, their crop yield per acre is lower than ours, so they need a bigger coverage area to get any harvest at all. So they <em>have</em> to have horses. And although that doesn’t leave much food left over for a large village, they at least get to eat something. Their system is different than ours; and they’ve found a different steady state. </p><p><strong>Teacher: So what does this tell you about the relationship between your walking speed and your village size?</strong></p><p>Student: I see what you meant before about it being a “just-so story”. It’s not a cause-and-effect relationship like I’d believed before. The system is circular; it doesn’t start or end anywhere. But what matters is that we’ve found a steady state for our food system, and the nomads have found a totally different steady state for theirs. And when we saw the big bustling city, they had their own steady state too; that supported way more people, and I’m sure worked quite differently than either of ours. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9573125a-331e-4863-897c-30906dd1383d_1068x620.png"></a></figure></div><p><strong>Teacher: Let me ask you something. You’re using this word, “steady state”, that’s an important concept. Why are these systems stable?</strong> </p><p>Student: Well… at least for us, our system is stable because we’ve always got to eat. If we stopped eating, then this whole system would go away and eventually be forgotten. Our food system persists because it’s never at rest. There’s always flow going through the system, because we’re always hungry. Same goes for the nomads, or anyone. </p><p><strong>Teacher: You’re a quick learner. That’s exactly right. These systems are stable and orderly, year after year, </strong><em><strong>not</strong></em><strong> because they’re at rest - but because they’re continuously flowing. This is an important foundational concept: </strong><em><strong>order emerges in the steady-states of non-equilibrium systems. </strong></em></p><p>Student: Order emerges... in the steady-states... of non-equilibrium systems. I think I get it. The driving purpose of our orderly food system, with its predictable flows and stocks, is that <em>we always have to keep eating</em>. The fact that our system is <em>out</em> of equilibrium is <em>why it’s stable</em>. That’s counterintuitive. But it makes deep sense to me. </p><p><strong>Teacher: That’s why it’s so important we started our system diagram with those two clouds on either end - the nutrients on one side, and the metabolism on the other side. If those didn’t exist, and our system were completely closed, then eventually it would find some equilibrium point, and stop flowing. And, especially when it comes to metabolism, you don’t want to be at equilibrium. That means you’re dead.</strong></p><p>Student: But hold on. Some things must be stable and at rest, though. Like, what about this big building that the city market is in? That’s pretty inert. It’s not part of some living system; it’s just a building made of bricks. It sits there. </p><p><strong>Teacher: Are you sure? Why did it get built? Who takes care of it? Why has its identity remained consistent over time? Why do people keep coming back to it every day to market their food, with consistent purpose, for so many years?</strong></p><p>Student: Got it. So if the building were <em>actually</em> at rest, it would be ignored, and would eventually crumble into dirt. But it’s not at rest. The building is stable because people <em>actively</em> maintain it; because it has a <em>purpose</em>. It’s part of a system that keeps flowing, called “the food market”, which is the people who are motivated to keep going there, and keep rebuilding it, and keep it in a consistent steady state and consistent identity for years and years. </p><p>And when we look at really big systems that seem so consistent, like the sun always rises every morning; that’s pretty consistent everywhere. But that’s just a big, old system we’re all inside, that’s in a really reliable steady state. That’s why it’s so predictable to us. </p><p><strong>Teacher: You’re absolutely right. </strong></p><p>Student: I just realized something. The first time you showed me the great big world, I thought you were teaching me that I was thinking small and I needed to think big. I felt like I was small and silly for only seeing my little boxes, and that by learning the laws of the universe I became wiser and enlightened. Now I realize that this wasn’t really your lesson at all, was it. </p><p><strong>Teacher: That’s right. </strong></p><p>Student: What you were actually showing me, by revealing all of the different people and places and practices out in the world, is how many different systems there are, and how differently systems can organize themselves, yet still be in equally valid and happy steady states. </p><p>So it’s not like ‘inside the box you’re dumb and outside the box you’re smart’. There are actually an infinite number of different boxes and arrangements and possible systems that could emerge in the world. </p><p>The point of exploring them is to understand their diversity, and the infinite number of different ways they can find steady states, not some deterministic laws of cause and effect. And when you bring along all of your backpack of knowledge, full of experience from systems you already know, and then explore a new one, you gain some remarkable new perspectives. </p><p><strong>Teacher: It’s a real gift, isn’t it. Once you see it that way, the whole world opens up as a place of infinite possibility, rather than defined boundaries.</strong></p><p>Student: Yep. But there’s something I don’t understand yet. And that’s why you showed me the bugs. </p><p><em>Come back next week, when we’re going to talk about the bugs. </em></p><p>Before we go, here’s our Tweet Caption Contest for this week:</p><p>Congrats to Max T. from Seattle, for his winning submission:</p><p>“I am the Lorax, and I speak for the trees.” </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F78b654c4-3e59-411f-9d39-e516f8a766ba_954x820.png"></a></figure></div><p>Our current finalists, for your voting consideration:</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F41e04d3a-d37a-4359-846e-de4f34fd81a4_976x1168.png"></a></figure></div><p>“This is a finally balanced, self-regulating and adaptive ecosystem.” -Beevis, from North America</p><p>“Fish stocks only go up.” - Reid C., from Palo Alto</p><p>“I told you to wear a mask!” -sanc909, from the UK</p><p data-attrs="{&#34;url&#34;:&#34;https://docs.google.com/forms/d/e/1FAIpQLSfgggX0BwotHBZ9EvAP7vcZsX39kYa0OvRcjfVME7hv-3N-5Q/viewform?usp=sf_link&#34;,&#34;text&#34;:&#34;Vote here&#34;,&#34;class&#34;:null}"><a href="https://docs.google.com/forms/d/e/1FAIpQLSfgggX0BwotHBZ9EvAP7vcZsX39kYa0OvRcjfVME7hv-3N-5Q/viewform?usp=sf_link"><span>Vote here</span></a></p><p>And finally, here’s this weeks’s tweet, awaiting your submissions:</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F207df7bd-1cf5-4db8-9ef5-825c6e4bcee5_958x700.png"></a></figure></div><p data-attrs="{&#34;url&#34;:&#34;https://docs.google.com/forms/d/e/1FAIpQLSfgggX0BwotHBZ9EvAP7vcZsX39kYa0OvRcjfVME7hv-3N-5Q/viewform?usp=sf_link&#34;,&#34;text&#34;:&#34;Submit Caption&#34;,&#34;class&#34;:null}"><a href="https://docs.google.com/forms/d/e/1FAIpQLSfgggX0BwotHBZ9EvAP7vcZsX39kYa0OvRcjfVME7hv-3N-5Q/viewform?usp=sf_link"><span>Submit Caption</span></a></p><p>You can vote and submit your responses <a href="https://docs.google.com/forms/d/e/1FAIpQLSfgggX0BwotHBZ9EvAP7vcZsX39kYa0OvRcjfVME7hv-3N-5Q/viewform?usp=sf_link">here</a>. </p><p>Have a great week, </p><p>Alex</p></div></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 12:09:58 +0000</pubDate>
      <source>https://danco.substack.com/p/dancoland-part-2-just-so-stories</source>
    </item>
    <item>
      <title>“Raiders of the Lost Ark” Story Conference Transcript (1978)</title>
      <link>https://nloewen.com/docs/lucas-spielberg-kasdan--raiders-of-the-lost-ark-story-conference/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div id="_idContainer001">
			<p>Tape One, Side A</p>
			<p>G  We’ll just talk general ideas, what the concept of it was. Then I’ll get down to going specifically through the story. Then we will actually get to where we can start talking down scenes, in the end I want to end up with a list of scenes. And the way I work generally is I figure a code, a general measuring stick parameter. I can either come up with thirty scenes or sixty scenes depending on which scale you want to work on. A thirty scene thing means that each scene is going to be around four pages long. A sixty one means that every scene is going to run twenty pages long. <span>(</span>?<span>)</span> It depends on, part of it is the... <span>(</span>short gap in the tape<span>)</span> knock some of these out, and this doesn’t work out the way we thought it would. You can move things around, but it generally gives you an idea, assuming that what we really want at the end of all this is a hundred and twenty page script, or less. But that’s where we really want to go. Then we figure out vaguely what the pace of, how fast it’s going to move and how we’re going to do it. I have a tendency to work rather mathematically about all this stuff. I found it easier and it does lay things out. Especially a thing like this. The basic premise is that it’s sort of a serialesque kind of movie. Meaning that there are certain things that have to continue to happen. It’s also basically an action piece, for the most part. We want to keep things interspaced and at the same time build it. As I build this up, you’ll see it’s done vaguely by the numbers. Generally, the concept is a serial idea. Done like the Republic serials. As a thirties serial. Which is where a lot of stuff comes from anyway. One of the main ideas was to have, depending on whether it would be every ten minutes or every twenty minutes, a sort of a cliffhanger situation that we get our hero into. If it’s every ten minutes we do it twelve times. I think that may be a little much. Six times is plenty.</p>
			<p>S  And each cliffhanger is better than the one before.</p>
			<p>G  That is the progression we have to do. It’s hard to come up with. The trouble with cliff hangers is, you get somebody into something, you sort have to get them out in a plausible way. A believable way, anyway. That’s another important concept of the movie — that it be totally believable. It’s a spaghetti western, only it takes place in the thirties. Or it’s James Bond and it takes place in the thirties. Except James Bond tends to get a little outrageous at times. We’re going to take the unrealistic side of it off, and make it more like the Clint Eastwood westerns. The thing with this is, we want to make a very believable character. We want him to be extremely good at what he does, as is the Clint Eastwood character or the James Bond character. James Bond and the man with no name were very good at what they did. They were very, fast with a gun, they were very slick, they were very professional. They were Supermen.</p>
			<p>S  Like Mifune.</p>
			<p>G  Yes, like Mifune. He’s a real professional. He’s really good. And that is the key to the whole thing. That’s something you don’t see that much anymore.</p>
			<p>S  And one of the things that really helped Mifune in all the Kurosawa movies is that he was always surrounded by really inept characters, real silly buffoons, which made him so much more majestic. If there are occasions where he comes up against, not the arch- villain, but the people around him shouldn’t be the smartest...</p>
			<p>G  Well, they shouldn’t be buffoons. The one thing we’re going to do is make a very good period piece, that is realistic and believable. A thirties movie in the, even in the Sam Spade genre. Even in the Maltese Falcon there were some pretty goofy characters, but they were all pretty real in their own bizarre way.</p>
			<p>S  Elijah Cook.</p>
			<p>G  Elijah Cook might not have been the brightest person in the world. In a way he was the buffoon of the piece, but at the same time he was very dangerous and he was very... They were strong characters. If we keep it that mode of believability...</p>
			<p>S  It’s just like you don’t put Lee Van Cleef as an accomplice to... <span>(</span>garbled<span>)</span></p>
			<p>G  No, you put Eli Wallach. Did you see “The Good, The Bad And the Ugly”? The Eli Wallach character is a goofy character, but at the same time he’s very dangerous and he’s very funny and he’s ... We can have that kind of thing. The main thing is for him to be a super hero in the best sense of the word, which is John Wayne, Clint Eastwood, Sean Connery tradition of a man who we can all look up to and say, “Now there’s somebody who really knows his job. He’s really good at what he does and he’s a very dangerous person. But at the same time we’re putting him in the kind of Bogart mold, like “Treasure of Sierra Madre” or...</p>
			<p>S  Or even the Clark Gable thing we talked about.</p>
			<p>G  Yeah, the Clark Gable mold. The fact that he is slightly scruffy. You don’t know it until it happens. Now, several aspects that we’ve discussed before: The image of him which is the strongest image is the “Treasure Of Sierra Madre” outfit, which is the khaki pants, he’s got the leather jacket, that sort of felt hat, and the pistol and holster with a World War One sort of flap over it. He’s going into the jungle carrying his gun. The other thing we’ve added to him, which may be fun, is a bull whip. That’s really his trade mark. That’s really what he’s good at. He has a pistol, and he’s probably very good at that, but at the same time he happens to be very good with a bull whip. It’s really more of a hobby than anything else. Maybe he came from Montana, someplace, and he... There are freaks who love bull whips. They just do it all the time. It’s a device that hasn’t been used in a long time.</p>
			<p>S  You can knock somebody’ s belt off and the guys pants fall down.</p>
			<p>G  You can swing over things, you can...there are so many things you can do with it. I thought he carried it rolled up. It’s like a Samurai sword. He carries it back there and you don’t even notice it. That way it’s not in the way or anything. It’s just there whenever he wants it.</p>
			<p> S  At some point in the movie he must use it to get a girl back who’s walking out of the room. Wrap her up and she twirls as he pulls her back. She spins into his arms. You have to use it for more things than just saving himself.</p>
			<p>G  We’ll have to work that part out. In a way it’s important that it be a dangerous weapon. It looks sort of like a snake that’s coiled up behind him, and any time it strikes it’s a real threat.</p>
			<p>L  Except there has to be that moment when he’s alone with a can of beer and he just whips it to him.</p>
			<p>G  That’s the sort of gung-ho side of the character, which is, if we make him sort of Super Samurai Warrior, meaning that he is Just incredibly good with a bull whip and incredibly good with a gun. He’s a dead-eye shot. He’s got the wrong kind of holster for a quick draw, but we can always have him be a semi... we’re not going to use the quick draw aspects of it, but he should be very fast and very quick. Maybe even, this has to do with the other part of this character, but I was thinking of Kung-Fu, Karate. But I don’t want to load him up too much. The reason I was doing this “is that his character is international. He’s the guy who’s been all around the world. He’s a soldier of fortune. He is also... Well, this gets into that other side of his character, which is totally alien to that side we just talked about. Essentially, I think he is a, and this was the original character and it’s an interesting juxtaposition. He is an archeologist and an anthropologist. A Ph.D. He’s a doctor, he’s a college professor. What happened is, he’s also a sort of rough and tumble guy. But he got involved in going in and getting antiquities. Sort of searching out antiquities. And it became a very lucrative profession so he, rather than be an archeologist, he became sort of an outlaw archeologist. He really started being a grave robber, for hire, is what it really came down to. And the museums would hire him to steal things out of tombs and stuff. Or, locate them. In the archeology circles he knows everybody, so he’s sort of like a private detective grave robber. A museum will give him an assignment... A bounty hunter.</p>
			<p>S  If there were these Arabs who just discovered some great king’s tomb, and you see the tomb being taken out. And there are about twenty or thirty Arabs heavily armed, and like five trucks and you realize...there’s this one guy who’s all painted, and he’s one of the pall bearers who slips a thing into the back of the truck, gets behind the wheel and as the caravan is going to turn right, this one thing goes left. And the rest chase him, but he gets away.</p>
			<p>G  The thing is, if there is an object of antiquity, that a museum knows about that may be missing, or they know it’s somewhere. He can go like an archeologist, but it’s like rather than doing research, he goes in to get the gold. He doesn’t really go to find cheap artifacts, he goes to gather stuff. And the other thing is, if something was taken from a tomb, stolen and sort of in the underground, sometimes they may send him out to get it. Essentially he’s a bounty hunter. He’s a bounty hunter of antiquities is what it comes down to. If a museum says that there is this famous vase that we know exists, it was in this tomb at this time. It may still be there, but we doubt it. We think maybe it’s on the underground market, or in a private collection. We’d like to have it. Actually it belongs to us. We’re the National Museum of Cairo or something. He says okay and he tracks it down. If it’s not in the thing, he finds it, finds out who’s got it. And he swipes it back.</p>
			<p>A lot of times it’s sort of legal. All he has to do is get it. It’s not like he steals things from collectors, and then gives them to other collectors. What he does is steal things from private collectors who have them illegally, and gives them back to the national museums and stuff. Or, being that his morality isn’t all that good, he will go into the actual grave and steal it out of the country and give it to the museum. It’s a sort of quasi-ethical side of that whole thing. The museum does commission somebody to go into the pyramids and you know, whatever they find, sort of get out without the Egyptian government knowing, because they were in the process of turmoil and nobody’s going to know anyway and there’s not going to be any official protest, so just do it. Anything that’s quasi-legal, or amorphous, he’ll do. He’s not a totally corrupt person, where he’ll steal. But if it’s sort of fair game, then he comes in. As a result he’s essentially an anthropologist and an archeologist. He is a professor. He knows antiquities. So nobody can pawn off a fake on him. He understands all that stuff. But he really got the adventure bug and and he just kept doing it. And it was good money. He gets a big commission on the stuff, a big bounty. So he just got into this crazy business. Now, on top of that, I have added, I thought it would be interesting to have him be a sort of expert in the occult, as an offshoot of the anthropological side of this thing. He has a tendency to get into situations where there are taboos, voodoos, things, especially when you start dealing with pyramids you get into all that. So he sort of studies it because he’s gotten mixed up with it. A study of ancient religions and voodoo and all that kind of stuff. He’s a guy who sort of checks out ghosts and psychic phenomenon in connection with the kind of things he does. He’s a sort of archeological exorcist. When somebody has a haunted house, or a haunted temple, and nobody will go near it, he is the one who will go in there and do it, and he has dealt with... Assuming that he believes in the supernatural because he deals with it, he is the one they send into the haunted house. Like one of these haunted house professors who try and figure out why a house is haunted. He does that. He gets involved with sacred temples and curses and all that stuff. And actually some were real, he came across some real curses and stuff. He said hey, this is really interesting. A lot of the times they are hoaxes. And he can figure it out. This is just a general history of where he comes from. People will use the pharaohs or a curse, and something will happen. People will walk through this particular temple and they will die twenty-four hours later. Nobody knows why. The curse of Mabutu is on that place. Well, he looks at it and sees that there’s a fissure in the thing and there’s a deadly gas that’s coming out of the ground. Because he’s an intelligent professor, he knows his science and he can sort of deduce a hoax. There was a comic book a long time ago about a guy who did nothing but show up hoaxes. It was like Ripley’s Believe It Or Not. They would send things to this guy. They would send him eight-legged dogs and stuff. It was like a TV show. If you couldn’t figure out how the hoax was done then it would be on the show. It was all him trying to show these complicated ways that people come up with hoaxes. That was just a side light. When he confronts his antiquities and stuff, half the time he’s dealing with hoaxes. Not only hoaxes in terms of taboos and things, but also hoaxes in terms of the antiquities. They send him out to get them, but they also send him out to deal with the supernatural.</p>
			<p>L  Some of the hoaxes may have been set up by the natives.</p>
			<p>G  Yeah. They may be an original native thing, or it might be some shyster in town who thinks he’s going to pull a fast one on somebody, for various reasons. It’s a millieu I’ve created for this guy that I think is interesting because it also makes him somewhat of a ghost chaser in his own way. I don’t know actually how much of that aspect of it will fit into the script. It’s something I’ve added to the character.</p>
			<p>L  He’s bound to run into those kind of things.</p>
			<p>G  Yes. The thing is, if he is an intelligent sort of professor who has experience with the occult and that kind of thing, then he not only is not afraid to stand up against any man, but he’s also not afraid to stand up against the unknown.</p>
			<p>L  If he walks into a cave and he adds a yellow slash to a symbol, you don’t have to say too much about how he found that out, you know.</p>
			<p>G  We’ve established that he’s a college professor. It doesn’t have to be done in a strong way. It starts out in a museum. They just call him doctor this and doctor that. We can very easily make that transition, and very quickly establish that whole side of his character. In the story the ramifications of him as a ghost hunter have not been dealt with yet. But I put it in his character for use in some other way.</p>
			<p>L  <span>(</span>I can’t understand what he is saying here, something about a sword and a basket.<span>)</span> It seems like it would be nice if, once stripped of his bullwhip, left him weak, if we had to worry. Just a little worried about him being too...</p>
			<p>G  That was what I thought. That’s why I was sort of iffy about throwing it in. If we don’t make him vulnerable...</p>
			<p>S  What’s he afraid of? He’s got to be afraid of something.</p>
			<p>G  If we don’t make him vulnerable, he’s got no problems. We’ll shut that idea for now. The other thing, which is like the Kung-Fu and the ghost thing, which given the plot and the way it’s working, there’s not really time to cope with it in an interesting way. It’s a nice aspect of this thing, might be able to deal with it, might not. It’s not really that important. It’s the same thing with the Kung-Fu. We might be stacking too much into his character that is not necessary. Just the fact that he’s good with a bullwhip is going to be fun enough. You could fill a script. In one way it’s better to keep it clean.</p>
			<p>S  As long as he has brains. He should be able to talk his way out of things. </p>
			<p>L  I think that would be his first choice.</p>
			<p>G  Right.</p>
			<p>S  The guy should be a great gambler, too.</p>
			<p>G  The thing of it is, I think it’s good if we delineate a fairly clean personality so that it doesn’t become too confused.</p>
			<p>L  Assume there’s an archeologist who’s spent years studying this, he might have some kind of awe and respect for virgin tombs. This guy has obviously gone past that into, “I can make a good living out of this.” what’s his stance on this? Does it bother him to go in and...</p>
			<p>G  I think basically he’s very cynical about the whole thing. Maybe he thinks that most archeologists are just full of shit, and that somebody’s going to rip this stuff off anyway. Better that he rips it off and gets it to a museum where people, can study it, and rip it off right. That’s the key also. He knows how to enter a tomb without destroying it. He knows what’s important. He knows not to go in there like a bull in a china shop, and destroy half the stuff that’s valuable.</p>
			<p>S  He should have a mentor in this. Somebody you never see, but he refers to from time to time, somebody you want to see. The man who taught him everything. The man who gave him whatever power he has now. Maybe some supreme archeologist who’s maybe ninety years old like Max Von Sydow, and is dying now. So you know it didn’t start with this guy. There are other greater predecessors around of this sort.</p>
			<p>L  Is it necessary that he really be trained?</p>
			<p>G  It’s not absolutely necessary. I just thought it would be amusing if people could call him a doctor.</p>
			<p>S  I like that. The doctor with the bullwhip.</p>
			<p>G  It’s such an odd juxtaposition, especially going around. The first sequence is in the jungle and you see him in action. You see him going through the whole thing. And the next sequence after that you see him back in Washington or New York, back in the museum. Where he’s in a totally academic thing, turning over this thing that he’s got. Then in the rest of the movie you see him back in his bullwhip mode. You understand that there’s more to him. Plus, it justifies later things that he... the fact that he’s sort of an intelligent guy. Peter Falk is one way of looking at him, a Humphrey Bogart character. The fact that he’s sort of scruffy and, not the right image, but...</p>
			<p>S  Peter’s too scruffy.</p>
			<p>G  Yes. We’ll figure a way of laying that out in his personality so it’s easily identifiable.</p>
			<p>S  Remember the movie “Soldier Of Fortune” with Clark Gable? There was a good deal of Rhett Butler in that character. The devil-may-care kind of guy who can handle situations. He’s so damn glib he bluffs everybody around. People think that he’s a push- over. He’s challenged, and he always appears like a push-over. But in fact he’s not. He likes to set himself up in these subordinate roles from time to time to get his way.</p>
			<p>G  What I’m saying is, that character just would not fit in a college classroom or even as an archeologist. He’s too much of a scruffy character to settle down. A playboy, or however you want to do it. He’s too much of a wise-guy, maybe that’s a better way to say it, to actually be a college professor. He really loves the stuff, but he became too cynical, he’s too much of a wise guy to fit into an academic situation, or even an archeological situation. He’s really too much of an adventurer at heart. He just loves it. So he obviously took this whole bent that was different because it’s just more fun. He just can’t settle down. It’s a nice contrast. It’s like the James Bond thing. Instead of being a martini drinking cultured kind of sophisticate, he’s the sort of intellectual college professor James Bond. He’s a superagent.</p>
			<p>S  Clark Kent.</p>
			<p>G  Yeah. It’s that thing, which is fun. It’s the same idea, only twisted around a little bit. A soldier of fortune in the thirties. And also, when you think of the thirties, you think of colleges as real institutions. That whole genre was much different than it is now. And also, soldier of fortune was a real genre.</p>
			<p>S  His main adversaries will be the Germans?</p>
			<p>G  Yeah, I think they should be. I’ve been trying to move him around the world a little bit to see if we can’t get a little Oriental influence into it just for the fun of it. I may have fit it in. The fun thing is, he’s a soldier of fortune, so we can move him into any sort of exotic thirties environment we want to.</p>
			<p>S  Keep him out of the States. We don’t want to do one shot in this country.</p>
			<p>G  I have the second scene taking place in Washington. It’s just interior museum. But at the same time we also want to keep it, budget-wise, and everything else. We don’t want to have eight thousand screaming Chinese coming over the hill being strafed by Japanese zeroes, unless we can find some stock footage somewhere. We want to keep it on a fairly... I think generally, over all, I’ve tried to keep it on a very modest scale. A la the first James Bond. A la the first “Hang ‘em High” thing. Where it is essentially a conflict between people and things. Obviously there is a lot of stuff going on, but there are certain big set pieces that are fun to play with. And if we can divide these set pieces so we can shot them sort of second unit, then we can have all that fun stuff in the period, and essentially it’s a set piece. We’ll just send a stock footage crew out to get certain things that we might be able to come up with without too much money just by sending a camera and crew and getting a shot here and there of various things that we want. The concept is that somehow we have to figure out a way of making this cheap, meaning six or seven million dollars.</p>
			<p>S  One thing, there aren’t any opticals, so right away that saves a lot of money.</p>
			<p>G  And we want to spend our money on stunts. We want to have “Wind and the Lion” action. Spend it all on stunt guys falling off horses, rather than one crowd scene scene with sixteen thousand extras for one shot.</p>
			<p>S  You can also steal that anywhere in the mideast.</p>
			<p>G  Maybe we’ll work something like that out. Even then, for production value and entertainment value, it’s much better to have a terrific stunt than to have a scene with eight thousand extras. I don’t think we need lots of crowds.</p>
			<p>S  <span>(</span>garbled<span>)</span> You can always get that in some other countries. It’s no problem. G  It’s all period. That’s the problem.</p>
			<p>S  In places like Bombay it doesn’t make any difference.</p>
			<p>G  Again, that’s one of those stock footage things. You want to send an “A” camera man and a production manager over there, tell them to make a deal with some New Delhi film company to supply fifteen old cars and eight thousand extras and we’ll pay them seven thousand dollars. You photograph the stuff and bring it back here. Or like Hong Kong, go to Run Run Shaw, say we want three shots like this. You gaff the whole thing and we’ll pay you X number of dollars send. Send your cameraman, or a good second unit camera man whom you trust, and a production manager to handle it financially, and they do it, and you come back with dailies of an establishing shot with ten thousand extras.</p>
			<p>S  You have a small smoke-filled room in Rome with your two actors.</p>
			<p>G  I think we can hopefully sort that out. Part of it is the energy of making it reasonably low budget. It’s also a test of the idea. If it’s good, then we’ll be okay. I think I will go down and describe, roughly, the plot. After we do that, we can go through scene by scene. Then we can start the long arduous process of saying, well this is what the first scene should be and we really want this scene, but how can we fit it in. and really get down to specifics. The film starts in the jungle. South America, someplace. We get one of these great scenes with the pack animals going up the mist-covered hills. Very exotic mist-filled jungles and mountains. There’s a... We actually talked about it a little different from this, but you can correct me if I have gone off what we had talked about the last time. I’m going back, I think, to the original.</p>
			<p>S  Where he goes into the cave?</p>
			<p>G  This is where he goes into the cave. We had it where there’s a couple native bearers, whatever, and sort of a couple of Mexican, well not Mexican... Let’s put it...</p>
			<p>S  They’re like Mayan.</p>
			<p>G  They’re the third world local sleazos. Whether, they’re Mexicans or Arabs or whatever.</p>
			<p>S  They carry the boxes over their heads. They fall off cliffs.</p>
			<p>G  The sleazos with the thin moustaches. Those are the peon laborers. And you have the two guys who are the local gaffers. Foremen, or whatever. The guys he hired. They speak English. The interpreters, or whatever. We’re assuming at this point that when we come into it, the talk is like they’re all sort of partners. He’s a partner with these other two guys. He said, “Look, I’ll cut you in on the stake. I’ll pay you X number of dollars when I do this, if you do it.” We’ll they’re not very trustworthy, Eli Wallach types. They’re going up this hill and they come into a clearing and you see the temple across the way. All the natives get restless and start to split. One of the guys goes to him and says, “The natives are leaving. They’re not going to go any further.” It’s the curse of that Buddha, or whatever. He says they can probably get there from here without them. So the three of us can do it. See if you can get a couple of them to carry on, to come along. They get about two or three guys to go with them. Our guy, the other two guys, and about three other guys, three other natives who are a little braver, they get. So they continue on into the jungle with the snakes and the spiders and the bugs and all that stuff, and they walk forward and all the natives are looking around. It’s all sort of misty and primeval. King Kongish. The pressure builds and one of the natives cracks, throws down his thing and scurries off. He splits, and the other guys realize he’s gone and they split. Pretty soon, when they get right to the clearing, right in front of the temple, it’s just three guys. Along the way they lost the three natives. Also in the process of this, you understand that the two guys are plotting against the other guy. Not only is there the spooky danger of the curse, but you get a hint that these two guys are plotting against our hero. He gets up to the temples. They’re nervous about the whole thing. And they sort of sit outside the clearing and they talk about the curse and about how dangerous it is, and how nobody had ever survived. We set up the whole thing, the parameters of going into that temple. They have a map, not a map but sort of a crude drawing. It has the interior-of the temple on it, that somebody else made. He brings it out at this time, they’re saying that nobody has ever survived. He says that with this information we’ve got here, I think we’ll be able to manage it. He says not to worry guys, it’s gonna be okay. I think we can get in there. We have enough information here where I think I can deduce my way through it. They focus on the map as he’s surveying the thing. One of the guys tries to kill him and take the map, shoot him in the back or whatever it was. That’s when you first see him with the bullwhip. That’s where the plot comes alive. When he says with this information, he thinks they can get in, they don’t realize that you have to know how to interpret that information. He kills this one guy and the other guy sort of backs off and says he didn’t have anything to do with it, he’s crazy, and I knew he was a crook. And you knew they were in on it together, but the guy says, “It wasn’t me. It wasn’t me.” So he and the other one guy go into the temple. You know the guy’s going to shoot him in the back eventually. As they get into the temple you get into all these things, like there’s this giant spider in there.</p>
			<p>S  The thing is, they’re walking and our hero goes into a shadow. When he comes out of the shadow there’s two tarantulas on him. He doesn’t notice them right away. He goes into another shadow, and he comes out with four tarantulas on him.</p>
			<p>G  The other process of the thing is that the guy who is with him is beginning to freak out. He can’t take it, so he gets to a point where he can’t do it any more. He runs out and that’s the last we ever see of him. We can use him as a foil to establish the pressure. It’s getting crazy with the tarantulas and it’s all very spooky. We get to a point in the tomb and we do this thing where there’s like this light shaft coming down from inside the temple. It’s sort of a very narrow shaft. The stone tunnel that he’s in is about this wide and right in the middle is a very thin shaft of light coming down through a hole, a little beam. You see him look at it. We had him go through the wall. Actually we had it happen first...</p>
			<p>S  What happen?</p>
			<p>G  We had it first where he sees the light and he tosses a thing in it, a stick, and these giant spikes come out, and go...</p>
			<p>S  When the spikes come out and go like that, there should be remains, skeletal remains skewered on some of them, of victims that have been there before. It’s kind of like one of those rides at Disneyland.</p>
			<p>G  So he tests it first, and we know...</p>
			<p>L  Why are we letting the second sleazo get away? Why can’t we sacrifice him to the temple.</p>
			<p>G  We can. I just did it as building the pressure, but we can keep him in. We’ll follow it through, and then we’ll see where you want to dispose of him.</p>
			<p>L  If the hero tells him to stick with him, and the guy in his panic makes that fatal one step sideways, you can build the terror.</p>
			<p>G  The idea of having him in there in the first place was to use him as a foil for things like where he starts to walk into that light and the guy tells him to wait, don’t go through there. Then he throws the stick and it all goes clang. Anyway, they have to go through this beam of light, they have to go up against the wall and sort of get around it. If anything brushes up against that light... It’s great because you can use it like this, across your... It’s all dark and you can see the light just just creeping right along the edge of the thing there. You don’t how much it would take to actually set it off. <span>(</span>demonstrates<span>)</span></p>
			<p>L  And you’ve got to do the cliche where they’re walking along this ledge just this wide and it just goes into blackness. And he takes a rock and he drops it, and you don’t hear anything. So they keep going, and about twenty seconds later you hear it hit.</p>
			<p>G  The idea was there would be around three things, real neat-o things, like these giant stones that jump together, spikes that fly out, the precipice thing. Another one would be a sort of giant stone trap door, I don’t know quite how to describe it.</p>
			<p>S  There could be like wall mashers, stones could mash...</p>
			<p>G  We had the one with the spikes, another one was the trap door. It really isn’t the better of the things. The best one is the shaft of light.</p>
			<p>S  I would just love to see the guys walking in and there’s a whole pile of skeletons, but they’re like cardboard, completely flattened, really completely flat. They know that something around here is going to squish them. They don’t know what’s causing it, but something if they walk the wrong way is going to come out and make them pancakes. The piece should be like a real, horror ride, like a Disneyland ride. Once you’re committed to going into that cave, there’s seismic rumblings all the time and there’s stalagmites and things going drip, drip. It’s going to really be a sound experience going through that cave. There’s nothing more terrifying than skeletons.</p>
			<p>G  There’s also things like spiders, snakes. It’s very dark, and all you have to do is cut to a snake slithering across the ground, and he’s walking through. You never know when a snake’s going to be curled up on his leg. As he walks through the dark there’s tarantulas all around him. That kind of stuff. You don’t know what’s going to happen.</p>
			<p>S  This is the first scene in the movie. This scene should get at least four major screams. The audience won’t trust anyone after that. They won’t trust the film.</p>
			<p>G  There’s also the thing you can do which is your famous “Jaws”, or what I call the hand on the shoulder trick, which is not only skeletons, but we can have skeletons that aren’t that old, they just have drawn skin all over them, that are lurking in the shadows.</p>
			<p>S  Falling into their arms. A skeleton comes out of the cobwebs, and just embraces the guy. The guy eases him to the ground.</p>
			<p>G  At the more tense moments in that whole thing. We’ll work on that more specifically. Anyway, he goes through a series of really spooky scary things.</p>
			<p> S  What we’re just doing here, really, is designing a ride at Disneyland.</p>
			<p>G  They get into the main throne room and this guy can either be with him or not. Or we’ve killed him off. There’s a temple figure, idol, whatever. I thought at one time it would be just a little teeny idol, rather than this giant thing. Voodoo, whatever. If the idol is really small, it’s spookier. Like one of those voodoo dolls where you’re saying this must have some sort of very strange... So you can almost believe the curse on the thing. We’d had a thing where there was an eye and he tried to pry the eye out and it set off... He had to get the eye out without doing... It’s the same thing with the little figure. There’s this little figure sitting on a pedestal, or in a niche. First of all, when he gets in the room, it’s semi-lit from above. It’s got sort of a sky light. The center of the thing is this sort of shaft that runs all the way down so there’s sunlight.</p>
			<p>S  We’ll get <span>(</span>garbled<span>)</span> to photograph this movie.</p>
			<p>G  So you can sort of see what’s going on. At that time we’re afraid of sunlight and those kind of things. It’s also the kind of thing where he moves in there very carefully. He moves in and he studies it. It’s almost like a karate or a tai-chi exercise. It’s very... You see him in a very strange, if the guy is still with him, he says to him, “You wait here. Only I can get through this. He studies the whole thing. You see him go through this very elaborate thing, one of it may be the thing where he holds out a little feathery thing and it floats down and gets caught in an air shaft. So he knows there’s an air shaft and he goes under it.</p>
			<p>S  He knows it’s a trap.</p>
			<p>G  All these sort of silent things that are in there. I know what one of those things was, it was poison sticks that were put into the walls. If you spring something, it shoots out. They’re all over the place. He sees one, he does one — twing. Then he looks around and the whole room is a sort of honeycomb.</p>
			<p>S  That’s a great idea.</p>
			<p>G  There’s just holes everywhere. Each one is attached to a... They don’t have to be big spears, they’re like arrows.</p>
			<p>S  More like little projectiles.</p>
			<p>G  Yeah, little darts. It has to be big enough to be something. The idea is that one goes out and he looks at the hole, then he looks up and realizes that the whole place is perforated with them. It goes off with air currents, like if an air current is broken, or some kind of thing. We don’t have to fully understand, all the mystery of light shafts, air shafts, little things that are sort of there that he could trip...</p>
			<p>S  Maybe he brings his bandanna up over his nose so his breath doesn’t get out.</p>
			<p>G  The idea is he does an elaborate thing to lift this thing off. Obviously there’s some sort of weighted trap thing there, too. Then he turns and trips something. Whether he steps into a light thing, or however we do it... Or whether it was the weight of the thing, a sort of delayed thing. Take one step and turn, then all of a sudden you hear the... Then we cut to a little insert of sand going... starting to fill up something. He hears it and, I have one of two choices. One, he just runs like hell to try and get out of the room before the whatever it is... Or, but then I’ve got all these things. I want it to be action. He hears the stuff and runs and as he runs out of the thing, that’s when the big stone goes... But we can work that out, make it a little more specific about what exactly the trap is. But whatever it is, he tips the thing off. You think he’s got it, and right when you think he’s got it and he’s starting his way back, he’s tripped something. Some kind of a delayed thing. And you hear some giant mechanism at work inside the thing that’s going to have this awesome thing that will crush the entire temple or something. In the process of this, one way or another, we will have to kill the other guy off or send him fleeing, screaming into the night. We can do anything to him. It will be easy to get rid of him if you want. In the end he gets it and comes out of the temple into sunlight and looks and he’s got the thing, and we cut to Washington, D.C.</p>
			<p>S  You know what it could be. I have a great idea. He hears the sand... When he goes into the cave, it’s not straight. The whole thing is on an incline on the way in. He hears this, grabs the thing, comes to a corridor. There is a sixty-five foot boulder that’s form- fitted to only roll down the corridor coming right at him. And it’s a race. He gets to outrun the boulder. It then comes to rest and blocks the entrance of the cave. Nobody will ever come in again. This boulder is the size of a house.</p>
			<p>G  It mashes the partner.</p>
			<p>S  Right. The guy can’t run fast enough.</p>
			<p>G  It’s all that kind of thing, stone. Ancient gyrations of things that are so fun. It’s really sort of “Land of the Pharaohs” stuff. Giant crazy traps that were set so long ago to keep people from getting in there. The idea is to keep it as a fast... ‘Cause in the end all it is is a teaser. The next scene is in Washington. He’s delivering the idol to the museum. It’s your basic exposition scene, where the guy says thanks and we sort of understand what this guy does for a living. He gets his money from the museum. You understand a little more about him as a professor and all that other bullshit. It also really sets up the fact that he’s a bounty hunter and he works for museums. In that scene they set up, “Somebody here wants to see you.” “Who is it?” The curator of the museum is also a good friend of his, maybe not the mentor, but he’s like an old museum curator. He says, “This is important. I’ve got a big job for you now. Well, I don’t have a big job for you, but this man wants to talk to you about something. You should take it.” So they go down into this office in the museum, and there’s this intelligence guy. Army Intelligence. A couple of them are waiting for him. This is where we get the big assignment scene, with the blackboard. This is where they explain about the ark. I’m not sure what’s it’s called, the Ark of the Covenant or something. It’s the Ark that carried the...<br/></p>
			<p>Tape One, Side B</p>
			<p>This Ark, in front of the Armies of Israel, made them invincible. Everything in front of them was destroyed. It was the most powerful thing.</p>
			<p>S  You know what would be interesting to do, George? <span>(</span>can’t understand, something about great murals of the Ark<span>)</span></p>
			<p>G  We have one of these. “In Search of the Lost Ark” things. I think also, you’ve been describing this to people as a science fiction film, which is good.</p>
			<p>S  I have not.</p>
			<p>G  It’s in Rolling Stone. Anyway, the idea is you explain the Ark and the power it held, and the fact that they have been searching. There’s a history of it. This is, again, where the research comes in. Phil knew more about this than I did, and his notes are very sketchy. This is the part that he laid out. I didn’t quite understand it all, but I do have information on it. It’s very easy to follow it. What it is, there’s this Ark, a famous Ark with a legend that the Israeli armies would carry it in front of them and they were invincible. The other thing is, which I have more research on, is that Adolph Hitler, 1936 or whatever, was a fanatic for this kind of stuff, occult craziness. We have another book where he was looking for the spear that killed Jesus, which was in a museum in Czechoslovakia. Well, he was a fanatic for finding this sort of occult stuff. He really was, and he searched the museums all over the world. He had his agents go in to get these things to make him all powerful. So we can tie that in. The idea is that he was looking for this spear, which was a very famous thing. He stole it from the Czechs and took it to a museum in Berlin and right now it’s... It’s supposed to have occult powers. We’ll Just say that Hitler has been trying to find this, which is history, and he’s also trying to find this Ark. Obviously, what he wants to do is... He thinks that if he gets this Ark, his Armies will be invincible, and he will declare war on the world.</p>
			<p>S  Which we know he does anyway.</p>
			<p>G  Right. But that isn’t the thing. He thinks once he gets this Ark he will be invincible, although he may do it anyway. But that’s why our hero comes in. He’s going to do it anyway, but if he gets this Ark there will be no stopping him. So they’re doing it semi to prevent the war, which is sort of helpless. They’re not really going after the Ark for its supernatural powers. The Army isn’t. The Army just wants to keep it away from Hitler. They’re afraid if Hitler gets it, he’ll just declare war that much faster, and that will give him sort of a... There can be some interesting discussion here about the kind of stuff that Hitler does, and about the history of the Ark. We set up that our agents have intercepted information that the Nazis have found the Ark, or that they know something about the ark. It has been located, or something. What they want him to do is get it before the Nazis do.</p>
			<p>L  What does he know about it so far?</p>
			<p>G  He doesn’t know anything about it. He can know a little bit. “Yeah, I’ve heard of it.” We make it so he’s not completely ignorant of the situation. He knows more about the Ark than he does about the Hitler aspects of it. We can play that scene rather then one guy just explaining the situation. We can play it where he’s sort of explaining some of it to the Army officer or something. Or maybe he knows more about it than the Army guy does. Maybe the Army officer is misinformed about some things. We can set it up so it works as a good scene. Because essentially the scene is “This is your mission.”</p>
			<p>L  Maybe the fact that he knows more about it than they do is the turning point of the scene. He sort of talks himself into the job.</p>
			<p>G  One of the things of his character is that he is very skeptical, very cynical. In the beginning he is reluctant. “The Germans haven’t found it, for Christ’s sake. Those guys are running all over the world being crazy. That’s a real myth.” He sort of doesn’t believe it. It’s like a wild goose chase. He isn’t even sure it exists. The thing of it is that in the end they convince him to do it because they say this Professor Erich Von Daniken, or whatever, this German version of himself is the one who found it. Or the other possibility is they sent a message to get that guy to come. We want to get a German arch-rival involved in it. We thought at one point he would be the Donald Pleasence character, or whatever. The other idea was maybe making him something like Chinese, not German. Make him an ally of the Germans. So we can readily identify him. When you have all these Germans, you know which one he is immediately. So he would be different from all the other bad guys. Also, it wouldn’t be so much of a coincidence that his arch-rival is a German, and happens to be a Nazi like all the others. His arch-rival is really a top smuggler, diamond dealer, antiquity... He’s the corrupt version of our guy. He’s the one who really goes in and rapes the temples and steals all that stuff and sends it off to private collectors, and takes antiquities and breaks them into small pieces and sells each piece for the price of the original. He’s a real corrupt guy. Maybe he’s the head of his own museum or something. He’s sort of legitimate, only he’s a real corrupt person, and our guys knows that. That guy is also very intelligent, he’s like Moriarity. If he thinks the Ark is there, then there must be something to it. “I don’t care shit about the Germans, buy by God. I’ll stop him from getting it.” So it becomes a personal grudge thing.</p>
			<p> S  It has to be, because there’s nothing in it for our hero. They’re not going to give him any more money, and they’re certainly not going to give him the house he’s always wanted to build. He might be very cynical about it until they tell him who might have it. When that name comes up, his ears perk, and a whole change comes over him. You realize that this thing goes way back with this grudge.</p>
			<p>G  They offer him money in the first place, but he’s still skeptical. They offer him a lot of money. “That’s only if I get it, and I’m not going to get it. It’s just a wild goose chase. There’s not enough in it for me.” Maybe they add a little bit more money, or they give him a guarantee, whether he finds it or not. Or something just to find out what the Germans know. “Then I’m just a spy. I’m not a spy. I’m an archeologist. Why don’t you just send one of your guys over there to do that?” They say their guys don’t know an Ark from a bathtub. Then they tell him about the other guy. If he sent the message, then it must be true. Or better yet, there was a German archeologist who he doesn’t know who sent the message to bring in the other guy. Then he says, “Okay, I’ll do it. I’m not going to let him get involved.”</p>
			<p>L  It seems like they have a very personal grudge between them.</p>
			<p>G  Right. That’s the whole thing. It’s a very old grudge. That’s his main competition, when he goes into a temple or something, either that guy has been there first and ravaged it, or that guy and his sleazy henchmen try and kill him. We can assume that those henchmen in the beginning may have been working for the other guy. If those guys had successfully murdered our guy in the first scene, and gotten what they were looking for, they probably would have sold it to the other guy because he’s probably the largest fence in the world for that kind of junk.</p>
			<p>L  Rather than Just a professional animosity—</p>
			<p>G  Obviously he’s stolen stuff from this guy, and the guy has tried to have him killed a couple of times.</p>
			<p>L  That would be part of the game. You know that as soon as you get hold of something, that’s only half of it. Getting it back is the other part. I don’t know, a girl, a family, a child, something in the past that would make it a step over the line from being a professional rivalry. Some sorrow in our guy, who is very cool and you never see it.</p>
			<p>G  I don’t want to get it too much on a vengeance thing, but at the same time, I think we can tighten it. I don’t want it to stand out that the only reason he’s doing this is because he really hates this guy. The nice about it being a more professional grudge is that then you can have a great confrontation later. If one guy wins fair and square, they respect each other as archeologists and as opponents. So it doesn’t become that if he ever gets that guy he’s going to kill him. If it’s a real personal thing like he killed his wife and raped his sister, then as soon as they meet up, he’d just kill the guy. And it would have been an all-consuming thing thing. This way they hate each other, they have tried to kill each other and all that stuff, so it’s sort of a friendly animosity. They respect each other and sooner or later one of them is going to kill the other. It’s Moriarity and Sherlock Holmes. One of those things where they’re constantly going back and forth with each other.</p>
			<p>S  I think he should be German because there’s something nonviolent about the Oriental villain. Certainly he can use kindo <span>(</span>?<span>)</span> and be good with swords and everything, but there’s something a little more ominous about a real German. I mean an older German, not a young Aryan. Like the way Max Von Sydow was in “Three Days of the Condor.” That sort of danger lurking about him. A brilliant murderer.</p>
			<p>G  He could be French or Italian... No. Italians are too crazy. He could be an Arab. One of those weasel-faced, thin-moustached Arab professors.</p>
			<p>S  Like Omar Shariff. I can’t thing of many Arabs who are actors.</p>
			<p>G  It’s the Sidney Greenstreet character. I just think if he’s not German, then it makes it less of a coincidence.</p>
			<p>S  Sidney Greenstreet is the type of villain who, if you pulled a gun on him says, “You disappoint me.”</p>
			<p>G  Well, he could be Chinese, or whatever. He’s not a real killer or anything. He’s just the one who’s behind everything. He wouldn’t shoot anybody, but he wouldn’t hesitate for a second to say, “Shoot him.”</p>
			<p>S  If that’s the case, then he has to have a real rotten... G  He has to be a real slimy villain, a great villain.</p>
			<p>S  Charlie Chan, a villainous Charlie Chan.</p>
			<p>G  One of those real great characters.</p>
			<p>S  A six foot three inch Oriental.</p>
			<p>G  It has to be very realistic, a sort of urbane, very exotic guy, who would run the Shang Hai Museum. He would also be an international dope smuggler and have connections all over the world. He could be selling off Ming treasures. He’s a real pirate. He’s not a Nazi, he’s a mercenary. He’s for hire.</p>
			<p>S  He’s going to be surrounded by all sorts of brown shirts, Swastikas on the arm.</p>
			<p>G  Right. He’s working for the Nazis. They hired him because they found evidence of this thing, but they don’t know how to go about it. They’re not going to hire our guy, so the other great guy in the world who does this sort of thing is this other guy. There’s the great American western guy, and then there’s the bad underworld guy. They have this problem of deciphering this sort of hieroglyphic they came up with this to help them find where the Ark is.</p>
			<p>S  After this exposition scene, when he’s on an airplane going somewhere, the engines start missing. Right away there’s sabotage. It’s got to be the kind of movie where you expect the dull spots, but suddenly it gets very exciting when you least expect it. It’s as if the moment he gets the assignment, they already know way across the ocean. They already have forces out to get him.</p>
			<p>G  They know that the only guy who would ever come up against them would be this guy.</p>
			<p>S  It really goes fast.</p>
			<p>G  Just to move along, essentially he ends up in Cairo or some exotic middle-east area, which is where most of it takes place. In the desert, Jordan, Israel, that area. He’s given the name of a man who knows about the situation, an agent. He goes into this very sleazy Casablanca type club and makes contact with this agent. The agent is a girl. This part was also sort of Phil’s. I wasn’t completely crazy about it, but I’ll continue in the way we had done it. She’s sort of a Marlene Dietrich tavern singer spy. A German lady singer. She’s really a double agent. She knows what the Nazis are doing, and where they are. He gets mixed up-with her. She wants him to make her his partner. They sort of have an affair right away. She knows everything. She wants to get cut in on his percentage. She’s sort of a mercenary. She hates the Germans, but at the same time, this is her chance to get out of here, out of this hole. She sort of double crosses the Army. “Look, I’m not going to give you anything unless you cut me in on this. There’s a lot of money in this one. I can smell it.” He cuts her in on it. They’re sort of working together, but they don’t really. He can’t trust her very much. They’re the love story aspect of it. She’s sort of a back streets girl. She’s having an affair or something with one of the officers, that’s how she gets her information. She tells him that there’s a digging. That they’re out there in the desert and they have found the opening to a temple, and they think this ark is in there. This middle part, part of it is to develop this relationship. This is where a lot of the sabotage...</p>
			<p>People are trying to kill him as soon as he arrives, or maybe even before he arrives, on the airplane. As soon as he gets there, there are knives coming out of walls, all these slimy characters are following him, all that stuff that happens in those places in the thirties. He’s poisoned and all kinds of things. He is trying to make contact with some other Arab guys who are going to help him. He tried to look up an old friend in the area and get some information, and he’s trying to get information from this girl. Finally she gives it to him, about where the Germans are. We had thought of giving him another piece of information, a MacGuffin, that he could take with him to try to analyze. This whole section is him sneaking around exotic stuff where he’s constantly being... He beats up German agents once in a while, and we sort of establish the German agent. That’s just for a couple scenes where we set the relationship with the girl, the tension, some fights in rooms with lots of boxes. They’re trapped in store rooms and stuff where he’s trying to make contact with his friend. He goes out in the desert and... I’m not really telling this part right. He gets this piece of information that he needs. He goes out and sees the Germans, disguised as Arabs. He realizes... He’s piecing this puzzle together, trying to find the temple. They have not found the temple, they’re just excavating around here. He realizes the temple is like a quarter of a mile east of where they are. He goes and he finds it. It’s in the desert, and he digs down and finds a little tiny bit of ruin. So he searches around until he finds something like a post or column. He digs into the sand, a couple of Arabs are with him. There’s a stone thing that he opens up, there’s a hole into the ground. He goes down in there and it’s the temple. He finds it and he finds the lost Ark. He’s recovering it. There’s a lot of tension because we have established that everybody is trying to kill him. People are following him all over the place. He knows that about a quarter mile east are about fifty Germans, with disguised tanks and guns. They have all kinds of junk over there. So he’s working right under their noses. The idea in the middle sequence was to create sort of a race, tension, who’s going to find the Ark first situation. If he pieces the puzzle together first, he gets the Ark. He starts to get the Ark out of the thing, and he comes up out of the hole, and all the Germans are there. He’s caught. They take the Ark. Then they beat the shit out of him. He does some fancy stuff, but they throw him back down the hole. We actually have the girl going off with the Germans. We don’t know what her situation is, but we don’t taint her. But when the Germans show up, she immediately goes off with the side that’s winning. He gets throws back in the hole, and they close the tomb up and leave him there to die. Then they take the thing back to their camp. Then he sort of tries to get away when she comes back and lets him out. Them we realize that she was really... She just didn’t want to get thrown in the hole with him. Didn’t think that would do any good. It’s night and they sneak off to the camp. They go into a tent and start to steal the Ark, start to take it to a truck. He’s pretending that he’s one of the Germans, although he’s wearing his regular stuff. Most of the Germans don’t know who he is. They get caught. They’re also with another Arab side kick, who also got thrown back in the thing. A little comic relief. They pretend like they’re supposed to be carrying it, then they put it on a truck. One guy says a little German, like he’s one of them. There are German civilians and German soldiers. The guys who have driven up are new guys. Their truck comes up and they get out. They meet him coming toward them. “Oh, good. You have come to meet us.” Just as they’re putting the ark on the truck, the old guard comes up. They best up some guards as they’re discovered. It’s too late and they sort of sneak off. The trucks take off into the night. He has to do something fast. Our guy goes back into camp, jumps on a horse, and starts chasing after them. “Wait here. I’ll get that damn thing back.” The truck is racing along in the desert, and he races along with the horse. He jumps on the truck. We had him shoot the tires on the back truck, and it sort of skids and goes off the road. Then he sort of turns and goes up a hill and comes down the other side, and the other truck is there, and stopped. So we had him get rid of the back truck. Then he comes up alongside the other truck. It’s one of those canvas Warner Bros, trucks from the thirties. He races alongside the one with the Ark in it. He jumps onto the cab and has a fight.</p>
			<p>S  We’re going to have a great fight in the truck. They’re hitting each other as the truck goes over these mountainous roads. They beat on each other until the road gets rough, and they help each other make the turns. Then they go on hitting each other. The Germans who are traveling with the Ark in the back hear the scuffle. They look through the window and they have to go along the side to get into the cab. So our hero takes the truck and just peels them off by scrapping the truck against the cliff wall. There are five Germans, and he scrapes them off and five more climb on. A couple of them are climbing over the top. They’re all trying “to get him.</p>
			<p>G  We have our first suspense thing in the temple. Then there was another one in that craziness that happens when he gets trapped, and then there’s this one. This is one of the real action ones. He gets rid of the Germans and gets control of the truck. He has told his Arab friend to get back to town, Cairo or whatever. In the part where he’s searching around for information, we realize he has a couple of friends there. He’s sort of well-known. He’s obviously been there a lot before. He has sort of an underground there. He has told the guy to get back to town and tell Sabud that he’ll need to get out right away. He’ll need a ship or a plane. AS he’s going in to town he’s passed by a couple of German motorcycle guys. They suddenly point and yell at him. They turn around and start going after him. There’s a car chase through the village.</p>
			<p>S  Scattering chickens.</p>
			<p>G  Little kids running across the street, and the streets are only this wide, and the truck is that wide. That kind of stuff.</p>
			<p>S  Clothes on clothes lines are trailing after the truck. It’s “Bullet” through the streets of Cairo, its poorer section. After being chased by two motorcycle guys with side cars, who are firing on him, they can’t do a lot because there’s no war going on in town. They’re all strangers in this country. They crash into walls and all those kinds of things.</p>
			<p>He finally goes into a garage — zip, clang, close the doors. His friends are there. They pull it out and this is the first time we see the Ark, except we don’t really see It. It’s in a big packing crate, sort of a coffin or something. Can we see it?” “No. No. I have to get this out of here now. What arrangements have you made?” “I couldn’t get you a plane, but I got you on a boat.” The boat is a tramp steamer, a pirate ship, a Chinese tramp steamer with guns.</p>
			<p>S  The sheet metal folds down, the canvas comes up, and there are three inch deck guns.</p>
			<p>G  Our guy gets on the ship and then he realizes they are a bunch of Chinese Pirates. He sees the guns. “We don’t ask any questions. We’re reliable.” His friend tells him that this guy is really trustworthy. He’s a pirate and everything, but he’s really good. He’ll get them out of there and he hates Nazis as much as they do. So our guy says okay. As the ship starts to steam out of the bay, the Nazis are coming down the docks in trucks and cars. The ship just gets away from the dock. The Germans are standing there as the ship pulls out to sea. The captain tells our hero that he must have really done something to make the Nazis hate him. They talk and become friends, sort of. “we should have you in London in five hours, or whatever.” “Fine. That’s great. I’m going to get a little shut eye. It’s been a hard day. Wake me when we pass Gibraltar.” He goes to bed. Fade out. Fade in. He wakes up, and the ship has stopped. He rushes upstairs. “What’s going on?”</p>
			<p> “We’ve stopped.” “I know we’ve stopped. What’s going on?” “Look.” He looks out and there’s a ring of Wolf Pack German U-Boats around the ship. “Shit.” They’re starting to come aboard. The Chinese refuse to fire on them. The Germans would sink the ship. The Germans come aboard and start looking around and they ask the Chinese (garbled) They take the Ark and row it out to one of the submarines, and the Germans start to depart. We see our hero swimming, catching onto one of the submarines, the one with the Ark in it. The submarine starts taking off, our guy yanks himself up, runs across and gets up into the tower. The submarine starts to sink. It never goes below periscope depth. We see him sort of hang onto the periscope. There’s a scene with the. Germans inside. “Achtung!” They go to the Greek Islands. Doors open into one island, and the ship goes, in this typical German submarine base under the island. He gets off before it goes in. They take the ark down into a thing... He has had a run in with this professor in the running around sequence in Cairo with the girl.</p>
			<p>L  Didn’t he see him at the tomb?</p>
			<p>G  Yes. Both times. So he is at this base and they take the Ark and take it into this... There’s a thing about the Ark, I don’t know what it is, something about where they set up sheets and stuff in a certain way. This is again Phil’s information. They had to set up various interlocking tents, according to the legend. In this giant cavern they set up these tents, a maze of nylon stuff. So he sneaks in there past the guards, past all this stuff, and goes into the thing. The bad Nazi and the professor, our nemesis... There’s this vicious Nazi General who is the sort of sidekick killer, Mr. Skull and Cross Bones. They are both in there, and he’s anxious to have the Ark opened. The professor is a little leery about the whole thing. “We have to be careful. We should deliver it to Hitler before we play around with it.” “No. No. I have to know.” They uncrate it. This is the part that’s left to interpretation. My feeling was that maybe it was a little unbelievable. Our hero gets into the room. They catch him. There’s a fight. He’s being led away. He gets away with a little trouble, and hides. The guys now open the crate up. They open it and just as they open it, this lightening bolt or electrical charge... The whole thing becomes like kinetic energy, with lightening arcs. It’s very quick. Like a lightening rod, it attracts static electricity. The two guys get fried. At this point our guy is sort of helpless. The tent bursts on fire. All the guards turn around and look. In this confusion is when he takes the opportunity and splits.</p>
			<p>L  Who gets fried?</p>
			<p>G – The professor and the Captain. All the Nazis are yelling about putting the fire out. They put it out. Our guy is hidden during all this, but he can see it. Now we cut to smoldering ruins. Our guy sneaks in there and gets the Ark and hustles out with it. This is more or less the end of the movie.</p>
			<p>S  There’s no confrontation now with the arch-rival.</p>
			<p>G  The confrontation takes place just before that. They’re starting to unpack the whole thing when he shows up. Then they have their confrontation. They get into their fight. Our hero is beaten up, subdued. “I have the last laugh on you. Send him to the sharks.” They’re leading him away and you think that in the end the bad guys have won. Our hero is being led out to be killed, and they’re going to open up the Ark. When they open it up this electric stuff happens and fries them. Our guy gets away. Now we cut to the smoldering ruins. The Ark has been pulled off to one side. We see our guy grab the ark and sneak off. Cut to Washington. Our guy is getting congratulated. The end, sort of, is that he takes the Ark... It’s crated up, no one even looks at it. They crate it up put it in an Army warehouse somewhere. That’s how it ends, very bureaucratic. The feeling is that the Ark is the real thing, that it really is a very powerful thing.</p>
			<p>S  Supernatural.</p>
			<p>G  It’s sitting down in the government warehouse. The bureaucracy is the big winner in the film. In the specific scenes, it works out that he gets beat and shit happens to him in the process. Obviously there has to be some kind of scene with him in Washington.</p>
			<p>S  Headlines — “Hitler Invades Poland”... </p>
			<p>G  The problem with the girl is that we had the ending and everything, and I didn’t know how to get the girl on the submarine, and she just sort of drops out. You can’t take a girl through that kind of story. We rationalized that she was German, and maybe could go with the professor or something so she could be there in the end. The story would come back together again. She wouldn’t be on the ship, but she would be in the... The other idea was that she meets the guy when he gets back in the garage. They get on the Chinese ship together and have a relationship there, then when the Germans come, suddenly our hero is gone and they take the girl with them. She doesn’t know what’s happened to him or anything. Then he shows up again in the thing. We had worked it out where we could carry her along. It did make sense. If she’s a German, and sort of a double agent, you could take her on one side, then take her on the other side. The biggest problem was how you get her to go along on everything, apart from the relationship. Obviously you can develop the relationship between two characters. All you have to do is get them in the same room together somehow. These are tangential things. We wanted to get a clipper, one of those flying boat things when he goes across the Atlantic. And also we wanted to get a flying wing out on the desert. Should this be in the desert or in the jungle? They pull these bushes apart and there’s a landing strip there. This flying wing comes in and our hero has a fight with one of the guys around the flying wing. There are a few of those adventure scenes that get stuck under the main plot.</p>
			<p>L  In the way you have it now, in the final confrontation with the arch-rival, the arch- rival is victorious, then he gets fried by the ark.</p>
			<p>G  Right. The Ark is ultimately victorious. The other thing is, our guy would be really skeptical about the powers of the Ark, but the arch-rival is convinced that it’s all true, the it has power, and with it they could rule the world. They sort of trade myths and legends back and forth. In the end the bad guy was right, and our guy is there to see it. He doesn’t see the arcs and stuff, but he sees the tent go into a ball of fire. When he gets’ back to Washington, he’s telling the guys, “That Ark, it’s true. It’s the lost Ark.” The Army guy tells him they’ll take care of it. It’s all top secret stuff. He gets shut out of it, and they don’t believe him. They just put it away.</p>
			<p>L  But you don’t want him in the tent.</p>
			<p>G  Right. I don’t know how we get him out, and everybody else out. The thing of it is, you don’t know what’s inside the Ark through the whole thing. The audience is curious about what’s going to be in it in the end. In the Cairo sequence he has some Arab friends, a family with kids running around, but he also has a friend who’s sort of another archeologist, who doesn’t like him. They’re old friends, they went to school together, only he doesn’t like him, ‘cause he doesn’t like what our guy is doing. He’s a serious archeologist and doesn’t really approve. They have discussions about the Ark. In the process of all this, they sort of explain more and more about the Ark, so we don’t have one big long scene. Everybody has different theories about what’s inside and what the power is and how it works. Throughout the script we’re establishing the mystery of this Ark and what it can do. So at the end, when they finally open it, it’s a big surprise. The idea is, when they open it up there should be something really neat inside. This was stuff that Phil was going to research, and we left it at that. The idea was that it was the head of Jesus or a scroll or whatever. We never see. All we see are these electrical charges and stuff. The real theory about the Ark is that if you take this Ark and put it in this conformation with these tents, you could talk to God in it. It’s like a radio transmitter. That’s the real legend. That’s what they used to do. The Israelis used to set up these tents and they would talk to God and God would tell them what to do. And then they would march with it in front of their army. The other Armies would be destroyed. Our idea was that there must actually be some kind of super high-powered radio from one of Erick Von Daniken’s flying saucers. The fact that it’s electrical charges makes it vaguely believable. The idea was that if it was the right kind of trunk... We have to get descriptions of what it looks like, but supposedly it’s like a big trunk. It’s like a car generator that you crank and it goes... When they opened it up you had that sense of some kind of kinetic generator which creates a tremendous amount of static electricity. There are all these religious trappings and interesting mysteries and occult stuff, and at the same time it’s something that people can carry around. It’s a big thing. We have great scenes with these poor little Arabs trying to carry this thing to the truck. It’s easy on basic plot to lay out the good scenes, good cliffhangers. In that sort of amorphous area in Cairo, that’s where we can fit some in. In the essence it’s just bullshit stuff where he wanders around Cairo trying to uncover the mystery of his puzzle. At the same time you meet all these interesting characters and every once in a while somebody throws a knife at him, or he beats somebody up, or somebody beats him up, typical middle- eastern stuff. What he’s doing is going around getting the pieces of the puzzle. He starts with one piece and he gets another piece from his friend. The girl has one piece. He gets a piece from the Arabs who stole it from the Germans. He finally gets all the pieces.</p>
			<p>L  The Germans have how much of it?</p>
			<p>G  They only have like two-thirds of it.</p>
			<p>S  But they have already done the groundwork.</p>
			<p>G  Right. They’re working with two-thirds, and they think they can figure it out. He has his pieces, and he gets a drawing of the German’s piece, and he fits it all together. The Germans have found some ruins, but they haven’t located it yet. It’s part of a lost city.</p>
			<p>L  Where is it when they throw him back into the tomb?</p>
			<p>G  I had it about two-thirds of the way in. Once he gets the Ark. the whole thing is like a chase right to the end. Either he’s chasing them or they’re chasing him. It goes very fast. There’s a little respite on the boat, but all around that it’s a chase scene. Then he follows them into the cave, and you have the end of the movie.</p>
			<p>Tape Two, Side A</p>
			<p>S  ...a double agent, maybe. And I know you don’t like the idea of somebody just tagging along for conversation, but make her someone who wouldn’t have been in this picture, and if she weren’t in this picture, a lot of this stuff wouldn’t have taken place. As the place is crashing, she’s the pilot. They’re going to crash land together. She’s really angry at him. She gets involved in the plot, and is useful. She’s not just somebody to be around for comic relief or romantic relief. Rather than being a kind of quasi... In the Dietrich mold like a double agent.</p>
			<p>G  It’s more of a plot thing. I had her a German double agent who was stuck over there. Then we can use her in the plot. She sort of has access to information. She is useful and tied in. It has to be something where they’re sort of tied in together on this thing, where it’s conceivable. Again, she doesn’t have to be German, she could be American, she could be French or whatever. But I don think that we should come up with some reason to keep her from being just a tagalong. The only thing I can come up with is that she’s sort of a mercenary, and she’ somehow involved. Like she has a piece of the puzzle, rather than being forced into the situation. Because if she’s forced into it, you’re constantly fighting to try and keep her there. Every scene you’re going to have to explain why she’s there and why she doesn’t leave. Half of her dialogue is going to end up being “Smokey and the Bandit” dialogue. In this we have to come up with something so we’re not constantly justifying her existence. She has to be there for a reason. I’d say greed.</p>
			<p>S  If she’s a double agent, I think it would be interesting. He goes from Washington to where?</p>
			<p>G  To Cairo. We can have him go anywhere. The concept is that he’s chasing a puzzle. He’s got one piece of it, and he thinks he knows who has the other pieces. So you can send him to Hong Kong. I was thinking you could do a tiny piece in Hong Kong where people are constantly trying to knife him in the back and shoot poison darts into his ears. You had mentioned that you didn’t want to spend all that time in the desert, so you can condense some of that time by taking the stuff that could happen anywhere, which is the finding pieces of the puzzle, and put it where ever you want.</p>
			<p>S  One thing you should do — He’s on this airplane. There are about four or five passengers around him. He’s asleep and these passengers are looking at him. We don’t know why. They they all get up and put on parachutes, and they jump out the door. He wakes up when he hears the door open, and realizes he’s all alone. The door to the cockpit is locked. The airplane begins to go into a spin. He’s trapped in this airplane and it’s going down. The whole thing was a set up. That’s a great cliffhanger, to see how he gets out.</p>
			<p>G  That’s great. Then what happens? One sentence further and it’s a great idea.</p>
			<p>S  Well, he’s never flown an airplane before, but he kicks in the pilot’s door. That would be interesting, he’s never flown before, but he brings it down. The other thing would be if he knows how to fly, but he’s too late. It’s one of those jungle scenes, you’ve seen where the plane crashes into this dinosaur infested jungle, only now without dinosaurs. He has to bring it down over the tree tops. Either that or he crashes into the Mediterranean, into the water.</p>
			<p>G  Part of it is stylistic, but one of the things that works in movies is when the guy gets out of that situation in a unique very bravado sort of way. He has to do something so audacious that you have to say, “I’d never think of anything like that.” And he gets away with it.</p>
			<p>S  One of the things he could try, although it takes away from the suspense... If I were him, I’d jump at the last minute with a parachute.</p>
			<p>G  The way to do it is to have him... You have seat covers or something. He starts ripping off the seat covers and tying them together. Then he jumps out holding all these seat covers. That’s sort of unbelievable. If you could make something like that believable. He’s over the water. It’s James Bond. Not only do you have to get him out of it, you have to do it in a very colorful way. I’m not saying that you actually have to be clever, just make it believable. Sometimes he does it in a totally outrageous way, but it works and it’s truly great.</p>
			<p>S  One thing he can do is wait until it’s almost crashed into the ground and then jump out and land in a tree, or on a roof top.</p>
			<p>G  If we take him from Washington, why don’t we take him to Hong Kong or Shang Hai. That’s a great place. It’s more exotic than Hong Kong. So he’s crash in the water, with islands and Chinese junks.</p>
			<p>S  He does this. Under his seat is a life vest or a life raft. He takes the life vest out from all the seats and he blows them all up and he gets inside, and is completely insulated. Then her jumps out of the airplane. He just surrounds himself with these huge cushioned items.</p>
			<p>G  Did they have those things in ‘36?</p>
			<p>S  They had them in all airplanes.</p>
			<p>G  That’s a little research item. They might just have had life preservers. If they had life preservers, you could more or less do the same thing. If he’s over water, the plane could be going down at a steep angle.</p>
			<p>S  The other thing he can do that’s more in keeping with the heroic side is, rather than abandon the plane, he could kick down the door and we see the ocean just coming up at him. He’d pull the plane up at just the last moment. That’s the old cliche shot. The plane is bellying on the water. The water bursts through the cockpit. The plane begins to sink, and that would be interesting. He gets out of this sinking airplane and finds a vacuum. He takes a big breath of air. He can’t climb out until the pressure is equal. That means the whole plane has to be under water before he can climb out the window. Then he just climbs out the window and swims to the surface.</p>
			<p>G  I like the part where he jumps out. That’s a clever idea.</p>
			<p>L  What if he makes himself into a ball with the life preservers and just goes skipping into the water.</p>
			<p>G  If he like he ties himself into a ball with these preservers and he jumps out at the last minute.</p>
			<p>L  If there were a life raft he could enclose himself in it.</p>
			<p>G  That’s a good idea. I’m just worried they didn’t have life rafts then.</p>
			<p>S  They had life rafts all through the second world war that were inflatable. I wanted him to be on a clipper. It’s a big plane.</p>
			<p>G  Is there one we could use for take off and landing, and use a miniature for the crash.</p>
			<p>S  I heard that there’s one left in South America someplace.</p>
			<p>G  I just want to send a second unit to shoot it taking off and maybe get some extra stuff. If we send him to Shang Hai we could have him going to see his enemy and we could connect it rather than having it unconnected. The only reason we’re talking about the Orient is that it’s exotic. He’s going to leave Washington and go to three exotic places. He’ll go to the Orient with the crowded streets and dragon ladies. Then we send him to the Himalayas, with the snow. And then we send him to Cairo. Going from the Himalayas to Cairo he would be going over water.</p>
			<p>L  He could land in the snow. One thing about landing in the water that bothers me is that we end up in the water on the sub.</p>
			<p>G  Actually, he could land in the snow.</p>
			<p>S  When he hits, the raft comes open and he has a toboggan ride.</p>
			<p>G  It’s even better, because when he thinks of the raft over, well that’s why he thought of it. But if he thinks of it over snow, that’s even more clever. And snow is soft.</p>
			<p> S  If the plane gets to crash in the mountains, there would be a huge explosion that we wouldn’t have in the water. The plane is going into a box canyon and the guy has to jump. On top of a mountain he jumps out. The plane hits the mountain and there’s a big fire ball. The pieces go everywhere. He’s on the raft holding onto the ropes, coming down the mountain. And for comic relief he should go right through some sort of village, with a fiesta or something happening, with llamas. He knocks a llama over.</p>
			<p>L  There could be a ceremony with monks... <span>(</span>garbled<span>)</span> They’re all looking up.</p>
			<p>G  It can be amusing, but at the same time it has to be very realistic. It has to be what would really happen. You have to believe that someone could live through it like that. We have to concentrate on keeping it clean and not go through unnecessary explanations. The fun part of that flight is that it comes out of nowhere. You just don’t expect it. It’s great if it’s the second flight in the movie. We’ll cut to him flying various places. We want to get all that great period stuff. We have all these flights, and then suddenly you cut inside to all this craziness going on. I think he should go to Shang Hai to find this guy, his enemy. We get a little more information about the enemy. Also, maybe he gets a piece of the puzzle that sends him to the Himalayas.</p>
			<p>L  <span>(</span>garbled, something about a museum<span>)</span></p>
			<p>G  Right. Sort of the Shang Hai Museum of Modern Art.</p>
			<p>L  He knows his enemy is in Paris, so he’s on his own protecting the museum, his henchmen are. Is there anything our guy can do to pick up whatever information his enemy already has? Somehow see the information that has already passed through that room?</p>
			<p>G  Right. He’s trying to find out what that guy knows.</p>
			<p>L  It takes him right to the heart of the other guy’s strength.</p>
			<p>G  I like that. We can do that easy. Before I had the girl providing that. We can decide which way. I had the girl get a copy of the drawing. If that guy had it, it would have to be in a safe or something. <span>(</span>not clear, something about an indentation<span>)</span></p>
			<p>L  Exactly how do you see this puzzle?</p>
			<p>G  I see it as a tablet, a piece of stone with a map. It’s not really a map. It’s a description of the site. It’s like a plan of the city. It was drawn at that time. And it has hieroglyphics on it telling the legend. It’s an architects drawing that was done in stone, and it shows the placement of various temples, and of the Ark. The tablet was found out in the desert where the Germans are. it has to be the lost city of something.</p>
			<p>L  Does it lead you to the Ark?</p>
			<p>G  It shouldn’t be something that shows you where the Ark is. It shows you where a certain temple is. If you find this city, and you have the map that shows you where this temple is, then you can find the Ark. Otherwise you have to dig up the whole city. The Germans have found the lost city. And they have two-thirds of the map, which maybe they found when they were digging. Other portions of this map have been found before, antiquities in various museums and other places</p>
			<p>L  Let’s say her father is there. Her father may have been his mentor. He has been working on some unrelated project. But it was her father who discovered the first fragment of the map. She has it. Her father dies. That’s why he’s going to Nepal, to get it from her. That’s why they know each other. That’s why she’s reluctant to part with it. Does any of this sound possible?</p>
			<p> G  Sounds possible.</p>
			<p>L  So they have a previous relationship through her father.</p>
			<p>G  The other thing we can do, twisting what you’ve just done with what we’ve already got... My immediate reaction is to shy away from the professor’s daughter goes along. But what if we do it, and since her father dies, he left her broke. He was an archeologist and left her so broke she didn’t have any money to get back. So she’s stuck there. She runs the bar. She’s the local Rick. Sort of the American Rick. She’s sort of goofy...</p>
			<p>S  Earning money to get back to the states.</p>
			<p>G  Yeah. She wants to get back. She’s sort of made it her hone. She started out maybe singing or being a call girl or whatever. Eventually she bought out the guy who ran the place, or he died. Now she’s got this little tavern, and she’s doing sort of well. She could only sell the place for as much money as it would take to get her back to the states, and then she would be stuck there with nothing, no job. What she’d like to do is really strike it rich. But she doesn’t see any way of doing that. She’s sort of a goofy tough, willing to take care of herself, mercenary type lady who’s really out for herself. She has this piece and he wants it, so what she does is cut herself in on it. “Look, you’re going to have to take me along with you.” “What do you mean?” “Partners. I have one piece. You have the other.” That old story. It’s kind of the thing where she wants to go back to the states in style or something. She doesn’t want to get on a tramp steamer and make her way back, which she could have done a while ago. She really wants to go back as a lady. This is her chance. She says she’ll sell it to him.</p>
			<p>L  This is in Cairo.</p>
			<p>G  No. This is in Nepal. She’s stuck there.</p>
			<p>L  Who are her customers at this Rick’s Place in Nepal?</p>
			<p>G  There is actually a Rick’s Place in Nepal. Bill and Gloria know about it. They stayed there. It’s some expatriot American who lives there at the foot of the Himalayas. It’s got this hotel/bar.</p>
			<p>S  I like the idea that she’s a heavy drinker and our hero doesn’t drink at all. She gets drunk a lot. She’s beautiful and she gets really sexy when she’s drunk, and silly. And he doesn’t touch the stuff.</p>
			<p>L  I don’t want to soften her. I like the fact that it’s greed. I like all the hard stuff, but you’re going to love here.</p>
			<p>G  This is good, but she obviously gets into something that’s way over her head as the whole thing goes along.</p>
			<p>L  I wonder if someone hasn’t approached her already. The map has heated up considerably in three weeks. They’ve found the town. Does she have some tip off that this is worth while? When he comes to her, “That’s funny. I’ve had this ten years since my father died. Now in this week two people want it.”</p>
			<p>G  If the Germans got there, first, they probably would have offered her a lot of money. And she probably would have sold it to them. Maybe no one knew where she is and he finds her through Washington or something. Some way where he would know, but no one else. Or government would know and he gets it from them. Maybe the enemy doesn’t know yet where this professor died. And that would make it interesting, because supposedly she’s secure, and he gets sabotaged on the way there. You know that they know more or less where he’s going. The immediate danger is that they’re racing to get there. She tells him that if he wants this thing so bad it’ll cost him $20,000. “I don’t have that kind of money. I don’t get anything until I get the whole thing, when we get the Ark. Then I get the money.” She says, “Okay, We’re partners.” It forces her to stay with him. If the Germans came and offered her the money right away, she’d take it. And they would give it to her. I think it’s better, at this point, to keep the Germans one step behind them. They’re one step ahead in sabotaging him, but they don’t know where he’s going. They begin to figure it out, and they decide to kill him and go get it. They’re on their way too. There’s another plane that’s flying alongside his that has the bad guys in it. They’re trying to get there first. They just don’t have as specific information as he does. They just know he’s in Nepal someplace. So we slow them down once they get there.</p>
			<p>S  She gives him this map right away? G  It has to be fairly quick.</p>
			<p>S  He has to win her confidence.</p>
			<p>G  Right.</p>
			<p>L  Let’s say the Germans are a half hour behind them, and they’re haggling. She is in immediate jeopardy and he represents some security to her.</p>
			<p>G  Since he got there first, it’s too late for them to try and buy it. All they can do is kill them both and take it.</p>
			<p>S  How would they know where it is unless they torture her first to find out? </p>
			<p>G  They won’t know.</p>
			<p>S  They wouldn’t want to kill them until they have their hands on the map. </p>
			<p>G  Maybe they’d just want to kill him.</p>
			<p>S  She has a rooming house above the cafe. He hears this sound. In the middle of the night he gets up and looks over the banister. There are Germans everywhere. They have her and they’re interrogating her, in the middle of this empty cafe in the middle of the night.</p>
			<p>G  He comes in and saves her. You sort of introduce her as a damsel in distress. In the other way she’s sort of a tough girl. Or you could do both. You could have him come and haggle with her, and have her say no way. “No money. No deal.” He gets sort of pissed off and goes out. He comes back later and the place is empty and they’re in there torturing her.</p>
			<p>L  The thing hasn’t been worth anything up until now. So she wears it around her neck, or it’s on the mantle. It’s like a joke.</p>
			<p>G  Obviously it could be something semi-precious to her because her father gave it to her. We’ll assume that she did love the old coot.</p>
			<p>L  He goes off to his room for the night. He gets up; he’s going to steal it. In the interim the Germans have arrived. When he goes down to steal it, he winds up rescuing her. He stumbles into this heroic role. She could doubt his motivation from then on. “You didn’t come down there to save me.”</p>
			<p>G  We have to get them cemented into a very strong relationship. A bond.</p>
			<p>L  I like it if they already had a relationship at one point. Because then you don’t have to build it.</p>
			<p>G  I was thinking that this old guy could have been his mentor. He could have known this little girl when she was just a kid. Had an affair with her when she was eleven.</p>
			<p>L  And he was forty-two.</p>
			<p>G  He hasn’t seen her in twelve years. Now she’s twenty-two. It’s a real strange relationship.</p>
			<p>S  She had better be older than twenty-two.</p>
			<p>G  He’s thirty-five, and he knew her ten years ago when he was twenty-five and she was only twelve.</p>
			<p>G  It would be amusing to make her slightly young at the time. S  And promiscuous. She came onto him.</p>
			<p>G  Fifteen is right on the edge. I know it’s an outrageous idea, but it is interesting. Once she’s sixteen or seventeen it’s not interesting anymore. But if she was fifteen and he was twenty-five and they actually had an affair the last time they met. And she was madly in love with him and he...</p>
			<p>S  She has pictures of him.</p>
			<p>G  There would be a picture on the mantle of her, her father, and him. She was madly in love with him at the time and he left her because obviously it wouldn’t work out. Now she’s twenty-five and she’s been living in Nepal since she was eighteen. It’s not only that they like each other, it’s a very bizarre thing, it puts a whole new perspective on this whole thing. It gives you lots of stuff to play off of between them. Maybe she still likes him. It’s something he’d rather forget about and not have come up again. This gives her a lot of ammunition to fight with.</p>
			<p>S  In a way, she could say, “You’ve made me this hard.”</p>
			<p>G  This is a resource that you can either mine or not. It’s not as blatant as we’re talking about. You don’t think about it that much. You don’t immediately realize how old she was at the time. It would be subtle. She could talk about it. “I was jail bait the last time we were together.” She can flaunt it at him, but at the same time she never says, “I was fifteen years old.” Even if we don’t mention it, when we go to cast the part we’re going to end up with a woman who’s about twenty-three and a hero who’s about thirty- five.</p>
			<p>S  She is the daughter of the professor who our hero was under the tutelage of. She has this little fragment of the map.</p>
			<p>G  He doesn’t have to have the fragment in hand. All he has to do is get a copy of it, make a rubbing of it.</p>
			<p>L  <span>(</span>this section is not clear, something about the fragments and how he gets them<span>)</span></p>
			<p>G  His first job is to go to Shang Hai, into the lion’s den to get this, which is usually at the end, so this is a twist. In Washington we have the advantage of being able to set up anything we want, in terms of information, what is going on. Say the Germans sent him the tablet to decipher.</p>
			<p> L  They wouldn’t do that. They would send him the rubbing.</p>
			<p>G  Suppose the rubbing wasn’t articulate enough. They could send a photograph, I guess.</p>
			<p>L  Let’s say the arch-enemy is gone now, but it had been there in his lab. Maybe the arch-villain has had a piece or two all along. But it was useless to him. Our guy knows that it’s been kept there. The actual piece is no longer there. But it’s been sitting on felt or in glass, and there’s an impression of it.</p>
			<p>G  Well, I like the idea of a sun spot, but then it would be the shape of the broken piece rather than what’s on it. Again, we can design this however we want. It doesn’t have to be a tablet. It could have been a painting on a vase. It can be any antiquity that we come up with. It could be a scroll. Or some kind of a statue or some sort of tall thing with a very strange design that is actually a design of the city. People have various pieces of it, something that’s stacked. It could be a thing with lots of little gizmos in it, very intricately carved. It was the top of a stack that the mayor of the city carried around. This would be the sun, and this would be tie city. The city reached the sun, a symbol. It’s been broken into a lot of pieces. There’s a piece at this museum, which is one of the reasons they would call this guy in. Not only is he a shyster and all that stuff, but he already has a major piece of. Say the Nazis only have half of it, or a third of it. This guy has a third. So with their third and his third, they have two-thirds of it. This other professor has a little piece. Make it quarters, so the Nazis now have half of it.</p>
			<p>S  Can they decipher every piece?</p>
			<p>L  The design has the sun at the top of it. What if the way to the Ark is when the light hits a certain point on this sculpture it shows the entrance. So if you had the top half it would do you no good because the sun would be hitting nothing.</p>
			<p>G  If you have enough pieces you can deduce the exact size. But if the Chinese and the Nazis have two sections, why doesn’t he just go right there and get both of them at once rather than go to where just one piece is?</p>
			<p>L  Unless he thinks it’s going to be very difficult, as it turns out to be, to walk into the Nazi camp and get it.</p>
			<p>G  Unless he thinks the Chinese guy is still there with both of them. He goes there to see if he can get it, and finds out the guy is gone. He knows exactly where it is because he’s been there before. But now it’s gone. Then he looks at the shadow. He doesn’t know he’s going to be able to get the Nazi piece. Right now he’s going to get all the pieces he can. So he copies the silhouette. Then he goes to get the part the girl has. From that he figures it out.</p>
			<p>S  How does the audience...</p>
			
			<p>G  He says okay, I’ll get you a ticket to Cairo, and you can leave tonight. He tells him he doesn’t want to go to Cairo, he wants to go to Shang Hai, cause we’ll have to have this piece that’s there. If the scriptures are true or whatever, then you have to have this piece to make it work. I have to get it, or at least a copy of it. He goes to Shang Hai and it’s been stolen. If he can make an outline of it, then I assume somebody has a still of it, and whatever information you can get off the real thing, you could get off a still. I’m just being the devil’s advocate here.</p>
			<p> S  If it’s an important piece, certainly there are photographs of it. There is a coalition of museums where you have to register everything.</p>
			<p>G  Assume at this point that no one ever thought twice about it. All it gives us is his clever way of taking the shadow.</p>
			<p>S  Bow much film time is this going to take?</p>
			<p>G  I’m also trying to get something that’s very simple. We don’t have to go into endless explanations about how... This has to be something that’s extremely simplistic, in terms of the pieces. That is sort of foolproof in its own way. It has to be something very obvious. We know that whatever it is, we have to have pieces of a puzzle. It would be nice if the puzzle were some sort of great key thing with the sun hitting... That’s always a lot of fun. And the girl has to have an important piece that makes her a vital link in the whole chain. We want to send the guy to Shang Hai first just for the environment. Have a little bit of adventure there before he goes to Nepal, before he ends up in Cairo. Between the point where he leaves Washington, and he’s up there on the hill looking down at the Nazis part of it is in the Orient, part is in Nepal, part in the mud streets of some Arabian city. Then a lot of it takes place in the desert. What we have to do is figure how we’re going to put the puzzle together, in terms of what can be missing that can be a key to this thing. The original was a plan of the city of this piece.</p>
			<p>?  They do that to make more money. They’ll take an object and break it up and sell the pieces.</p>
			<p>?  We know that each person has a piece. That’s the easiest thing. But having a staff... ?  A staff. That solves the problem.</p>
			<p>?  I like the staff, and the sunlight thing.</p>
			<p>?  we have to figure out is where she carries it.</p>
			<p>G  Or what he’s going to Shang Hai for. That can either be the stronghold of our guy, or not. He can be based in Shang Hai, or in Paris.</p>
			<p>S  I thought he would meet his arch-rival in Shang Hai.</p>
			<p>G  Only because of the fact that the arch-rival is oriental. We don’t have to make him Oriental. We can make him black. The only other thing that gets “complex is if the bad guy is Oriental and he goes on the Oriental pirate ship, it doesn’t have to be an Oriental pirate ship. Assuming that we don’t make the arch-rival Chinese, make him French. When he goes to Shang Hai to get the piece that it is a surprise that it’s missing.</p>
			<p>L  It could be in a private collection. You wouldn’t have to worry about stills of it. The private collection it’s in could be...</p>
			<p>G  Some very rich Chinese war lord. In those days they had war lords. They didn’t get rid of them until the Japanese came in. A swordsman.</p>
			<p>S  That’s what happens in Shang Hai.</p>
			<p>G  That would be great. The war lords were actually like banditos. S  I’d like to see him taking on a whole bunch of Samurai.</p>
			<p>G  It would be Chinese swordsmen, which is different.</p>
			<p> S  Maybe we should move it to Tokyo.</p>
			<p>G  Shang Hai is good. We could still have swords and stuff. It’s just a different kind of sword and it works in different ways.</p>
			<p>L  This could be a Japanese swordsman who was so bad they kicked him out of Japan. Now he’s in China.</p>
			<p>G  We have to do some research, but actually the war with Japan was going on then in ‘36. When you send him to Shang Hai, we’ll have to check this, but I think the war was going on there then.</p>
			<p>S  It’s perfect. You have explosions and Zeros.</p>
			<p>G  The war lords were sort of corrupt guys. If this guy is in league with the Japanese, we just touch on a whole other story. This guy is a war lord by virtue of the fact that he’s sold out to the Japanese and the Japanese are using his influence and his thing as a base for their operation. They wouldn’t be Samurai, but they would be your Rising Sun guys. Some of those guys carry Samurai swords. His personal body guards could have Samurai swords. We bring the Japanese into it, and Chinese war lords. This guy is helping the Japanese to kill and maim his country, so he’s really a despicable person.</p>
			<p>S  We have to have a beheading. We have to start this scene with a mass beheading. We don’t have to show it. If you were really bad, it took three minutes to cut your head off. Then the Japanese Zeros strafe. They’re cutting off the heads of Flying Tigers, American mercenaries.</p>
			<p>G  He gets on his clipper and he flies from Washington to Shang Hai. At the end of the temple scene, probably some transitional device there. We may have some kind of...</p>
			<p>L  The thing we’ve been avoiding is that he could pick up his piece there.</p>
			<p>G  We were thinking that they had already got to it. Maybe he actually gets the piece there before the other guys get there. He’s one step ahead of them at this point. An interesting there is how close the Germans are to getting it. You can have the Germans get it while he’s there, and have him sabotage the Germans just before they get it on their airplane. I think it would be good if he got in and got out. When he gets on the plane you think he’s escaping. So the whole thing, where he’s going and everything becomes a real surprise.</p>
			<p>S  This is where we can do our fist fight with the flying wing. We can do that sequence in the Shang Hai area.</p>
			<p>L  And then he hops on a DC-3, which is their plane. It’s the sabotaged plane.</p>
			<p>G  One of the reasons I had the flying wing in the desert, landing on a secret desert base, was the fact that I assume that when we get it we’re going to have to get it out of a museum somewhere around here, and we might be able to take it out to a desert around here. The Mojave or one of these Air Force bases out there. It’s clean, they can just fly it in and fly it out. It’s sort of second unit. Fly the plane in, stage the fight, and fly it out again without having to get into a big deal about getting it to a difficult location. Those flying wings are so dangerous that you can’t fly them any more. But they’re still around some where.</p>
			<p>L  How many engines do they have? G  Four. It depends on how big it is.</p>
			<p> S  Is it the B-36 with eight engines backwards?</p>
			<p>G  Yes. The wing has four engines backwards. If he gets into Shang Hai and he pulls off this thing, we have to figure out... Obviously it moves fast enough that we don’t have to rationalize a lot of what we’re doing. If the expert landed in Cairo, he would think the same thing our hero would think, and he would have had the Nazis wife to Shang Hai and have the Nazi agent there contact this guy.</p>
			<p>L  At the same time the fight is going on with the Samurai the Germans can be going through the formality with the Japanese and the Chinese war lords about coming down and getting it. When they open the door, he’s going out over the roofs.</p>
			<p>G  Another way to do it would be to give our guy a jump a little bit. In Washington they tell him he has to get on it right away because the Germans have found the lost city or whatever two days ago. A lot of activity going on out in the desert. They’ve contacted his old friend. They’re talking about the Ark. Somehow they say that he hasn’t left Paris yet. They think he’s scheduled to leave tomorrow for Cairo. We know that his rival hasn’t left Paris yet. That’s when our guy says it must be true. “I need a ticket to Shang Hai.” Assume that the French guy wouldn’t figure it out until he actually got there.</p>
			<p>L  That’s a question. How hip is the arch-rival? At this point our guy apparently knows that he needs the staff. He doesn’t know if they’ve found the map. The arch-rival must know about the staff.</p>
			<p>G  You assume he knows this stuff if his mentor found the top of the staff.</p>
			<p>L  Now why would the arch-rival, upon hearing the news that they found the lost city, immediately say “I’ve got to get that staff put together.”? Why do we have to have such a big lead</p>
			<p>G  What happens if we don’t?</p>
			<p>L  It makes more sense if the arch-rival hasn’t gotten all this stuff before. So it becomes a race all the way. What is the advantage of the lead he’s got?</p>
			<p>G  That’s what it comes down to. It becomes slightly coincidence, and we have to avoid that, that his mentor knew all about this and that’s how come he knows all about it. Of course it’s not really a coincidence because he’s going for the thing. If he knows the professor, and if he knows about this particular Ark, he is the one who is really the expert on it, but he’s very skeptical about it. He’s sort of researched it and his mentor has researched it, and he thinks it’s sort of horse-shit. If they call him in and say, “It seems the Germans have found the lost city. The lost city is the part that was the myth. “They probably just stumbled into a big hole and think they discovered something.” “Well, we’re sending for this guy.” So then our guy thinks maybe it is the lost city. If it is the lost city, they’re going to need the staff. They’re not going to figure that one out for a while. “If they have found the lost city and they’re looking for the Ark, they’re going to need the staff with the sun. I know where to get it, and I’ve got to get it right away, before they get it, and before my arch-rival gets it.”</p>
			<p>S  Then we’d better cut to the arch-rival away from our hero, make him a separate character and let him give the same orders.</p>
			<p>G  I think it’s better not to. I don’t want to set it up as a race. I think it’s important that we set up the fact that our guy is getting to the thing before they do, or is trying to. And he does get to it before they do, and then he goes to the girl and gets the other part.</p>
			<p> L  It seems like he could be just a step ahead all along. It could be a half hour or it could be ten minutes, <span>(</span>garbled, something about guns and Samurai<span>)</span> Do you have any problem with the fact that they bail out over the Himalayas when they had all the way from Shang Hai to...</p>
			<p>S  No. That’s the kind of stuff I like. I wouldn’t question it.</p>
			<p>G  It’s the crazy Oriental mind. How do we know how it works. They always wait until the last minute or something.</p>
			
			<p>G  forced into the situation. So he gets in there. The Nazis are closing in. He has a fight with the Samurai body-guards and maybe some of the Nazis. He steals the thing. The great thing we have to set up on this flight to Nepal is that our Chinese guys are the ones who booked this great plane and-all that stuff. So you just assume that it’s safe.</p>
			<p>S  They would have done this even if he got the thing safely.</p>
			<p>G  Right. We won’t explain how they have all this figured out. The ideal thing is to set it up as safe a flight as possible. You think when he gets on the plane and sits down, everything is okay. “Well, we got out of that one.” Suddenly there’s no one there. Just as you think he’s safe and there’s going to be a little quiet period, he goes on to the next thing and crashes.</p>
			<p>S  Are we going to do the fist fight with the flying wing here at the Shang Hai airport?</p>
			<p>G  No. I don’t think we should do that. The fight should be at the war lord’s temple. Then they jump in the car and race out to the airport. The Army Intelligence’ guys and the Chinese underground guys say goodbye and good luck. They put him on the plane and they send him off, and he’s safe.</p>
			<p>S  What about the Nazis? Are there any close brushes with them?</p>
			<p>G  In the temple he gets caught and has a fight. They sort of arrive together. When he arrives at the front of the temple, the Germans are arriving at the back.</p>
			<p>L  And the Chinese war lord insists on a sort of ritual welcome.</p>
			<p>G  Yeah. The Germans aren’t in any hurry because they don’t know what’s going on yet, we assume at this point. “Well, close, but not close enough.” They almost beat them, but they didn’t. Once he crashes into the snow we don’t need to spend any time there. We just cut to him hobbling into the village. Or we can have some people bring him down.</p>
			<p>S  After the toboggan ride.</p>
			<p>G  The other thing we have to do, he has to hide this thing somewhere or they’d take it. The one he picked up in Shang Hai We assume at this point they know that this is the guy and they want to kill him, what they also have to do is get this thing back. He hides it on his person. We can make it as big or as small as we want. If it’s a big stone thing, then it’s going to be a little difficult. We hide it, and he carries on the airplane a little box about the right size that he’s very protective of. He sets it on the seat next to him. When all the people are getting out very quietly, somebody comes over and picks up the box. “Where did everybody go? Some bastard stole my lunch.”</p>
			<p>S  Where does he meet the girl then, Nepal?</p>
			<p> G  Yes. She is running this American hostel and bar. Rick’s Place, in the middle of Nepal in some little village.</p>
			<p>L  Do you have a name for this person?</p>
			<p>G  I do for our leader.</p>
			<p>S  I hate this, but go ahead.</p>
			<p>G  Indiana Smith. It has to be unique. It’s a character. Very Americana square. He was born in Indiana.</p>
			<p>L  What does she call him, Indy?</p>
			<p>G  That’s what I was thinking. Or Jones. Then people can call him Jones. He crashes into the snow, then dissolve to him with his crutch or something making his way down into a village. There is a little scene where he gets transportation. Where he lands is not next door to the village. We might have a lot of suspicious looking Himalayans standing around that you might think are spies. One guy rushes to a telegraph office. Create a little bit of tension. It’s really a scene where we have him rent a car or something and drive to the next village. I don’t think the trek is good getting out of the mountains, ‘cause they have a tendency to be boring. It should be getting to where the girl is. Again we’re just talking about a few shots because we don’t want to spend a lot of time in between things. We go to him trying to get a car, then dissolve to him driving into the town, getting out, looking around. We have established the fact that he’s going to Nepal or someplace. It’s not like he was going to Cairo and ended up in Nepal.</p>
			<p><span>(</span><span> </span>long gap in tape <span>)</span></p>
			<p>Tape Two-A, Side A</p>
			<p>G  I have the answer. I had thought that on the scepter, on the part that he stole, is information about how tall the staff was. This thing sits on top of the staff and it says exactly how tall it was, how many hands high. No one has ever put it together before because nobody knew where the lost city was. They had fragments of information about how this was the staff that the mayor held, that the sun was the key to where the sun temple was, or had a relation to the sun temple. But it isn’t important if you don’t know where the city is or anything. I thought it would be possible to develop the idea that he’s discovering a lot of this stuff as he goes along. He’s interpreting stuff and the puzzle sort of clicks together. Unless they get all the pieces, they can’t really figure it out.</p>
			<p>S  Also, the interior of the hole has to be beveled in such a way that the sun only pierces it at a certain time.</p>
			<p>G  I was thinking that the Germans would be doing it mathematically and building models more or less reproducing what our guy has. They don’t have some of the key information, so they’re doing it in sort of rough. They figure it out and it points to a building on the map. When he comes they’re in the process of digging at that building. In the process of the film we get the information that they’ve found it. But they haven’t.</p>
			<p>S  They’re digging the wrong building.</p>
			<p>G  The reason is that the sun has changed so drastically in the three thousand years or whatever, that they didn’t take that calculation into... If they were all bright people they would have thought of it. But they’re dumb. The Nazis and his partner weren’t that well- versed in astronomy and he was. He knew that the azimuth was wrong, and he moves</p>
			<p> the thing over. You see him digging in one spot while they’re digging in another. Sort of one-upsmanship, where our guy is brighter than they are.</p>
			<p>L  Wouldn’t the Germans know that too?</p>
			<p>G  Maybe we can cover that by saying that the Germans thought it was from one period, say two thousand years ago, and he finds out on the scepter information that... One advantage we have is that the whole thing has never been put together before, and that reveals a new thing. They had read the two things separately before, but when they put it together. I was thinking it either gave you a new reading on the height of the stick, or it gave you a new reading on the date that it happened, so they may be five hundred years off, which would add four degrees to the computation.</p>
			<p>S  Any way you look at it, the whole inside of the staff has to be cut in such a way that only at a certain time of day, and only for the distance of the hole, would the sun show the exact spot where the Ark is hidden. Yes, if they had a spotlight they could shine it, and that would the most expedient way to do it. Otherwise they would have to wait for the sun. It’s more dramatic to see the sun rising, and he’s waiting around looking at this little figure, and the sun hits it and he marks- the spot. We could rationalize it by saying that in that day they didn’t have spotlight units, which they didn’t unless you went to Hollywood.</p>
			<p>G  The thing about sunrise and sunset that I like is that it gives you such a precise thing. When you say noon, it’s very hard to tell when noon unless you have a clock. But sunrise and sunset is when the sun is halfway over the horizon and it will always line up that way, for eternity, except for the earth shifting, and you fix that with precise calculations. Also, the time of the year has a big effect. That would be another part of the calculation they would all have to go into. I thought we would relate the date to the summer solstice or the rites of spring or some particular date, the Ides of March or however you want to do it. What they would do is not be there on the particular date, but they know where the sun would be, so they move it sixteen degrees east and that’s where it is.</p>
			<p>S  This can’t take much time or the audience will go right to sleep. It has to be quickly explained and accomplished.</p>
			<p>G  We have to decide what we want to do in terms of... We can have common knowledge, if we want the Nazis to have figured it out. Do it in general conversation, the height of the staff was four hands, three hoves high. One point should be the bugaboo, the date, I think that’s a little complex too, or the fact that the earth has shifted slightly.</p>
			<p>L  It has to be information contained on the missing sculpture.</p>
			<p>G  The other way to do it is when you put the two parts together. The general information says that the staff is four hands high, that’s in the textbooks. So the Germans use that. When he puts it together, right in the crack it’s fourteen hands high and nobody ever knew that before. That part was on her thing, and when it’s fit together you can just see the outline of a one there. It’s not four it’s fourteen.</p>
			<p>L  And that’s real easy to grasp.</p>
			<p>G  So when he goes in there the Germans are using this short staff. He puts it on a real tall staff and he gets the right information.</p>
			<p>S  They could be a mile away from where he is.</p>
			<p>G  They’re all doing it right, but they have misinformation because nobody ever put the two pieces together before. That makes it all different.</p>
			<p> S  It’s especially good if it’s a whole maze where the digs are that you could very easily get lost in. When he begins digging on his side, you can always hear the Germans working on the other side of the city, the echos of their equipment.</p>
			<p>G  My whole idea, although it does complicate the way the sun comes through, was that it was all underground. The main dig where they found the city was a hole about the size of a house. When he goes and digs for his thing, he just measures off into the desert and starts digging down, and finally he hits something. He opens it up, a stone or something. So it’s just a little hole about that big. The it leads into a big underground temple. When he gets caught and they close him in down there, they just roll this thing on the hole and the desert’s like the way it was, except he’s trapped down there. Although he could hear some of those people, strange sounds. He could also hear them in the desert, they’re yelling at each other.</p>
			<p>L  When he’s trapped in that tomb, he should get out himself.</p>
			<p>G  There are several things of interest that might work there in terms of the serial aspect of the movie. It’s difficult in the desert, but it is conceivable. <span>(</span>garbled<span>)</span> ...having the room fill with water. Not only do they get trapped in there, the thing starts filling up with water.</p>
			<p>L  Wouldn’t it make more sense for it to be sand? That would be a more logical kind of mechanism.</p>
			<p>G  That might be nice. It’s not nearly as dramatic.</p>
			<p>S  The problem is, you can’t shoot the guy under the sand. The camera is always restricted to just one level.</p>
			<p>G  The thing about water that’s more dramatic is that when it comes crashing in, it goes splashing all over the place. One way of doing it, I thought maybe the city was built on a river. You assume it would be on a river or an oasis. It wouldn’t be built out in .the middle of nowhere. It’s possible that whatever it was dried up over the years. He would go down and there would be a river or a stream that he would be working on the edge of. Maybe a flat thing, and then a cliff and a river bed.</p>
			<p>S  Now to get him out of it, which isn’t easy. We should have a hidden granite rock or something. Something, when forced by the pressure of the water, loosens a rock, that begins to come out. It would be terrific if he were forced into another chamber, the water like a big wave rushing behind him, tumbling him from one passageway to another, really getting hurt. It knocks him against walls. He could wash into the German’s camp. Does he have the ark right now?</p>
			<p>G  No. They’ve taken it away from him at that point. </p>
			<p>S  How big is the ark?</p>
			<p>G  Big, I think.</p>
			<p>S  Does it float?</p>
			<p>G  The ark would be gone by then. They took the ark out and threw him back. I think the ark is about as big as that fire place, a big box. If he’s down in there, there would be... again, this is a little funny. There are little beams and stuff, little trees maybe. Which obviously wouldn’t be down there for two thousand years. The idea was, he could take one big huge beam, as the water is coming in, and he takes a little rock. He ties the rock to the beam, to the end of the beam. And then he takes a couple of other flotsam</p>
			<p> and jetsam sort of whatever he can find that floats, and ties it about halfway up the beam. So he’s got a beam like this and it has a weight on one end and then he’s got a bunch of junk here. As the water takes it up, it rights the beam up like that, and the beam is sort of floating there, suddenly the weight isn’t heavy enough for the things, so it sort of lifts off and it’s floating like this and he pushes it around until it gets in the right position, as the water lifts it up, just the hydraulic pressure of the water lifting it up, because the water can’t sink the...</p>
			<p>S  The beam would stop at some point.</p>
			<p>G  It would stop, but the water would keep rising, and it would push it down. There would be a tremendous amount of pressure, depending on how much junk he had tied to it, to push through something.</p>
			<p>S  It’s a good idea, but I think that at some point the equalization inside the... If it’s that big of a limb that it’s going to push something out, it’s not going to stay upright, it’s going to be floating this way or that way.</p>
			<p>G  If it’s floating, he’d put a weight on one end and he could right it. Then he would just keep tying flotsam onto it. The more flotsam he has here, the more pressure would build up. My original idea was that he just took a beam, and if he shoved it up, eventually the pressure would make it poke through. I thought it would be some kind of big log. But I don’t know why a log would be down there.</p>
			<p>S  I wish there was a way for him to get out of it with no resources.</p>
			<p>L  How’s the water coming in? Maybe that’s the way to go. Maybe there’s a way out at the top of an unreachable ceiling.</p>
			<p>G  But then you know if he’s getting up toward the door, he can get out. L  Let’s talk about the Washington scene.</p>
			<p>G  It’s obviously going to be an expository scene no matter how you do it. We want to do something to make it better than just a regular scene.</p>
			<p>S  It’s better if there are some mummies around.</p>
			<p>G  Our guy should be the one who’s sort of explaining it.</p>
			<p>L  I like that. They’re telling him, but he knows more about it than they do.</p>
			<p>S  Another way to do the scene is, “You think you’re so smart.” Because he knows more than they thought he knew. So they give him test questions. And our guy knows all the answers.</p>
			<p>G  Or it’s possible that they know he knows a lot about this. He knows about it because of his mentor, who has a piece of it. Which is also why they want him to do it. This is a unique way — he comes in with the Colonel and the Colonel says, “What we have here is the legend of the lost Ark. You know all about that, don’t you?” “Yeah, I know every thing about it.” “Here’s a ticket to Cairo.”</p>
			<p>S  Do it as blatantly as possible. They’ll appreciate it.</p>
			<p>G  The other way to do it is let him know about the ark, and not them. Have the Army guy say that they found the lost city. Hitler is going after all these artifacts. He’s believes in all the supernatural stuff and everything. We don’t know what they found out there, but it must be awfully important because they’re sending for this professor. Our guy is</p>
			<p> the one who puts two and two together. Then he sort of explains it. They have all the pieces of the puzzle, and they want him to get whatever the Germans are after. He says, “I’ll tell you what they’re after. They’re after the lost Ark.”</p>
			<p>L  Is there some way to bring in the mural? They’re completely unaware of it, and it’s right there.</p>
			<p>G  Yes, They could have the mural. Maybe they’ve intercepted some photographs of the mural that were found in the city. They snuck off some copies of the German correspondence, drugged one of the couriers or something.</p>
			<p>L  You’re talking about the map of the city?</p>
			<p>G  Yeah.</p>
			<p>L  I’m talking about the frescoes that show the ark being carried before the Army.</p>
			<p>S  The Army crumbling in the path, and the Hebrews valiant and racing behind the Ark, and thousands of Romans clutching their stomachs and light coming out, and they’re covering their ears, they’re shouting, a real mayhem scene. And our guy turns and says. “And that’s what Hitler wants.”</p>
			<p>G  You can do that one of two ways. You can either move the location or you can have it in the room. If you have it in the room it’s going to be, “There’s the lost Ark, right there.” It’s a little convenient. The person we’re really taking on a tour is this Army clown. He’s the ignorant one. So they say they’re looking for the lost ark, and that guy asks them what the lost ark is. Then cut to them in the antiquities part of the museum. You go into that room and say, “This is the lost Ark.” It shouldn’t be right in the office.</p>
			<p>S  Don’t even cut to the actors. We’ll do the whole story on the mural, with their voices over it.</p>
			<p>G  It would be simply that the curator and our hero took this Army guy, or the two Army guys, to show them the lost Ark, and say “This is what the Germans are after.” Instead of being an exposition scene it’s also a puzzle scene. He walks in and solves the puzzle.</p>
			<p>S  At the end the Army guy should be completely in awe of it. “My God, if General Patton only knew.” “I’m not going to tell George. He’d go down there with you.”</p>
			<p>G  I like the idea of him putting all the pieces together. The fact that the Nazis have found this lost city is interesting to them. The Army guys can give a little bit of exposition and information about Hitler, and the fact that he’s going all over the world trying to find Jesus sword and all these other things.</p>
			<p>S  They can give little anecdotes about mystical things he’s been into all this time.</p>
			<p>L  The problem is, this Army guy believed that if Hitler got this, he would be invincible. We can imply that.</p>
			<p>S  He didn’t even need the Ark to attack. Why wait for that?</p>
			<p>G  One Army guy says, “That’s nuts.” The other Army guy says it’s only nuts if you don’t believe in it. But if you believe in it, think of what you might do.</p>
			<p>L  And on the basis of that he has to beat the Germans.</p>
			<p>G  In the end, the basis could be, “It’s not that important to us. But if it’s important to them, then we want it.”</p>
			<p>S  The Army guy should be the opposite of Patton. He should think it’s all a bunch of bullshit.</p>
			<p>G  And why doesn’t the Army go get it themselves? It’s too overt an operation for us to get into with the world on the brink of war. And if we tried to take this operation and get it through the normal channels, they would laugh us crazy. It’s more of a personal thing for this colonel or whoever is doing it. “If the Germans want that so bad, I want it. I want to keep them from having it.” This is a semiofficial thing. The situation is too sensitive to waste the energy on something that’s so nebulous. But it’s important, so they want to at least send this guy off to do it. They just can’t do it as an official Army thing. But if that’s what they find, then the museum will pay him a commission, because they want it. Of course that fouls up the end. Of course in the end if he tells them it is a secret weapon and it destroyed them all, then they decide not to give it to the museum. They stamp “Top Secret” on it and shove it away into a vault somewhere.</p>
			<p>S  It must be explained somewhere in this scene that this will not decide the outcome of the war or when the war will begin. It has nothing to do with that. It will give Hitler a certain kind of comfort that we don’t want him to have.</p>
			<p>G  If he gets it, then he will believe that he’s invincible.</p>
			<p>S  Otherwise the audience will say that this is not very important. That’s what worries me about this part.</p>
			<p>G  They say, “Here’s two tickets to Cairo.” He tells them he needs to go to Shang Hai to pick up something first. He’s going to buy this thing from the Chinese War Lord and he needs X number of dollars to buy it. Immediately he starts spending money. Or we were going to have his guys go get it. We have to set up a thing where he tells the general he’s going to Shang Hai. He doesn’t go to steal it. He will have wired that information to Shang Hai so his agents are doing it.</p>
			<p>L  That bothers me a little bit because it takes away the awesome power of this Chinese War Lord, if you can send just any operatives who happen to be there. He says, “You guys pick it up. I’ll pick it up at the airport.” What it should be is the War Lord, who is pretty frightening himself, doesn’t faze our guy. “I’ll get it from him.”</p>
			<p>G  It could be that he says, “I’m going to Shang Hai. Have two of your best agents meet me there.” And I also want fifty thousand dollars. “What for?” “I have to buy this little artifact. It’s a key to this.”</p>
			<p>L  What happens to that money?</p>
			<p>G  He spends it through the rest of the movie.</p>
			<p>S  What about a vendetta with this War Lord. The War Lord gave him a big scar.</p>
			<p>G  You don’t want to make the whole too ingrown.</p>
			<p>S  So there’s some familiarity there. Would he think of this strange War Lord, someone he’s never seen before?</p>
			<p>G  Obviously he can be aware of where it is, just as we’re aware of a lot of things in the film business. It’s possible that he knows the guy.</p>
			<p>L  He might not know him, but he has to know that it’s there.</p>
			<p> G  He has to know of him and he has to know it’s there. Obviously this guy is one of the big art collectors of the east.</p>
			<p>S  “I worked for him one time. He didn’t pay me.”</p>
			<p>G  Obviously the villain knows he’s there.</p>
			<p>S  This War Lord should be a completely outrageous character, with all the armor and costumes. He should be a barbarian. He only becomes a gentleman around great works of art.</p>
			<p>G  He collects it for some bizarre reason. He collects it because he heard that’s what gentlemen do, and that will make him a gentleman. But lie hasn’t the vaguest idea what it is.</p>
			<p>S  That’s a good angle on his character. Here’s a man who’s desperately trying to become civilized, and he fails at every turn.</p>
			<p>G  Now we cut to the airplane flying across the ocean. Cut to the airplane landing on the ocean, a long shot of him walking out of the airplane and down the dock. Cut to him in airport or whatever met by one or two, maybe one American and one Chinese, agents. He could have sent them a telegram so we could zip by a lot of the exposition. “I’ve made an appointment to meet with General Fu Man Chu.” Somehow they know the Germans are on their way there. So they immediately tell him. What we want to do is very quickly get rid of all that exposition where he explains what he has to do</p>
			<p>L  Somewhere in here we have to mention the staff.</p>
			<p>G  The thing is, do we do it in Washington or do we do it in Shang Hai? Why would he bother to explain it to these guys?</p>
			<p>S  One of the things is to demonstrate, not talk about it.</p>
			<p>G  The demonstration thing would be with the girl when they put it together.</p>
			<p>S  Another kind of demonstration. Like a beautiful vase on a table, that is worth a complete fortune, and they’re all looking at this, and a man carefully puts his glasses on, looks at the vase, takes a hammer and breaks the thing. He divides all the pieces up to be shipped all over the world, and sold. “I hate doing this. I hate destroying great art, but it’s a living.” Bam. Crash. You realize this is what happens to all great works of art to make more money for the greedy bastards. And the audience realizes that is why the staff is in several pieces.</p>
			<p>L  There could be a demonstration of what the staff does before he gets to Nepal. Show why it’s so important without just telling them, without adding to the exposition in Washington.</p>
			<p>G  That was the perfect place for it. In Nepal is when ha talks about, the height of the pole and he puts it together and realizes it’s fourteen, not four.</p>
			<p>L  We have to know what he’s doing in Shang Hai. If you don’t know about that staff, you don’t understand what he’s getting from that War Lord. He can say, “We’re never going to find the lost Ark until I get the Staff of the Sun.” “The what?”</p>
			<p>G  The other way to do it, as I was saying before, is if they intercepted photographs, which they were sending to his rival, that have pictures of the floor of the map. And he knows instantly what it is. It would be good for him to have that information. Instantly he knows they are going to go after the staff. It has been totally unimportant up to now.</p>
			<p> Once you have the map, then you need the staff. All of a sudden it’s very important. This is a map of the lost city. The mayor had a staff with the sun on top, and when you stood there, the sun would shine through it and point to the temple where the Ark is. You could actually explain it backwards, you start with the lost city and you end with the Ark. They have these pictures, they found the lost city, this guy is going, what does it mean? Well, this is the map of the city. The mayor used to stand in this big circle with his staff, and the sun would hit the staff and the sun would then burn into the secret temple of the Ark. Which no one knew except at that time of year, or whatever. The guy says, “What’s the Ark?” “The Ark is what they’re after.” That would work. Then we know everything. They say they’ll send him to Cairo. He says he’s going to Shang Hai because that’s where the top of the statue is. You don’t have to know any more than that.</p>
			<p>L  When he gets the part from Shang Hai, and he gets the girl’s part, how much would he have?</p>
			<p>G  I think he would have the whole staff then.</p>
			<p>L  I was thinking back to where they had part of it.</p>
			<p>G  They have the map and they have the research information.</p>
			<p>L  So it’s in two parts, and she is wearing the sun, and at the bottom of the sun is the number one.</p>
			<p>G  Right, at the point where they were broken apart.</p>
			<p>L  In Sanskrit.</p>
			<p>G  Whatever, it’s in Cairo, but it doesn’t have to be. I only use that because it’s one of those thirties cities. In the research it will probably be an Israeli city. In the middle east somewhere we will be able to find a plausible city. We can say we heard about it in Cairo. We can say whatever we want.</p>
			<p>L  I was seeing it that they had lost it and their fortunes changed.</p>
			<p>G  In the end it will have to be modified to fit the legend. We should try to remain as consistent with the real legend as we can. Whatever holes there are, we can fill. We shouldn’t deny what the legend of the Ark is. The whole concept was that you could talk to God with it. The whole thing has to be believable. When people leave the movie they should think that the Army has this thing in one of their thousand giant warehouses, and that’s where the lost Ark is.</p>
			<p>S  Is it in Washington?</p>
			<p>G  Wherever the Army keeps that top secret stuff. It could probably stay there for eternity, because it’s lost in the bureaucratic shuffle. Now, the thing in the Himalayas we haven’t really hashed out.</p>
			<p>L  How does he get from where he ends the toboggan ride to her?</p>
			<p>G  Oxen. Some local picturesque travel mode. That’s just a couple of second unit shots. He’s within three hundred miles. We are getting into a lot of travel and problems. All you really have to do is dissolve it. One wipe and he’s sitting with her, talking. “Boy, you look in bad shape. What happened to you?” “Well, I’ve had a bad trip.”</p>
			<p>L  Should we have a confrontation between the War Lord and Indiana?</p>
			<p>G  We can have a direct confrontation by having Indy get caught in the act. He’s</p>
			<p> standing there with the thing as the War Lord leads the Nazis into the room. That’s really the way it should work.</p>
			<p>Tape Two-A, Side B</p>
			<p>G  She’s a rough and tumble girl. She says, “It belonged to my father. It’s mine.” We have to have a good scene there. How we get into that scene is the most important part of it. He jumps out of the plane, he lands, he’s all snowy, he looks around, wipe and he’s walking into the thing or he’s sitting there with the girl. Cut to her saying, “Long time no see.” “Yeah, I guess it has been a long time.” Or do you cut to him walking into the bar, and he sort of walks up and sits down and she comes up and says...</p>
			<p>L  I don’t want to throw away their first sight of each other.</p>
			<p>S  I would like very much if she didn’t see him at first, but he witnessed her dealing with a bunch of rowdies. He’s on the other side and he watches her in action. He really gets a lot of respect for her. She’s really grown up. Then he deals with her.</p>
			<p>L  What if we lose him, see her dealing with the rowdies. She clears the place out and then sees him sitting there.</p>
			<p>S  She says, “I’m sick of all this.” And she almost has a nervous break down in front of everybody. She breaks up a fight and tells them to get out. Everybody leaves except for our guy. She doesn’t know who he is because his back is turned. She tries to get rid of him.</p>
			<p>G  You have to be careful, no matter what you do, when he turns around it’s gonna be “Indy.”</p>
			<p>S  He turns around smiling. He planned it for the dramatic effect.</p>
			<p>G  It has to be careful. I like the idea of cutting to her and seeing her in action, tough. She should be Rick, in control of the situation. This is the normal thing for her. She shouldn’t be hectic or frantic.</p>
			<p>L  And I like him to witness this. And she doesn’t know he’s observing.</p>
			<p>G  When they meet there should be some kind of a good scene between them. He should say, “Where’s your father?” “He died five years ago. I sent you a note. We had to bury him up here.” It’s like she’s really rubbing it in. Maybe she didn’t send him a note. Her feeling when he walks in is here is a guy she loved. He left her. She’s stuck up here in the middle of nowhere. All of a sudden out of the blue. he shows up, in the middle of Nepal. Her first reaction would be, “My God, what are you doing here?” Or it could be total sullen... She could still be burning over the thing and the fact that he... Maybe she did send him a note when her father died and he never got it.</p>
			<p>S  I like the idea that she greets him with disdain when he first walks in.</p>
			<p>G  The fact that she sent him a note when her father died five years ago, and she was hoping that he would come and comfort her... He didn’t even acknowledge the note.</p>
			<p>S  She says, “You’re too late.”</p>
			<p>G  He says he’s been traveling around.</p>
			<p>L  I wonder if her first reaction isn’t to hit him. Something unusual, not just a slap.</p>
			<p> First sight, register who it is, wham.</p>
			<p>S  “Still with that right cross I taught you.” G  “Hey, Junie, long time no see.” Wham. S  And she says, “Get out.”</p>
			<p>G  They should refer to the death of the father. The idea is that he’s there to find her father, his old mentor. He’s not there to find her at all. The father had the other part and he thinks he might be able to help him.</p>
			<p>S  She should have hair like Veronica Lake. You only see one eye at a time.</p>
			<p>G  When he asks her for it she could be all pissed off about that stuff, because that’s what got her there. She loved her father, but she puts on this act. It would be interesting if she were putting on an act, “I threw all that junk out when he died. It ruined his life and it ruined my life. I never kept any of that junk. He was a fool.” He says he wanted to buy it. She starts pumping him for money or something, telling him she sold it to an agent and I can tell you who the agent is if you cut me in. That may be later. She says no. Or maybe she says she sold all the junk to an antiquity dealer. She tells him where the junk is. He says thanks. “Was that all you wanted?” “That’s all I wanted.” She says, “Well, why don’t you come back and see me later.” Some kind of thing where he has to come back. Maybe it should be on a personal level. Maybe they become friends. He leaves and then we cut to... She reveals that she’s got it. Instantly you say she’s got it, but she’s not going to give it to him.</p>
			<p>L  The first tender moment is they kiss, embrace, then part. His hand draws away whatever was covering it, and he sees she’s wearing it.</p>
			<p>G  Maybe she could be very tender about it. She’s keeping it because it does remind her of her father and she didn’t want to give it up to him.</p>
			<p>L  He doesn’t have to tell her exactly what he wants, just that it’s one of the artifacts her father had. She tells him she threw it all away. This is the one thing she kept. You can play it either way, she’s holding out on him or she doesn’t know what he’s talking about. He almost walks out. We know she has it, but he doesn’t.</p>
			<p>G  Essentially, he tells her he wants it, and she tells him she wants to get out of here, and how much is he willing to pay for it. But if he went to buy the other thing...</p>
			<p>L  That’s why I was bothered by the money.</p>
			<p>G  Or he could be a nice guy. “Look, I’ll give you fifty thousand dollars for it. I’m just trying to be nice.” “Jesus, fifty thousand dollars. This must be some little trinket.” In the middle of their negotiations the Nazis come in. Maybe by this time they’re out of the bar, gone to the bedroom. Then the Nazis burst in and he protects her. He kills a couple Nazis. She says, “What was that all about?” He tells her they’re after her pendant. “This must be some pendant. What is it, anyway?” He tells her a little about it. “This must be worth more than fifty thousand dollars if the Nazis are willing to kill for it. I want in for half.” He makes the mistake of offering her the money.</p>
			<p>L  I like what you said yesterday, which is that she wants to go back a lady. The fifty grand would do it. That’s what bothers me about his having the money to give her. She’s going to go through a lot of hell now to increase that fifty grand.</p>
			<p>G  But she doesn’t know what kind of hell she is going to go through.</p>
			<p> L  You mean she’s been stuck in this hell hole and she’s going to turn down fifty grand?</p>
			<p>S  Maybe he offers her five hundred dollars and she turns that down, them he offers her six thousand dollars. I know what you’re saying, if she got that money, she’d take it and run.</p>
			<p>G  Let’s not give him the money then. All we have to do is...</p>
			<p>L  We have a million places for him to lose it. On that toboggan ride there could be a shower of money, “To hell with that. I’m lucky to be alive.”</p>
			<p>G  Or he could lose it with the emperor. He doesn’t have to have it. The only reason he has it is so we know he’s not going to steal it from him.</p>
			<p>L  I like him having it and I like him losing it. They’re racing to the airport and the money belt comes off and flies into a junk. Anywhere along the line.</p>
			<p>G  When the Germans burst in, I like the idea that they can’t come to a deal and he leaves. As he walks outside on the street, there’s all these nefarious shadows converging on this one place. On her place. It’s not just a staff car pulling up.</p>
			<p>G  We have to assume that these guys are agents and not just SS officers. Trench- coated.</p>
			<p>S  Like the guys in “The Great Escape.” He hides in the shadows and watches all this take place, and he has to get back to the cafe to save her, rather than just being there and get caught with his pants down. It’s better if he comes to the rescue.</p>
			<p>L  I like the image you conjured yesterday of him being on the balcony and looking down from above. Maybe he could do something neat from up there.</p>
			<p><span>(</span> short gap in tape <span>)</span></p>
			<p>G  This is the first time he’s come into a direct confrontation your standard... </p>
			<p>S  With Nazis you have to use your fists, because they’re despicable people.</p>
			<p>G  That won’t be too much of a problem. It’s just a matter of twisting the situations. I think the first two are unique enough in their own way not to conflict with this. After this we don’t really have that much more before we really get him into the real mess. This could be a big fight.</p>
			<p>L  And I like the fact that he’s somewhere else, either upstairs or coming back in from outside.</p>
			<p>G  It would be nice if they left in a huff, they fought or something. He left rather pissed. I don’t think he would leave without the pendant. That’s the only thing that bothers me about that.</p>
			<p>S  So he goes upstairs and stays up, plotting how he’s going to take it off her.</p>
			<p>G  That makes him into a real rat.</p>
			<p>L  That’s all right. He never does it. What he does is just the opposite, save her life. </p>
			<p>G  No matter how you do it, the fact that he thought about it is the rat part.</p>
			<p> S  Rhett Butler was a rat. </p>
			<p>G  He wasn’t a real rat.</p>
			<p>S  He proved himself by raising her family. Before that he was a gambler, dealt with cheap ladies.</p>
			<p>G  There’s a difference between being a rat and somebody who’s having fun. He never hurt anybody.</p>
			<p>L  I’m a little confused about Indiana at this point. I thought he’d do anything for this pendant.</p>
			<p>G  But he still has to have some moral scruples. He has to be a person we can look up to. We’re doing a role model for little kids, so we have to be careful. We need someone who’s honest, trusting and true. But at the same time he’s confronted with this difficult problem. We have a great thing when she won’t give it to him. She doesn’t like him.</p>
			<p>L  What if you see them separate, and you see them both thinking about it, and it’s clear that she’s going to give it to him. Then he saves her and she doubts his motivation, was he coming to steal it? Or was he coming to rekindle the romance? It doesn’t have to be crystal clear to her.</p>
			<p>G  You could have it where he finds the pendant, they have some kind of a thing and she hides it.</p>
			<p>L  Although in the fight it would be great if she were wearing it.</p>
			<p>G  Maybe she was writing a note to give it to him, when they attack. She takes it off. </p>
			<p>L  ”I’m enclosing the pendant.”</p>
			<p>G  If she took it off and it’s sitting right there on the desk, it more or less has the same effect. The Germans come in and start punching her around and asking where the pendant is. And it’s sitting right there.</p>
			<p>S  What’s it made of?</p>
			<p>G  It’s stone.</p>
			<p>L  I thought it was metal.</p>
			<p>G  It could be metal. It can’t be wood because it’s too old. If it’s right there on the desk, the pendant is in jeopardy.</p>
			<p>S  During the fight show feet almost stepping on it.</p>
			<p>G  All you have to do is have her have a little wooden box. She takes the pendant off and puts it in. She starts writing the note and the Germans come in. One of the Germans puts his hand on the box and asks where the pendant is. He comes in and they have a fight. In the middle of the fight they knock over the table and the little box breaks open. The pendant goes rolling across the floor.</p>
			<p>Immediately you think somebody is going to see it. It’s sitting out there. You’re afraid one of the Germans is going to notice it. He finally gets rid of the Germans and he picks it up.</p>
			<p>L  I love the idea of fire. When it rolls across the floor could it roll into the fire. You don’t think it’s going to burn up, but he has to retrieve it. Maybe at the same moment he uses the fire as a weapon. I’d love it if he burns down her only stake in the world, which is the inn.</p>
			<p>S  That’s a good idea.</p>
			<p>L  The pendant might lead him to the fire. He uses the fire.</p>
			<p>G  The Nazis would do that. Let’s have the Nazis cause the fire. He’s the one who brought the Nazis there, so it’s all his fault anyway. I like the idea of doing the old branding iron scene before bursts in.</p>
			<p>S  I love branding iron stuff. It’s a red hot poker.</p>
			<p>G  That’s what starts the poker. It starts immediately on the fight. When he comes in he knocks the poker out of their hands. The poker goes into the curtains and immediately starts the fire. They fight. The box gets knocked off the table. One of the Nazis sees the pendant as it falls, and starts to go floor it. He gets hit in the head by a falling beam or something. When it’s all over they end up with the pendant and a pile of rubble. She says, “You’re going to be a long time paying for this.” The he feels sort of obligated to bring her along, since he does feel sort of guilty. She has to sort of insist. That’s why it’s important in the first scene that we understand she’s a tough broad. She doesn’t give a shit about going out and roughing it up a bit. But she has no idea what they’re in for. She wants to get out of there, and she still loves that guy.</p>
			<p>S  She can say. “Charlie, you’re my ticket home.” Wouldn’t the Germans pull guns and start shooting?</p>
			<p>G  Yes, but he comes in and uses his whip. He also maybe has a gun. You have to decide how many Nazis you want. You don’t have to have twenty Nazis, just a couple of agents.</p>
			<p>S  There should be one big Nazi, the torture guy, 6’ 6” weighing 290 pounds, wearing this huge overcoat. He’s the guy if our guy hits him in the jaw it doesn’t even, he only hurts his hand.</p>
			<p>G  And you have the local yokels, the two guys with the tommy guns and the furry over coats, yak coats, just off the border war, or whatever. Sort of local interpreters they picked up. Right now we’ve got about five — two local yocals, one big Nazi, and two other Nazis.</p>
			<p>S  This Nazi is struggling with our hero, and they’re kind of rolling on the ground, and one of these henchmen is standing at the door trying to get a clear shot because they keep moving. Two of the other Germans who are struggling with the girl say, “Shoot both of them.” The German who’s rolling around with our hero panics, pulls out his own gun and shoots the guy with the Tommy gun, kills them both to save himself.</p>
			<p>L  All the bad guys in this movie are so vile, they turn on themselves. Now they’re standing on the rubble.</p>
			<p>G  Cut to Cairo.</p>
			<p>L  Let me ask you one thing about this fight, how gory do you guys see this movie? S  Not very.</p>
			<p>G  Not very. It should be Saturday matinee violence.</p>
			<p>L  How about death by fire?</p>
			<p> G  That’s okay. Now we have two people in Cairo. We have his old friend, who’s an archeologist who’s digging out there. And we have his old friend, the Arab digger. He is like a workman/foreman. He’s like his old sidekick. He’s got the Arab kid. That’s where they stay. Obviously he was doing some digs there at one time, and they go back a long way.</p>
			<p>S  He’s a Walter Huston Arab type.</p>
			<p>G  And he has a young son who’s our tag-along. S  Never stops talking.</p>
			<p>G  The crazy little Arab kid that’s really a pickpocket. The old man is poor but very well connected. He’s the one who gets him the boat and the tools and the information. Plus, he probably knows a lot about what the Germans are doing. He’s like the chief digger in the area. Obviously the Germans have hired all these diggers, so he knows what’s going on out there, because they keep telling him every day. He gets updates on the situation.</p>
			<p>L  How do you guys feel about subtitles?</p>
			<p>S  I don’t like them.</p>
			<p>G  I don’t either. I think it is better if we don’t understand what they’re saying. </p>
			<p>S  I like hearing English with a German accent.</p>
			<p>G  It depends on how you work it, but I like hearing people speak in their native tongue, except for people who have a right to speak in a different tongue. You don’t have to talk to the people who speak in a funny tongue. Only the lead characters speak broken English, everybody else speaks what they speak.</p>
			<p>L  What about when Indiana assumes German, should we know what he’s saying? </p>
			<p>S  When does he assume German?</p>
			<p>G  When he’s carrying the Ark to the truck. I don’t know that it’s important we know what he’s saying. There’s more tension if you don’t know what’s going on.</p>
			<p>L  Let’s say the arch-villain is French. When he’s speaking to this German... </p>
			<p>G  Maybe they could speak English.</p>
			<p>S  Maybe the arch-villain is smart enough to speak German, but they’re not smart enough to speak French.</p>
			<p>L  What about the Arab kid. He’s just talking endlessly and you never understand what he’s saying.</p>
			<p>G  But if he’s going to be the buffoon character, you’re going to want to understand him.</p>
			<p>S  Maybe he slows down once in a while to say something stupid. When he talks fast you just don’t care.</p>
			<p>G  We might be able to play on that. It’s conceivable that he and his father could speak English because they work with English archeologists all the time.</p>
			<p> L  I’ll write the entire movie in English.</p>
			<p>G  I think he should go to his friend first, because then we can get a reevaluation of what’s going on. We have a scene around the dinner table with eighteen kids. We find out that the Germans have made a make-shift staff. The French professor has made it and used it to pin-point the temple. They are now digging for the temple. It’s great, the Germans have already found the temple and they’re trying to dig it up. ‘The old man says, “Don’t worry. I’m making it slow. It will take them forever to find it. We had a cave-in yesterday.” Or maybe he says they will make a cave-in to slow them down. That’s the exposition that goes on in that scene. I wonder if his friend should be the one who helps find the number. We don’t have time to do that in the Himalayas. Then he goes to his friend who is digging on another project. He’s working on the thing he’s been working on for years. He’s sort of an east coast Yalie. He’s his old roommate. Same age. But he’s gone the straight route. He goes to him at his digs, or maybe a cafe scene. Maybe he meets him at the digs and they go to one of these cafes to talk. The guy doesn’t like him too much. You can tell they’re close friends, but the guy disapproves of what Indy is doing. He doesn’t hate him for it, but at the same time he wonders why he didn’t go straight. I thought that could be a place where the friend helps him put it together. You get rid of a piece of exposition there about the thing.</p>
			<p>L  That would have to be in the privacy of someone’s quarters, not in a cafe. Let’s say she’s wearing the pendant, it’s metal, and the part below it might be flat. It could be of some size so that he could strap it to his body. But we don’t want it to be too small, because then they’d have two small pieces.</p>
			<p>G  If it was about that tall and that wide he could either tape it under his arm or on his ankle, but it would be flat sort of like a metal knife.</p>
			<p>L  I like that his friend and he are there when he first puts it together.</p>
			<p>G  And his friend helps him. His friend is really more of a scholarly archeologist than he is. It’s old college buddies. It’s “The Turning Point.” Originally it was a puzzle that everyone was puzzling over. And it was his buddy that found the key. I don’t know if the scene with his buddy should be the next scene. It might be good to have the Arab scene, then have an action/danger scene, and then have the scene with the friend. Then the next place we’re going is when he’s on the dune overlooking the camp and he sees all these tanks and stuff.</p>
			<p>L  An action scene could be a Cairo street scene, tents and big sword.</p>
			<p>G  They also have daggers. It’s the kind of scene where he’s maybe getting followed. A bunch of Arabs try to jump him in the street and there’s a Nazi with them. They know that he’s there.</p>
			<p>L  Now she...</p>
			<p>G  Tags along. Before, this is where I had her go off with the Germans and come back with all the information. But I think we can get the information from the digger.</p>
			<p>S  I don’t know what we do with her.</p>
			<p>G  How about if we have her kidnapped?</p>
			<p>S  Who would kidnap her, and for what reason?</p>
			<p>G  The Arabs. Maybe they’re going to rape her. White slavery.</p>
			<p>S  I would rather have a plot kidnapping than just a carnal kidnapping.</p>
			<p> G  If he gets jumped on the street and they take her, it’s obviously the Nazis, maybe they’re taking her to find out what she knows. He fights them off, but they get her in the process. They take her alive rather than kill her so they can find out what they know and what he’s after. Maybe these are semi-agents of the Nazis, but more agents of the Frenchman. It’s something he is more interested in. Or they’re Nazi agents. One Nazi and a bunch of Arabs. Maybe there’s some writing on the thing that he can’t decipher. In the scene at the home in Cairo he’s putting the thing together and he’s trying to read some of the stuff and he can’t. He shows it to the Arab and he can’t read it. It’s much older than anything he knows. Then he says, “Is Phil still around?” Yes. Maybe Phil can read it. He takes the thing to him to try and find out what it says. It’s on the way there that they get Shang Haied. There is where you can have a great street fight. Maybe use his bullwhip. In the process she gets captured.</p>
			<p>S  Whisked away to a waiting staff car.</p>
			<p>L  How does he react to that? Does he go on to see Phil? Or does he go right after her?</p>
			<p>G  Yes. It seems pretty mundane that he would go on to Phil after that.</p>
			<p>L  Is there some way to really convince him she has died?</p>
			<p>G  That’s fun.</p>
			<p>L  But you have to do it really well, and I don’t know how. And then he could feel bad about it until he sees her again.</p>
			<p>S  It could be the “Obsession” trick. The car she’s in goes offhand disappears, then appears again, goes off again and appears again, then it goes off a cliff and burns. In fact, on one of those dog-legs to the left they jumped out with her and the driver went off alone and he actually crashed. We and Indy feel that she’s dead when we see the car burning at the bottom of a cliff.</p>
			<p>G  That would work. You can sort of cheat. It’s all images of a girl in the back seat just before the thing goes over. You don’t really see her, but you think you do. You are convinced that it actually happened. Or, you see the cars switch, another comes in and takes over. But Indy knows and isn’t fooled by it. You sort of think that he’s going to go after the wrong car, but he doesn’t, he goes after the right car. And that’s the car that crashes. What we don’t know is also in the process of that, there’s another switch that happens that we don’t see. There are two switches. We see the first one happen. The second one is set up the same way.</p>
			<p>S  That’s good.</p>
			<p>G  What can he chase them with? What if he jumps on a camel?</p>
			<p>S  I love it. It’s a great idea. There’s never been a camel chase before. L  Is this camel going to chase a car?</p>
			<p>S  You know how fast a camel can run? Not only that, he can jump over vegetable carts and things. It could be a funny chase that ends in tragedy. You’re laughing your head off and suddenly. “My God, she’s dead.”</p>
			<p>G  We have to have another way of getting them off the cliff. They start getting on the outskirts of town, going along this mountain road. He doesn’t follow them down the road, he goes over the hill. You have shots of him racing along and shots of them racing along. He sort of comes down right in front of them, with a gun. They’re riding along and he’s pointing a gun at them, and they go off the thing. That’s a way for him to get them to crash.</p>
			<p>S  And he thinks he killed her.</p>
			<p>G  “This isn’t working out at all.” It’s a cheat, but we could have a piece of her clothing or something. Or her purse.</p>
			<p>S  When do we have the big fight with the flying wing?</p>
			<p>G  That’s once he gets into the camp. It’s a secret landing strip, too. It’s what they were going to use to fly the ark back to Germany.</p>
			<p>S  We still have the big fight in the moving truck to do. And now we have a camel chase.</p>
			<p>G  We’ve added another million dollars.</p>
			<p>S  Not really. How much trouble can a camel be.</p>
			<p>G  It will be funny. It’s also great because the camel is so outmatched with the car. Once he gets out of town you realize the car is going to outrun him, so he veers off. It has a whole lot of twists in it.</p>
			<p>S  And when you cut to a close shot of the hero, it’s really erratic and bumpy. He can go through clotheslines. The car goes under the clothes and half the clothes on the line are wrapped around the camel for about a block.</p>
			<p>G  Then we have the scene with the old friend. It will be better because he feels terrible. They can talk about old times, his wife and his mother and the dorm, whatever. “This thing has cost me more than I...” And it will be a great moment when he goes in the tent and she’s there all tied up, ropes all around her and a gag. She’s over in a corner somewhere.</p>
			<p>L  You mean she’s not going to be in a rolled-up rug? And he rolls out the rug. So we get rid of her for a while.</p>
			<p>G  It’s only for a couple scenes. He sees his old friend and his old friend puts the thing together and gives him the clue about the change in the exposition. He’s mourning the girl, and that’s where we find out it’s fourteen feet instead of four feet.</p>
			<p>L  Maybe the friend helps him build the staff. He would have a lot of stuff, especially at a dig. How are they going to carry it around?</p>
			<p>G  It doesn’t have to be fourteen feet. It could be inches. It has to be in hands anyway. It’s some ancient Hebrew measuring system that’s translated into whatever you want.</p>
			<p>Tape Three, Side A</p>
			<p>G  He goes out with Sabu, the Arab clown, and the girl. No, the girl is gone. L  And the number one son of the digger.</p>
			<p>G  Well, number twenty-three son. The girl has been kidnapped already...</p>
			<p> S  And he’s sad and remorseful.</p>
			<p>G  Kidnapped and killed. He killed her, then talked to his old friend. In the scene with the old friend it might be interesting to zap it with something. Meaning a shadow on the wall... We don’t want the bad guys to find out about the trick, the discrepancy. At the same time, if one of the waiters started to pull out a knife... Some kind of thing to hype that scene in terms of action and suspense and terror. Maybe somebody plants a bomb while they’re talking. An Arab walks by and leaves something, then walks off. At the last minute he figures it out or something and they duck and the thing blows up.</p>
			<p>S  An Arab sent by the Germans?</p>
			<p>G  Somebody who was following him.</p>
			<p>S  What if the guy who’s bringing the tray of food in is pouring powder in the drinks all through the food and the soup. He’s laced everything with poison, for both of them. He brings it in and sets it down, and they’re wrapped up in conversation, but the food is always there with this implied threat. At one point our hero would take the chicken and just start gesturing with it. He’s too caught up to eat it. He’s not paying attention and this cat jumps up on the table and nibbles on the food. The cat freaks, just goes crazy and jumps up, climbs up the walls. He says. “I’m not going to eat this.” What if it’s an animal we hate, an animal the audience can’t stand. It’s always after our hero and doesn’t like him very much, like a mongoose.</p>
			<p>G  A monkey is a perfect thing.</p>
			<p>S  What animal don’t people like?</p>
			<p>G  A rat.</p>
			<p>S  A pet rat.</p>
			<p>G  It doesn’t have to be a pet.</p>
			<p>L  He’s looking the other way, the rat comes up. </p>
			<p>S  That’s a pretty brave rat.</p>
			<p>G  It wouldn’t come on the table.</p>
			<p>G  Let’s say we make two scenes with this old friend, or maybe even three. After the girl dies maybe we can cut back to him and the Arab family, a very short remorse scene. We say where he’s going. An expression of grief from the family. Then we go to the old friend.</p>
			<p>L  They were on their way there when the whole thing started.</p>
			<p>G  Rather than she dies and he just continues on his way, he goes back and we have a short scene with the family, consoling. Maybe the old man gives him another piece of information about what the Nazis are doing, so we move the plot along just a bit. It’s very short. Half a page or a page. Mainly it’s just a little respite. Now we know he’s going back on his mission again. That way it makes her getting killed into a little more of a thing.</p>
			<p>L  The minute they hit Cairo we can assume they’re being followed. Maybe this Arab operative is the one who has the monkey. It’s a villain monkey. The Arab can make him do things, and he sends him in there to steal the piece.</p>
			<p> G  They arrive at the airport or whatever.</p>
			<p>L  We don’t see them at the airport.</p>
			<p>G  So we cut from the Himalayas to Cairo, busy streets. We see them walking down the street. We realize they’re being followed. The guy is carrying a cage or a little box. And this can be like two or three shots. They stop for a second. She stops to look at something. He’s irritated and wants to keep moving. The guy opens up the little cage and he pets the little monkey and sends him off. The little monkey goes to the girl or to the guy and makes friends, and tags along. They get to the house and the monkey comes in. They can’t get rid of this monkey. The girl says she loves the monkey. The guy says to get rid of it. The monkey is making faces and doing cute things. You establish the monkey. Oh the street they’re going to the friends house and the monkey is riding on the guys shoulder or something. It goes on the camel chase and everything. Then you go back to the friend’s house for this little respite scene and they write something down. Or they do it in the first scene. The monkey looks around as they write something down. The monkey picks up the piece of paper and goes out and gives it to a guy outside and then comes back. He’s like a little spy. It has to happen real quick because it’s very short until the time we want to kill him. He kill the monkey spy.</p>
			<p>S  Can it wear a turban? It should be dressed up.</p>
			<p>G  Yes. In these three scenes, because the fourth scene is where he dies, we have to establish that he’s spying on them.</p>
			<p>S  What is the monkey trying to get?</p>
			<p>G  Information, pieces of paper and things.</p>
			<p>L  Before we kill this monkey, I want to really make him a villain. What if he is along when they’re headed out to the friends. The ambush takes place and as Indy is fighting them off, the girl jumps into a basket to hide and the monkey leads the Arabs to the girl. That’s how they get her.</p>
			<p>G  That’s good.</p>
			<p>S  Also, there’s this sleeping cat that the monkey knocks in the face. Something you really hate the monkey for.</p>
			<p>G  That can be over the dinner table. I like the cat coming up and starting to eat the food and the monkey whacks it and takes the food away from it.</p>
			<p>L  He charms his way into their confidence.</p>
			<p>S  The monkey should be dressed up as a little Arab.</p>
			<p>G  I like the idea of not only having a turban, but also a little backpack. When he’s in the thing, he’s sort of picking up letters, any mail, scraps of paper, wads it up and puts it in his pack. We give him a chance in one of these scenes... He follows them down the street.</p>
			<p>L  He doesn’t have to follow them, they take him with them. He climbs on and they can’t get him off. When she’s taken away, he could just go back to his master. Then when Indy is with the friend, he could appear again. Indy is not going to suspect the monkey.</p>
			<p>G  When they get ambushed on the way to the house, we have to have that short scene when the monkey takes all the stuff out of his pack and gives it to the guy. What if we do that before. I don’t want to have a big scene where they say they’re going to leave. We should do these in cuts. They’re walking down the street, the monkey is on his shoulder. Suddenly the monkey jumps off and runs away. She yells for him to come back. He says good riddance. Then you follow him and takes all his stuff out and gives it to some guy.</p>
			<p>L  The same guy who dropped him off.</p>
			<p>G  And then you follow that guy and he sort of signals to somebody and then they attack. In the middle of the fight the monkey sort of appears again. When she hides the monkey runs over to the thing and points her out. He gets on the camel. You cut back to the home and he’s back there lamenting, and the monkey comes back in.</p>
			<p>S  <span>(</span>garbled, something about the monkey going “Heil Hitler.”<span>)</span></p>
			<p>G  That’s up to you and the trainer, and the monkey.</p>
			<p>L  The monkey could come back in the quiet scene and put his arm around him.</p>
			<p>G  You might even want to play it where he thinks the monkey ran when the bad guys came. Back at the house when the monkey comes in the window. “At least you came back.” At the next scene with the old friend the monkey is there. The monkey beats up the cat. We break this into three partS  the first scene is with the family, the second is at the digs wherever this old friend is working, or the house. You go into one of these nice Arabian houses, with servants and everything. I like the idea of them catching this servant. The servant brings in the food, then goes out. There’s a scuffle outside, a fight, and our guy goes out. They think he’s there to spy or something. You don’t know there’s poison. It should happen before they put the thing together and discover the mistake. It’s important that it be very clear that whoever the spy is, the poisoner, has no idea that they are making that discovery. The other thing is, possibly when they’re writing stuff down we could still have the monkey taking something, being a thief in that scene too. It would be interesting if Indy caught the guy or the other servants caught the guy. Something where he’s sort of found out afterwards. I don’t know how important that is. We have to see him do the poison. We cut from the digs when he says, “Come on over and have some dinner.” Cut to the servant putting the powder on the stuff and bringing it into them.</p>
			<p>L  I don’t know why it concerns you that he get caught. Let’s say he puts in the poison and then take off. He wouldn’t hang around there. He’s not a listening spy, he’s a poisoning spy. He takes off, they continue their conversation, the monkey eats the food and drops dead.</p>
			<p>G  It would be more plausible if the guy... You cut to them going into the house, and they’re being followed. When they go in the house you follow the bad guy. He goes into the back, into the kitchen. He poisons the food without the servants knowing it. The regular servant brings the food in. If it’s a strange servant, the guy would know. Nobody would know there’s poison. Even the monkey wouldn’t know.</p>
			<p>L  The monkey comes with Indy?</p>
			<p>G  Right. You’re going to have the monkey in four or five scenes. S  Monkeys bite.</p>
			<p>L  The monkey drops dead and then they get to the staff.</p>
			<p>S  What does this scene accomplish between the two of them?</p>
			<p> G  Plotwise, they’re discovering the major difference between the new and the old. We get a little bit of old friendship, a little bit of character stuff about them. Plus we have the tension of the poison going on through the whole thing.</p>
			<p>L  Where do you see the digs?</p>
			<p>G  I see them sort of in the city. There are city digs and distant digs. One of the reasons I was worried about them catching the guy was I was worried about the guy hearing. What would be interesting, this might be too complex, they’re sitting there talking with a plate of poison food. There has to be one thing that they would eat around the dip or bread, something you might not eat, like the olives or something. It would be off to the side, not something that’s on their plates.</p>
			<p>L  The real servant brought in the food, and they’re engrossed and they just don’t get to it yet. Then when they get really close to the puzzle, behind their back the monkey is eating. So they say, “This puts us way up on the Germans. Let’s have a bite to eat.”</p>
			<p>G  I was thinking they bring in the couscous and stuff, and they put a plate of olives there.</p>
			<p>L  Would the guy put the poison just on the olives?</p>
			<p>G  That’s all he could get to. That’s the only thing he could find in the kitchen. Maybe it’s an oil he pours on the olives. The olives are sitting there, and they’re eating, and maybe a guy reaches for an olive and drops it. He throws one up and he misses it, it bounces off his forehead. This is is while they’re carrying on their exposition conversation, and just beginning to talk about the thing. They haven’t really mentioned the fact that he has the thing. As he grabs for another olive, he sees a shadow on the wall, or something behind the window. He maybe grabs his bullwhip and gets the guy. That’s the guy who poisoned the food and is also listening in on them. He has to do away with him. The guy has to be run off or killed. The guy asks what he was after. He was after this thing that I got. We know the guy is nowhere around when they talk about it. That gives them a break to get away from their meal. While they’re doing that, the monkey is eating the food. I don’t know if he even needs the staff. The guy just takes a string and says this is eighty-nine inches. Then he takes it and puts it in his picket, so when he gets down there he can just take the string off and measure off a stick somewhere, break it off and use it. When they say that’s the answer to the thing they realize the Germans must be digging in the wrong place. They turn around and the monkey is dying.</p>
			<p>S  I think it would be funny if, as they’re talking about this and the olives are between them, you see a hairy little paw is pulling olives off the plate, coming in and out of frame. Finally the paw comes up to grab an olive and begins slipping, like palsy. You use a little mechanical paw. And then you hear a thump.</p>
			<p>G  The monkey eats the olives during the exposition. It would be great if the monkey keeled over with the olive in his hand. “I wouldn’t eat those olives.”</p>
			<p>S  As our hero looks over and sees this dead monkey with pits all around him, his friend is tossing one up, and he finally catches one in his mouth. “Hey, I got got one.” Our guy hits him on the back and makes him spit it out, saves him at the last minute.</p>
			<p>G  Either one can save the other. He flips it up, and as it’s going into his mouth, the other guy grabs it. The guy asks him why in the hell he did that. He points to the monkey sprawled out with pits all over him. “Bad olives.”</p>
			<p>L  One thing that bothers me, the monkey eats just the olives? He can eat other stuff, too.</p>
			<p> G  Rather than olives, it could be dates. They would stick to his head instead of bounce off. It’s better with olives, an olive would bounce around the room. The good thing about dates is that’s something monkeys would be crazy about.</p>
			<p>L  How does he put the poison on them?</p>
			<p>G  He could do it with an oil. You assume it would dry up. Maybe it’s just a liquid that he pours on. They look like they’ve just been washed. You see a guy washing the dates and putting them in a bowl, then the other guy comes in and pours this stuff on them.</p>
			<p>S  Is this a daytime scene.</p>
			<p>G  I always envisioned it as a nighttime scene.</p>
			<p>S  When the Arab is outside listening, can they be in kind of a tent thing? The only time you see the Arab is when some headlights go by and make the wall translucent.</p>
			<p>G  They had a lot of french doors over there.</p>
			<p>S  When it’s backlit you see the shadow of a man that’s not there without the lighting.</p>
			<p>G  Or you can have a giant shade that’s pulled down.</p>
			<p>S  Does he go outside and kill him?</p>
			<p>G  That’s what we have to decide.</p>
			<p>L  What could he do with a date that would start a sort of Rube Goldberg kind of thing? Very simple, but it would spook this guy.</p>
			<p>G  That’s hard with a date. I want to get rid of him so we know they didn’t learn about the thing.</p>
			<p>S  What if he does hear. Just as they’re talking about the fourteen inches, the headlights sweep by and our hero sees him. We know the guy knows. Now we have to stop him from taking this information back. When the second pair of headlights sweep buy there’s nobody there anymore. So our guy quickly gets up, runs outside, and hears footsteps. Then we can justify his wiping this guy out. Either that, or he’s run over by a car in his haste to escape.</p>
			<p>L  I don’t understand why you want to keep him around.</p>
			<p>G  I just want to establish without a doubt...</p>
			<p>L  He barely gets the poison on the dates, then he runs off.</p>
			<p>G  The audience will think he’s hanging around somewhere. I would think that, to make sure it worked. And he would hear them.</p>
			<p>S  You know how when somebody is watching, you begin to talk normally. The guy says, “Listen, I feel a draft. I’m going to close the window.” He walks over, to the window, reaches out, and the pulls the guy in the window. Right through all the stuff.</p>
			<p>G  I don’t think he has to kill him. He can either knock him cut, or he can catch him. But if you catch him, you have to sort of give him to somebody. That takes a lot of time.</p>
			<p>L  You can have his own people kill him...<span>(</span>garbled<span>)</span></p>
			<p> G  I think the idea of him throwing the date... If it were a peach or banana it would be easier. If there was a big stone beam, and under it was the canvas, and above the beam it’s open, with a lot of pots on the beam. He could throw the thing and hit one of the pots and the pot could fall over and hit the guy on the head, knock him out. “Who is he?” “He was trying to get to this.”</p>
			<p>L  I don’t think it’s a problem if this guy isn’t hanging around.</p>
			<p>S  I don’t mind if he runs away after he poisons, just cut outside and this guy is running and he jumps on a truck.</p>
			<p>G  Okay. We’ll assume his job was to poison, not to listen.</p>
			<p>L  The monkey is dead, we establish the fourteen, he says goodbye to his friend. Is this the last time we see this guy?</p>
			<p>G  Yes. At one point I had him at the boat to see him off, but then I decided the family would be better. But we can use him there if we want. The girl is going to be sent back with the kid. The old digger would have all the contacts.</p>
			<p>L  Then he goes out there for the first time, with Sabu.</p>
			<p>G  Right. And he looks over the hill and there are all these Germans and tanks and tents. He has to figure out a way down there. What he has to do is try to get down into the diggings, set up the staff, and figure out where the temple is.</p>
			<p>L  At the right time of day.</p>
			<p>G  So he would be sitting up on the hill waiting for that time. We were talking about sunrise or sunset, because then it’s a fixed time.</p>
			<p>L  What does that do for the angle?</p>
			<p>G  I know. If it’s down in a hole it doesn’t work.</p>
			<p>S  It has to be up high enough to get into the hole.</p>
			<p>G  The problem is if it’s a big thing on the side of a mountain or something, then it’s a big deal. Plus the fact that why didn’t they find this city before.</p>
			<p>L  What if they have dug it out, and the map is on the wall instead of the floor. Then you will get a spot of light.</p>
			<p>G  You can also make it a big hole, like a hundred by a hundred feet. It’s really been dug out. The sun comes down and one wall of the hole is part of the temple, and maybe it is on the wall. The idea is that it angled down. We have to make sure that the height of the thing would make a difference.</p>
			<p>L  It seems like it would be easier to understand if it’s on the floor. How important is it that it be at sunrise?</p>
			<p>G  It’s not crucial. But it’s very hard to fix a time, three candles. I think you might be able to make it work at sunrise. I know how to do it. In these stills that we have, with pictures of the map and everything, we can also see pictures of the layout of the temple. Maybe it is in the ground, but when they’ve excavated it out, there’s a big hole in the top of this temple. There’s photographs of the hole and photographs of the thing. All our friend has to do is say, “When the sun hits that hole, and you stand in the center of this symbol...” There’s a big symbol on the floor, there’s a map on the floor, and there’s a big hole in the ceiling. “When you stand on the symbol with the staff, and the sun hits the rim of the hole, it will shine through and fall on the map.” All we’ve done is raise the horizon. Instead of having it be down there, we’ve made the horizon this hole in the ceiling.</p>
			<p>L  It’s the original hole?</p>
			<p>G  Right. We see stills of it in Washington. And he says it he explains how the sun would come through the hole in the ceiling and the sun would come through the staff and point to the temple. All he has to do is figure out himself... He sees the photos and says, “I figure the sun is going to come through that hole at about 7:33.”</p>
			<p>L  We don’t want this hole to be too small. G  No. It’s a big hole, like a skylight.</p>
			<p>L  then you would see the sun... Are we creating two points already before they even get to the... As soon as we have two points, we have a line. Are we creating a second point with the hole? So they wouldn’t even have to know how high to make the staff. It would be determined. A line of light would come into the room like this, and their staff would be down here.</p>
			<p>S  They wouldn’t know how high to make it.</p>
			<p>G  Look at it like this. <span>(</span>demonstrates<span>)</span></p>
			<p>L  You’re saying that when the sun hits the hole, the entire area is flooded with light.</p>
			<p>G  Yes.</p>
			<p>L  I was thinking that when it hits the hole, and the light is moving across here like this, you know that’s the time, there’s like a line of light...</p>
			<p>G  It wouldn’t work.</p>
			<p>L  Why? You’d have a line which is the sun and this building. You would see it. There would be darkness here and light here.</p>
			<p>G  Suppose this is what they found on the floor. One of these three places is the temple. We don’t know which one it is. If you have the staff in the thing so that it’s standing up, it doesn’t matter where the sun is.</p>
			<p>L  The only thing that’s changed is that daylight comes later to this temple. As soon as there’s daylight in the temple, you can make your calculation.</p>
			<p>G  What it will do is the staff will cast a shadow, and then the circle on the thing with the hole in it will... the shadow will go across this like that because on the tip, at the end of the shadow, there will be a light in the center of that shadow.</p>
			<p>L  The shadow of the staff will get increasingly shorter as the sun rises.</p>
			<p>G  Right. The length of the shadow is determined by the time of the day. The time of the day is fixed by when it first comes over that thing.</p>
			<p>S  The only problem there is that it’s changed by the time of the year.</p>
			<p>G  When the guy talks to his friend, they’re discussing it, and he’s explaining in detail.</p>
			<p> Again, we have a rough idea in Washington. With the guy we say the staff has to be fourteen feet high. And they’re both archeologists, they know all this stuff. The ceremony of the great sun god was on the Ides of March. Your Ides of March then is equivalent to December today. So it will be off by about three feet.</p>
			<p>S  So they compensate for it.</p>
			<p>G  If you went out there tomorrow, it would be about three feet off from where it is.</p>
			<p>L  One thing this takes away is that moment he sticks the staff in the floor. He can’t do that any more.</p>
			<p>S  Why?</p>
			<p>L  Because he’s not compensating.</p>
			<p>G  It depends on how dramatic you want to do it. You can ignore that whole aspect of it. The idea is, he puts the staff down and you pan across, and there is that little square with the light shining in it and you say, “That’s it.” Or you do it <span>(</span>garbled<span>)</span>... and he points over three feet and that’s where it is.</p>
			<p>L  It could be at the right time.</p>
			<p>G  That’s quite a coincidence. The guy could just acknowledge that the sign lines up on the third Ide of March or something, which is December 13 in our time. We don’t explain anything further. We don’t even connect it. So he goes out to the desert with Sabu and looks over the thing. Do we have him do any snappiness to get down there, or do we have him tell Sabu to stay there and wait, and have shots of him sneaking down past guards and slipping down into the hole.</p>
			<p>S  All the Germans are drunk and they have this woman dancing around the campfire.</p>
			<p>L  It’s sunrise, everybody is sleeping.</p>
			<p>G  He stands on the hill dressed like Lawrence of Arabia. He and the kid walk in. The kid is obviously scared to death. He goes down in the hole and the kid stays up there, being scared to death, and all the Germans are walking around.</p>
			<p>S  He walks right into the German camp, as an Arab.</p>
			<p>G  Right. There are Arabs in the camp, and they’re his friends.</p>
			<p>S  He walks through the camp and one of the Germans says, “Hey you.” The guy turns and the German puts up his plate for seconds, and our hero sees all these big kettles for breakfast. So he has to take this stuff and feed the Germans.</p>
			<p>G  That would be a good thing to happen to the kid. He’s sort of waiting there by the hole and the German yells to him, and the kid panics. He’s sort of serving the Germans, and is scared to death.</p>
			<p>S  Both of them could start to do that.</p>
			<p>G  You’re slowing down your action.</p>
			<p>S  Also you have him, any minute now he could be caught. G  The point of the scene is figuring out where the temple is.</p>
			<p> S  You want to put obstacles in his path between here and the temple.</p>
			<p>G  Once the audience figures out the point of the scene, it’s just irritating to put obstacles in the way of getting to that point.</p>
			<p>S  Let the kid do that, it’s a nice way to keep him busy.</p>
			<p>G  When he’s overlooking the hill, we have to assume that some of the laborers are also his friends.</p>
			<p>L  why can’t we have them take him right in?</p>
			<p>G  We can. But I just like that shot of him standing on the dune overlooking the thing. The digger comes and says get in. He gets in the truck and they drive on down, and go into the camp. He breaks away and goes down into the hole, and the kid is standing around being nervous.</p>
			<p>L  The kid’s father works there, so he wouldn’t really be so out of place.</p>
			<p>G  He’s standing by the hole with a rope going down it, guarding. So he hopes no one will see him.</p>
			<p>Tape Three, Side B</p>
			<p>G  So he’s sitting there serving food, and he keeps looking at the hole. Then you cut to Germans sort of walking around the hole, talking and gesturing down. The kid is nervous that the guy will get caught.</p>
			<p>L  The guy should see the kid standing there with the rope and ask him to bring it to him.</p>
			<p>G  Or maybe they need it to pull out a truck or something. In the middle of the kid being nervous about how he’s going to get another rope to get him out, the guy asks him to bring some food. Then we can have the kid get something clever. When the guy whistles, maybe he can have brought the rope back and rolled it up, and is sitting on it. Or when our guy whistles, “Sabu, I’m ready.” A whole chain of knotted Nazi shirts comes down Instead of the rope. It’s like everybody’s laundry has been tied together. You only have like three cuts. You have the rope, they use it for the truck. Then you cut back to Indy, working. Then another guy asks for food from the kid. Then you see him looking around as he’s serving the food, trying to figure out how he’s going to do. Then you cut back to Indy, and you see the dramatic moment, and then he calls for Sabu. So, it’s a real surprise. You assume at that point that the kid is trapped. When Indy calls for him, you know that he’s not going to be there. So you play it, “Sabu, Sabu...” Tension. All of a sudden a bunch of laundry comes down.</p>
			<p>S  The first thing that comes down is a German flag.</p>
			<p>G  Then he climbs up.</p>
			<p>L  Now, he has spotted the temple. So go on, because <span>(</span>garbled<span>)</span></p>
			<p>G  I would think on the map, if the thing was shorter, and at that time of day, it would cast a shadow down further on the map. On that there would be a big red circle painted that shows where the thing is. When he does the thing and it lands on the thing, he also maybe takes out like a calibrator, so he knows where they are, where this is, and where that is. Then he goes up. My idea then was that he comes up out of the hole, some Germans go “Why aren’t you at the digging?”, and he has to sort of sneak away at this point. He comes under suspicion, so he zips around a tent, and jumps into it to hide with the boy, and who should be tied up in the corner, but his girlfriend, “what happened to you?” She tells him about the cars being switched. “Let’s get out. I know where the temple is.” The go off together. She gets saved. If we do that, then we should have another scene back with the family.</p>
			<p>S  Then he should ask how they’re going to dig it up with all the Germans. He says he’ll figure it out.</p>
			<p>S  That’s a problem. They go back to step one. Once he’s at the dig shouldn’t he just solve everything and do it right then.</p>
			<p>G  I’m worried that if he finds the girl...</p>
			<p>S  She’s right back in the action again.</p>
			<p>L  That’s good, because he has nothing else to do with her but take her with.</p>
			<p>G  I thought he would leave her all tied up. “Look. I can’t take you with me, it would arouse suspicion. So I have to leave you here for a little while. I’ll get you out later.” If they find out the girl is missing, they’re going to start searching everywhere.</p>
			<p>S  She says, “Let me out of here. Let me out of here.” He tells her to keep her voice down. She won’t, so he has to gag her again. “Look, I’m glad you’re okay. It’s a big relief to me. I’ve got a lot of things to tell you. But you’re going to ruin this whole thing unless you just sit here and be quiet. You’ve been here for forty-eight hours, another three or four hours won’t make any difference at all.” He leaves her tied and gagged. That would be heroic. I like that.</p>
			<p>G  My only concern was that if he takes her, the Germans would be combing the countryside.</p>
			<p>L  Are they just keeping her there?</p>
			<p> G  We assume they’re torturing her.</p>
			<p>L  One more thing, execution at noon. Because they could be doing away with her at any time.</p>
			<p>G  They could have her up on a rack. All these torture things going on. He should leave her. It’s different, it’s funny, and it’s also very logical.</p>
			<p>L  As long as she’s in no danger.</p>
			<p>G  And it brings her back into the movie. Then you know she’s trapped back there. Suddenly it’s damsel in distress. The problem we had before was why didn’t he go after her. Now we know why he doesn’t, because it’s more important that he get the ark. It works great, we do it. She is really pissed. He’s left her there. He goes about a quarter of a mile away to dig up the real temple. He should be there, the boy should be there, and maybe a couple of Arabs. The digger had Arabs waiting off in the wings. We either cut to him, cut to the girl struggling, then you cut to him running to this little group of Arabs saying that it should be right about here. He steps it off, and tells them to start digging in this area right here. So he starts digging. At this point we either dissolve and he breaks through. Or we cut to the villains. This might be an interesting place to start going to the villains. Now it’s even better because we know what’s happening to the girl. We can tell parallel stories. We cut back to the girl, and the villains come back. This will be the first time we actually see the French guy and the Nazis. This is the first time we see the real villains. We have a scene with the villains torturing the girl a little bit, rape her, talk about the fact that they’re not finding the Ark.</p>
			<p>S  She should be screaming his name, she’s so pissed off. He had to tie her up, otherwise they would know that he was around. At the same time, there are people raping and torturing her.</p>
			<p>G  I was using that facetiously.</p>
			<p>S  If they’re doing anything at all, that really makes our guy a bad guy. Maybe they can be threatening her, putting the irons back in the fire.</p>
			<p>G  He could ask her if they’ve hurt her. She tells him not yet. “They want to know what you know.” “If they haven’t killed you, they won’t. Just don’t tell them anything and you’ll stay alive.” The villains don’t have to really torture her. We can threaten it. I think it’s good that she’s in danger.</p>
			<p>S  There should be a real slimy German character. He’s the only gestapo involved there. Every time you see him, you know it’s going to be the worst pain, death by torture. This guy looks like a ferret. He’s got that slick black hair. His name is Himmler or something like that. He’s a stocky short guy, a master torturer.</p>
			<p>G  We can do a threatening torture scene. If she says that they haven’t hurt her yet, he can assume she’s going to be safe. But then they come back and decide they’re going to start torturing her. “We’ve had enough of this, young girl. Now you’re really going to talk.” It’s funny on her side, too. She thought she was okay, but she’s not. It is a good time to cut to the villains and establish them. Maybe they have broken into the thing and found out the Ark isn’t there. Now they’re figuring out what they’re going to do. Saying that maybe the calculations were off. They are really angry with the Frenchman, about the fact that he didn’t pick the right temple. “It’s going to take us years to dig up this whole damn city.” He says “Maybe it’s in the other chamber. We have three chambers.” “At the rate those Arabs are digging, it’s going to take them a week to get into those other chambers.” He says, “I know it’s there. I know it’s there.” So there’s a lot of doubt cast about whether they’re going to find it. The Arabs keep slowing the production down because they’re friends of the digger. We sort of get their point of view. “The Fuhrer wants this right away.”</p>
			<p>L  How did they figure out where to dig?</p>
			<p>G  They built a four inch pole instead of a four foot pole. L  Because they knew what one piece was?</p>
			<p>S  Right. But they thought it said four instead of fourteen. L  Then how did they get a spot of light.</p>
			<p>G  They did the same thing. In this scene, at the home of the digger, it’s the first time they’ve met and they’re talking. The digger says. “The Germans have found the temple.” “What? How could they have found the temple? I’ve got the piece.” “Ah, your Chinese friend had several copies.” Because he is also a forger. They read the height of the stake off the thing.</p>
			<p>L  They don’t have the pendant, which is very important.</p>
			<p>G  No. But he said that they made a makeshift, a crude thing, and they made it work. L  I thought we had figured out a way that he knew... We knew why they had made a mistake. I thought we had figured out how they chose this spot.</p>
			<p>G  We had figured but that they had just read the textbook. I like it better that the only way you can find out is to have that piece.</p>
			<p>S  The Gestapo comes into where the girl is, she’s lying there all tied up. They untie her and put her in a chair. They’re going to torture her. The main Gestapo guy takes out this little case, he has little wires with felt on them. Clang... Zap. He takes his coat off and hangs it on these things.</p>
			<p>G  As long as it’s done realistically. As long as it’s not played for laughs. One, he goes to the War Lord to steal the thing. That makes sense. It makes sense that the War Lord would have made copies. How did they get the top section? What if it’s metal and flat, and in the fight it rolls across the floor. One guy sees it and he goes for it. What if it rolls across the floor and into the fire and the fire sort of burns past it. It’s sitting there smoldering. One of the guys sees it and goes over and grabs it, and then screams. That guy runs off. Back here he says they had a copy of one part, but how did they get they other. “A man had it burned into his hand.” It would just be a rough copy, it wouldn’t give them any of the information, like the false number.</p>
			<p>S  They’d have to hold up a mirror to read his hand.</p>
			<p>G  I like the fact that when they get to the Cairo home the digger says, and you think that he’s going to have the stuff, so it’s a big shock to Indy when he finds out they found the temple. “How could they have done it?” “The Chinese man had a copy of the thing, and one of their SS men had the top part burned into his hand.”</p>
			<p>L  But not the number.</p>
			<p>G  Does it solve that for you? L  I love it.</p>
			<p>G  And at the time it’s just like a joke, this guy burning his hand. You don’t even suspect that it would be any kind of a plot point. Then we have the scene with the villains.</p>
			<p>L  And they’re having their problems.</p>
			<p>G  They can also be trying to get the pendant. They know that their information may be faulty, and they want the real thing. There are a lot of things they want out of her. Then we cut back to Indy.</p>
			<p>L  How far down are they digging? About the depth of this room?</p>
			<p>G  Yeah. With four Arabs digging, and Indy, it would take them maybe a day. We can do a time transition there anyway. We can cut to them digging toward sunset, then cut to the girl in the tent at night, then you cut and it’s the next day.</p>
			<p>L  Maybe the action, when they throw him back in there, can take place at night.</p>
			<p>G  It’s better to have the contrast. It’s good for her at night. The guys come back from the digs, and it’s a perfect time for them to torture her. Then you cut and it’s the next morning, the Germans are coming out. Then you cut to Indy and they’re still digging away, and they say, “We’ve got it.” They open it up and he goes down. We have a little scene where he is looking around and he sees the big box at the end of the temple. There’s that moment.</p>
			<p> S  “There it is.”</p>
			<p>L  And this tomb is going to be pretty good.</p>
			<p>S  I know what it looks like. It’s not small tomb. The ceiling is about forty feet in the air. It has all sorts of hieroglyphics and things.</p>
			<p>L  He goes into the tomb, sees the thing.</p>
			<p>G  And they start hauling it out, hoisting it up. He’s still down in the thing. “Great. Send the thing down.” Or whatever. And a German appears.</p>
			<p>L  So he never comes out.</p>
			<p>G  No. He sort of supervises the moving of the Ark. So he’s down there when it goes up, and then he would go up.</p>
			<p>L  Now the Frenchman appears.</p>
			<p>G  Right.</p>
			<p>L  And he goes, “Ah, Indiana.”</p>
			<p>S  Indiana says, “Throw me down that so and so.” Someone throws it down, Indiana catches it and looks up to say thank you, and the Frenchman has thrown it to him.</p>
			<p>G  So it’s a real surprise to us. Then maybe we have a short scene between the Frenchman and Indy. “After all these years.” “You’ve made my life so much easier.” Two villains having a conversation.</p>
			<p>S  Indiana should be able to match him in wit and intelligence in everything they say to each other.</p>
			<p>G  This is where we get into the trouble with the water, if we’re going to do that.</p>
			<p>S  We might as well figure it out.</p>
			<p>G  This is where he would say...</p>
			<p>L  He would things like, “I’ve seen you do the impossible, but there’s one thing you can’t do, and that’s breathe under water.” Slam.</p>
			<p>L  Do we need any explanation about how they’re getting the water in there?</p>
			<p>G  I worry about this scene a little bit. We’re going to get in such a fix trying to explain why and how. It’s not indigenous to the situation.</p>
			<p>L  You could explain it. They have that conversation, and the Frenchman says. “You know so much about this thing, I suppose you know about the defense system we...</p>
			<p>S  discovered in our diggings down the street.”</p>
			<p>L  An offshoot of the Nile.</p>
			<p>G  Another thing... It could be a defense of the temple, like we saw in the beginning of the movie. This would really telegraph it, when he goes into the temple, they open it up, on either side it could be a hatch thing. On either side would be these giant cisterns of water that were being stored there from an oasis. They constantly filled up. When you’re in the temple, it’s all dripping wet.</p>
			<p>L  That would be good, he goes in a sand temple and there’s moss on the walls. That would be really strange.</p>
			<p>G  There’s like a giant water well in the middle of the temple.</p>
			<p>It’s like the temple where all the water was, which would be the key temple. The source of life. It’s the source of life and the source of water. It would be like an Artesian well.</p>
			<p>L  So the water comes up.</p>
			<p>G  From the bottom. You like it to splash, the fact that is just sort of seeps up...</p>
			<p>L  A geyser of water. I’m not seeing what you’re talking about. What would it look like.</p>
			<p>G  The idea would be is that there’s sort of an Artesian well or sort of cistern so that he goes past it. If there were like two levels, and he goes into one level, and there’s this giant Artesian well, water pouring out of old broken fountains. There’s a hole in the thing, so he continues to go down into the next level. It’s nice to have it be a surprise, but the surprise may be so great that it’s unbelievable. You’re never going to convince anybody that there’s water there in the desert. I think it’s better in a way to telegraph it, to explain the water before you actually use the trick.</p>
			<p>S  One way he could get out, it’s hard to explain, but as he’s going up with the water, he passes a whole bunch of hieroglyphics on the wall. Translated, they say, “Exit. Press here.” He discovers another room the hieroglyphics are telling him about. There’s a way out of here. It’s hard getting him out of this one.</p>
			<p>G  It’s hard getting him out, and it’s also hard getting him in. We should ask ourselves if this is what we really want to do here. Do we want to close him in the temple, lock the door, and then have something else happen to him.</p>
			<p>S  Why can’t they close him in the temple and lock the door, and he sits down thinking about what he’s going to do, because there’s no way out, and all of a sudden you hear strange animal sounds. The Germans had put some kind of maneating animal in there to get him, like a couple of lions or tigers. He hears this growling that gets louder and louder, he goes around this corner and you realize a chute put these horrible animals in there, and they’re starving. He realizes that however those animals got in. that’s the way out. But the animals are trying to get him, and all he has is this bullwhip, and maybe some clever devices hidden under his clothes. We’ll do an animal fight. He works his way to this little chute where the animals came out. Somehow he gets out that way. I don’t know how.</p>
			<p>G  One of the first suggestions that you made, replacing the water with sand, might be of interest. It’s like “Land of the Pharaohs” where they had those giant sand chutes. There would be giant sand chutes to protect the temple. Not only does he close the door, he says, “This is your last hurrah. If you don’t die of starvation, the temple’s defense mechanism will get you.” Wham. He pushes a lever and all of a sudden these old stone things fall away and suddenly sand starts pouring in on him from four directions. He’s sort of fighting to keep above the sand that’s filling up the room. It would be more dynamic than quicksand, where you just sink slowly. He’d be almost buried by all this sand, so he’s constantly trying to climb out of it. Then the issue would be... the sand could fill up to the point where the thing collapsed. Assume that the floor of the temple is really the second story. There is another floor below it. When the sand comes in, the floor falls through down into the next level. As he’s climbing, you hear creaking. You get a shot of him falling through the sand. He lands in the sand at the bottom of another temple. But there are doors. You can have him walk through the buried city. Then he finds another digging and gets himself out.</p>
			<p> S  It’s so convenient. The circumstances have permitted him to get out of this one. You could do the same thing with water. Or he sees some water being channeled, a little stream going out a crack. He realizes it’s a loose rock, and he can get out that way. It just seems convenient for the sand to be too heavy, with the way those temples are constructed.</p>
			<p>G  Suppose he’s just in the temple and they lock the door. What if the temple had other doors? He came in from the roof anyway. He can’t get toe door open, so what he does is there’s like a giant column or something. He starts chipping away at the column, cutting it down like a tree. He finally gets the column so it falls over and crashes through the door, and opens it up. Then he climbs through. I like the idea of him climbing through the underground city. Then he finds an exit. The idea of the Nazis putting tigers in there... You know what it’s like to fly in a tiger from South Africa.</p>
			<p>S  It would have to be a neighborhood tiger.</p>
			<p>G  There aren’t any tigers out there.</p>
			<p>S  I’m not in love with the idea.</p>
			<p>G  You could have bats and stuff, make it slightly spooky.</p>
			<p>S  I like the idea of, while the water’s rising, he climbs up onto the moss on the rocks, he sees a column which is weak, he finds a rock and pulls it out of the wall. He begins pounding away at the column as the water is rising. His hands are all bloody. He’s able to loosen the column so that it falls through a wall or through a door.</p>
			<p>G  And then all the water rushes through?</p>
			<p>S  And he swims out with the water. It’s a waterfall.</p>
			<p>G  The only problem with the water is it’s going to be hard to do, and it’s going to be hard to rationalize it. We can’t. We can call it the temple of life and establish that it has a lot of water in it. But, at the same time, it’s like the sand. Plus it’s such a classic thing.</p>
			<p>S  What about snakes? All these snakes come out.</p>
			<p>G  People hate snakes. Possibly when he gets down there in the first place. </p>
			<p>L  Asps? They’re too small.</p>
			<p>S  It’s like hundreds of thousands of snakes.</p>
			<p>G  When he first jumps down in the hole, it’s a giant snake pit. It’s going to detract from the... This is interesting. It is going to detract from the discovery of the Ark, but that’s all right. We can’t make a big deal out of the Ark. He opens the thing, and he starts to jump down, and it’s full of snakes, thousands of them. He looks down there and sees them. What if they scurry out of the light. Then when he says they’re afraid of light, they throw down torches. You have a whole bunch of torches that keep the snakes back. Then he gets the thing, and they take it out. And the guy says, “Now you will die my friend.” Clunk. At the clunk three of the remaining four torches go out. So he only has one more torch, and the snakes start coming in. He sits there with one torch, knowing that when the torch goes out... It’s the idea of being in a room, in a black room with a lot of snakes. That will really be scary.</p>
			<p>S  The snakes are waiting, looking at him. Thousands. And the torches are burning down. He’s trying to keep it going. The torch goes out. The whole screen goes black. The sound of the snakes gets more intense. You hear him backing up. The camera pans and suddenly you see, it’s black, but there’s light coming from several cracks. It’s not completely black. That leads him to an opening. To a rock that isn’t so flush against the other rocks. He knows there’s access. He keeps pushing on it, he gets a little more room.</p>
			<p>L  What are the snakes doing?</p>
			<p>S  The snakes are coming at him, but the darkness gives him his way out. The clue of the way to go.</p>
			<p>G  If he was there with one torch, he’d see that. It’s pretty dark. I like the idea of, he’s got the last torch, or maybe the last two torches, depending on how long we want to play this out. Say there’s thirty-five torches. This will be a nice scene when we go to get the Ark and there’s like a landing strip of torches. It’s getting very smokey in there. They close the door and almost all of them go out, except for maybe five or six. It’s the only thing that’s keeping him from the snakes. He looks around and tries to figure a way out. He sort of sees that there-is this door that’s locked. Maybe he takes one of the torches and moves over toward this door and bangs on it, can’t get it open. There is a big column. What if he takes... During this whole thing torches keep going out every minute or so. Now he only has two torches, so you know he’s really getting desperate. He works his way over to this column and he shimmies up. As he goes up, he drops one of the torches, and it bounces down. He only has one left. The snakes are sort of winding their way up the column. Suddenly a bat comes flying out. He drops a torch, or he takes the torch and sort of pushes it behind the column, and snakes slither out. He starts pushing between the wall and the column. Finally the torch goes out, it’s just a glow around his face. He’s sweating and straining. Shots of snakes slithering toward him. He finally pushes it and the column goes crashing down. We could have a couple of crashes from above. Obviously it’s very thick. The column knocks out a portion of the wall next to the door. It would be great if he were left hanging there. It breaks open the door.</p>
			<p>S  Now he has to get over to the door.</p>
			<p>G  I think we’re going to have to leave him with one torch. I don’t want to get into a big long thing. He’s up there, he has one torch left, he dropped the other one, he’s holding it in his teeth and it begins to go out. There are little shafts of light coming through, so it’s not pitch black. He knocks the column over. It goes crashing down, knocks open a door in the far side of the temple. He’s left hanging up there, about to fall onto the thing of snakes. Maybe one snake slithers across his hand. He pulls himself up on the ridge, or he drops down to another ledge. He gets into a position away from the snakes. He stands there and lights his torch again. He has matches. He didn’t do it before because he was in the middle of pushing the column. He gets the torch going again and he starts walking through the temple with the torch. We have to have a torch.</p>
			<p>S  I think it should end quickly the minute the column falls and breaks down the door. I think he should ride the column down and get out right away. That’s the end of the scene.</p>
			<p>L  He has to ride it as it falls.</p>
			<p>G  He goes down with the column, does a tumble and runs out. The trouble is, you’re going to have him going through those temples without any light.</p>
			<p>S  The column falls down, breaks through a wall, and light comes pouring in. It’s like salvation.</p>
			<p>L  I don’t think there should be a door down there. He sees that it’s weaker there.</p>
			<p> G  Let’s just make it a wall. Since he’s an archeologist, he would know how it... <span>(</span>garbled<span>)</span>. If it’s that dark, you don’t need that many snakes. You’re using shafts of light, so you can just see the snakes on the edge of the light.</p>
			<p>S  The way to do it is like “Squirm.” It has more worms than you can imagine. Snakes are ugly when they’re all piled up with each other.</p>
			<p>L  I wonder what their reaction to light is.</p>
			<p>G  You can get a snake charmer or something. I don’t know how you’ll do that. All you need is a lot of snakes in a very small spot, so it looks like there are a lot of snakes everywhere. You can also do a lot with sound, and close shots of snakes slithering across hands.</p>
			<p>S  What’s real scary to me is when that rock comes down to seal the temple. The air pressure blows half the torches out. That place is air tight. A visual effect and a sound effect.</p>
			<p>G  We shouldn’t have any snakes in the opening sequence, just tarantulas. Save the snakes for now.</p>
			<p>S  It would be funny if, somewhere early in the movie he somehow implied that he was not afraid of snakes. Later you realize that that is one of his big fears.</p>
			<p>G  Maybe it’s better if you see early, maybe in the beginning that he’s afraid, “Oh God, I hate those snakes.” It should be slightly amusing that he hates snakes, and then he opens this up, “I can’t go down in there. Why did there have to be snakes. Anything but snakes.” You can play it for comedy. The one thing that could happen is that he gets trapped with all these snakes.</p>
			<p>S  Another thing that would be interesting for complete abject terror, as you see these thousands of snakes, you cut to macro insert shots, snakes laying eggs, little snakes hatching, two snakes eating each other. All this propagation is going on inside this huge tomb.</p>
			<p>G  The other thing you have here is, he’s trying to push the thing away. He’s pushing the column and a snake comes down and crawls up his arm. In the temple next door there is a little bit more light, but not flooding light. And maybe in the next temple it’s like a tomb. There’s all this embalmed stuff. A little spook house stuff, not a lot, five or six shots. Maybe like a one minute sequence where he goes through all this stuff.</p>
			<p>S  Maybe little tiny mice climbing around on the corpses.</p>
			<p>G  Rats.</p>
			<p>L  Can we use the bat in the first scene, since we’ve taken away the snakes?</p>
			<p>G  Okay.</p>
			<p>L  There can’t be too much light, because they’ve been digging in the middle of sand dunes.</p>
			<p>S  All the light would come from above. Is there anything he could light, rags or something?</p>
			<p>G  He has torches there. It would be a matter of relighting them.</p>
			<p>S  Walking through these catacombs, you don’t see the dead people until the light hits</p>
			<p> them.</p>
			<p>L  If he reaches into his pocket and lights the torch again, that hurts it for me. He always had that capability.</p>
			<p>G  Or we just don’t let the last torch go out. He jumps down with the torch.</p>
			<p>L  I think it would be good if it were almost gone, and he brings it back to life. He’s blowing on it and he gets a burst of light...</p>
			<p>S  He’s in the catacombs and the bodies are piled like cord wood.</p>
			<p>G  Bodies and skulls and things. He walks through the tombs then you cut outside. This is the point where we have a choice of doing things.</p>
			<p>S  Does he go back and get the girl?</p>
			<p>G  It depends on how quickly you do this. He goes through the catacombs. He sees the light at the end of the tunnel. He pokes his head up and the Germans are out there. Cut to the Germans on the airstrip, flying wing comes in, taxis around.</p>
			<p>L  Is the airstrip revealed?</p>
			<p>G  That’s we’ll have to decide. Of course, how would they have time to build it? Why would they?</p>
			<p>S  It’s probably just landing on the flat desert floor.</p>
			<p>G  Anyway, the wing lands and taxis around. The Germans are going to load the Ark onto the plane.</p>
			<p>S  One of the things he wants to do is take control of the airplane. He’ll hijack it.</p>
			<p>G  A lot of the wings are only like little fighter planes, a tiny cockpit with two guys in it. S  That’s even better.</p>
			<p>G  All you need is him poling his head out of the temple and seeing all the Germans. Then you cut to the wing landing. I want a great shot of the wing flying. The wing could land, taxi to one of the buildings and say, “Fill this up with gas. We have a precious cargo to load.” They’re loading the wing up with gas, and he goes and gets in a fight with the guys. He can get in a fight with the pilot and a couple of other guys. He beats them all up. In the process of beating them up, the plane gets loose and crashes into something.</p>
			<p>S  It crashes into the gas pumps and creates a fire, and the wing burns up.</p>
			<p>G  A giant explosion. That’s good, because then the ark isn’t in the wing. They haven’t loaded it yet. They say, “Get this thing gassed in a hurry. Don’t even shut the engines off because we have a precious cargo and it has to get out of here right away.” The guy starts to go to the pump and you pan over and there’s Indy. He jumps the guy, the thing blows up. There’s a big fight first, then the wing starts breaking loose. You see the wing hit the gas pump, then you cut to the Germans. You see a giant fire ball behind the tents.</p>
			<p>S  That way we don’t have to show the plane blowing up.</p>
			<p>G  Then everybody runs over there, they’re running around and yelling and going</p>
			<p> crazy. “Get that truck to Cairo. Get it to the main airport. We’ll put it on one of our fighter planes.” Then you see Indy scrambling along, black face, torn jacket.</p>
			<p>L  Sabu is in the tent with the girl, tied up. We’ll just do away with his two helpers. G  We can play this along a bit more if we want. He looks out of the temple...</p>
			<p>Tape Four, Side A</p>
			<p>S  She becomes the driving force. She’s so tired of being tied up and pushed around. She becomes a real active part of the story now.</p>
			<p>L  What if she became involved with the Frenchman? For her own purposes. After all she’s not an American agent.</p>
			<p>G  She’s a free spirit.</p>
			<p>L  A tough woman of the world, which would appeal to him. She has been deserted by her guy.</p>
			<p>G  Down here when we go through the villains deal with the girl, Indy finds the thing, the Germans appear, the girl ought to be with them.</p>
			<p>L  As the thing slams shut you see her mixed emotions, but she’s siding with the rival. G  The other thing they could do is throw the girl down there with him.</p>
			<p>S  In the snake pit?</p>
			<p>G  Yes. That would be a natural thing. They don’t need her anymore.</p>
			<p>S  I’ve seen that in so many movies, they throw them in to suffer their fate together.</p>
			<p>G  But if they throw her in, it would be a great stunt. Say it’s like twenty feet down, or further. They just throw her in, and the guy would have to catch her.</p>
			<p>S  Love among the snakes.</p>
			<p>G  I think it is important that we get the girl back into it. L  He pushes her up the column ahead of him, or what?</p>
			<p>G  This solves a problem. They have two torches left, he has one and she has one. He goes up and his goes out. The snakes are going to get him. He pushes the column over and she still has her torch. The snakes are closing in on her and she’s trying to burn them and keep them back, on the other side of the room.</p>
			<p>S  All these snakes are coming to get her, and she’s holding them back with the torch. All of a sudden the snakes begin to part, like they’re afraid of something. They leave a certain area. Here come two king cobras.</p>
			<p>L  I like that. And then the column falls on them.</p>
			<p>S  And kills the king cobras.</p>
			<p>G  You’ll never get those snakes to part, and you’ll never get two giant snakes to walk</p>
			<p> in unless you make them all mechanical snakes, and we’re not going to have any mechanical snakes in this movie. Do it so you can shoot it all in inserts. We’ll do the whole thing second unit. It’s good that she’s there, you can intercut with him pushing the thing and her with the torch and snakes. It’s also funnier going through the catacombs with this girl. They go through that, then you cut to them looking outside the temple, seeing the Germans. “Now what?” “We have to get that Ark.” Then you cut to the flying wing coming in. It lands at the gas tent. It’s a tent with a couple of gas trucks out there. It’s all makeshift. The thing pulls up. She’s there with him. “What are you going to do?” “I’m going to pilot that plane.” “How am I going to get back?” “I never thought of that. You’ll find a way.”</p>
			<p>L  What about Sabu?</p>
			<p>S  He says, “Go with Sabu.”</p>
			<p>G  I don’t know how we’re going to get Sabu back in this. I don’t want to throw him down there.</p>
			<p>S  He’d be serving breakfast by now.</p>
			<p>L  His father is Indy’s best friend, and we’re just going to sacrifice him to the krauts? S  Sabu could get out of it and show up later. We don’t have to follow his story.</p>
			<p>G  They don’t care about the Arabs. They work for whoever they’re paid by. We can use him wherever we need him. They can just bump into him, “Sabu, what are you doing here?”</p>
			<p>S  I like it when a character just reappears.</p>
			<p>G  If anything, we would find him after the explosion, because that would draw his attention, too.</p>
			<p>L  When he says he’s going to take over that plane, and she asks him how she’s going to get back, why doesn’t he just say, “You’re going to be my co-pilot.” Let his intention be the highest, since they’re never going to have to do it anyway. He’s going to fly her out of there.</p>
			<p>G  Or he can just say, “There’ll be room for you.” It might be interesting to have her fight, also.</p>
			<p>S  You mean fighting the Germans?</p>
			<p>G  One of the German guys. Or, when he’s fighting, the pilot has jumped out of the plane and the cockpit has shut. He tells her to get in the plane. She climbs up on the wing as it’s moving around and tries to get the cockpit open. She’s struggling with it as he’s fighting.</p>
			<p>S  She should be responsible for the plane catching fire. He can say, “Okay, I burned your cafe. You burned our only means of transportation out of here. We’re even.”</p>
			<p>G  We just have to make sure that right before we cut, we have to explain how they got out of it. She maybe falls off the plane.</p>
			<p>S  She gets inside the cockpit and she doesn’t know what to do. She’s stepping on and pulling on things. She makes a mistake, pulls something, and suddenly the propellers go really fast. The plane starts heading for the gas tanks. He sees her and screams, “My God, jump out of there.” She does. Then you cut to the Germans. She’s directly responsible for destroying the airplane. She doesn’t mean to.</p>
			<p>G  You’re going to have to be very careful about getting her out of there. Something like that happens very quick. It’s not like she’s going down a runway and realizes she’s going to crash. The thing is right over there.</p>
			<p>L  She could pick up one of the blocks that’s holding the tires.</p>
			<p>G  We could have a piece of phony wing that could hit it. She’s in the cockpit and the wing goes and crashes into one of the trucks. It breaks into the side of the truck, and the truck crashes into the next truck and all the gas starts pouring out. Then he looks and yells for her to get out. It doesn’t explode right away. She starts to get out. He starts to run. You cut to the Germans, “Where is that damn thing?” All of a sudden there’s a giant explosion. Which is the way it would happen anyway, it wouldn’t explode on impact. It would explode after the gas hits some kind of spark.</p>
			<p>S  As long as she’s responsible, that will work out.</p>
			<p>G  All the Germans are running around like crazy. They’re crawling around the tents. That’s when he says now they’re even. The Germans are saying, “The ark is in the truck. get out of here. Saboteurs.” That’s when they run into Sabu. You have this little scene with them under one of the trucks or something saying, “How are we going to get it now?” He says, “Look, you take Sabu, go back to his father and get him to get a plane or some kind of transportation to England. Tell him I have to get to England, and I’m going to come in quick. But I’ll get that truck.” “How?” “Don’t worry about that. Just get there and tell him.” She and Sabu sneak off. The truck is taking off. There are a bunch of Arab’s horses around. He goes and jumps on one of the horses and rides off across the desert. Eventually he gets on a mountain road.</p>
			<p>S  Or a motorcycle would be good, like in “The Great Escape.” He could do some great cross-country jumping.</p>
			<p>L  There’s no end to the fascination of a motorcycle.</p>
			<p>G  He has to stand up on a motorcycle and make the transfer.</p>
			<p>L  How do you see this guy?</p>
			<p>G  Someone like Harrison Ford, Paul LeMatt. A young Steve McQueen. It would be ideal if we could find some stunt man who could act.</p>
			<p>S  Burt Reynolds. Baryshnikov.</p>
			<p>G  We can do two things here to hype the action. You can have him go after the truck and forget about the girl and Sabu. Or you can have the Germans going after the girl and Sabu, discovering them and chasing after them.</p>
			<p>S  I think that’s too confusing. I would rather, at this late point in the movie, concentrate on the most important action. One man against the Ark.</p>
			<p>G  Okay. They go off to Cairo. He takes off after the thing. There are two trucks, or a truck and a car. The truck is one of those canvas Warner Bros, trucks. And a staff car. If he’s on a motorcycle, he races across the desert...</p>
			<p>L  you had him shooting out the tires. Is there something better we could do?</p>
			<p>G  what if he just forgets about the car. He cuts across country, comes up alongside the truck, and the car is still behind or in front, it doesn’t make any difference. What is</p>
			<p> the car going to do? If he jumps onto the truck and gets into the cab, and is fighting with the guys in the cab, the guys in the car can be shooting at him or whatever. But there’s nothing they can do. If they’re behind them, all they can do is follow. When he gets control of the truck and he tears off, the car can chase him instead of two motorcycle guys. He has to lose the car. If the car is in front, there’s still nothing they can do. The don’t want to kill the driver.</p>
			<p>L  They don’t want the ark to go over the cliff.</p>
			<p>G  It’s an interesting situation, because the guys in the car are stuck.</p>
			<p>L  If they’re in front then there’s a danger of them running off the cliff themselves. They don’t want to get too far ahead.</p>
			<p>S  The great thing about them being ahead is you know the hairpins because the car has to take them first. The car almost didn’t make it, and here are two guys fighting in a truck. How are they going to make it? You get a preview of all the different twists and turns.</p>
			<p>G  If the driver of the car slows down enough, the truck will suddenly be right up on them.</p>
			<p>S  So the car has to go as fast, and eventually it can go out of control and go shooting off the cliff.</p>
			<p>G  I like the idea of the car chasing them.</p>
			<p>L  Especially after it’s been chased.</p>
			<p>G  Plus the fact that you have the Germans in the car going crazy. If the Ark goes over the cliff, all the Germans are as good as dead anyway. You can also have the Frenchman in the car.</p>
			<p>L  How many guys are in the back of the truck?</p>
			<p>S  There should be about twelve. Reinforcements. They keep getting out and walking along the side and getting knocked off on the mountain.</p>
			<p>L  Are they coming from both sides?</p>
			<p>S  Yes, both sides of the truck. The guy can swerve from side to side. He has two rearview mirrors and he sees them.</p>
			<p>G  There shouldn’t be a back window, it should be steel. He races across the dune, then we dissolve and it’s more mountainous.</p>
			<p>S  The Kyber Pass.</p>
			<p>G  He races across and jumps on the road, and then it starts getting more mountainous. Like in “Wages Of Fear.”</p>
			<p>S  The scenery itself should be frightening. You pull back and the truck is this big and the cliff is this big. It should be the most spectacular set in the picture. Where we shoot this chase should be the climax in terms of geography. “Where did they find that location?”</p>
			<p>G  It would be good if we had two cars, so one gets sacrificed. We should have a car go over a cliff.</p>
			<p> S  It should be an open staff car with a machine gun in the back seat. </p>
			<p>G  We can’t do it where they could shoot out the tires.</p>
			<p>S  Why would they? The thing would go off the cliff if they did.</p>
			<p>L  What about when he’s coming up from behind on the motorcycle.</p>
			<p>G  He doesn’t. He comes alongside. He cuts them off. The truck is going like this, and he comes in at a right angle. Maybe the hills make it blind to the people in front and in back, and suddenly this motorcycle comes out of nowhere, and zips alongside. And he immediately jumps into the cab. The guys in the front and the guys in the back can’t do anything about it. The car that goes over the cliff could be either one.</p>
			<p>L  I’d like it to be the back car. </p>
			<p>G  Then the front car spins out.</p>
			<p>S  And the man in the car that goes off the cliff is the SS officer who was torturing her. He’ll be the one close-up, he’ll be the guy that screams.</p>
			<p>G  He gets control of the truck and he scrunches off the last few guys. The front staff car has spun out. He goes by it and they tear off after him. They race through the city and he loses the car. He races into the warehouse and the Arabs close the door and put old baskets in front. As soon as the truck goes in, everybody comes and fills the street up again. The Germans come by looking for the thing, but they don’t see it. We have a little exposition scene where the guy tells him he couldn’t get a plane, but he got a ship. “A ship. Jesus Christ, that’s going to take forever.” “No, it’s a good ship.” The next scene is down on the docks when they’re loading the Ark. You see all these slimy pirates. But, his old friend tells him these guys are trustworthy, and he introduces him to the captain. We don’t have to make them Chinese, since we already have our Chinese sequence.</p>
			<p>S  Make them Lithuanian. </p>
			<p>L  What if they’re all black?</p>
			<p>G  That would work. They’re black pirates. They’re on a freighter, one of those old tramp steamers.</p>
			<p>L  Where is the girl?</p>
			<p>G  The girl is in the garage, and she goes on the boat with him. There’s a scene where they’re loading the thing on the boat, and it’s night and they’re afraid someone is going to see them. The Germans are coming and they have to get away right away. We introduce the captain, who is a friendly guy. Our family guy says that this guy is trustworthy. We’re in league with the pirates and we have a good feeling about them. Except a lot of them are sort of shifty. They’re cutthroats, but they trust them because the guy told them they could.</p>
			<p>L  Didn’t you have a scene in here where someone wanted to open the Ark?</p>
			<p> G  We don’t really have time to open it.</p>
			<p>L  No. Someone wanted to and he says no.</p>
			<p>G  That was in the warehouse scene, when they’re unloading it. We could do that. The warehouse scene is everybody unloading the Ark. “We have to get out of here.” “I got you a ship, it’s the only thing I could come up with.” It has to move fast. They get on the ship, and just as it’s taking off... Actually, it would be better if the Germans weren’t on the deck. So it’s more of a surprise. It goes very fast, and the ship sails out into the harbor at sunset. Then you have this relaxing scene where there is no threat. They’re at the captains table or something.</p>
			<p>S  The audience will feel that it’s winding down.</p>
			<p>G  He says, “We did it.” And this is where we can have a scene between the guy and the girl, tender, reconciliation. He loves her. It’s where we can really pull them together. A short little scene. It can be in the cabin or wherever. They fall asleep and everything is calm. He’s asleep, and the engines shut down, then he wakes up. “The engines have shut down.” “What does that mean?” “I don’t know. I’m going to find out.”</p>
			<p>S  They’ve been making love. This is the first love scene in the movie.</p>
			<p>G  Right. He tells her to stay there. He goes up to the cabin and asks the captain what’s going on. “Look.” We look, and there are like twelve wolf submarines surrounding them.</p>
			<p>S  The Germans are manning the guns.</p>
			<p>G  “Shit.” “There was nothing we could do. They’d torpedo us out of the water if we tried to resist. There’s too many of them.”</p>
			<p>S  They wouldn’t torpedo them, they’d shoot them with their deck guns.</p>
			<p>G  He says, “Shit.” You cut to the Germans swarming all over the deck, treating everybody very rough. The captain is outraged. They slap the captain around.</p>
			<p>L  They think they’re Aryan supermen.</p>
			<p>S  Heavy prejudice. They really abuse the black guys.</p>
			<p>G  Indy is running down the deck trying to get back to the cabin and the girl. He gets cut off by the Nazis. He hides under a lifeboat. Two of the Nazis are carrying the girl. You see her struggling and screaming at them.</p>
			<p>S  Why are they talking the girl?</p>
			<p>L  The captain sacrifices himself in some way for the girl. Then you really hate the Germans even more.</p>
			<p>G  We have to figure out a reason for them to take the girl at this point. Before I had it because she was a double agent.</p>
			<p>L  Maybe here is where we can save the other thing. The Frenchman wants her, even though she’s not receptive to it. We can do that in a scene when he comes in to question her. Say he’s the Claude Rains character, it makes sense that he’s attracted to Barbara Stanwyck. The German says it’s time to get rid of her, the French guy says no.</p>
			<p>G  The big thing with these movies is the damsel is going to get screwed by the bad guy. What we do is, in the interrogator scene the Frenchman is in love with her, coming on to her. The German torture guy could care less. “Get out of my way.” When they push her down into the snake pit, it’s the German guy who does it, and the Frenchman is very upset about it. “The girl was mine.” “She’s a waste of time, and we don’t need her.” We got rid of the German guy when he went off the cliff. Now the French guy is left to his own devices. “The girl goes with me. She’s important to this project.” He takes her along. We know he’s been sort of lusting after her. As the Frenchman takes her, they look around and say, “Where is Indy?” “Search the ship.” They take the girl and the Ark, and row out to one of the submarines. Then we cut to the submarines going away.</p>
			<p>L  When the captain sacrifices himself could be when he takes after the Germans.</p>
			<p>G  They’re maybe going to blow up the ship or something. We’re going to intercut them rowing out to the Ark with something going on on the ship, without Indy being involved in it. So we can speed that time progression up. Just as they’re closing the hatch on the submarine, you see this hand come up and grab the submarine. The last we say Indy, he was hidden under a life boat.</p>
			<p>S  As the last of the Germans leave the ship, they sink it right there.</p>
			<p>G  Expensive.</p>
			<p>S  Or they can rake it with machine gun fire.</p>
			<p>G  You can do that. You intercut them going out to the submarine with other Germans searching the ship for Indy. They report that he is absolutely not on board.</p>
			<p>L  We’re not going to be very interested in their searching the ship.</p>
			<p>G  The pirate tells the Germans that Indy is not on board, “We got rid of him before we left the dock. We killed him. We’re going to sell the girl into slavery.” He plays up the whole pirate thing. You know that they’re just protecting Indy.</p>
			<p>L  One thing you could do to sacrifice Gossett would be the Germans are just about to discover Indy and Gossett sacrifices his life to distract them.</p>
			<p>G  The hatch closes and the submarine starts to move away, a hand comes up and grabs onto one of the railings. He swings himself up on the deck, runs along and the ship starts sinking. He’s running knee deep in the water.</p>
			<p>S  We have research on this. There are no World War Two submarines on either coast that work. We haven’t checked Europe yet.</p>
			<p>G  There was one in Argentina that Peter Yates used. We do close-ups of him running in the water on the deck. You can do it in inserts.</p>
			<p>S  We don’t have to. We’re building a <span>(</span>garbled<span>)</span> which we can use.</p>
			<p>G  He’s holding onto the periscope. We’ll start tomorrow on the tunnel when he enters the underground submarine base. In Leviticus it describes it. How they built it and where it came from. He thinks Von Daniken’s first book, “Chariots of the Gods” has some stuff in it about the Ark. The theory I’d heard is the one about being able to speak to God when you set up all the silk cubicles and that stuff. There was a theory that some doctors had come up with in Chicago about twenty-five years ago. There was an article. He doesn’t know where it is or anything about it. We’ll get that.</p>
			<p><span>(</span> page 101 missing <span>)</span></p>
			<p>G  to get to the surface, and then he hits his head. That way it makes him bright, but he gets outsmarted anyway.</p>
			<p>S  He finally gets through and he surfaces and sees... G  an underground submarine base.</p>
			<p> L  How big is this base?</p>
			<p>G  Small. One sub. When he first sees it it will just be a miniature sub. All the close- ups we can just do on a set.</p>
			<p>S  We’re also experimenting on using miniatures with live action. So he comes up and he sees the base, which is sort of like Captain Nemo’s place. It can’t be too modern.</p>
			<p>G  No, it has to be... It’s all rocks with a little bit of concrete reinforcement. Essentially it’s a natural cave. He climbs up and starts going down one of the hallways. There are guards everywhere.</p>
			<p>L  He can watch them unload the Ark, see where they’re going.</p>
			<p>G  Somehow we have to get to the Ark already set up with the silk boxes so they can talk to God.</p>
			<p>L  But they just got there.</p>
			<p>G  They got there ahead of him. Somehow between where we are now and the final climactic scene, they have to set up this. Of course, they could have had this set up before. We could do that with a piece of dialogue. As they’re unloading the Ark, a Nazi soldier comes over and says that “We have arranged the tents as you have described to us, Professor.” “Okay, take the Ark and put it in the middle of the tents.” He sent them a diagram of what it should look like.</p>
			<p>S  At the end, when the whole thing goes, shouldn’t it also hurt the German army somehow. There should be some important generals there or something when the place blows up.</p>
			<p>G  Yeah, but you don’t want to make it too outrageous. Obviously it didn’t really hurt the German army at all.</p>
			<p>S  As an example, a guy down there is minutes away from being able to split the atom and he got killed. So they won’t have the bomb in ‘41.</p>
			<p>G  The one thing is to make the whole thing plausible, especially the ending, so you can assume the whole thing was covered up, is lost in Nazi files, but this really happened. It’s a semi-believable story. Maybe we could figure out a way where he’s going to sabotage it. Not only does the thing blow up, but he has set some kind of a time bomb that will blow the whole place up. That gives him a time lock as soon as he gets there. Not only does he have to get the Ark quickly... Obviously it’s not the brightest thing in the world to do. Now, another problem, the girl, which we have to cope with somehow.</p>
			<p>S  The “Guns of Navarone” worked because it was a mission movie. They had to destroy something rather than capture something. In this movie the audience won’t be expecting anything to blow up. But, if we establish in the beginning of the movie, that all these Nazi operations are ... There is a secret base that nobody can find. We never mention in again, but in the beginning of the film we discover that there’s this secret base where the supplies are coming from, and planes just seem to disappear at a spot in the ocean. In fact, it’s the secret Nazi submarine base. Then there is some promise, some hope, that by the end of the movie they’re going to discover this place and blow it up. His assignment is to recover the Ark, but if you see a submarine base, blow it up.</p>
			<p>G  I only worry that we have enough trouble as it is trying to explain everything and make it work. But if they’re going to lose more than the Ark, a huge ammo dump or something, that’s going to cost them. The problem I have is that we wind up the way every Bond movie has ended. He’s on the island, he has to get out of there with the girl, and they do get out, they’re on the water, and the whole place blows up.</p>
			<p>S  I love that. Every Bond movie has made money, too.</p>
			<p>G  If you follow classic dramatic plotting, that’s what is going to happen. You put your biggest boom last, and you create as much tension as you possibly can. The way we originally had it, the bad guys got fried by the Ark, and he dragged it back to Washington. He didn’t really destroy anything. We had that time lock thing, but that gets confusing. We can hype it or we can leave it at the original. Those are the two extremes. Right now the end of the movie is, all the stuff for the Ark is set up, silk cubicles, and he goes in there, and the bad professor and the Nazi general and a couple other guys are there about to open the Ark. He gets in there and drops the gun on them. “Just pick up the Ark and follow me.” Somebody comes up behind him and hits him on the head. They fight and he is subdued and hauled off. As he’s being led out, the guys open up the thing and it goes off. The guy turns around and the tent turns into a big fire ball. In the resulting chaos he runs in to try and get the Ark. He drags it off and hides it, or wipe to Washington. D.C., where he’s telling them that this is dangerous, and it’s real. They tell him they’ll take care of it. He says he wants to work on it. They tell him to apply for a grant or something. The last shot is them putting it in a warehouse. We have certain problemS  the girl, does he blow up the base? The tent goes up in smoke...</p>
			<p>Tape Four, Side B</p>
			<p>G  Then he could jump on the cart and race out with it. And he gets into the.. We had him get on a boat. The idea was that the little mine train cane out onto the island, and there were some fishing boats that he gets away on. Or have a couple of speed boats down by the dock.</p>
			<p>S  We want that speed boat chase.</p>
			<p>G  Right. That’s where that came from.</p>
			<p> S  We lost the speed boat chase.</p>
			<p>G  Hell, we were talking generally. If it went anywhere, it would go here. The only thing I wanted to do with that, and it’s going to be hard to do, is that he gets chased and they’re firing at each other. He gets into a harbor where all these big boats are, and he races down in between two boats just as they’re starting to close. And the other boat races down and goes... There’s no easy way to get out of that one. I think it would be better if we just let the villains get scrunched and that’s how he gets away from them. We could put that at the end.</p>
			<p>S  Once we’re here, let’s stay in this place.</p>
			<p>G  Also, do we want to have him destroy the base?</p>
			<p>L  Indy doesn’t know that there is going to be this electric explosion from the ark. But there is, and it threatens the ammo stock. Now he does have a time problem. He has to move the Ark and the girl out of there without getting blown up. How does he survive that? Everyone else dies, the island blows up, but he and she survive. That would be an improvement on the Bond thing.</p>
			<p>G  It’s the ultimate cliffhanger, everybody gets killed in the end..</p>
			<p> S  Or they turn transparent. I like the idea of the whole island blowing up and finding a clever way for them to survive. Whatever that is.</p>
			<p>L  When the guy opens the ark, you visualize that it explodes and then the top slams down again. What if they open it up, and it takes care of everyone, and we see a lot of this electrical stuff zapping people and starting fires everywhere. And he has to close it.</p>
			<p>G  That’s possible. I saw the opening of the Ark and the resulting chaos as the climax of the movie. The quicker we get from that point to fade out the better. I just wanted him put the thing on a cart, race out, and cut to Washington.</p>
			<p>S  It makes him very godlike if one of the bolts doesn’t zap him.</p>
			<p>G  If we make the effect real, it shouldn’t last long, or that hurts it. If it happens in a split second, he opens it up and suddenly these giant arcs go for five or six seconds, then you cut outside and see the entire tent go up, then it’s not that hard to get away with the whole thing.</p>
			<p>S  We end it like “Moby Dick.” After the explosion there’s no life at all. Our guy and our girl come up gasping for air, they’re okay. Suddenly the Ark comes up. They grab onto the Ark and hang onto it and kick ashore. The Ark presents itself.</p>
			<p>L  I like that.</p>
			<p>G  I like the idea on these conditions. If we put him on a little mine train, he pulls the thing onto it and jumps on, they’re racing through these tunnels, and the Germans are shooting at them, the clock has started ticking and we cut to flames getting closer to destruction.</p>
			<p>S  A mine train chase with bullets ricocheting off rocks.</p>
			<p>G  They get to where the submarine is, in the main thing, and... The come to the entrance of the mine shaft stop, see lots of Nazis, and hear the rumble, because the thing has started already. Or, rather than have the whole thing blow up, there’s a chase through the mine shaft, you cut to the time thing, they’re getting to the end, and the thing blows up. You see the place where the ark was blow up. It fries some of the pursuing Germans, rocks are falling at the same. They run right through the submarine thing and go right off the dock and into the bay with the cart. He runs it right off the end of the dock. Finally, so many rocks fall they obscure the screen. Then we cut to outside to the island, and it’s all quiet. You hear rumbling. Then you cut to them and they pop up.</p>
			<p>L  Indy comes up and he sees the base. I thought the tent thing took place right there. G  I thought they moved it down into another big cave.</p>
			<p>L  In the old thing, they took a mine train out to air. That would work for here too. They could just shoot out into the ocean. Otherwise they have to go through the underground water passage to get out to the bay.</p>
			<p>G  You could make that a cut. Cut outside and eventually they pop up. </p>
			<p>S  It would be a real roller coaster ride.</p>
			<p>G  They race off the end of the ramp, crash into the water, the mountain caves in, the submarine is destroyed. Cut out to the island, you hear a lot of rumbling, a side of the mountain slips down, a cave in. Then you sit there. And then the cast credits go up on that shot. After they finish, where the crew, credits would normally be, they pop up.</p>
			<p> Then you have to do the tag scene in Washington. You might be able to do the Washington scene with the end credits, like you do opening credits. They pop up, you cut to Washington, and then you continue with the credits. That should be a short little dialogue scene. Not more than a page. “Congratulations, Indy. You did a great job. We’ll take it from here.” Then you cut to the guy carrying the crated up ark stamped “Top Secret” or “Do Not Remove.” He puts it in a giant warehouse. So you have three little title sequences.</p>
			<p>S  I think we should try it.</p>
			<p>G  If it’s done with style, then you have really nice credits. It’s just the reverse of opening credits.</p>
			<p>S  This mine cart thing, we should shoot it at the Disneyland Matterhorn. They go on it at the end, so the final run is an up and a huge down, and the out is over the ocean.</p>
			<p>G  I don’t know if you can make that believable.</p>
			<p>S  Just the last part of the run. It’s tracks and a very small closure. It’s like where they have the cable to pull the thing up, except this time it’s coming down. It’s weightless. It’s not being run by a machine. The wheels are locked on the track, but there’s no machine grinding it forward. It has no brakes. They’ve gotten onto the tail end. It drops down to the loading zone.</p>
			<p>G  You’re talking about an expensive sequence there. To make it look great you’d have to build a whole track.</p>
			<p>L  You’re saying that it comes out in the underground bay.</p>
			<p>S  It lets out on a loading platform about thirty feet over the water, with scaffolding, where they load things from ships that anchor just below it.</p>
			<p>G  We had talked about having them get out in the submarine. I think that it’s better if they’re under the mountain when it explodes.</p>
			<p>S  You don’t know if the whole thing caved in on them. I don’t know if you need that kind of thing. If you had just a straight mine train, motorized. You can have curves on it, and you can have it go very fast.</p>
			<p>L  I don’t think you have to explain why there’s a dip there.</p>
			<p>G  I can see the opening of the mine being thirty feet up. When you come into the submarine base, up on the wall you see the mine thing, and the tracks come down and goes straight. It comes down, goes onto the dock, levels out, and then at the end of the dock it goes back up again because normally it flips down and then up. It would normally flip down onto a ship. They run up, hit it, and go off that way. It will be very hard to build that cheap.</p>
			<p>S  It will cost what our rock set did on “Close Encounters,” $75,000. You just have to build the last run. I won’t go into mines.</p>
			<p>G  We’d probably have to do it on a sound stage.</p>
			<p>S  It has to be an exterior on some island where the thing goes into the ocean.</p>
			<p>G  I think you could do that without having that dip in it. It comes around and just races off the end of the dock. You would have the same effect of it getting airborne, and then it lands down. Then you can fake it and do it on a set. Close pans and close shots.</p>
			<p> S  On “Great Escape” they did it with a dolly track and a hundred foot cutaway. But But we need a hundred yard cutaway.</p>
			<p>G  You just have a straight piece and a curved piece, and you do different angles. You just keep going through the same piece. It would be interesting if the mine train part was just like a foot above the metal part of the train. You had to keep down. Instead of having it be the whole mine, it would be beams, like concrete buttresses. There would be about a foot clearance. And the buttresses would be about forty or fifty feet apart, or less. As they come down, “Keep your head down.” They’re popping up and down.</p>
			<p>S  I’ll take that instead of a dip.</p>
			<p>G  It will probably have to be outside.</p>
			<p>S  Dolly track and a camera right next to it, speeding along with it.</p>
			<p>L  Let’s run through the geography of this place again. He comes up out of the water and we’re in the sub base. Now we want him to go to the inner sanctum, so we can have this ride at the end, and still keep him inside.</p>
			<p>G  Here is the way I envision it. They put the ark on the train to take it out. <span>(</span>making a drawing<span>)</span> The main base is like three stories tall on the inside. They should have concrete rooms. Something that looks like this is where their headquarters are. The tent area is sort of in a courtyard. He walks down there and when a cart comes he has to press himself up against something to get out of the way when the guys go zooming by. He could walk right down the center of the track and nobody would see him. All he would have to do is hear the thing coming and he could jump to the side.</p>
			<p>L  Just one lane.</p>
			<p>G  Right. And it should be very narrow in places. Not more than six or seven feet wide. At certain points it should be six or seven feet high, and then when the buttresses come, it’s only four feet high.</p>
			<p>S  How are we going to blow this place up? Is the ark going to do it?</p>
			<p>G  We have several problems to cope with now. One, what are we going to do with the girl? Two, how is he going to blow the place up?</p>
			<p>S  There’s an easy way to blow it up. He goes in the submarine and fires all the bow and stern tubes. He does it with the torpedoes from the sub.</p>
			<p>G  Either have the ark do it, or something where the time bomb starts ticking. </p>
			<p>S  Where does he get a time bomb?</p>
			<p>G  Figuratively. The fuse starts. We figure out where the fuse starts, from then on, you’re worried about whether he’s going to get out in time. It should start when the ark goes off, or right after that. It could be something he does, or something he does accidentally.</p>
			<p>L  Or he may not do it at all. Let the ark do it.</p>
			<p>S  I like the ark doing it, he doesn’t do a thing. There’s a door that says magazine on it, and you see torpedoes and ammunition coming out to the sub on gurneys. They’re reloading the sub. When the ark blows everything up, it sets a fire that begins burning the magazine door. He has to escape before the magazine door burns down and the fire gets to it.</p>
			<p>G  You could have a whole string of thing</p>
			<p>S  the magazine door that’s open a bit, a stack of ammunition, and about twenty feet from that is a stack of oil drums and gas. The ark blows the tent up, it’s like a gas explosion. These little burning pieces rain down. It rains down on the pile of stuff, garbage, cotton stuff. That bursts into flames. When he’s getting the ark and putting it in the thing, that thing is burning like crazy. He jumps in the thing and goes racing down the thing. He’s firing at the guys. This stack of stuff that’s burning finally falls over and falls on the oil drums. He’s still racing along, then the oil drums explode and oil and gas go onto the ammunition. You see all these boxes of ammunition burning like crazy. Then finally that blows up, right after that there’s a huge explosion. We have a chain reaction until it gets to the big explosion. Each time it’s worse.</p>
			<p>S  That’s great. Now what has happened to our Frenchman? </p>
			<p>G  I wanted him to get fried by the ark.</p>
			<p>S  The man who finally chases our hero through the mine shaft, can he be one of the continuing characters? The second main bad guy. He doesn’t go off the cliff in the car.</p>
			<p>G  I think that guy should go off the cliff. We can introduce new main bad guy on the ship.</p>
			<p>L  How’s he going to die?</p>
			<p>S  I’d like for him to get killed by a cave-in. The thing goes off the tracks, they scream, and one big rock comes down smashing him.</p>
			<p>G  So we have him be the one who takes Indy away. The professor is the one who’s going to open it up.</p>
			<p>L  Now, the girl.</p>
			<p>G  We do have a problem with the girl. She could be in the main room. The other idea was that Indy saves her.</p>
			<p>S  What if the Frenchman made her wear strange clothes? I’d love to discover her in the strangest outfit you’ve ever seen, because he wants her dressed up like some sort of a crazy princess. She’s apologizing. “I can’t help it. He made me put this on.” Something completely ridiculous for the final escape. Something very elegant, but weird. She has to pick it up to run.</p>
			<p>G  Indy climbs up on the submarine. He sneaks off. We have a couple shots of him walking down the tunnel, trains going by. Now he makes his way into the main room, and sees this silk cubicle thing set up. He looks around. He knows that they are in the cubicle, because he can hear them talking. Where is she? Actually, we also saw her get taken off. She gets pulled out as they’re unloading the ark.</p>
			<p>S  Can the Frenchman die in Indy’s arms, terribly burned beyond recognition? “I’ve seen the face of God.”</p>
			<p>G  All he has to say is, “I saw him.” You have to be careful about that line in that place. They put her and the ark on the mine train. She could either be in the silk thing with them, or she could be outside, being held prisoner.</p>
			<p>L  It would be neat if, when they open the ark and it fries them, she would have been there if she hadn’t done something. They bring in Indy, “I’m sick of this guy. Take him out and shoot him.” She turns around and spits in his eye or something, “Shoot me too.” He says, “I have bigger things on my mind. Take her too.” She saves herself by making a sacrifice.</p>
			<p>G  We have to be careful about making it seem very convenient. If they both leave, then you know something is going to happen. We’re also building suspense about what happens when they open the ark.</p>
			<p>S  I would love to see her tied up and bound by the magazine door, near the explosives. When all the fire and thunder happen all of a sudden a trail of gas fire comes around the corner. It’s heading for her, slowly. She gets save, untied and pulled out of there. The audience sees that the trail is going to ignite the bombs. It could be a long hallway.</p>
			<p>G  He’s standing there at the entrance to the thing and he sees the silk and stuff. That is the point where the girl should come back into the movie. Say we put her behind the tent so Indy can’t see her. He goes in the tent, gets the drop on them, tells them to take the thing back on the cart. They catch him, send him outside. They open the ark. We have an awkward point here when Indy rushes back in and gets the ark. If he has to rush back to get the ark, and also sees the girl and has to rush back and get her... It’s going to take too long for that to actually happen. The only that would work is if he saw the girl and the ark at the same time. He saves the girl rather than the ark. Then they save the ark together and put it on the thing. This might be an interesting touch — he goes down the corridor, he sees them talking, he either sneaks by the guards or there’s nobody around, so he takes his gun out, he goes into the thing, gets the drop on them. Something clever should undo Indy at that point. He gets caught, he goes out. When he gets the drop on them, you expect the girl to be there. When he goes in the tent and sees she’s not there, he looks around. He can ask where the girl is, and before there’s answer he gets beaten up. You’re half going for the ark and half going for the girl at this point. We can’t just lose sight of the fact that she’s there. He has to save the girl and the ark. If we build that relationship up, obviously she’s an important factor.</p>
			<p>S  If he has a choice of what to save, her saves her first. And then luckily gets the ark too.</p>
			<p>L  As soon as he frees her she says she’ll help him to do it.</p>
			<p>G  She helps him carry the ark.</p>
			<p>S  He says, “Don’t look at it. I’ll shut the lid.”</p>
			<p>G  I think it should have already shut.</p>
			<p>S  By itself?</p>
			<p>G  I do think it should be a short little effect. We don’t linger on it too long.</p>
			<p>S  Besides the effects, the light inside is so bright you can’t look at it.</p>
			<p>G  A bright light with tensor coil, those things arcing off it.</p>
			<p>L  What happens to this final Nazi who has him by the arm, gun in his ribs?</p>
			<p>G  He could punch him out.</p>
			<p>L  He could be blinded.</p>
			<p>G  He could karate chop him, get his gun, and run for the girl She could be surrounded by flame with more flame pouring toward her. That’s not connected with the other fire going toward the stacked stuff. He runs through the fire to get her, comes back, picks up the ark, gets back on the train, and the fire is slowly making its way toward the magazine.</p>
			<p>L  Maybe what’s menacing her is a big flaming sheet of the silk. It’s right over her head, about to drop.</p>
			<p>S  What would it be?</p>
			<p>G  It would be crude oil, thick and heavy. One of the cans broke and it’s dripping out. L  This is right after the opening of the ark?</p>
			<p>G  Right. It’s a trail of burning oil. Plus maybe a sheet of flame that’s around her.</p>
			<p>S  When they get her out, that part goes under the door.</p>
			<p>G  No. We have to have more time for that. You have to have a real slow progression of the stuff getting toward the door. We’re intercutting between the good guys and the bad guys, going down the tunnel, and the fire getting closer to the magazine. It doesn’t even have to be a door, the stuff could just be sitting there.</p>
			<p>L  How about if the oil were part of the ritual?</p>
			<p>G  We’re talking about oil that’s in big containers. The tent has burst into flame from the arcs. Everybody fights, and you can’t see anything. The flames die down, because if was just a tent. You don’t know where it really came from, but there’s a river of oil and flame that goes around her.</p>
			<p>S  It’s like a lava flow.</p>
			<p>G  It doesn’t just explode.</p>
			<p>S  A good effect would be when he opens the ark and sees whatever he sees, he screams, and whatever comes out x-rays him. When he screams he’s all green and blue with his skull showing through. White hair.</p>
			<p>G  We should do something like static electricity. He hair is down and long, and all of a sudden it just goes...</p>
			<p>L  And the top slams shut?</p>
			<p>G  Right. You let the effect go for a little bit, then you cut outside and the arcs are going around. The river of oil is approaching her. After it’s all died down, you have these flaming silk things floating around: It’s clean and there’s not that much to burn. The ark isn’t burning, it’s sitting in the center. He sees her.</p>
			<p>S  She should be in tatters.</p>
			<p>G  It would be a funny moment if you didn’t know where she was, and then suddenly the thing blows aside. It’s like a giant entrance. He grabs the girl, they run over and grab the ark, the cans and things are blowing up. They struggle and put the ark on the mine train and shoot out.</p>
			<p>L  The German guy comes to, gets up, there’s panic all around.</p>
			<p>G  The Germans are running around. Everything is on fire. Suddenly they’re noticed.</p>
			<p> They jump in the next train and you have the racing thing.</p>
			<p>S  He should kill a few Germans in the corridor. He shoots two of three Germans with his service revolver, then that’s out of bullets. Then he picks up a machine gun, or even a Thompson sub-machine gun. Some Germans come around the corner and he gives them a burst.</p>
			<p>G  He could jump on the mine train with a Thompson. There would be great sound in there.</p>
			<p>S  Every time the bullets go off, rocks fall down.</p>
			<p>G  The mine train keeps getting filled up.</p>
			<p>L  Is just one car chasing him?</p>
			<p>G  I think it’s just one car, with like three or four people in it. </p>
			<p>L  How do the cars move?</p>
			<p>G  They’re electric. They have a throttle. Indy just jams it down and takes off. </p>
			<p>L  And at this point we want to get the final German.</p>
			<p>G  The final thing, when the fire hits the real munitions and it’s burning there for a while and suddenly it goes bang, then the whole thing starts to shake, and maybe flames come through the tunnel and fry the Germans, at the same time everything comes crushing down. He gets fried, and then they crush him. He jams it forward. Then you cut to the submarine part, and the little car comes shooting out of the shaft. The whole thing is shaking and rocks are falling down. She looks up and says, “Jesus Christ, stop.” He says, “It’s our only hope.” And they go shooting right off the end of the dock, and sail across the water. Wham.</p>
			<p>L  We have the sense that there’s a final big explosion coming.</p>
			<p>S  Everything will be rumbling like an earthquake.</p>
			<p>L  So we don’t want to see the final ammo pile go up yet.</p>
			<p>G  I think the mountain is sort of collapsing. Rocks obliterate the screen, it looks like the whole place collapses around them. Then you cut out to the island.</p>
			<p>S  What would really be great would be to show how deep and how complete the explosion is. You see an explosion where fire and debris come shooting out of the mine holes. Then the submarine that was way in there comes shooting up through the rock. It just sits there like a huge knife wedged out of the rock. That would show the whole inside of the place is gone.</p>
			<p>G  I think it should be done subtly. It has to be believable. I wouldn’t believe that a submarine would get shoved through the rock.</p>
			<p>S  I wouldn’t believe the whole island getting blown up, either.</p>
			<p>G  Explosions just come out of the sides of the rock and maybe out of the top and then it just sits there and steams. I don’t think we should do it as a giant huge explosion that blows the island apart. It should be like if this were a real island, there were a real tunnel, and if there was a huge, like an atomic explosion in the middle of it, there would be bits of explosion shooting out various cracks and things, and then it would sort of settle, and maybe there would be one side of the mountain that would break away and collapse like in an earthquake. Then it would settle. It wouldn’t be overdone. We’ll consult geologists about what would happen.</p>
			<p>S  One thing that would happen would be a huge tidal wave. A wall of water fifty feet high would just boil up and fan out in all directions.</p>
			<p>G  A subtle and realistic explosion that says things happened. It’s sort of a long shot, or a medium long shot. They’re sitting there, and then the titles come up.</p>
			<p>S  <span>(</span>gap in tape<span>)</span> ...then you hire some private pilots to get in real airplanes and fly in the background about a half mile away, which puts the airplanes. You have a miniature blowing up in the foreground while you have real planes in the background, and you’re convinced that it’s a real place blowing up.</p>
			<p>L  There’s a long wait through the cast credits where you think they’re dead. It seems there should be some final comment between them.</p>
			<p>G  “Slow down.” “It’s out only hope.” </p>
			<p>L  He says, “We tried.”</p>
			<p>G  Whatever. That whole concept... We’ll look at it. The other alternative is you just hold on the island for a while, then they pop up, then you cut to the scene in Washington. It will work either way. This way it just make a big... It’s a false ending, which is funny.</p>
			<p>L  They pop up, one, two. They’re circling around in the water and then plop, it’s the ark.</p>
			<p>G  She says, “It’s the ark.” “Well, for God’s sake, don’t open it.”</p>
			<p>L  If there is no cast credit, then it bothers me that there is no time lapse for them to go through the underground tunnel and everything.</p>
			<p>S  They get out flying through the air from the roller coaster. </p>
			<p>L  But they don’t. This takes place in the sub room.</p>
			<p>S  They go back to the sub room?</p>
			<p>G  Yes. That’s where they end up.</p>
			<p>L  If they don’t go in the sub room, then they’re not in jeopardy when the island blows up.</p>
			<p>G  The way to solve that, if it comes down to that, is that you have some shots of the island blowing up. A little montage of things blowing up. Then you cut to that long shot. It does its thing, and then they pop up. You could very easily fill that time.</p>
			<p>L  The mine train dumps them in the sub base.</p>
			<p>S  They’re back where they began then.</p>
			<p>L  That’s why they’re in such trouble when the place starts to collapse. </p>
			<p>G  It collapses on them.</p>
			<p> L  But that’s the route we have set up for the train.</p>
			<p>G  The train goes between the sub base and the thing. We don’t want to have to explain other ways out. They land in the middle of this thing. That’s the last we see of them. Cut to various explosions. Cut to the long shot of the island and see half of the mountain cave in. Hold for a minute. Then they pop up.</p>
			<p>S  If we had a more pronounced entrance to the sub base, that could be what collapses. It should be a familiar area that collapses.</p>
			<p>Tape Five, Side A</p>
			<p>G  Or maybe caves or something. Something that we’ll remember. The idea is that it caves in on them.</p>
			<p>S  And they get out in time.</p>
			<p>G— It’s just making that little time progression there plausible. The toughest thing is to be able to get some decent shots of the island exploding.</p>
			<p>S  You can photograph shock waves.</p>
			<p>G  Another way to do it, they’re racing on the train and she says, “Stop this thing.” “No, it’s our only hope.” They go off the pier, splash into the water, rocks are falling and they obscure the screen, as the whole screen sort of goes black, what would happen if you faded in on them in Washington? With the Ark. And you said. “Congratulations, Indy. You did a great job.” And you just assume that...</p>
			<p>S  It’s too much of a leap. They think they’re dead.</p>
			<p>G  You’re only going to think they’re dead if you see the thing explode, and the thing collapses.</p>
			<p>L  If you’re going to do it that way, we might as well have them take another route on the mine train and shoot them out into the ocean. Then at least we get a big roller coaster ride into the ocean. Then they’ll get out and the audience will see it.</p>
			<p>S  Instant freedom.</p>
			<p>G  The alternative ending is that the mine train goes in the other direction. It goes through the thing and out the other side. Then we don’t know where we’re going. They get chased</p>
			<p><span>(</span> page 116 missing<span>)</span></p>
			<p>S  to run in front of the boulder and get out of the cave before it gets you. The reason the boulder is coming down is not to kill him, it’s to seal off the cave.</p>
			<p>L  I’m seeing his retreat from there as all out, but still keeping in mind what he has to do. Like when he gets to this place, when he’s going back, he dodges through it. They’re a little slower than he is.</p>
			<p>S  Fast doors closing are fun.</p>
			<p>end</p>

      <hr/>

      <p> This is an HTML copy of a <a href="https://nloewen.com/docs/lucas-spielberg-kasdan--raiders-of-the-lost-ark-story-conference/lucas-spielberg-kasdan--raiders-of-the-lost-ark-story-conference.pdf">PDF</a> found on the web. </p>
		</div></div>]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 21:30:11 +0000</pubDate>
      <source>https://nloewen.com/docs/lucas-spielberg-kasdan--raiders-of-the-lost-ark-story-conference/</source>
    </item>
    <item>
      <title>For programmers, remote working is becoming the norm</title>
      <link>https://www.economist.com/graphic-detail/2021/08/11/for-programmers-remote-working-is-becoming-the-norm</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_economist_com_graphic-detail_2021_08_11_for-programmers-remote-working-is-becoming-the-norm/image.jpg" /> 
<div id="readability-page-1" class="page"><div><header><h2 data-test-id="Article Description" itemprop="description">Tech workers were ditching the office before the pandemic</h2></header><hr/></div><div itemprop="text"><figure data-infographic-class="g-fallback"></figure><figure></figure><p data-caps="initial"><span data-caps="initial">O</span><small>N THE FIRST</small> weekday of every month, a thread called “Who is hiring” is posted on <i>Hacker News</i>, a news-aggregation website popular with programmers. Hundreds of companies, from one-person operations to trillion-dollar corporations, submit listings. Most of them are based in America, although startup hubs such as Berlin or London are popular as well. According to an analysis by <i>The Economist</i>, only 13% of the jobs posted in the thread in 2011 mentioned remote work. In 2021, more than 75% do. Yet we find that the pandemic accelerated a change that was already taking place: between January 2016 and March 2020 the proportion of jobs mentioning remote working jumped from 20% to 35%.</p><div><div><div><p><span>The Economist Today</span></p><h2>Hand-picked stories, in your inbox</h2><p>A daily email with the best of our journalism</p></div></div></div><p>This analysis has to be taken with some caution. Not all companies use the same formatting for their job listings, meaning that some posts might be missed. Our analysis scrapes the data from the thread and searches for the word “remote” or “onsite”; this method sometimes throws up false positives (eg, by tagging job listings that say “no remote working” as “remote”), although such instances are rare. <i>Hacker News</i> only started requiring listings to specify if a job was “onsite” in 2016. There are also some prospective employers who say that vacancies can be filled remotely for now, but that workers will be expected to be based in an office when the pandemic recedes.</p><p>Still, Jed Kolko, the chief economist at Indeed, a job-listings website, reckons that the shift towards remote working is “permanent”. The website’s data for job opportunities across various industries—which is the most complete in America—show that mentions of remote work have more than doubled since the start of the pandemic. In the past few months the share of remote work has come down as offices reopen but for some occupations, such as software engineering, law and finance, the rates have stayed high. </p><figure data-infographic-class="g-fallback"></figure><figure></figure><p>Silicon Valley seems to be the most enthusiastic adopter of remote work. Last year Twitter said that it would let employees work from anywhere, permanently. Facebook followed suit, saying it would allow remote work and adjust salaries according to location. Apple has settled on a hybrid approach, requiring workers to attend the office three days per week. </p><figure data-infographic-class="g-fallback"></figure><figure></figure><p>There are several reasons why tech companies are offering more remote work. According to our <a href="https://www.economist.com/graphic-detail/usa-house-prices">house-price index</a>, home prices in San Francisco have shot up by 80% in the past decade. Even for workers with a comfy <small>faang</small>—Facebook, Apple, Amazon, Netflix and Google—salary, a house in the Bay Area can be a stretch. The proportion of jobs posted on <i>Hacker News</i> mentioning “San Francisco” has fallen by half from 30% in 2014 to less than 15% in recent months. Still, according to Darren Murph, the head of remote work at GitLab, a code-hosting platform, “Silicon Valley is a state of mind, not a place.”</p><p data-interactive-class="g-interactive-source">Sources: <i>Hacker News</i>; Bureau of Labor Statistics; Zillow; <i>The Economist</i></p><figure data-infographic-js="1"></figure></div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 05:03:19 +0000</pubDate>
      <source>https://www.economist.com/graphic-detail/2021/08/11/for-programmers-remote-working-is-becoming-the-norm</source>
    </item>
    <item>
      <title>Thunderbird 91.0</title>
      <link>https://www.thunderbird.net/en-US/thunderbird/91.0/releasenotes/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_thunderbird_net_en-US_thunderbird_91_0_releasenotes_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
      
  <section>
    
  </section>

  

  
    <section>
      
    </section>
  

  <section>
  <section>
    <article>
      
      <main>
        <h3>Get Involved</h3>
        <p>
          Thunderbird is an open source project, which means anyone can contribute ideas, designs, code, and time helping fellow users.
        </p>
        <a href="https://www.thunderbird.net/en-US/get-involved">
          Join Us
        </a>
        <p>
          <a href="https://give.thunderbird.net/?utm_source=thunderbird.net&amp;utm_medium=referral&amp;utm_content=pre_footer">Make a Donation</a> •
          <a href="https://support.mozilla.org/products/thunderbird/">Get Support</a> •
          <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Thunderbird">Report a Bug</a>
        </p>
      </main>
    </article>

    <article>
      
      
      
      

      <section>
        
        <main>
          <h3>Thunderbird</h3>
          <p>
            Thunderbird is a free email application that’s easy to set up and customize - and it’s loaded with great features!
          </p>
          
        </main>
      </section>

      <section>
        
        <main>
          <h3>The Future of Thunderbird</h3>
          <p>
            Experience cutting edge features. Provide feedback to help refine and polish what will be in the final release.
          </p>
          
        </main>
      </section>

      <section>
        
        <main>
          <h3>Thunderbird Daily</h3>
          <p>
            Help us test the newest developments made to Thunderbird every day by using the unstable Daily channel.
          </p>
          <p>
            <span>
              WARNING!
            </span>
            Daily is an unstable testing and development platform, make sure you back up important data regularly!
          </p>
          
        </main>
      </section>
    </article>
  </section>
</section>


    </div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 04:31:03 +0000</pubDate>
      <source>https://www.thunderbird.net/en-US/thunderbird/91.0/releasenotes/</source>
    </item>
    <item>
      <title>The metaverse is a dystopian nightmare – let’s build a better reality</title>
      <link>https://nianticlabs.com/blog/real-world-metaverse/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___nianticlabs_com_blog_real-world-metaverse_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
    

    

    <div>
      <p>A lot of people are talking about “the metaverse” these days. Coming off eighteen months of Zoom, Netflix, and Doordash, you can count me out — at least in the form that most folks are imagining. I’m not denying that the metaverse is a cool concept from a technology point of view; it comes from one of my favorite sci-fi writers, Neal Stephenson, who coined the term in his 1992 novel, <a href="https://en.wikipedia.org/wiki/Snow_Crash">Snow Crash</a>. Along with the works of <a href="https://en.wikipedia.org/wiki/William_Gibson">William Gibson</a>, that book created the cyberpunk genre, in which characters spend time wired into a digital universe where they explore, socialize, fight, and (at least in the novels) save the world from villainous plots. The concept reached one of its most complete expressions in Ernest Cline’s <a href="https://en.wikipedia.org/wiki/Ready_Player_One">Ready Player One</a>, where virtually everyone has abandoned reality for an elaborate VR massively multiplayer video game.  </p>
<p>A lot of people these days seem very interested in bringing this near-future vision of a virtual world to life, including some of the biggest names in technology and gaming. But in fact  these novels served as warnings about a dystopian future of technology gone wrong.</p>
<p>As a society, we can hope that the world doesn’t devolve into the kind of place that drives sci-fi heroes to escape into a virtual one — or we can work to make sure that doesn’t happen. At Niantic, we choose the latter. We believe we can use technology to lean into the ‘reality’ of augmented reality — encouraging everyone, ourselves included, to stand up, walk outside, and connect with people and the world around us. This is what we humans are born to do, the result of two millions years of human evolution, and as a result those are the things that make us the happiest. Technology should be used to make these core human experiences better — not to replace them. </p>
<p><strong>Technology to enhance the human experience</strong></p>
<p>Some might argue that we ought to ditch technology completely and return to a simpler way of life. But we don’t think that’s the answer either. Technology isn’t going away. The benefits of connecting us with information, friends, and family are simply too great. But over the last decades, those benefits have taken a huge toll, increasingly cutting us off from the experiences that we enjoy the most. It’s all too easy to get lulled into a routine of Zoom calls, online shopping, gaming, and scrolling through our social feeds. It encourages behavior toward one another that we would never tolerate in person, and is dividing our society by algorithmically pushing people into bubbles which reinforce the most extreme views.</p>
<p>At Niantic, we ask the question: what if technology could make us better? Could it nudge us get us off the couch and out for an evening stroll or a Saturday in the park? Could it draw us into public space and into contact with neighbors we might never have met? Could it give us a reason to call a friend, make plans with our families, or even discover brand new friends? Collectively, could it help us discover the magic, history, and beauty hiding in plain sight?</p>
<p><strong>Lightship platform</strong></p>
<p>If this fresh perspective is the goal, what are we doing to achieve it? For us, it starts with a technology that connects the real world (the atoms) with the digital one (the bits). You could call it the ‘real world metaverse’ to distinguish it from the virtual videogame version, but honestly, I think we are just going to experience it as reality made better: one infused with data, information, services, and interactive creations. This has guided our work to date, both in terms of our first attempts to incorporate these concepts into products like Field Trip, Ingress, and Pokémon GO, and in terms of inventing critical technology to enable them. The core of this isn’t only the computer graphics challenge of adding annotations and animations to the physical world; it’s also — maybe even mainly — about the information, services, and experiences where digital meets physical.</p>
<p>Building the real world metaverse lies at the intersection of two major technical undertakings: synchronizing the state of hundreds of millions of users around the world (along with the virtual objects they interact with), and tying those users and objects precisely to the physical world. The first exists today in the Niantic Lightship platform, which underpins Pokémon GO and all of our products and supports hundreds of millions of users around the world. It means that those millions of users can create, change, and interact with digital objects in the physical world and that experience is consistent and shared by everyone. In the world of software, we call that a ‘shared state’ — we are all seeing the same thing, the same enhancements to the world. If you change something it’s reflected in what I see, and vice versa, for the millions of participants using the system.</p>
<p>Tying all of that precisely to the physical world is an even bigger project. It requires a new kind of map, similar in concept to something like Google Maps, but different because this map is built for computers, not people. It requires an unprecedented level of detail so that a phone or headset can recognize its location and orientation in a highly accurate way anywhere in the world. It is designed to enable the ultimate kind of digital wayfinding and coordination. Think of it as a kind of GPS, but without the satellites and a much higher level of accuracy. Niantic is building that map, in collaboration with our users. This is one of the grand challenges of augmented reality, and it’s the key to making it work the way we want it to — to make the real world come alive with information and interactivity.  </p>
<p>Other big opportunities and challenges lie in semantically understanding the world. What are those pixels: an oak tree, a pond? A park bench, a cafe, or a historical building? Human cartographers have been doing this for hundreds of years. The new twist is in using computer vision to do this more or less automatically. Think of the opportunity as an analog to the web crawlers that search the web for pages to be indexed by Google. Today, computer vision powered by deep learning algorithms can provide a basic version of this in real time. In the future, offline processing can extend this to a much higher degree of fidelity and persistently tie this understanding to an ever-evolving AR map of the world. Niantic is pursuing these and other capabilities within the Lightship platform.</p>
<p><strong>What’s next?</strong></p>
<p><strong>Wearing it</strong></p>
<p>Given the innovations that will be required to achieve the necessary optical and computing performance, plus delivering it in a socially acceptable form factor, there’s a lot of skepticism about AR smart glasses. In the spirit of pioneers like Alan Kay, who took a long view of where technology was heading and accurately anticipated that evolution, we are not deterred by the challenges. As predicted in <a href="https://en.wikipedia.org/wiki/Dynabook">Kay’s 1972 Dynabook paper</a>, the trend over the last several decades has taken us from mainframes to mini-computers to personal computers to laptops and now to smartphones, increasing in performance as they shrunk in size. <a href="https://en.wikipedia.org/wiki/Mark_Weiser">Mark Wiesner</a> and other luminaries noted this trend as far back as the 1980s, predicting that our computing devices will ultimately disappear into the world around us — a concept Weiser described as “ubiquitous computing.”</p>
<p>It’s in this spirit that we have joined with our partners at Qualcomm to invest in a reference design for outdoor-capable AR glasses that can orient themselves using Niantic’s map and render information and virtual worlds on top of the physical world. Unlike the walled gardens others are attempting to create, our open consortium will enable many partners to create and distribute compatible glasses.  By moving the primary computing surface from a smartphone that demands hands and attention to glasses, the friction for accessing data and services is radically reduced. And by overlaying those services on the real world, reality itself can appear malleable, enabling brand new experiences. The Pokémon will finally be able to truly walk among us!</p>
<p>Although we already have the first versions of hardware for internal R&amp;D, we are just beginning this work, which we expect to continue over many years. It will evolve in fits and starts, just as past platform transitions have unfolded. Of course, we think games are a great way to explore this technology frontier. Games have been at the forefront of technology adoption since Atari brought some of the first microprocessors into the home with Pong. This trajectory was carried forward with innovations like the Nintendo Gameboy (perhaps the first successful consumer handheld computer) and computer games like Quake and World of Warcraft, which drove demand for internet connectivity in the home. We’ll be using games to explore the potential for AR smart glasses, and are eager to share our work with early adopters of this hardware.</p>
<p><strong>Reality channels</strong> </p>
<p>Going back to our vision for software and content, we imagine a future of worlds that can be overlaid on the real world. For now, we’re calling these ‘reality channels’ to give the idea a name. Think of Pokémon GO, upgraded for smart glasses where the Pokémon wander through your local park, seeming to actually inhabit the world. In this future version, Pokémon appear to you as if they are really there, scurrying around passing pedestrians, hiding behind a park bench, or roaming  in herds through your favorite park. Buildings might take on the pastel hues of the Pokémon universe; a 10-story Pokémon GO Gym might rise above your local shopping center. If you encounter another player on the street, they might even appear transformed into the guise of their in-game persona. Multiply this kind of channel x1000: Mario, Transformers, Marvel’s superhero universe, the world of Wakanda, Star Wars, Indiana Jones, Bladerunner, Sherlock Holmes, Nancy Drew, The Maltese Falcon — all of these and countless more will exist as reality channels that you can turn on, transforming your daily routine into something a bit more magical, intriguing, exciting — and most of all, a little more fun. Importantly, all of these experiences will be shared by countless other people, so that the adventure is a catalyst for spending time together and deepening social relationships.</p>
<p>But it’s not just games. Although we expect games and entertainment to be key drivers for this new platform, reality channels are a way of seeing the world that will power more activities that entertain, educate, guide, explain, and assist us, from assembly lines and construction sites to the most complex knowledge work, all without taking us away from the thing we do best: reality.</p>
<p>We have a responsibility to do all this in a way that respects the people using our services, as well as people who don’t. User privacy, responsible use, inclusive development processes and recognizing and mitigating the potential impacts of AR technology on societies all need to be considered now, not after the fact. </p>
<p><strong>Come build with us</strong></p>
<p>The shift to the real-world metaverse represents a sea change in computing that’s as significant as earlier developments like personal computing, the internet, and mobile. Helping to achieve this meta-shift is our purpose at Niantic, but we recognize that it won’t be solely our work. Such a massive evolution will require the work of big companies, startups, and individuals around the world to become a reality. We have identified critical leverage points where we think Niantic  can make a difference in moving  this massive transformation forward:  our own games and applications, the Lightship Platform, the map, and industry-spanning initiatives like our hardware reference design that leverage the expertise and investment of many towards a common goal.</p>
<p>I hope these thoughts help you to see what we see, which is the opportunity to do what we humans do best — harness technology to serve our needs, rather than the other way around. The future is what we make it to be, and we’re devoting our time and energy to building the future we want to live in, and want to pass on to the next generation.</p>
<p>We’ve got a lot of work to do, so If this appeals to you as a partner, a Lightship developer or a potential Niantic employee, we’d love to hear from you!</p>
<p><strong>-  John Hanke, Founder &amp; CEO, Niantic</strong></p>


      
    </div>

    
  </div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 21:47:05 +0000</pubDate>
      <source>https://nianticlabs.com/blog/real-world-metaverse/</source>
    </item>
    <item>
      <title>Smarking (YC W15) Is Hiring a Head of Engineering</title>
      <link>https://jobs.lever.co/smarking/91ecceff-db7b-463f-bd6e-c348bcaec567</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___jobs_lever_co_smarking_91ecceff-db7b-463f-bd6e-c348bcaec567/image.jpg" /> 
<div id="readability-page-1" class="page"><div><p>Smarking is a leading provider of enterprise software and data technology solutions for the massively overlooked $655B global parking industry.</p><p>This is an excellent position for a highly capable software engineer who&#39;s ready to take on bigger responsibilities, team wide leadership, and a leap of faith, to not only continue shipping codes and building amazing products and systems, but also lead and build a team of solid engineers to help scale cutting edge tech solutions from ground up for a massive and overlooked market .</p><p>The Head of Engineering will report to the CEO directly, and join the management team to provide engineering leadership company wide. </p></div><div><div><h3>KEY RESPONSIBILITIES (in the order of priorities)</h3><ul><ul><li>Hands on scaling tech platforms with large data and activity volumes and complex b2b2c systems</li><li>Provide managerial and leadership support to enable an engineering team of 5-10</li><li>Recruit, close, and motivate engineers</li><li>Work with the CEO to refine/improve engineering productivity and practice</li><li>Empower other parts of the company with engineering and technical insights</li></ul></ul></div></div><div><div><h3>QUALIFICATIONS (EXPERIENCE)</h3><ul><ul><li>5+ years of hands on software engineering work experience</li><li>Successful hands on experience scaling tech platforms from ground up to large scale</li><li>Successful experience working with a team of people (cross functionally and leading Jr. engineers) to build and scale systems</li><li>Experience in mentoring, coaching if not leading and managing other software engineers</li><li>Experience in recruiting solid software engineers (participation at least if not as a hiring manager)</li><li>Experience in very early stage tech startups is a huge plus</li><p>*Smaking’s current technologies include Python, Postgres, Flask, Docker, Redis, ElasticSearch, Airflow, Terraform, AWS services (EC2, S3, RDS, and ECS), Javascript/CSS/React/Typescript.</p></ul></ul></div></div><div><div><h3>QUALIFICATIONS (CHARACTER)</h3><ul><ul><li>Hungry for responsibility, impact, and growth</li><li>Humble to learn, curious to learn, open-minded to learn</li><li>Team first</li><li>Strong sense of ownership</li><li>Treat others with respect, empathy, and constructive candor</li></ul></ul></div></div><div><p>Email your resume to careers@smarking.net for an interview with the CEO directly!</p><p><b>About Smarking</b></p><p><a href="https://www.smarking.com/">Smarking</a> is a group of passionate MIT PhDs, data scientists, Silicon Valley engineers, and battle-tested business professionals, committed to enable highly efficient urban mobility by building the digital infrastructure for the massively overlooked $655B global parking industry ($131B in the US).</p><p>Smarking is hired by organizations like Brookfield Properties, City of Miami, ABM Industry Groups, and many other enterprise industry leaders to turn their parking data into business results.  Smarking&#39;s dynamic pricing engine has been creating 40%-400% revenue uplift for online parking sales at parking facilities in Chicago, NYC, Boston, and many other cities, without any manual involvement required from property managers, leveraging fully automatic algorithm-driven yield management technologies similar to the airline and hotel industries. </p><p>By providing the very first business intelligence and yield management enterprise SaaS to the parking industry, Smarking is establishing itself as an emerging leader in the US parking market. Smarking currently works with 2,500+ parking locations cross North America, based in San Francisco, and backed by top investors like Khosla Ventures and Y Combinator.</p></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 21:01:15 +0000</pubDate>
      <source>https://jobs.lever.co/smarking/91ecceff-db7b-463f-bd6e-c348bcaec567</source>
    </item>
    <item>
      <title>Quality and Effort (2018)</title>
      <link>https://seths.blog/2018/11/quality-and-effort/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___seths_blog_2018_11_quality-and-effort_/image.jpg" /> 
<div id="readability-page-1" class="page"><div data-url="https://seths.blog/2018/11/quality-and-effort/" data-title="Quality and effort" data-hashtags=""><p>It seems as though the opposite of “careless” ought to be “careful.” That the best way to avoid avoidable errors is to try harder, to put more care into the work.</p>
<p>This means that if surgeons were more careful, there would be fewer errors. And that so many of the mistakes that mess things up would go away if people just tried harder.</p>
<p>And this is true. For a while. But then, it’s not effort but systems that matter.</p>
<p>Years ago, I created a trivia game for Prodigy. The first batch of 1,000 questions was 97% perfect. Which is fine, until you realize that this meant that 30 questions had an error. And every error ruined the experience for the user.</p>
<p>The second batch, we tried extra hard. Really hard. Our backs were against the wall and we couldn’t afford any errors. Our effort paid off in a 50% decrease in errors. We were down to 1.5%. Alas, that’s still 15 game breakers.</p>
<p>Then, I got smart and I changed the system. Instead of having trivia writers work really hard to avoid mistakes, we divided our team in half. Half the team used the encyclopedia (yes, it was a long time ago) to write the questions, and they made a photocopy of the source, along with the question, and put it in a notebook.</p>
<p>The other half of the team got the notebook and was charged with answering the question based on the source. They got a bonus of $20 for every question they found where their answer was more correct than the original.</p>
<p>The result of the new system? Zero error for the next 5,000 questions.</p>
<p>We need to put care into our systems. We need to build checklists and peer review and resilience into the way we express our carefulness. It seems ridiculous that a surgeon needs to write her name (with a Sharpie) on the limb that she’s about to operate on, but this simple system adjustment means that errors involving working on the wrong limb will go to zero.</p>
<p>In school, we harangue kids to be more careful, and spend approximately zero time teaching them to build better systems instead. We ignore checklists and processes because we’ve been taught that they’re beneath us.</p>
<p>Instead of reacting to an error with, “I need to be more careful,” we can respond with, “I can build a better system.”</p>
<p>If it matters enough to be careful, it matters enough to build a system around it.</p>
</div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 00:27:20 +0000</pubDate>
      <source>https://seths.blog/2018/11/quality-and-effort/</source>
    </item>
    <item>
      <title>Who Owns In-Chip Monitoring Data?</title>
      <link>https://semiengineering.com/who-owns-in-chip-monitoring-data/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___semiengineering_com_who-owns-in-chip-monitoring-data_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>

					<p>In-chip monitors provide unprecedented visibility into the inner workings of complex integrated circuits for everything from process control to fine binning, preventive system maintenance, and failure analysis. But there may be many consumers of different slices of the data at very different phases of the chip lifecycle, raising questions about who controls and owns all of that data.</p>
<p>The answers are surprisingly complex.</p>
<p>“There’s this joint ownership of the data, with different people at different layers doing different things with the data for their own purposes,” said Kurt Shuler, vice president of marketing at <a href="https://semiengineering.com/entities/arterisip/" target="_blank" rel="noopener">Arteris IP</a>. Contracts and regulations further complicate things.</p>
<p>Access to data is an important part of the business model that monitoring companies set up between themselves and the various data stakeholders. Nevertheless, subscriptions to that data may be independent. One company’s access to the data may not depend on the subscription status of any other company.</p>
<p>Opinions vary, in particular, when it comes to some of the delicate fab-related data that could be exposed with the right monitors.</p>
<p><strong>Where the data originates</strong></p>
<p>That data is transported to some data center (ignoring for this discussion the fact that <a href="https://semiengineering.com/chip-monitoring-and-test-collaborate/" target="_blank" rel="noopener">it also may be used on a tester</a>). That data center may be under the control of the monitor vendor or, more likely, it will be a private cloud belonging to the chipmaker that’s running the analytics software for the monitoring company.</p>
<p>At this point, only two companies are involved — the chipmaker and the monitoring company. Of course, if more than one monitor is used, then each monitor company is involved. But other possible stakeholders might want access to the data. Foremost among these is the system builder, which buys the chips and installs them in a device.</p>
<p>That system could have multiple chips with monitors on them, meaning there could be multiple sources of data. And each source could be from a different chipmaker. And yet it’s the chipmakers, not the system maker, that decide what monitoring will be available based on the monitors they choose to include.</p>
<p>A chipmaker is free to consult with system-building customers to ensure that the monitors are of value. In all likelihood, though, the monitoring capability will be part of the value of the chip. Chips with the most attractive monitoring choices and data will be more attractive.</p>
<p>“At some point it will become competitive differentiation,” said Steve Pateras, senior director of marketing for test products at <a href="https://semiengineering.com/entities/synopsys-inc/" target="_blank" rel="noopener">Synopsys</a>. “You can sell data about your chips, as well as your chips, to your customer.”</p>
<p>Other possible interested parties include fabs — even though they have lots of other tools for measuring chip characteristics — as well as test houses and assembly houses. Within these companies, different departments may have an interest. Binning and performance selection, preventive maintenance, and failure analysis are classic applications for monitoring data.</p>
<p>But how do these teams get access? Does the chipmaker grant access to the data that already has been harvested? Does the monitor-maker, by virtue of the analytics software, grant that access? If the chipmaker controls things and ends a data subscription, does that end it for everyone? And do the chips stop gathering data then?</p>
<p>There is no single answer to these questions. Each monitoring company is free to build its own technical and business model. And those models are likely to evolve as the industry figures out what works best. But there are policies in place now with each company that provide answers, even if they are only temporary.</p>
<p><strong>Subscribers mostly pull data</strong></p>
<p>For one thing, pushing out data when no one explicitly is requesting it keeps the monitors active, which draws power and may take bus cycles. “We don’t take power from the chip and make it work more than it needs,” said Uzi Baruch, chief strategy officer at <a href="https://semiengineering.com/entities/proteantecs/" target="_blank" rel="noopener">proteanTecs</a>. “We are sensitive to the actual operation itself. We don’t want to consume energy. We don’t want to make any changes to the way that you operate.”</p>
<p>The timing can vary even with metrics that may need regular monitoring, making it easier to schedule data pull-in software rather than data push-in hardware. “If you’re interested in the aging of the chip, you don’t need to pull it every second and ask what’s going on,” noted Baruch. “Even if you use an interval of every few days or weeks, the ability to track aging does not fundamentally change.”</p>
<p>In a data-pull design, data is not pushed out by some schedule designed into the chip. Instead, data is always pulled, at least from the standpoint of the chip. However, that pull could come from a number of levels. The most common one would be requests built into the system software. That code would manage all of the “regularly scheduled” data the various stakeholders might want to have taken. So at the system level, this would look like data being pushed out, while at the chip level it’s the system pulling data.</p>
<p>This puts control at the level of software, which can be updated and changed if necessary, making it more flexible. It also means that if are no subscribers, the firmware can be updated to stop pulling the data and sending it to the data center.</p>
<p>With respect to one-off data — as opposed to the regularly scheduled data — the data pull would originate with the requester in the cloud, being communicated down into the chip for immediate data. Historical data, of course, would come from the existing archive instead of the device.</p>
<p></p>
<p><strong>Fig. 1: An abstracted view of the system-level architecture for in-chip monitoring. Each chip may be from a different vendor. In addition, the chips may have a mix of monitors from different monitor vendors. Pre-scheduled data is simply delivered to the cloud. The API deals with one-off data requests. Some monitors may be able to initiate a data push in the form of an interrupt, typically for some system-critical situation. Source: Bryon Moyer/Semiconductor Engineering</strong></p>
<p>There may be situations that call for a data push, however. “You could have something like a catastrophic trip monitor that says, ‘Look, if the temperature ever gets above this point, send out an alert,’” said Randy Fish, director of marketing for silicon lifecycle management in the Digital Design Group at Synopsys. “You may want to pre-define it, which may mean that it’s fused during manufacturing, when you calibrate it. You may have other catastrophic monitors you’re putting in place that are programmable.”</p>
<p>Some companies allow for both push and pull models. “Whether the monitor is in pull or push mode is a runtime configurable feature,” said Gajinder Panesar, fellow at <a href="https://semiengineering.com/entities/mentor-a-siemens-business/">Siemens EDA</a>, with respect to their monitors.</p>
<p>Given the pull nature of most of the data, the system designer is in the unique position of bringing all of that data out into the world. The system software is the ultimate arbiter of what data is pulled when — at least for any regularly scheduled data.</p>
<p>But even ad-hoc requests have to percolate through the system, and in theory that software has the ability to accept or reject a request. So as much as chip designers may want to be in control, it’s ultimately the system designer who makes the final decisions, since they may not query all of the available monitors in the firmware.</p>
<p>While the in-chip monitors can’t force the system to allow access, they can override decisions to access data based on who is requesting it even if the system approves it. “We have monitor controllers on the chip, and they control certain groups of sensors and monitors,” said Pateras. “And so we have ways of controlling access to each of those controllers as part of our infrastructure.”</p>
<p><strong>The business side of things</strong></p>
<p>In the case of proteanTecs, anyone with legitimate interest in the data can be a subscriber. But there’s a catch. Access must be approved. Where that approval comes from depends on the scenario. If a chipmaker is creating a chip that will be sold on the open market, then they are the approver. On the other hand, if a system builder specifies the design of a new chip that will include monitors and that chip is exclusively for them, then they become the approver.</p>
<p>If a company wants to subscribe, first they go to the approver and get the okay, and then they can go to proteanTecs to purchase access to the software portal. Assuming such approvals, there could be many subscribers.</p>
<p>That subscription eventually may lapse, too, due to the terms of the subscription end, or the approver could rescind access. If that happens, there are two implications. One is the ability to pull new data. That will end. The second is the ability to use the software to access existing data. That could continue, even if no new data is being delivered. In the event that the subscription to the software platform is ending, then the data can be exported to the subscriber’s own storage for future use.</p>
<p>As to who owns the data, proteanTecs says each subscriber owns the data to which they subscribed, which means the data may have many owners. Data already received – if stored elsewhere – can’t be pulled back if the subscription lapses.</p>
<p>There’s also a privacy issue regarding timing. An “owner” of the chip — and this applies mostly to the end user of the system containing the chip — gets data access (assuming this is approved) only for the time when they own the system. If they sell the system to another user on the secondary market, then the new user can’t go back in and look at what the previous user might have done.</p>
<p><strong>Some data is particularly sensitive</strong></p>
<p>This is where things get tricky. “Almost any fab data is a touchy subject,” said Fish. “Some foundries or fabs are touchier than others.”</p>
<p>In-circuit monitors also add security concerns. “When it comes to adding monitors and stuff like that, there is the potential that fabless people can put secret structures in that the foundry can’t access,” said Guy Cortez, staff product marketing manager for silicon lifecycle management in Synopsys’ Digital Design Group.</p>
<p>It’s a delicate subject, and some folks did not want to go on the record for this story. Others acknowledge there may be different restrictions that apply in different situations.</p>
<p>“Fabless companies don’t have the right to reverse engineer [the silicon process] and sell that information,” explained Fish. “They’re protected under all sorts of non-disclosures. But they have the right to build things in. If we started crafting monitors that were effectively pulling out process information, we’d have to defer to the agreement that the customer has with the foundries. You’re in a gray area.”</p>
<p>Who gets what data may depend to some extent on the size of the company requesting access. “Depending on the size of the fabless business, requests for fab data are met on a sliding scale,” said Mike McIntyre, director of software product management at <a href="https://semiengineering.com/entities/onto-innovation/" target="_blank" rel="noopener">Onto Innovation</a>. “Largest customers may get a fairly complete data set, but only for specifically requested or individually named material. Significant customers may get partial data only for specifically identified wafers, and lower-order customers may not get any additional data beyond what was contractually obligated.”</p>
<p>This is business as usual for many companies. “There’s already data exchanged between foundries and their customers in both directions,” added Pateras. “We do that already for yield improvement and reliability improvement.”</p>
<p>Siemens views those partners as having some ownership of that data. “I would expect that yield data will still be owned by the fab companies,” said Panesar. “But it will be accessible via a secure API so that aging and preventive maintenance can be provided as a service.”</p>
<p>Nevertheless, not all data is available. “System-level and architectural data on how the system is behaving in deployment will be the province of the system provider,” Panesar added. “This also will be fed back, in a controlled way, to the chip manufacturer to architect next-generation products and possibly to monitor service-style agreements on uptime.”</p>
<p>Much of the data ends up in a trove that may include other data, like test or fab metrology results. That data may be restricted. Monitor data taken after the device is live typically isn’t, although there may be restrictions on which monitors can be accessed.</p>
<p>ProteanTecs has no blanket restrictions, and reports no issues with foundries being concerned that data is going to folks who shouldn’t see the data. “Since customers own the data, they can decide what and how much to reveal,” said Baruch.</p>
<p>It’s also possible that low-level software could see all of the raw data directly, but that data would be abstracted before being presented to the viewer. In that manner, viewers could draw overall conclusions without being able to dig into the confidential details.</p>
<p>“Massaging the data, creating some form of metadata that gives more trend information or more generalized information about what’s going on, may hide some of the dirty laundry underneath,” said Pateras.</p>
<p>Monitor companies get paid for the monitor IP, possibly for subscriptions, and possibly for storing data. But while it’s sometimes vague knowing who owns the data, they are all clear that it isn’t them. “We don’t own the data,” said Pateras. “We’re not in the data brokerage business. We give you a tool that creates a database, that manages a database of data, and that analyzes the data, but we don’t see the data — and we don’t want the data.”</p>
<p><strong>Security is important</strong></p>
<p>Synopsys, for instance, lays down security infrastructure as a part of the IP for a monitoring system.</p>
<p>Part of this is about ensuring that only authorized parties can access the data. The data itself must also be protected while stored, although that’s more likely to be a data-center issue rather than a system issue.</p>
<p>Data in motion — the deliveries of monitor data — also must be protected. While encryption is the most secure approach, some companies may opt for watermarking or obfuscating as a lighter touch. This applies regardless of whether the data is moving within the system for operational decisions or being delivered up to the cloud for analytics.</p>
<p><strong>It’s all tentative</strong></p>
<p>“The proper incentives need to be in place — many new business models are being negotiated,” said Advantest’s Schaub. Different customers may negotiate different deals when it comes to all of the details of how the data is used and paid for.</p>
<p>Siemens EDA’s Panesar sees the potential for an entire ecosystem evolving around the various kinds of available data. “Just as with the smartphone, an ecosystem will definitely build up around in-chip data,” he predicted.</p>
<p>So whatever the situation is now, it’s likely that things will change over time as the industry adapts to the availability of monitor data. “I’d challenge anyone to give definitive answers,” he said. “And the answers tomorrow almost certainly won’t be the same as they are today. Usage and business models are changing.”</p>
<p>While monitoring may be maturing from a technical standpoint, the business models are still evolving. It remains to be seen whether they simply stabilize with each individual company, or whether the industry as a whole settles on a standardized way of dealing with this.</p>
<p><em><strong>Related</strong></em></p>

					<br/>

				</div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 07:50:46 +0000</pubDate>
      <source>https://semiengineering.com/who-owns-in-chip-monitoring-data/</source>
    </item>
    <item>
      <title>NASA&#39;s “Tour of Asteroid Bennu” Selected for Siggraph Film Festival</title>
      <link>https://www.nasa.gov/feature/nasas-tour-of-asteroid-bennu-selected-for-prestigious-computer-graphics-film-festival</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_nasa_gov_feature_nasas-tour-of-asteroid-bennu-selected-for-prestigious-computer-graphics-film-festival/image.jpg" /> 
]]></content:encoded>
      <pubDate>Tue, 10 Aug 2021 11:39:13 +0000</pubDate>
      <source>https://www.nasa.gov/feature/nasas-tour-of-asteroid-bennu-selected-for-prestigious-computer-graphics-film-festival</source>
    </item>
    <item>
      <title>Enso (YC S21) is hiring a senior Rust/WebGL developer</title>
      <link>https://www.ycombinator.com/companies/enso/jobs/5AhkHFF-senior-rust-developer</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><section><div><div><a href="https://www.ycombinator.com/companies/enso"><p></p></a><div><h2><a href="https://www.ycombinator.com/companies/enso">Enso</a></h2><p>No-code interactive ETL and data analysis tool.</p></div></div><div><p><span>0.10% - 1.00%</span></p><div><div><div><p></p></div></div></div></div><h2><strong>About the role</strong></h2><div><div><p><a href="https://enso.org">Enso</a> is looking for a senior Rust developer to take
charge of the design, development, and evolution of a new WebGL-based GUI for
Enso, a project said by Singularity University to have the potential to change
the lives of one-billion people. If you bring strong technical skills and a
passion for performance, this could be the role for you.</p>
<p>As a senior Rest developer you&#39;ll be a key part of bringing the vision for
Enso 2.0 into reality, with your work being integral to the realisation of the
next iteration of Enso. You&#39;ll be able to collaborate with world-class team of
skilled engineers, community managers, and business developers (from Bloomberg,
PayPal, and GitHub to name a few), and make your indelible mark on the future of
Enso.</p>
<h4>What You&#39;ll Do</h4>
<p>As a senior Rust developer, you&#39;ll be responsible for designing and building
a high-performance renderer based on web technologies for use in the Enso IDE:
Enso Studio. This will involve:</p>
<ul>
<li>Working closely with stakeholders and customers to design the new GUI for Enso
Studio.</li>
<li>Developing a design for the new renderer that will be used to implement this
GUI.</li>
<li>Building a next-generation UI framework using this renderer for use in Enso
Studio.</li>
<li>Using this UI framework to build the new GUI for Enso Studio itself.</li>
<li>Debug performance issues to ensure that the renderer is capable of achieving
high performance even on low-powered hardware.</li>
<li>Creating visualisations for data science libraries using the renderer and
D3.js.</li>
</ul>
<h4>The Skills We&#39;re Looking For</h4>
<p>We have a few particular skills that we&#39;re looking for in this role:</p>
<ul>
<li>A strong focus on both user experience and aesthetics.</li>
<li>2+ years experience with Rust, including experience writing <code>unsafe</code> code for
FFI and performance, and using the macro system for metaprogramming. You
should be able to write <em>idiomatic</em> rust code.</li>
<li>Practical experience building high-performance graphical interfaces for
end-user-facing applications.</li>
</ul>
<p>As part of the hiring process for this job posting we&#39;re <em>very</em> interested in
your previous work in these areas. Please link us to your Rust projects, blog
posts and shadertoy shaders if you have them! It&#39;s important for us to
understand your experience at the start of the hiring process.</p>
<p>It would be a big bonus if you had:</p>
<ul>
<li>Experience with Rust&#39;s WASM toolchain, with wasm-bindgen, and experience with
WASM itself.</li>
<li>Experience with visual programming systems such as Houdini, Max/MSP, Lab VIEW,
or Touch Designer.</li>
<li>Knowledge of the runtime and memory models used by various JavaScript virtual
machines.</li>
<li>Knowledge of D3.js, and experience using it to visualise data.</li>
<li>Experience with GPU programming (OpenGL, WebGL, DirectX).</li>
</ul>
<p>Avoid <a href="https://www.forbes.com/sites/womensmedia/2014/04/28/act-now-to-shrink-the-confidence-gap/">the confidence gap</a>.
You don&#39;t have to match <em>all</em> of the skills above to apply!</p>
</div></div><h2><strong>Why you should join Enso</strong></h2><div><p><strong>Enso (<a href="https://enso.org">https://enso.org</a>) is a no-code interactive ETL and data analysis tool. It lets you load, blend, analyze your data, and then automate the whole process, simply by connecting visual components together.</strong> At Enso, we have a world-class team, with developers, community managers, and business developers from all walks of life and backgrounds.</p></div></div></section></div></div>]]></content:encoded>
      <pubDate>Thu, 12 Aug 2021 07:01:00 +0000</pubDate>
      <source>https://www.ycombinator.com/companies/enso/jobs/5AhkHFF-senior-rust-developer</source>
    </item>
    <item>
      <title>Java Creator James Gosling Interview</title>
      <link>https://evrone.com/james-gosling-interview</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___evrone_com_james-gosling-interview/image.jpg" /> 
<div id="readability-page-1" class="page"><div><div><div property="content:encoded"><h2 dir="ltr">Introduction</h2>
<p dir="ltr">James Gosling, often referred to as &#34;Dr. Java&#34;, is a Canadian computer scientist, best known as the father of the Java programming language. He did the original design of Java and implemented its original compiler and virtual machine. Our DevRel, Grigory Petrov, had the opportunity to interview James, and we have included the entire transcript below. Hope you enjoy it!</p>
<h3 dir="ltr">The Interview</h3>
<p dir="ltr"><strong>Grigory:</strong> As software developers and software consultants, we&#39;re trying to organize a community in Russia: Python, Ruby, Java, and Go communities. And we want to help our fellow developers by conducting interviews that highlight essential questions for our industry. I think that your experience and your work on Java can help developers to become better. So let&#39;s try to help them!</p>
<p dir="ltr">Some languages, like Go, leave out classes and inheritance, while others experiment with features like traits in Rust. As a language designer, what do you think is a modern, general-purpose, reasonable way for a programming language to do composition?</p>
<p dir="ltr"><strong>James:</strong> I don&#39;t think I wouldn&#39;t do classes. I actually find that classes work pretty well for composition. I don&#39;t really have any good, clear ideas for what to do differently. And some of the things that I would do differently are a little strange. In C, there are macros, which are pretty much a disaster because the macros are not part of the language; they&#39;re kind of outside of it. The folks at Rust tried to do a decent job of fitting macros in the language.</p>
<p dir="ltr">Other languages, like all of the Lisp family, managed to fit them in more gracefully, but they had a way of defining syntax where the syntax was almost entirely free of semantics. And in most languages, syntax and semantics kind of go hand in hand. As somebody who has written a lot of Lisps in a past life, I am really addicted to the technique of using Lisp programs to manipulate Lisp programs. That&#39;s one thing that I really, really miss. Some languages let you do that in different ways, so like in Groovy, you can directly play with the AST. And Rust has some sort of syntactically integrated macros. But it&#39;s always felt to me like there&#39;s an interesting research question in there: can you do more?</p>
<p dir="ltr">Can I get the feel of Lisp doing computations on code fragments to generate new code? And in the Java world, people do that. It&#39;s one of the more popular features, except that it&#39;s really low level. Because people use a combination of annotations and the fact that you can generate bytecodes with some of the different languages. That is super powerful. It gets used in places like you wouldn&#39;t expect, like in Jackson. It gets a lot of its performance by computing the serializer.</p>
<p dir="ltr">On one hand, it&#39;s a very powerful technique. On the other hand, it&#39;s just super hard to use. The fact that it&#39;s possible is great. But how far can you go? They can be kind of limited. So if you look at something like Lombok, it&#39;s one of the things that I find to be... well, I have a strong love-hate for it. Because it adds a bunch of Java features that are pretty nice, but on the other hand, it shows weakness. Partly in the process, as this is a set of features that should be just built-in. And the Java Community Process has become somewhat less community than it should be. I&#39;m on the outside these days and have been for quite a few years, but there are things you could do that are just all over the map. </p>

<p dir="ltr"><strong>Grigory:</strong> That&#39;s why we prepared questions about your fantastic experience with creating languages, and not some modern Java enhancement proposal. Five years ago, I can confess, I manipulated some Java bytecode. For good, of course, but creating domain-specific languages out of it is kind of tricky. With Ruby, it&#39;s much easier. We at Evrone are proficient with Ruby, we have dozens of Ruby developers. And Ruby developers are great, but they require lots and lots of years of training to learn all the DSL magic.</p>
<p dir="ltr"><strong>James:</strong> One of the things with features like computing code fragments, the reason why it&#39;s awkward in Java, is that Java tries to go all the way to compiled machine code. And Ruby is pretty much always interpreted. When you&#39;re doing that, when you&#39;re not trying to get all the performance that you can, then life is easy. But if you&#39;re trying to get both powerful features and ultimate performance, life becomes much harder. </p>

<p dir="ltr"><strong>Grigory:</strong> Recently, we interviewed Yukihiro Matsumoto, the author of Ruby, and he mentioned that he had performed an experiment with his latest major Ruby 3.0 version. He tried to release this version without breaking changes to see what would happen. A major language version that doesn&#39;t break anything. I know that Java is cautious about not breaking things. Is it a good idea for all the languages to evolve without incompatibilities? Or is it a limited approach that can be used only for specific languages, like Ruby or Java?</p>
<p dir="ltr"><strong>James:</strong> It is almost entirely a function of the size of the developer community. Every breaking change induces pain in the developer community. If you don&#39;t have many developers, then breaking changes aren&#39;t a big problem. And you also have to think about the cost-benefit tradeoff. If you do a breaking change, it adds some pain, but it also brings some benefit. For example, if you change the subscript operator from square brackets to round brackets, it probably buys you absolutely nothing and induces terrific pain. That would be a dumb idea. </p>
<p dir="ltr">In JDK 9, there was a change, one of the very few breaking changes that were ever introduced, and what it broke was: if you&#39;re using some of the supposedly hidden APIs, the encapsulation mechanism gets scrambled, and people who were breaking encapsulation boundaries and using things that shouldn&#39;t be used in ways that shouldn&#39;t be used, they had some pain moving from 8 to 9. But once we get beyond that, it allows the platform a lot more freedom to innovate. And in this particular case of 8 to 9 transition, it means that the platform can be sliced and diced, and you can actually make custom packaging so that the Java Runtime Environment will be smaller. </p>
<p dir="ltr">One other area where there is always a fair amount of discomfort is: when there&#39;s a bug in something, and people do workarounds for the bug, if you fix the bug, you may break the workarounds. There have certainly been instances in the Java world where we decided either not to fix bugs or introduced a method that does the correct thing. That even shows up in hardware. There&#39;s an issue with sin and cos, they were slightly incorrect, so you have to have correct and incorrect instructions.</p>

<p dir="ltr"><strong>Grigory:</strong> Twenty-five years ago, when I started my own career as a software developer, I wrote a lot of C and C++ code. And I remember these mysterious pointer bugs that happened once a month. Debugging such bugs was a pain. But now, as a software developer, I see lots of tools integrated into our workflow, like static type checkers. Modern developers use IDEs, like NetBeans, IntelliJ IDEA, or even Visual Studio Code. They write the source code, and a static type checker parses the program, constructs an abstract syntax tree, and checks everything it can. And then possible errors are highlighted right within a text editor. And such tricks are available, not only for statically-typed languages, but even dynamically-typed languages, like Python, Ruby, and TypeScript. What is your opinion on these static type checkers we use today? Are they a step forward to writing better software, or do we need to put more inside the language syntax?</p>
<p dir="ltr"><strong>James:</strong> Well, both. I&#39;m a big fan of languages with static type systems because they provide a scaffolding for the static type checkers and IDEs to work. I spent most of my life as a software engineer, and the least satisfying way for me to spend my time is hunting down obscure bugs that happen at weird times. And anything I can do to make bugs disappear before they waste my time is a good thing. So, I&#39;m a big fan of just about anything that IDE can do to reduce the probability of a bug. So when we look at the dynamically-typed languages like JavaScript and Python, they have less of an inference framework to work that out because they don&#39;t necessarily know what the type of anything is; they’re just kind of guessing. Strongly-typed languages, like Java, provide a much more rigorous framework for the type checkers to use. And, going up another level, there are things that do full auto theorem proving. So there are systems like Dafny, which has a really sophisticated theorem prover. So if you want to build an encryption algorithm, you will be able to mathematically prove properties. You can do that. That may be a little too far, but for some code, it&#39;s really useful.</p>
<p dir="ltr">And a lot depends on what your goal really is. If you&#39;re a university student and you&#39;re trying to get your assignment done, or you&#39;re a Ph.D. student, and you&#39;re trying to graduate, then when you write a program, your goal is that it should work once. At least once. Because you have to do a demo and be able to show it off to see if it works. If you&#39;re in an industrial setting, where I have been most of my life, working once is only slightly useful. It has to work every time. And the difference between working once and working every time is huge. And so, if it only needs to work once, then the more dynamic languages work reasonably well. If you have to be sure that it&#39;s gonna work over and over again, all of the static typing tools help you come to that confidence. But if the kind of thing you&#39;re doing is... say, you&#39;re a physicist, and you want to find out the result of some computation, it only needs to run once. It depends on the context of the work you&#39;re doing. And the more reliability you need out of the software, the more statically-typed language helps. </p>

<p dir="ltr"><strong>Grigory:</strong> Talking about enterprise and industrial development. I never programmed robots myself, but I spent time working for companies that create software for millions of people, and I can compare today and 20-25 years ago. And I see that right now, social coding platforms, like GitHub, are backed by big companies, and they help with open source development for both individual developers and enterprise or industrial software developers. So can we call today the Golden Age of open source software, or is it not so clear? What do you think about it?</p>
<p dir="ltr"><strong>James:</strong> I have no idea. You&#39;re asking a question about the future. And the problem with the question, “Is today the Golden Age&#34;... that question implicitly says: &#34;Is it downhill from here?&#34; If this is the Golden Age, then tomorrow will be not-so-golden. And I think we’re leading up to it, whatever the Golden Age is. I think there are a lot of interesting improvements that can happen. Currently, we have all kinds of crises around security and how people can do cyberterrorism. And when that kind of stuff is going on, I don&#39;t think it is the Golden Age. If there&#39;s some way the collaboration of communities of people can lead to the end of cyberterrorism - that would be pretty golden. We’ll see. I mean, this is a really great time, but it could be better.</p>

<p dir="ltr"><strong>Grigory:</strong> You created Java and JVM (Java Virtual Machine) with JIT (just-in-time compilation). JIT provides really amazing speeds while keeping language syntax pleasant and high-level. Many languages followed your lead, like C# and JavaScript. The speed of compiled and recompiled code over hot paths is close to C and C++. But many other languages, Python, Ruby, PHP, have optional JIT that is not so popular. And many mainstream languages don&#39;t use JIT to get that huge speed increase. Why don&#39;t all languages use JIT to provide fantastic speeds for software developers?</p>
<p dir="ltr"><strong>James:</strong> To really get the performance improvements you see, it helps dramatically to have a statically-typed language. For dynamically-typed languages, like Python, it&#39;s really, really hard. And often, what people end up doing is adding annotations to the language so that you get languages like TypeScript, which is essentially JavaScript with type annotations. And it&#39;s really funny because JavaScript is essentially Java with the type declarations removed. So TypeScript is essentially Java with permuted syntax. They&#39;ve got sort of Pascal-style declarations. But if you&#39;re somebody who&#39;s just slapping together quick scripts in Python, a lot of people in that world find declarations to be annoying. Thinking about the types of their variables is annoying. </p>
<p dir="ltr">In Python and many others, in general, there&#39;s only one kind of number, and that&#39;s the double-precision floating-point. There are no true integers, there are no bytes and 16-bit integers and things like that which conceptually add complexity, but they also improve performance. If you got a double-precision floating-point versus a single-precision floating-point, there&#39;s a cognitive burden in that. To make intelligent tradeoffs, you have to understand a bit of numerical analysis. And it is reasonably common for people who are software engineers to know almost nothing about numerical analysis. And so they would just rather not think about it. And if you&#39;re a physicist using Python, you probably want all the precision you can get almost always. Unless, of course, you need to put a really big array in memory, where the difference between single-precision and double-precision or an 8-bit integer really matters. If you&#39;re living in a space where none of these things are really of any consequence, it&#39;s just easier for folks.</p>
<p dir="ltr">But if you need to care... I&#39;ve taken too many numerical analysis courses in my lifetime and been burned by shoddy numerical analysis enough times that I tend to care. It depends on where you are on the spectrum, and most people in the scripting language world don&#39;t care about that sort of problem. Their concerns are at a very different level. And a lot of people don&#39;t actually care about performance and numbers in detail; they care about: &#34;Is it fast enough?&#34; Performance is kind of a boolean: it&#39;s fast enough, or it&#39;s not fast enough. For some people, it&#39;s more like tuning a race car. If you can get an extra two or three miles per hour out of a car, then you&#39;re more likely to win the race. </p>

<p dir="ltr"><strong>Grigory:</strong> I remember a few months ago, David Heinemeier Hansson, an author of Ruby on Rails (one of the widely popular web frameworks), mentioned that only 15% of his cloud budget goes towards language itself. The rest are some caches, message queues, storage, and so on. He told us that no matter how &#34;slow&#34; Ruby is, that it isn&#39;t very important, because even if Ruby was 100 times faster and 15% became 1%, that doesn&#39;t change a lot. Modern languages are, indeed, &#34;fast enough.&#34;</p>
<p dir="ltr"><strong>James:</strong> That depends a lot on where in the space of programs your task is. If the thing you&#39;re trying to accomplish is really dominated by networking and databases and all the rest of that, if you&#39;re doing RPCs all the time, probably the first thing you should do is question whether or not all of those RPCs are valuable. When people talk about microservices, they&#39;re a fine thing, but just understand that they&#39;re at least a factor of a million slower than a method call. Think through the implications of that. Usually, for most people, they&#39;ll get a lot more performance out of making sure that their large-scale architecture is clean. But there are a lot of folks for whom all the low-level details really do matter. If you know being highly concurrent is important, being able to drive thousands of processes at once, doing major computing... if you&#39;re doing something like a database itself or a major storage service, you really, really care. So it all depends on the task at hand.</p>

<p dir="ltr"><strong>Grigory:</strong> Recently, we saw many languages embrace coroutines and an async/await approach to handle things like the network, which is slow. It was added to Python, it was added in the recent Ruby, into JavaScript, into many languages. But this async/await and coroutines and scheduler in one thread are not silver bullets. They come with their own complications, and sometimes they can make software slower. So what do you think about this modern async/await hype? Is it a good way to handle the network, or do we just misuse it, and we need to check Erlang and other approaches?</p>
<p dir="ltr"><strong>James:</strong> This is one of the sorts of things where context is everything. Coroutines are perfectly fine; they&#39;ve been around since the ‘60s. The first language with coroutines was Simula 67. Simula was a lovely language. I still miss it. It didn&#39;t have threads, it had coroutines, but the way they did coroutines - they looked a lot like threads. Coroutines kind of magically sidestep some of the naughty issues in true parallelism. And for me, one of the problems with coroutines, which is why I haven&#39;t used them in a long time, is that they don&#39;t actually let you do or let you take advantage of multiple processors. You can&#39;t do true parallelism.</p>
<p dir="ltr">So people look at the things in languages that have true parallelism, like Erlang and Java. The things that you have to do add another level of complexity. Although, often, the way you deal with that complexity is by having very carefully curated primitives. The things that you can do with ConcurrentHashMap in Java are just magical. But as soon as you&#39;ve got one of these coroutine-based languages and you try to exploit multiple processors, if you&#39;re doing a lot of coroutine-type operations and you don&#39;t have enough processors, you&#39;re just saturating one processor. And you would really like to be using multiple processors because there are no unit processors in the world anymore, right? Everything&#39;s got a lot of cores, and if you really want to use all your computer at once, on one problem, you just have to fight and handle the complexity inherent in true multi-threading.</p>
<p dir="ltr">Then, there&#39;s the issue of style. Imagine a context where you can say &#34;await this&#34; and &#34;await that&#34; where they do this transparent inversion of control where you&#39;re passively yielding. That gives you a syntax appearance that looks a lot like true threading. But it means that a lot of the tricky bits in true threading you get to avoid. So if you say “a = a + 1”, you know that in the middle of that operation you&#39;re not going to get interrupted, so you don&#39;t have to do synchronization. But then there are other places where instead of doing that kind of style, it becomes an event-directed style, where you do your thing, and then you plug an event handler into something to handle what happens when things are complete. And that tends to be the predominant style in JavaScript. That works perfectly well, but it can get kind of clunky.</p>
<p dir="ltr">When I discovered Simula back in the early 70s, it had a sort of natural style. You just program, and you can think of your computation as a self-contained thing. And whether or not other things interleave with it is transparent to you. I found it, as a conceptual model, to be much cleaner than event programming. It&#39;s tougher to implement under the covers, but it&#39;s usually easier to think about.</p>

<p dir="ltr"><strong>Grigory:</strong> Simula was the first object-oriented language, after all! I never had the chance to work with it, but I checked the documentation, and it looks featureful. However, if we review some modern languages like Ruby, the concurrency model is complex: we have processes, individual interpreters within processes, threads within individual interpreters, and core routines within threads - like a Russian doll. Now a non-technical question, if you allow. When we talk about different languages, in your personal opinion, what is the best language to teach new software developers right now, as their first language? Maybe in grad school or university.</p>
<p dir="ltr"><strong>James:</strong> I&#39;m clearly biased. Java has been used really successfully that way for quite a long time. But the first programming language I learned was PDP-8 assembly code and followed roughly concurrently with Fortran. You can teach people just about anything. And it&#39;ll get through to some of them a lot easier than others, but a lot depends on what the eventual career path of a person is going to be. If you&#39;re going to be a full-up software developer where you&#39;re building sort of big, high-performance systems, it&#39;s hard to beat any of the languages that run on the JVM. And I actually don&#39;t care which language you use on the JVM. I mean, Scala and Kotlin are both fine. Clojure is really entertaining, but you have to really think differently. If you&#39;re a physics student, Python is fine.</p>
<p dir="ltr">And I don&#39;t think it&#39;s actually that big of a deal which one you choose. Although a lot of people just stick with the first thing they learned and do that, if you can get people to learn multiple languages and go back and forth... a really nice course that every university should be operating for every student is a comparative programming languages course. In the semester, you have five assignments in five different program languages, which gets people used to learning them quickly, because they really are not all that different, and gets them to think about which ones are better. I took one of these courses a very long time ago, and I used the absolute worst language for every assignment. Doing numerical computing in Cobol. That was just entertaining! And symbolic manipulation in Fortran... surprisingly, I still got an A. </p>

<p dir="ltr"><strong>Grigory:</strong> As expected. So, the next question is about pattern matching. Recently, it gloriously landed in Python and Ruby, and lots of proposals are available in different languages. We checked the developer whitepapers, and they are not entirely sure about the role of pattern matching in a modern, high-level language. This pattern matching idea, how do you think it fits that toolbelt for ordinary, modern developers who work with Java or Python or Ruby or some high-level language? Do we really need pattern matching, or is it some niche syntax for very specific use cases?</p>
<p dir="ltr"><strong>James:</strong> For starters, I think that the term &#34;pattern matching&#34; in programming languages is somewhat misleading. Because when I hear the phrase “pattern matching”, the thing that springs to my mind is regular expressions, whether regular expressions over character strings or regular expressions over trees. Maybe pattern matches over tree shapes, whatever. But going back to Simula. Simula had an inspect statement, and the inspect statement was almost exactly what many of these pattern matching statements are. Namely, an inspect statement is a case statement where the case labels are type names, so you&#39;d say:</p>
<pre><code>Inspect P
    When Image do Show;
    When Vector do Draw;
</code></pre><p dir="ltr">So you can think of it as a case statement that cases on the type. And most of these pattern matching language proposals are more of that kind of thing. And personally, I miss that. I really like that. Especially if what happens is like an implicit cast in C. So if you say “inspect P When Image P do P”, P, within the body of the case statement, is now the type of the switch label. That makes life so much easier. There are all these places where, in a language with a C-like syntax, you end up with casts all the time. It looks like: &#34;if a is an instance of x, else if a is an instance of y, and then ...&#34; And the &#34;inspect&#34; statement in Simula was just beautiful; I loved it. Since then, I have missed it every day, and many of these pattern matching proposals and language features look like that. If you call them something like a &#34;type case&#34; - great idea. But if you call it &#34;pattern matching,&#34; and it has less power than a regular expression, it feels misleading or like false advertising. But, as just a feature, I think it&#39;s great.</p>

<p dir="ltr"><strong>Grigory:</strong> Our last question is a bit obligatory. Russian software developers are proud of JetBrains and Kotlin development. Of course, I will not ask some trivial thing like Java vs. Kotlin and so on. I will try to ask something different. Kotlin and many other languages, like Clojure or Scala, thrive on the existing Java Virtual Machine that you created and the existing ecosystem of libraries, frameworks, and existing code. Is there any challenge all such languages face? Is there something that unites them? Some difficulty for them? When they&#39;re trying to hotswap Java syntax with some different syntax, what challenges do they face?</p>
<p dir="ltr"><strong>James:</strong> Kind of depends on what you&#39;re trying to do. One of the peculiarities of the Java Virtual Machine is that there are many notions of security and reliability built into it. And they have to do mostly with the integrity of the memory model. Pointers and things like that. So you cannot forge a pointer. If you look at languages like C, if you don&#39;t have the ability to forge, you can&#39;t do C. There are some virtual machines out there where they don&#39;t have a tight security model. On something like the JVM, if you try to implement C - and some people have done it, although it&#39;s odd - there are places you just can&#39;t go if you&#39;ve got a rigorously secure virtual machine. But some folks have built virtual machines that are not rigorously secure, that don&#39;t have a memory allocation model. If you want to do interoperability between C and Kotlin, you have to be willing to give up a certain amount of security and reliability.</p>
<p dir="ltr">And so it depends on where you&#39;re willing to go. And certainly, at the dawn of Java, one of my personal rules was: I do not want to have to debug another freaking memory corruption bug. I had wasted way too much of my life on obscure memory corruption bugs that take you days. And it&#39;s just an off-by-one error in a loop that just happened to go one entry off the end of an array, and you don&#39;t find out until millions of instructions later. And I really, really hate chasing memory corruption bugs. So it depends on what you&#39;re comfortable with. Some people, you know, think spending time doing that is very manly. But there are also people who like to use vi, which was a great editor in the ‘70s and a good editor in the ‘80s... Come on, folks!</p>

<p dir="ltr"><strong>Grigory:</strong> The memory security model is indeed in the core, and it provides something but limits something else. Thank you a lot, James! It was a pleasure to have this conversation with you, and I hope that after all this zombie apocalypse, we will meet each other in person at some offline conference. Thank you and have a nice day!</p>
<h4 dir="ltr">The conclusion</h4>
<p dir="ltr">We are so grateful for the opportunity to talk with James and get his insight into the languages, features, and solutions that we use every day.</p>
<p dir="ltr">Also, we want to express gratitude to our colleague, Oleg Chirukhin from JetBrains, for assisting with the text version of the ​interview.</p>
<p dir="ltr">We’ve found Java to be invaluable in our work developing solutions for our clients. If you have a development project that you need help with, or you want to learn more about our services, just message us using the form below, and we’ll get in touch as soon as possible.</p>
</div></div></div></div>]]></content:encoded>
      <pubDate>Wed, 11 Aug 2021 10:42:14 +0000</pubDate>
      <source>https://evrone.com/james-gosling-interview</source>
    </item>
  </channel>
</rss>
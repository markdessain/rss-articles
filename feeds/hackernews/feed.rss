<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Hacker News</title>
    <link>https://news.ycombinator.com/</link>
    <description>Links for the intellectually curious, ranked by readers.</description>
    <image>
      <url></url>
      <title></title>
      <link></link>
    </image>
    <item>
      <title>Launch HN: Turion Space (YC S21) – Space debris removal and satellite servicing</title>
      <link>https://news.ycombinator.com/item?id=28061725</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><td colspan="2"></td><td>Hi HN, we&#39;re Ryan, Tyler, and Patryk, the founders of Turion Space (<a href="https://www.turionspace.com/" rel="nofollow">https://www.turionspace.com/</a>). We&#39;re building spacecraft to remove orbital debris and provide services to existing satellites.<p>Orbital debris poses a significant risk to mankind&#39;s future in space. There are currently over 250k objects in space that would destroy a satellite if a collision were to occur. Large uncontrolled objects like depleted rocket upper stages and dead satellites pose the greatest risk because of the potential to break upon impact with small debris into thousands of smaller pieces. There is currently no system in operation that can deorbit large amounts of space debris. If this problem is not addressed in the next 5-10 years, it could render entire orbits unusable for generations.</p><p>Our spacecraft (which we’ve decided to call the “Droid”, shoutout to Star Wars!) aims to remove debris by docking with it using robotic arms and dragging the debris to a lower orbit using the ion propulsion system we are developing under a NASA technology transfer license. Once the debris is in a low enough orbit, upper atmospheric drag will cause the debris to naturally decay in altitude until it burns up during atmospheric reentry. Critically, the Droid would undock with the debris after dragging it to a low orbit, then orbit-raise, and go on to perform other missions. In other words, our solution is a reusable approach, designed from the beginning to complete multiple missions during its lifetime.</p><p>Our team encountered this problem when brainstorming ideas to answer the question, &#34;with the rapidly declining cost of getting things into space, what can we do now that has never before been possible?&#34; Asteroid mining seemed like the obvious answer, but the capital required to start a business on that premise seemed like a longshot to say the least. We found the most important problem we could solve while building the foundation to asteroid resource extraction was to create a satellite system capable of removing orbital space debris.</p><p>Our team has extensive experience working on operational space flight hardware and building software products from the ground up. Ryan comes from an 8.5-year run at SpaceX, working primarily on propulsion development and dynamics analysis of the Merlin, Superdraco, and Raptor engines. Tyler comes most recently to ATA engineering, working as a consultant for various aspects of thermal, structural, and dynamics analysis across a wide range of now-operational space-flight projects. He also worked at Electroimpact, where he designed and built aerospace-assembly-automation systems using robotic arms. Patryk comes most recently from Marshall Reddick real estate where he developed the company’s in house CRM that was vital to the company&#39;s growth over the last 5 years.</p><p>We expect to begin servicing sometime in 2024.  We have gained interest in several use cases through conversations with customers to complement our orbital debris removal efforts, beginning with low-earth-orbit operations. For low-earth-orbit satellite operators, we can raise their altitude or modify the inclination of their orbit.  We have also partnered with launch providers to expand their mission capabilities by offering our last mile tug service for their payloads. For example, suppose a small launcher can only lift a 200 kg satellite into a 500km orbit altitude, but that payload wishes to end up at a 1200km altitude. In that case, we can dock with the payload once it has been deployed from the launch vehicle and bring it to its final orbit.</p><p>Check out the services section of our website at <a href="https://turionspace.com/satellite-tracker" rel="nofollow">https://turionspace.com/satellite-tracker</a> and track satellites or get pricing estimates for different mission scenarios! We&#39;d love to hear feedback and chat about orbital debris removal!</p></td></div></div>]]></content:encoded>
      <guid>https://news.ycombinator.com/item?id=28061725</guid>
      <pubDate>Wed, 04 Aug 2021 14:56:00 +0000</pubDate>
      <source>https://news.ycombinator.com/item?id=28061725</source>
    </item>
    <item>
      <title>Gitly: A light and fast GitHub/GitLab alternative written in V lang (pre-alpha)</title>
      <link>http://gitly.org/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
<!-- don't show the path on the index page -->



<!--
<div class="repo-stats">
-->







<p>
Gitly is an upcoming open-source development platform that is going to have
</p><li>Source code hosting <!--(git and Mercurial)-->
</li><li>Project management
</li><li>CI &amp; CD

</li></div></div>]]></content:encoded>
      <guid>http://gitly.org/</guid>
      <pubDate>Wed, 04 Aug 2021 15:16:06 +0000</pubDate>
      <source>http://gitly.org/</source>
    </item>
    <item>
      <title>Varnish: Notes from the Architect</title>
      <link>http://varnish-cache.org/docs/trunk/phk/notes.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
      <div>
        <div>
          <div role="main">
            
  <section id="notes-from-the-architect">
<span id="phk-notes"></span>
<p>Once you start working with the Varnish source code, you will notice
that Varnish is not your average run of the mill application.</p>
<p>That is not a coincidence.</p>
<p>I have spent many years working on the FreeBSD kernel, and only
rarely did I venture into userland programming, but when I had
occation to do so, I invariably found that people programmed like
it was still 1975.</p>
<p>So when I was approached about the Varnish project I wasn’t really
interested until I realized that this would be a good opportunity
to try to put some of all my knowledge of how hardware and kernels
work to good use, and now that we have reached alpha stage, I can
say I have really enjoyed it.</p>
<section id="so-what-s-wrong-with-1975-programming">
<h2>So what’s wrong with 1975 programming ?<a href="#so-what-s-wrong-with-1975-programming" title="Permalink to this headline">¶</a></h2>
<p>The really short answer is that computers do not have two kinds of
storage any more.</p>
<p>It used to be that you had the primary store, and it was anything
from acoustic delaylines filled with mercury via small magnetic
dougnuts via transistor flip-flops to dynamic RAM.</p>
<p>And then there were the secondary store, paper tape, magnetic tape,
disk drives the size of houses, then the size of washing machines
and these days so small that girls get disappointed if think they
got hold of something else than the MP3 player you had in your
pocket.</p>
<p>And people program this way.</p>
<p>They have variables in “memory” and move data to and from “disk”.</p>
<p>Take Squid for instance, a 1975 program if I ever saw one: You tell
it how much RAM it can use and how much disk it can use. It will
then spend inordinate amounts of time keeping track of what HTTP
objects are in RAM and which are on disk and it will move them forth
and back depending on traffic patterns.</p>
<p>Well, today computers really only have one kind of storage, and it
is usually some sort of disk, the operating system and the virtual
memory management hardware has converted the RAM to a cache for the
disk storage.</p>
<p>So what happens with squids elaborate memory management is that it
gets into fights with the kernels elaborate memory management, and
like any civil war, that never gets anything done.</p>
<p>What happens is this: Squid creates a HTTP object in “RAM” and it
gets used some times rapidly after creation. Then after some time
it get no more hits and the kernel notices this. Then somebody tries
to get memory from the kernel for something and the kernel decides
to push those unused pages of memory out to swap space and use the
(cache-RAM) more sensibly for some data which is actually used by
a program. This however, is done without squid knowing about it.
Squid still thinks that these http objects are in RAM, and they
will be, the very second it tries to access them, but until then,
the RAM is used for something productive.</p>
<p>This is what Virtual Memory is all about.</p>
<p>If squid did nothing else, things would be fine, but this is where
the 1975 programming kicks in.</p>
<p>After some time, squid will also notice that these objects are
unused, and it decides to move them to disk so the RAM can be used
for more busy data. So squid goes out, creates a file and then it
writes the http objects to the file.</p>
<p>Here we switch to the high-speed camera: Squid calls write(2), the
address i gives is a “virtual address” and the kernel has it marked
as “not at home”.</p>
<p>So the CPU hardwares paging unit will raise a trap, a sort of
interrupt to the operating system telling it “fix the memory please”.</p>
<p>The kernel tries to find a free page, if there are none, it will
take a little used page from somewhere, likely another little used
squid object, write it to the paging poll space on the disk (the
“swap area”) when that write completes, it will read from another
place in the paging pool the data it “paged out” into the now unused
RAM page, fix up the paging tables, and retry the instruction which
failed.</p>
<p>Squid knows nothing about this, for squid it was just a single
normal memory acces.</p>
<p>So now squid has the object in a page in RAM and written to the
disk two places: one copy in the operating systems paging space and
one copy in the filesystem.</p>
<p>Squid now uses this RAM for something else but after some time, the
HTTP object gets a hit, so squid needs it back.</p>
<p>First squid needs some RAM, so it may decide to push another HTTP
object out to disk (repeat above), then it reads the filesystem
file back into RAM, and then it sends the data on the network
connections socket.</p>
<p>Did any of that sound like wasted work to you ?</p>
<p>Here is how Varnish does it:</p>
<p>Varnish allocate some virtual memory, it tells the operating system
to back this memory with space from a disk file. When it needs to
send the object to a client, it simply refers to that piece of
virtual memory and leaves the rest to the kernel.</p>
<p>If/when the kernel decides it needs to use RAM for something else,
the page will get written to the backing file and the RAM page
reused elsewhere.</p>
<p>When Varnish next time refers to the virtual memory, the operating
system will find a RAM page, possibly freeing one, and read the
contents in from the backing file.</p>
<p>And that’s it. Varnish doesn’t really try to control what is cached
in RAM and what is not, the kernel has code and hardware support
to do a good job at that, and it does a good job.</p>
<p>Varnish also only has a single file on the disk whereas squid puts
one object in its own separate file. The HTTP objects are not needed
as filesystem objects, so there is no point in wasting time in the
filesystem name space (directories, filenames and all that) for
each object, all we need to have in Varnish is a pointer into virtual
memory and a length, the kernel does the rest.</p>
<p>Virtual memory was meant to make it easier to program when data was
larger than the physical memory, but people have still not caught
on.</p>
</section>
<section id="more-caches">
<h2>More caches<a href="#more-caches" title="Permalink to this headline">¶</a></h2>
<p>But there are more caches around, the silicon mafia has more or
less stalled at 4GHz CPU clock and to get even that far they have
had to put level 1, 2 and sometimes 3 caches between the CPU and
the RAM (which is the level 4 cache), there are also things like
write buffers, pipeline and page-mode fetches involved, all to make
it a tad less slow to pick up something from memory.</p>
<p>And since they have hit the 4GHz limit, but decreasing silicon
feature sizes give them more and more transistors to work with,
multi-cpu designs have become the fancy of the world, despite the
fact that they suck as a programming model.</p>
<p>Multi-CPU systems is nothing new, but writing programs that use
more than one CPU at a time has always been tricky and it still is.</p>
<p>Writing programs that perform well on multi-CPU systems is even trickier.</p>
<p>Imagine I have two statistics counters:</p>
<blockquote>
<p>unsigned    n_foo;
unsigned    n_bar;</p></blockquote>
<p>So one CPU is chugging along and has to execute n_foo++</p>
<p>To do that, it read n_foo and then write n_foo back. It may or may
not involve a load into a CPU register, but that is not important.</p>
<p>To read a memory location means to check if we have it in the CPUs
level 1 cache. It is unlikely to be unless it is very frequently
used. Next check the level two cache, and let us assume that is a
miss as well.</p>
<p>If this is a single CPU system, the game ends here, we pick it out
of RAM and move on.</p>
<p>On a Multi-CPU system, and it doesn’t matter if the CPUs share a
socket or have their own, we first have to check if any of the other
CPUs have a modified copy of n_foo stored in their caches, so a
special bus-transaction goes out to find this out, if if some cpu
comes back and says “yeah, I have it” that cpu gets to write it to
RAM. On good hardware designs, our CPU will listen in on the bus
during that write operation, on bad designs it will have to do a
memory read afterwards.</p>
<p>Now the CPU can increment the value of n_foo, and write it back.
But it is unlikely to go directly back to memory, we might need it
again quickly, so the modified value gets stored in our own L1 cache
and then at some point, it will end up in RAM.</p>
<p>Now imagine that another CPU wants to n_bar+++ at the same time,
can it do that ? No. Caches operate not on bytes but on some
“linesize” of bytes, typically from 8 to 128 bytes in each line.
So since the first cpu was busy dealing with n_foo, the second CPU
will be trying to grab the same cache-line, so it will have to wait,
even through it is a different variable.</p>
<p>Starting to get the idea ?</p>
<p>Yes, it’s ugly.</p>
</section>
<section id="how-do-we-cope">
<h2>How do we cope ?<a href="#how-do-we-cope" title="Permalink to this headline">¶</a></h2>
<p>Avoid memory operations if at all possible.</p>
<p>Here are some ways Varnish tries to do that:</p>
<p>When we need to handle a HTTP request or response, we have an array
of pointers and a workspace. We do not call malloc(3) for each
header. We call it once for the entire workspace and then we pick
space for the headers from there. The nice thing about this is that
we usually free the entire header in one go and we can do that
simply by resetting a pointer to the start of the workspace.</p>
<p>When we need to copy a HTTP header from one request to another (or
from a response to another) we don’t copy the string, we just copy
the pointer to it. Provided we do not change or free the source
headers, this is perfectly safe, a good example is copying from the
client request to the request we will send to the backend.</p>
<p>When the new header has a longer lifetime than the source, then we
have to copy it. For instance when we store headers in a cached
object. But in that case we build the new header in a workspace,
and once we know how big it will be, we do a single malloc(3) to
get the space and then we put the entire header in that space.</p>
<p>We also try to reuse memory which is likely to be in the caches.</p>
<p>The worker threads are used in “most recently busy” fashion, when
a workerthread becomes free it goes to the front of the queue where
it is most likely to get the next request, so that all the memory
it already has cached, stack space, variables etc, can be reused
while in the cache, instead of having the expensive fetches from
RAM.</p>
<p>We also give each worker thread a private set of variables it is
likely to need, all allocated on the stack of the thread. That way
we are certain that they occupy a page in RAM which none of the
other CPUs will ever think about touching as long as this thread
runs on its own CPU. That way they will not fight about the cachelines.</p>
<p>If all this sounds foreign to you, let me just assure you that it
works: we spend less than 18 system calls on serving a cache hit,
and even many of those are calls tog get timestamps for statistics.</p>
<p>These techniques are also nothing new, we have used them in the
kernel for more than a decade, now it’s your turn to learn them :-)</p>
<p>So Welcome to Varnish, a 2006 architecture program.</p>
<p><em>phk</em></p>
</section>
</section>


            
          </div>
        </div>
      </div>
      
      
    </div></div>]]></content:encoded>
      <guid>http://varnish-cache.org/docs/trunk/phk/notes.html</guid>
      <pubDate>Mon, 02 Aug 2021 11:06:50 +0000</pubDate>
      <source>http://varnish-cache.org/docs/trunk/phk/notes.html</source>
    </item>
    <item>
      <title>Who Were the Romans, Part V: Saving and Losing an Empire</title>
      <link>https://acoup.blog/2021/07/30/collections-the-queens-latin-or-who-were-the-romans-part-v-saving-and-losing-an-empire/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
		
<p>This is the fifth and final part (<a href="https://acoup.blog/2021/06/11/collections-the-queens-latin-or-who-were-the-romans-part-i-beginnings-and-legends/">I</a>, <a href="https://acoup.blog/2021/06/25/collections-the-queens-latin-or-who-were-the-romans-part-ii-citizens-and-allies/">II</a>, <a href="https://acoup.blog/2021/07/16/collections-the-queens-latin-or-who-were-the-romans-part-iii-bigotry-and-diversity-at-rome/">III</a>, <a href="https://acoup.blog/2021/07/23/collections-the-queens-latin-or-who-were-the-romans-part-iv-the-color-of-purple/" data-type="URL" data-id="https://acoup.blog/2021/07/23/collections-the-queens-latin-or-who-were-the-romans-part-iv-the-color-of-purple/">IV</a>) of our series asking the question ‘Who were the Romans?’  How did they understand themselves as a people and the idea of ‘Roman’ as an identity? Was this a homogeneous, ethnically defined group, as some versions of pop folk history would have it, or was ‘Roman’ always a complex identity which encompassed a range of cultural, ethnic, linguistic and religious groups?  This week we are at last going to look at the end of the empire.</p>



<p>In the first four parts of this series, we established that by any reasonable measure, the Roman world ought to have been considered ‘diverse,’ from its very beginnings as a frontier town sitting at the crossroads of several different cultural zones in Italy through Rome’s experience incorporating the culturally and linguistically diverse peoples of pre-Roman Italy into its army and later into its citizen body, to the Roman Empire of the third and fourth centuries AD which encompassed a bewildering array of peoples from all over the Mediterranean basin.  The Romans didn’t merely conquer and subjugate a wide variety of peoples (though they did that), they also steadily incorporated those people in a process that was mostly motivated by expediency and the desire to wring the maximum amount of military power out of Rome’s conquests but which had the side effect of minting new Romans out of conquered peoples.</p>



<p>Consequently, by the  end of the first century BC, the <em>populus Romanus</em> had come to include the many different peoples of pre-Roman Italy and Cisalpine Gaul.  Over the decades that followed, Roman identity, rooted in the legal status of citizenship (but often having also linguistic and cultural expressions) would filter through the elite all over the Roman Empire, slowly expanding downward until in 212 the <em>Constitutio Antoniniana</em> extended citizenship to all free people in the Roman empire.  People that ‘joined’ the <em>populus Romanus</em> this way didn’t give up their other identities; as we’ve seen their identities tended to layer, with the Roman toga added on top (though as we’ve also seen, that Roman identity, once obtained, tended to be a very <em>important</em> identity).</p>



<p><strong>By this point, I should hope that the Hollywood vision of Rome as a culturally homogeneous society at any point in its history, speaking the Queen’s Latin, has been well and truly vanquished. </strong> Yet that vision of Rome ends up being used to support a particular vision of the causes for Rome’s rise and fall which, having now established the nature of our evidence for diversity in Rome, it is time to approach.  <strong>The argument –<a href="https://www.tandfonline.com/doi/full/10.1080/23311983.2017.1390915" data-type="URL" data-id="https://www.tandfonline.com/doi/full/10.1080/23311983.2017.1390915"> a form of it notably made in 2015 by Niall Ferguson</a> (conspicuously not a Roman historian, I might note) – goes thusly, that Rome was once homogeneous, that the superior power of a homogeneous society allowed Rome to expand, that expansion made Rome diverse and that this weakened Rome such that it fell.  Often it appears in the more simplistic form that ‘Rome fell because they let the barbarians in’ with lots of attendant political implications for current policy.</strong></p>



<p><strong>Now we already know at the outset that the front half of this argument – the assumption that Rome was initially homogeneous and able to expand because of that – is fatally flawed</strong>, because Rome was <em>never </em>homogeneous in that way.  But what about the second half of that argument?  Did letting all of these folks from Spain, Gaul, Britain, North Africa, the Levant, Greece, the Balkans and so on, did that somehow dilute the special alchemy that made the Romans successful?</p>



<p>But first, as always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (<a href="https://twitter.com/BretDevereaux">@BretDevereaux</a>) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<h2>The Gravity of the Situation</h2>



<p>I want to start with the observation I offer whenever I am asked (and being a Romanist, this happens frequently) ‘why did Rome fall?’ which is to note that in asking that question we are essentially asking the <em>wrong</em> question or at least a less interesting one.  This will, I promise, come back to our core question about diversity and the fall of Rome but first we need to frame this issue correctly, because Rome fell for the same reason all empires fall: gravity.</p>



<p>An analogy, if you will.  Imagine I were to build a bridge over a stream and for twenty years the bridge stays up and then one day, quite unexpectedly, the bridge collapses.  We can ask why the bridge fell down, but the fundamental force of gravity which caused its collapse was always working on the bridge.  As we all know from our physics classes, the force of gravity was always active on the bridge and so some other set of forces, channeled through structural elements was needed to be continually resisting that downward pressure.  <strong>What we really want to know is ‘what force which was keeping the bridge up in such an unnaturally elevated position stopped?’  </strong>Perhaps some key support rotted away?  Perhaps rain and weather shifted the ground so that what once was a stable position twenty years ago was no longer stable?  Or perhaps the steady work of gravity itself slowly strained the materials, imperceptibly at first, until material fatigue finally collapse the bridge.  <strong>Whatever the cause, we need to begin by conceding that, as normal as they may seem to us, bridges are not generally some natural construction, but rather a deeply unnatural one, which must be held up and maintained through continual effort</strong>; such a thing may fail even if no one actively destroys it, merely by lack of maintenance or changing conditions.</p>



<p><strong>Large, prosperous and successful states are always and everywhere like that bridge: they are <em>unnatural</em> social organizations, elevated above the misery and fragmentation that is the natural state of humankind only by great effort; gravity ever tugs them downward</strong>.  Of course when states collapse there are often many external factors that play a role, like external threats, climate shifts or economic changes, though in many cases these are pressures that the state in question has long endured.  Consequently, the more useful question is not why they fall, but why they stay up at all.</p>



<p>And that question is even more pointed for the Roman Empire than most.  While not the largest empire of antiquity, the Roman empire was <em>very</em> large (<a href="https://books.google.com/books?id=9mkLEAAAQBAJ&amp;pg=PA103#v=onepage&amp;q&amp;f=false" data-type="URL" data-id="https://books.google.com/books?id=9mkLEAAAQBAJ&amp;pg=PA103#v=onepage&amp;q&amp;f=false">Walter Scheidel figures that, as a percentage of the world’s population at the time, the Roman Empire was the fifth largest ever</a>, rare company indeed); while not the longest lasting empire of antiquity, it did last an uncommonly long time at that size.  It was also geographically positioned in a space that doesn’t seem particularly well-suited for building empires in.  While the Mediterranean’s vast maritime-highway made the Roman Empire possible, the geography of the Mediterranean has historically encouraged quite a lot of fragmentation, particularly (but not exclusively) in Europe.  Despite repeated attempts, no subsequent empire has managed to recreate Rome’s frontiers (the Ottomans got the closest, effectively occupying the Roman empire’s eastern half – with a bit more besides – but missing most of the west).</p>



<p>The Roman Empire was also, for its time, uncommonly prosperous.  As we’ll see, there is at this quite a lot of evidence to suggest that the territory of the Roman Empire enjoyed a meaningfully higher standard of living and a more prosperous economy during the period of Roman control than it did either in the centuries directly before or directly after (though we should not overstate this to the point of assuming that Rome was more prosperous than <em>any</em> point during the Middle Ages).  And while the process of <em>creating</em> the Roman empire was <em>extremely</em> violent and traumatic (again, a recommendation for G. Baker, <a href="https://amzn.to/36mlCiy"><em>Spare No One: Mass Violence in Roman Warfare</em></a> (2021) for a sense of just how violent), subsequent to that, the evidence strongly suggests that life in the interior Roman Empire was remarkably peaceful during that period, with conflicts pushed out of the interior to the frontiers (though I would argue this almost certainly reflects an overall decrease in the total amount of military conflict, not merely a displacement of it).</p>



<p>The Roman Empire was thus a deeply unnatural, deeply unusual creature, a hot-house flower blooming untended on a rocky hillside.  <strong>The question is not why the Roman empire eventually failed – all states do, if one takes a long enough time-horizon – but why it lasted so long in such a difficult position.</strong>  Of course this isn’t the place to recount <em>all</em> of the reasons why the Roman Empire held together for so long, but we can focus on a few which are immediately relevant to our question about diversity in the empire.</p>



<h2>Diversity in the Roman Army</h2>



<p><strong>As we’ve seen, there had always been non-Romans fighting alongside Roman citizens in the army</strong>, for as long as we have reliable records to judge the point.  In the Republic (until the 80s BC) these had consisted mostly of the <em>socii</em>, Rome’s Italian allies.  These were supplemented by troops from whatever allies Rome might have at the time, but there was a key difference in that the <em>socii</em> were integrated permanently into the Roman army’s structure, with an established place in the ‘org. chart,’ compared to the forces of allies who might fight under their own leaders with an <em>ad hoc</em> relationship to the Roman army they were fighting with.  The end of the Social War (91-87BC) brought the Italians into the Roman citizen body and thus their soldiers into the legions themselves; it marked the effective end of the <em>socii</em> system, which hadn’t been expanded outside of Italy in any case.</p>



<p>But almost immediately we see the emergence of a new system for incorporating non-Romans, this time provincial non-Romans, into the Roman army.  These troops, called auxilia (literally, ‘helpers’) first appear in the Civil Wars, particularly with Caesar’s heavy reliance on Gallic cavalry to support his legions (which at this time seem not to have featured their own integrated cavalry support, as they had earlier in the republic and as they would later in the empire).  The system is at this point very ad hoc and the auxiliaries here are a fairly small part of Roman armies.  But when Augustus sets out to institutionalize and stabilize the Roman army after the Battle of Actium (31BC) and the end of the civil wars, the <em>auxilia</em> emerge as a permanent, institutional part of the Roman army.  Clearly, they were vastly expanded; by 23 AD they made up half of the total strength of the Roman army (Tac. <em>Ann</em>. 4.5) a rough equivalence that seems to persist at least as far as the <em>Constitutio Antoniniana</em> in 212.</p>



<p>Of course it was no particular new thing for the Romans to attempt to use their imperial subjects as part of their army.  The Achaemenid army had incorporated a bewildering array of subject peoples with their own distinctive fighting styles, a fact that Achaemenid rulers liked to commemorate (see below).  The Seleucid army at Magnesia (189) which the Romans defeated also had numerous non-Macedonian supporting troops: Cappadocians, Galatians, Carians, Cilicians, Illyrians, Dahae, Mysians, Arabs, Cyrtians and Elamites.  At Raphia (217) the Ptolemaic army incorporated Egyptian troops into the phalanx for the first time, but also included Cretans, Greek mercenaries, Thracians, Gauls and Libyans, <em>inter alia</em>.  Most empires try to do this.</p>



<figure><figcaption>Via Wikipedia, a relief from the tomb of Xerxes I (r.486-465) at Naqsh-e Rostam showing the various ethnicities of his army.</figcaption></figure>



<p>The difference here is the relative <em>performance</em> that Rome gets out of these subject-troops (both the <em>socii</em> and the <em>auxilia</em>).  Take those examples.  Quite a number of the ethnicities on Xerxes monument both served in the armies of Darius III fighting against Alexander but then <em>swiftly </em>switched sides to Alexander after he won the battles – the Ionians, Egypt, and Babylon greeted Alexander as a liberator (at least initially) which is part of why the Achaemenid Empire could crumble <em>so fast</em> so long as Alexander kept winning battles.  Apart from <a href="https://en.wikipedia.org/wiki/Siege_of_Tyre_(332_BC)" data-type="URL" data-id="https://en.wikipedia.org/wiki/Siege_of_Tyre_(332_BC)">Tyre </a>and <a href="https://en.wikipedia.org/wiki/Siege_of_Gaza" data-type="URL" data-id="https://en.wikipedia.org/wiki/Siege_of_Gaza">Gaza</a>, the tough sieges and guerilla resistance didn’t start until he reached the Persian homeland.  The auxiliaries in the Seleucid army at Magnesia famously fell apart under pressure, whereas the Roman <em>socii</em> stuck in the fight as well as the legions; our sources give us no sense at any point that the <em>socii</em> were ever meaningfully weaker fighters than the legions (if anything, Livy sometimes represents them as more spirited, though he has an agenda here, as discussed).  And the Ptolemaic decision to arm their Egyptian troops in the Macedonian manner won the battle (turns out, Egyptians could fight just as well as Greeks and Macedonians with the right organization and training) but their subsequent apparent decision not to <em>pay</em> <em>or respect</em> those troops as well as their Macedonians seems to have led quite directly to the ‘Great Revolt’ which crippled the kingdom (there is some scholarly argument about this last point, but while I think Polybius’ pro-Greek, anti-Egyptian bias creeps in to his analysis, he is fundamentally right to see the connection, Plb. 5.107.  Polybius thinks it was foolish to arm non-Greeks, but the solution here to saving the Ptolemaic kingdom would have been arming the Egyptians <em>and then incorporating them into the system of rule</em> rather than attempting to keep up the ethnic hierarchy with a now-armed, angry and underpaid underclass.  The Greek-speakers-only-club system of Ptolemaic rule was unsustainable in either case, especially with Rome on the horizon).</p>



<p><strong>By contrast, the <em>auxilia</em> were mostly very reliable. </strong> The <a href="https://en.wikipedia.org/wiki/Revolt_of_the_Batavi" data-type="URL" data-id="https://en.wikipedia.org/wiki/Revolt_of_the_Batavi">one major exception comes from 69 AD</a> – the ‘Year of the Four Emperors’ to give some sense of its chaos – when the Batavian chieftain Julius Civilis (himself an auxiliary veteran and a Roman citizen) revolted and brought one <em>ala</em> and eight cohorts drawn from the Batavi (probably around 4,500 men or so) with him, out of an empire-wide total of c. 150,000 <em>auxilia</em> (so maybe something like 3.3% of the total <em>auxilia</em>).  Indeed, the <em>legions</em> had worse mutinies – the mutiny on the Rhine (Tac. <em>Ann.</em> 1.16ff in 14AD) had involved six legions (c. 30,000 troops, nearly a full quarter of Rome’s 25 legions at the time).  This despite the fact that the <em>auxilia</em> were often deployed away from the legions, sometimes in their own forts (you’ll see older works of scholarship suggest that the <em>auxilia</em> were kept logistically depend on the legions, but more recent archaeology on exactly where they were has tended to push against this view).  Indeed, the <em>auxilia</em> were often the <em>only</em> military forces (albeit in small detachments) in the otherwise demilitarized ‘senatorial’ provinces (which comprised most of the wealthy, populous ‘core’ of the empire); they could be trusted with the job, provided they weren’t the only forces in their own <em>home</em> provinces (and after 69, they never were).  <strong>And the <em>auxilia</em> fought hard and quite well.</strong>  The Romans occasionally won battles with nothing <em>but</em> the <em>auxilia</em>, was with the Battle of Mons Graupius (83 AD, Tac. <em>Agricola</em> 35ff) where the legions were held in reserve and never committed, the <em>auxilia</em> winning the battle effectively on their own.  Viewers of the Column of Trajan’s spiral frieze have long noted that the <em>auxilia</em> on the monument (the troop-types are recognizable by their equipment) do most of the fighting, while the legions mostly perform support and combat engineering tasks.  We aren’t well informed about the training the <em>auxilia</em> went through, but what we do know points to long-service professionals who were drilled every bit as hard as the <em>famously</em> well-drilled legions.  Consequently, they had <a href="https://acoup.blog/2020/05/15/collections-the-battle-of-helms-deep-part-iii-the-host-of-saruman/" data-type="URL" data-id="https://acoup.blog/2020/05/15/collections-the-battle-of-helms-deep-part-iii-the-host-of-saruman/">exactly the sort of professional cohesion that we’ve already discussed</a>.</p>



<p><strong>Why this difference in effectiveness and reliability?</strong>  The answer is to be found in the difference in the terms under which they served.  <strong>Rather than being treated as the disposable native auxiliaries of other empires, the Romans acted like the <em>auxilia</em> mattered…because they did.</strong></p>



<p>First of all, the <em>auxilia</em> were paid.  Our evidence here is imperfect and still much argued about, but it seems that <em>auxilia</em> were paid 5/6ths of the wages of the legionary counterparts, with the cavalry <em>auxilia</em> actually paid more than the infantry legionaries.  While it might sound frustrating to be systematically paid 1/6th less than your legionary equivalent, the legions were paid fairly well.  The <em>auxilia</em> probably made in wages about as much as a normal day-laborer, but the wage was guaranteed (something very much not the case for civilian laborers) and while the cost of their rations was deducted from their pay, that deduction was a fixed amount that seems to have been set substantially below the market value of their rations, building in another subsidy.  Most auxiliaries seem to have been volunteers, because the deal in being an auxiliary was good enough to attract volunteers looking to serve a full tour of duty (around 20 years; this was a long-service professional army now so joining it meant making a career out of it).</p>



<p>And most importantly, eventually (perhaps under Tiberius or shortly thereafter) the <em>auxilia</em> began to receive a special grant of citizenship on finishing that tour of duty, one which covered the soldier, and any children he might have had by his subsequent spouse (including children had, it seems, <em>before</em> he left the army; Roman soldiers in this period were legally barred from contracting legal marriages while serving, so the grant is framed so that it retroactively legitimizes any children produced in a quasi-marriage when the tour of service is completed).  Consequently, whereas a soldier being dragooned or hired as a mercenary into <em>other</em> multi-ethnic imperial armies might end his service and go back to being an oppressed subject, the Roman auxiliary, by virtue of his service, <em>became Roman</em> and thus essentially <em>joined the ruling class</em> at least in ethnic status.  Auxiliaries also clearly got a share of the loot when offensive warfare happened and while there is a lot of debate as to if they also received the <em>praemia</em> (the large retirement bonus legionaries got), epigraphically it is pretty clear that auxiliaries who were careful with their money could establish themselves fairly well after their service.  I should also note that what we see of auxiliaries suggests they were generally well armed (with some exceptions, which may have more to do with stereotyped depictions of certain kinds of ‘barbarians’ than anything else): metal helmets, mail shirts (an expensive and high quality armor for the period), oval shields, a spear and the <em>spatha</em> – a Roman version of the classic Gallic one-handed cutting sword – are the standard visual indicator in Roman artwork for generic ‘auxiliaries.’  That is actually a fairly high-end kit; it is no surprise that the <em>auxilia</em> could win battles with it.</p>



<figure><figcaption><a href="https://en.wikipedia.org/wiki/Auxilia#/media/File:Engineering_corps_traian_s_column_river_crossing.jpg" data-type="URL" data-id="https://en.wikipedia.org/wiki/Auxilia#/media/File:Engineering_corps_traian_s_column_river_crossing.jpg">Via Wikipedia</a>, Roman auxiliaries crossing a pontoon bridge during Trajan’s invasion of Dacia, as seen on Trajan’s Column (c. 110) in Rome.</figcaption></figure>



<p><strong>The attentive should already be noting many of the components of the old <em>socii</em> system now in a new form</strong>: the non-Roman troops serve under similar conditions with the Romans, get similar pay and rations (forts occupied by the <em>auxilia</em> show no deviation from the standard Roman military diet), a share of loot and glory and can finally be rewarded for loyal service by being inducted into the Roman citizen body itself (which could mean their sons might well enroll in the legions, a thing which does seem to have happened, as we do see a fair bit of evidence for ‘military families’ over multiple generations).</p>



<p>(For those looking for more detail on the <em>auxilia</em>, a lot of this is drawn from a book I have already recommended, Ian Haynes, <em><a href="https://amzn.to/3g7KLSW">Blood of the Provinces: The Roman Auxilia and the Making of Provincial Society from Augustus to the Severans</a></em> (2013).  Also still useful for the history of the <em>development</em> of the <em>auxilia</em> is D.B. Saddington, <em><a href="https://amzn.to/2VoGV12" data-type="URL" data-id="https://amzn.to/2VoGV12">The Development of the Roman Auxiliary Forces from Caesar to Vespasian</a></em> (1982); this is, alas, not an easy book to find as it is – to my knowledge – long out of print, but your library may be able to track down a copy.)</p>



<h2>Helping Helpers</h2>



<p>That frankly <em>unusual</em> structure for a multi-ethnic imperial army brought three principle benefits for the Roman army and consequently for the Roman empire itself.</p>



<p><strong>The most obvious of these is manpower</strong>.  Especially with a long-service professional army, capable and qualified recruits are in limited supply.  The size of the Roman army during the imperial period ranged from around 300,000 to around 500,000, but in 14 AD (the year of Augustus’ death) there were only 4,937,000 Roman citizens (Res Gestae 8.11), a figure which probably (a word I using the gloss over one of the most technical and complex arguments in the field) includes women and children.  Needless to say, keeping something close to a fifth of the adult male citizen population under arms continually, forever was simply never going to be feasible.  After his victory in 31 BC at Actium, Octavian (soon to be Augustus) had acted quickly to pare down the legions, disbanding some, merging others, until he reached a strength of just 28 (25 after the three legions lost in 9 AD were not replaced).  It was a necessary move, as the massive armies that had been raised during the fever-pitch climax of the civil wars simply could not be kept under arms indefinitely, nor could a short-term service conscript army be expected to garrison the hundreds of miles of Roman <em>limes</em> (‘frontier, border’) in perpetuity.</p>



<p>Harnessing the manpower of the provinces was simply the necessary solution – so necessary that almost every empire does it.  By their very nature, empires consist of a core which rules over a much larger subject region, typically with far greater population; securing all of that territory almost always requires larger forces than the core’s population is able or willing to provide, leading to the recruitment of auxiliaries of all kinds.  But whereas many imperial auxiliaries, as noted above, turn out to be potential dangers or weaknesses, Rome’s <em>auxilia</em> seem to have been fairly robustly ‘bought in’ on the system, allowing Rome to access motivated, loyal, cohesive and highly effective manpower, quite literally doubling the amount of military force at their disposal.  Which in turn mattered a great deal because the combat role of the <em>auxilia</em> was significant, in stark contrast to many other imperial armies which might use auxiliaries only in subsidiary roles.</p>



<p><strong>The <em>auxilia</em> also served to supply many of the combat arms the Romans themselves weren’t particularly good at</strong>.  The Romans had always performed very well as heavy infantry and combat engineers, but only passably as light infantry and truly poorly as shock cavalry; they generally hadn’t deploy meaningful numbers of their own missile cavalry or archers at all.  We’ve already talked a lot about how social institutions and civilian culture can be important foundational elements for certain kinds of warfare, and this is no less true with the Romans.  But by recruiting from subject peoples whose societies <em>did</em> value and practice the kinds of warfare the Romans were, frankly, bad at, the Roman skill-set could be diversified.  And early on, this is exactly what we see the <em>auxilia</em> being used for (along with also providing supplemental heavy infantry), with <em>sagitarii</em> (archers), <em>funditores</em> (slingers), <em>exploratores</em> (scouts) and cavalry (light, heavy and missile), giving the Romans access to a combined arms fighting force with considerable flexibility.  And the system clearly works – even accounting for exaggerated victories, it is clear that Roman armies, stretched over so long a frontier, were both routinely outnumbered but also routinely victorious anyway.</p>



<figure><figcaption><a href="https://en.wikipedia.org/wiki/Auxilia#/media/File:086_Conrad_Cichorius,_Die_Reliefs_der_Traianss%C3%A4ule,_Tafel_LXXXVI.jpg" data-type="URL" data-id="https://en.wikipedia.org/wiki/Auxilia#/media/File:086_Conrad_Cichorius,_Die_Reliefs_der_Traianss%C3%A4ule,_Tafel_LXXXVI.jpg">Via Wikipedia</a>, another panel from the Column of Trajan in Rome.  You can see auxiliary archers in the top left wearing scale armor.  In the bottom center, you can see the legionaries, with their distinctive squared-off shields (the scutum) and their segmented armor (today called the lorica segmentata, though this is not an ancient term); to their right you can see more auxiliaries, wearing what may be mail under a textile cover and using oval shields.  They are fighting Dacians, who occupy the right half of the panel.</figcaption></figure>



<p>As Ian Haynes notes, the ethnic distinctiveness of various <em>auxilia</em> units does not seem to have lasted forever, though in some cases distinctive dress, equipment and fighting styles lasted longer.  Most <em>auxilia</em> were posted far from their regions of origin and their units couldn’t rely on access to recruits from their ‘homeland’ to sustain their numbers over the long haul (although some number of recruits would almost certainly come from the military families of veterans settled near the forts).  But that didn’t mean the loss of the expertise and distinctive fighting styles of the <em>auxilia</em>.  Rather skills, weapons and systems which worked tended to get diffused through the Roman army (particularly in the <em>auxilia</em>, but it is hard not to notice that eventually the <em>spatha</em> replaces the <em>gladius</em> as the sword of the legions).  As Ovid quips, <em>Fas est et ab hoste doceri</em>, “It is right to learn, even from the enemy” (<em>Met.</em> 4.428); the Romans do that a lot.  The long-service professional nature of these units presumably made a lot of this possible, with individual <em>cohortes</em> and <em>alae</em> becoming their own pockets of living tradition in the practice of various kinds of fighting and acclimating new recruits to it.  <strong>Consequently, not only did the Roman army get access to these fighting-styles, because the <em>auxilia</em> were actually <em>integrated</em> into the military system rather than merely attached to it, they also got the opportunity to adopt or imitate the elements of the fighting styles that worked</strong>.</p>



<p><strong>Finally, the <em>auxilia</em> system also minted new Romans</strong>.  We’ve already mentioned that <em>auxilia</em> veterans received Roman citizenship on retirement, but that wasn’t the extent of it.  We can see in inscriptions that the degree of cultural fluency that soldiers in the <em>auxilia</em> gained with Roman culture was high; they often adopted Roman or Romanized names and seem to have basically always learned Latin (presumably because their Roman officers wouldn’t have spoken their language).  While some units of the <em>auxilia</em> kept distinctive national dress as a sort of uniform, most of the <em>auxilia</em> seem to have adopted a style of dress that, while distinct from the legions, was generally in keeping with the Roman tradition of military dress (which was not <em>quite</em> the same as Roman civilian dress).  They also partook of the Roman military diet (Roman soldiers kept a similar diet all over the empire, even if that meant shipping thousands of amphora of olive-oil and sour wine to northern England) which would have given them a diet in common with many work-a-day Romans too.  Once retired, <em>auxilia</em> soldiers tended to settle where they served (rather than returning to their ‘home’ provinces), which meant settling in frontier provinces where their citizenship set them apart as distinctively <em>Roman</em>, wherever they may have come from.</p>



<figure><figcaption><a href="https://www.britishmuseum.org/collection/object/G_1930-0419-1" data-type="URL" data-id="https://www.britishmuseum.org/collection/object/G_1930-0419-1">From the British Museum</a>, a Roman military diploma (inv. 1930,0419.1), the official document granting citizenship to an auxiliary (here a fellow named Gemellus) at the end of his tour of service.  This one is dated July 17, 122 AD and was found in Brigetio (modern Szőny, Hungary).</figcaption></figure>



<p>Exactly how many <em>auxilia</em> would have retired like this requires a degree of number crunching.  Given a 20-year tour of service and zero mortality, we might expect around 7,500 men to pass through the <em>auxilia</em> each year.  But of course, mortality wasn’t zero and so we have to expect that of our c. 20-year-old recruits, some number are going to die before retirement.  Using some model life tables (following B. Frier, “Demography” in <em>CAH^2 XI</em> (2000)), we should figure that very roughly one third of our recruits will have died before reaching discharge.  We then we need to adjust our recruitment figures to retain the same total strength and we get something like 9,000 new recruits each year to keep a strength of c. 150,000 with mortality counted for and 20 year tours.  That gives us roughly 6,000 <em>auxilia</em> living to retirement each year.  That may <em>seem</em> a small number, but that graduate accretion matters when it runs for decades and centuries and the newly enfranchised family units (recall that the citizenship grant covers children and sort-of-kind-of his spouse*) tend to settle on the frontiers, which is a really handy place to have communities of citizens.  If we assume that these new citizen families mostly reproduced themselves (or more correctly that they went extinct or split with multiple children at roughly the same rate with no natural population growth), then we’d expect this process to produce perhaps something like 1.5 <em>million</em> new citizen households up until the <em>Constitutio Antoniniana</em>.  Being <em>very</em> back of the envelope then, we might – once we account for women and children descendants of those soldiers – assume that on the eve of the general grant of citizenship in 212, there were perhaps 4 million Romans whose citizenship status was a product of service in the <em>auxilia</em> somewhere in their history; perhaps representing something like 7% of the entire population (including non-free persons).  Were we to assume larger households (which seems wise, given that retired auxiliaries are probably more likely than average to be in an economic position to have a larger family), that figure would be even higher.</p>



<p>(*Note on the coverage of the spouse.  The grant of citizenship covered any biological children of the discharged auxiliary but did not extend citizenship to his wife.  It <em>did</em> however, give an auxiliary the right to contract a lawful marriage with effectively any free woman, <em>including non-citizens</em> and the children resulting from such a union would be citizens themselves.  Consequently, it extended one of the core privleges of citizenship to the non-citizen wife of a discharged auxiliary: the right to bear citizen children.  Since the wife would be part of the retired auxiliary’s household (and then later, if he predeceased her, potentially in the household of her male citizen children) she’d be legally covered in many cases because a legal action against her would generally be an action against her husband/child.  Given that a number of the rights of citizens simply didn’t apply to women in the Roman world (e.g. office holding), this system left the wife of a retired auxiliary with many, but not all, of the privileges of citizenship, so long as her husband and her marriage survived.  That said, the legal status remained vested in her husband or her children, which made it more than a little precarious.  One of these days, we can talk more about the structure of the Roman <em>familia</em>.)</p>



<p><strong>That is a very meaningful number of new Romans</strong>.  And those figures don’t account for some of the other ways Roman citizenship tended to expand through communities both through manumission but also the political networks citizenship created (your Latin-speaking former-auxiliary citizen neighbors are a lot more likely to be able to help intercede to get <em>you</em> citizenship or get your community recognized as a <em>municipia</em> with that attendant citizenship grant). <strong> And not only are those new Romans by legal status, but new Romans who have, by dint of military training and discipline, absorbed quite a lot of Roman culture</strong>.  <strong>As best we can tell, they tended to view the Roman Empire as <em>their</em> polity</strong>, rather than as a foreign or oppressive entity.  They were ‘bought in’ as it were.  Again, this does not seem to have been the Roman intent, but rather an opportunistic, self-serving response to the need to maintain the loyalty of these troops; citizenship was, after all, a free benefit the emperor might bestow at no cost to the treasury (since citizens who lived outside of Italy still owed taxes) or himself.</p>



<p>Of course that fits the <em>auxilia</em> in to a later pattern in the provinces which becomes perhaps most apparent as the Roman Empire begins to collapse…</p>



<h2>Kicking, Gouging and Screaming</h2>



<p>The fall of the Roman Empire in the West (please, right now, just mentally add the phrase ‘in the west’ next to every ‘the fall of Rome’ and similar phrase here and elsewhere) is complicated.  I don’t mean it is complicated in its causes or effects (though it is that too), I mean it is complicated in its raw events: the who, what, where and when of it.  Most students are taught a fairly simple version of this because most of what they need to actually learn is the cause and the effects and so the actual ‘fall’ part is a sort of black box where Huns, Vandals, Goths, plague, climate and economic decline go in and political fragmentation, more economic decline and the European Middle Ages come out.  The fall itself ends up feeling like an event rather than a process because it is compressed down to a single point, the black box where all of the causes become all of the effects.  That is, frankly, a defensible way to teach the topic at a survey level (where it might get at most a lecture or two either at the end of a Roman History survey or the beginning of a Medieval History survey) and it is honestly more or less how I teach it.</p>



<p><strong>But if you want to actually try to say something <em>intelligent</em> about the whole thing, you need to grapple with what actually happened, rather than the classroom black-box model designed for teaching efficiency rather than detail.</strong>  We are…not going to do that today…though I will have some bibliography here for those who want to. <strong> The key thing here is that the ‘Fall of Rome’ (in the West) is not an event, but a <em>century long</em> process from 376 to 476. Rome power (in the West) contracts for a lot of that, but it expands in periods as well, particularly under the leadership of Aetius (433-454) and Majorian (457-461); there are points where it would have really looked like the Romans might actually be able to recover</strong>.  Even in 476 it was not obvious to anyone that Roman rule had actually ended; Odoacer, who had just deposed what was to be the last Roman emperor in the west promptly offered the crown to Zeno, the Roman emperor in the East (there is argument about his sincerity but <a href="https://amzn.to/2VlzAPq" data-type="URL" data-id="https://amzn.to/2VlzAPq">James O’Donnell argues</a> – very well, though I disagree on some key points – that this represented a real opportunity for Rome to rise from defeat in a new form yet again).</p>



<figure><figcaption><a href="https://en.wikipedia.org/wiki/Fall_of_the_Western_Roman_Empire#/media/File:MajorianEmpire.png" data-type="URL" data-id="https://en.wikipedia.org/wiki/Fall_of_the_Western_Roman_Empire#/media/File:MajorianEmpire.png">Via Wikipedia</a>, a map of the fragmentation of the Western Roman Empire, but also noting Majorian’s considerable reconquests.  One wonders, had he not been killed by Ricimer in 461 what he might have achieved.</figcaption></figure>



<p>Glancing even further back historically, this wasn’t even the first time the Roman Empire had been on the brink of collapse.  Beginning in 238, the Roman Empire had suffered a long series of crippling civil wars and succession crises collectively known as the <a href="https://en.wikipedia.org/wiki/Crisis_of_the_Third_Century" data-type="URL" data-id="https://en.wikipedia.org/wiki/Crisis_of_the_Third_Century">Crisis of the Third Century</a> (238-284).  At one point, the empire was <em>de facto</em> split into three, with one emperor in Britain and Gaul, another in Italy, and the client kingdom of Palmyra essentially running the Eastern half of the empire under their queen Zenobia.  <strong>Empires do not usually survive those kinds of catastrophes, but the Roman Empire survived the Crisis, recovered all of its territory (save Dacia) and even enjoyed a period of relative peace afterwards, before trouble started up again.</strong></p>



<p><strong>The <em>reason</em> that empires do not generally survive those kinds of catastrophes is that generally when empires weaken, they find that they contain all sorts of people who have been waiting, sometimes patiently, sometimes less so, for any opportunity to break away</strong>.  The rather sudden collapse of the (Neo-)Assyrian Empire (911-609 BC) is a good case study.  After having conquered much of the Near East, the Assyrians fell into a series of succession wars beginning in 627; their Mesopotamian subjects smelled blood and revolted in 625.  That was almost under control by 620 when the Medes and Persians, external vassals of the Assyrians, smelled blood too and invaded, allying with the rebelling Babylonians in 616.  <strong>Assyria was effectively gone by 612 with the loss and destruction of Ninevah; they had gone from the largest empire in the world at that time <em>or at any point prior</em> to non-existent in 15 years</strong>.  While the Assyrian collapse is remarkable for its speed and finality, the overall process is much the same in most cases; once imperial power begins to wane, revolt suddenly looks more possible and so the downward slope of collapse can be very steep indeed (one might equally use the case study of decolonization after WWII as an example: each newly independent country increased the pressure on all of the rest).</p>



<p><strong>Yet there is no great rush to the doors for Rome</strong>.  Instead, as Guy Halsall puts it in <em><a href="https://amzn.to/3f8miwW" data-type="URL" data-id="https://amzn.to/3f8miwW">Barbarian Migrations and the Roman West</a></em> (2007), “The West did not drift hopelessly towards its inevitable fate.  It went down kicking, gouging and screaming.”  Among the kicked and gouged of course were Attila and his Huns.  Fought to a draw at the Battle of the Catalaunian Plains, his empire disintegrated after his death two years later under pressure from both Germanic tribes and the Eastern Roman Empire (and the standard tendency for Steppe empires to fragment); of his three sons, Ellac was killed by revolting Germanic peoples who had been subject to the Huns, Dengizich by the (Eastern) Romans (we’re told his head was put on display in Constantinople) and the last, Ernak just disappears in our narrative after the death of Dengizich.  The Romans, it turns out, did eventually get down to business to defeat the Huns.  But the Romans doing all of that kicking, gouging and screaming were not the handful of old families from the early days of the Repulic; most of those hard-fighting Romans were people who in 14 AD would have been provincials.  And indeed, the Roman Empire would survive, in the East, <em>where Rome wasn’t</em>, making for a Roman Empire that by 476 consisted effectively <em>entirely</em> of ‘provincial’ Romans.</p>



<p>Instead what we see are essentially three sets of actions by provincial elites who in any other empire would have been leading the charge for the exits.  There were the kickers, gougers and screamers, as Halsall notes.  There were also, as Ralph Mathisen, <a href="https://amzn.to/3rFVau6" data-type="URL" data-id="https://amzn.to/3rFVau6"><em>Roman Aristocrats in Barbarian Gaul</em> </a>(1993) has noted, elites who – seeing the writing on the wall – made no effort to hasten the collapse of the empire but instead retreated into their estates, their books and their letters; these fellows often end up married into and advising the new ‘barbarian’ kings who set up in the old Roman provinces (which in turn contributes quite a bit to the preservation and continued influence of Roman law and culture in the various fragmented successor states of the early Middle Ages).  Finally, there were elites so confident that the empire would survive – because it always had! – that they mostly focused on improving their position within the empire, even at the cost of weakening it, not because they wanted <em>out</em>, <em>but because ‘out’ was inconceivable to them</em>; both Halsall and also James O’Donnell, <em><a href="https://amzn.to/3zM0fUB" data-type="URL" data-id="https://amzn.to/3zM0fUB">The Ruin of the Roman Empire</a></em> (2009) document many of these.  If I may continue my analogy, when the exit door was yawning wide open, almost no one walked through; some tried to put out the burning building they were in, others were content to be at the center of the ruins.  But no one actually <em>left</em>.</p>



<p>During the Crisis of the Third Century, that set of responses had been crucial for the empire’s survival and for brief moments in the 400s, it looked like they might even have saved it again.  <strong>For all of the things that brought the Roman Empire down, it is striking that ‘internal revolts’ of long-ruled peoples weren’t one of them</strong>.  And that speaks to the power of Rome’s effective (if, again, largely unintentional) management of diversity.  <strong>The Roman willingness to incorporate conquered peoples into the core citizen body and into ‘Roman-ness’</strong> <strong>meant that even by 238 to the extent that the residents of the Empire could even <em>imagine</em> its collapse, they saw that potentiality as a disaster, rather than as a liberation</strong>.  That gave the empire tremendous resiliency in the face of disaster, such that it took a century of unremitting bad luck to bring it down and even then, it only managed to take down half of it.</p>



<p>(As an aside, <strong>those provincial Romans were <em>correct</em> in the judgement that the collapse of the empire would mean disaster</strong>.  The running argument about the fall of the Roman Empire is generally between the ‘decline and fall’ perspective, which presents the collapse of the Roman Empire as a Bad Thing and the ‘change and continuity’ perspective, which both stresses continuity after the collapse but also tends to try minimize the negative impacts of it, even to the point of suggesting that the average Roman peasant might have been better off in the absence of heavy Roman taxes.  That latter view is particularly common among many medievalists, who are understandably quite tired of the unfairly poor reputation their period gets.  This is an argument that for some time lived in the airy space of narrative and perspective where both sides could put an argument out.  Unfortunately for some of the change-and-continuity arguments about living standards, archaeology has a tendency to give us <em>data</em> that is somewhat less malleable.  That archaeological data shows, with a high degree of consistency, that while there is certainly some continuity between the Late Antique and the early Middle Ages the fall of Rome (in the West) killed <em>lots</em> of people (precipitous declines in population in societies without reliable birth control; probably this is mostly food scarcity, not direct warfare) and that living standards also declined <em>to a degree that the results are archaeologically visible</em>.  As Brian Ward-Perkins notes in <em><a href="https://amzn.to/377rZXK" data-type="URL" data-id="https://amzn.to/377rZXK">The Fall of Rome and the End of Civilization</a></em> (2005), the collapse causes <em>cows to shrink</em>, speaking to sudden scarcity of winter fodder (which in turn likely speaks to a general reduction in available nutrition).  Some areas were worse hit than others; Robin Flemming<em>, <a href="https://amzn.to/3BOQLd8" data-type="URL" data-id="https://amzn.to/3BOQLd8">Britain After Rome</a></em> (2010) notes, for instance, that in post-Roman Britain, <em>pot-making</em> technology was lost (because ceramic production had been focused in cities which had been largely depopulated out of existence).  The fall of Rome might have been good for some people, but the evidence is, I think, at this point inescapable that it was <em>quite bad </em>for most people.  Especially, one assumes, all of the people who got depopulated.)</p>



<figure><figcaption><a href="https://en.wikipedia.org/wiki/Fall_of_the_Western_Roman_Empire#/media/File:Europe_and_the_Near_East_at_476_AD.png" data-type="URL" data-id="https://en.wikipedia.org/wiki/Fall_of_the_Western_Roman_Empire#/media/File:Europe_and_the_Near_East_at_476_AD.png">Via Wikipedia</a>, the Roman world after the deposition of Romulus Augustulus in 476; fragmentation in the West, though Rome survives in the East.  Again, speaking to the complexity of the collapse, each of those successor ‘barbarian’ kingdoms has their own complicated story about how they ended up with that particular chunk of the empire.</figcaption></figure>



<h2>Foederati Failures</h2>



<p><strong>But if the Roman Empire (in the West) went down fighting, <em>why did it</em></strong><em> </em><strong><em>collapse</em>?</strong>  Of course there is no simple answer to that question.  The mass migrations of the fourth and fifth century clearly played a very large role, but then the Romans had defeated other such migrations (recall the Cimbri and the Teutones) before.  There are strong indicators that other factors, unrelated to our current topic were also at play: the empire had been economically weakened by the Crisis of the Third Century, which may have disrupted a lot of the trade and state functions that created the revenue to fund state activity.  At the same time, the Crisis and the more challenging security situation after it meant that Roman armies grew larger and with them the burden of paying and feeding the soldiers which further hurt the economy.  Meanwhile, long exposure to Roman armies on the frontiers of the empire had begun to erode the initially quite vast qualitative advantage the Romans enjoyed; the gap between Roman and ‘barbarian’ military capabilities began to shrink (although it never really vanished altogether in this period).  But some of the causes <em>do </em>bear on our topic but in quite the other direction from what the Niall Fergusons of the world might assume.</p>



<p>Let’s start with the <em>foederati</em>.</p>



<p>After the <em>Constitutio Antoniniana</em>, there was no longer much need for the <em>auxilia</em>, as all persons in the empire were citizens, and so the structure distinction between the legions and other formations fades away (part of this is also the tendency of the legions in this period to be progressively split up into smaller units called <em>vexillationes</em>, meaning that the unit-sizes wouldn’t have been so different).  But during the fourth century, with frontier pressures building, the Romans again looked for ways to utilize the manpower and fighting skill of non-Romans.  <strong>What is striking here is that whereas in some ways </strong>(discussed above) <strong>the <em>auxilia</em> had represented almost a revival of the attitudes which had informed the system for the <em>socii</em>, the new system that emerged for using foreign troops, called <em>foederati</em> (‘treaty men’)</strong> <strong>did <em>not </em>draw on the previously successful <em>auxilia-</em>system</strong> (which, to be clear, by this point had been effectively gone for more than a century).  Instead, the Romans signed treaties with Germanic-speaking kings, exchanging chunks of (often depopulated, war-torn frontier) land in exchange for military service.  Since these troops were bound by treaty (<em>foedus</em>) they were called <em>foederati</em>.  They served in their own units, under their own leaders, up to their kings.  Consequently, all of the mechanisms that encouraged the <em>auxilia</em> to adopt Roman practices and identify with the Roman Empire were lost; these men might view Rome as a friendly ally (at times) but they were never encouraged to think of themselves as Roman.</p>



<p>The reason for this different system of recruitment seem to be rooted in financial realities.  The Roman army had already been expanded during the Crisis of the Third Century and only grew more under Diocletian and Constantine, probably by this point being between 400,000 and 500,000 men (compared to 300,000-350,000 earlier in the empire).  Moreover, Diocletian had opted to reform the empire’s administration with a much more intensive, top-down, bureaucratic approach, which imposed further costs.  Taxes had become heavy (although elites were increasingly allowed to dodge them), the economy was weak and revenues were short.  The value of the <em>foederati</em> was that the empire didn’t have to <em>pay</em> them; they were handed land (again, in war-torn frontier zones) and expected to use that to pay for their military support.  At the time, it must have seemed a brilliant work-around to get more military power out of a dwindling tax-base.</p>



<figure><figcaption><a href="https://en.wikipedia.org/wiki/Tetrarchy#/media/File:Venice_%E2%80%93_The_Tetrarchs_03.jpg" data-type="URL" data-id="https://en.wikipedia.org/wiki/Tetrarchy#/media/File:Venice_%E2%80%93_The_Tetrarchs_03.jpg">Via Wikipedia</a>, the porphyry statues of the tetrarchs, the four emperors under Diocletian, now in Venice.  While the artist is drawing attention to their notional unity (thus all of the hugging), it is also notable how much the Third Century had changed the job of emperors.  During the first two centuries, Roman emperors were more often depicted in their civilian dress than as soldiers, but here the martial imagery, including the hands gripping tight the hilts of swords, is strongly pronounced.  The emperor was, by this point, a soldier first and a civilian administrator second.</figcaption></figure>



<p>(I feel the need to note that I increasingly regard Diocletian (r. 284-305) as a ruinous emperor, even though he lacked the normal moralizing character flaws of ‘bad emperors.’  While he was active, dedicated and focused, almost all of his reforms turned out to be quite bad ideas in the long run even before one gets to the <a href="https://en.wikipedia.org/wiki/Diocletianic_Persecution" data-type="URL" data-id="https://en.wikipedia.org/wiki/Diocletianic_Persecution">Great Persecution</a>.  His currency reforms were catastrophic, his administrative reforms were top-heavy, his tax plan depended on a regular census which was never regular and the <a href="https://en.wikipedia.org/wiki/Tetrarchy" data-type="URL" data-id="https://en.wikipedia.org/wiki/Tetrarchy">tetrarchy </a>was doomed from its inception.  Diocletian was pretty much a living, “Well, You Tried” meme.  That said, to be clear, Diocletian wasn’t responsible for the <em>foederati</em>; it’s not quite clear who the first <em>foederati</em> were – they may have been the Franks in 358, which would make <a href="https://en.wikipedia.org/wiki/Julian_(emperor)" data-type="URL" data-id="https://en.wikipedia.org/wiki/Julian_(emperor)">Julian </a>(as a ‘Caesar’ or junior-emperor under Constantius) the culprit for this bad idea – he had a surplus of those too.)</p>



<p>The problem, of course, is right there: the status of the <em>foederati</em> made it impossible for them to ever fully integrate into the empire.  They had, after all, their own kings, their own local laws and served in their own military formations.  While, interestingly, they would eventually adopt Latin from the local population which had already done so (leading to French, Spanish and Italian) they could never <em>become Roman</em>.  That wasn’t always their choice, either!  <strong>As O’Donnell<em> </em>(<em>op. cit.</em>) notes, many of these <em>foederati</em> wanted to be ‘in’ in the Roman Empire; it was more frequently <em>the Romans</em> who were busy saying ‘no.</strong>‘  It is striking that this occurs in a period where social class in the Roman world was <em>generally</em> calcifying.  Whereas citizenship had been an expanding category, after the <em>Constitutio Antoniniana</em>, the legal categories of <em>honestiores </em>and <em>humiliores</em> (lit. ‘respectable’ and ‘humble’ people, but in practice, ‘wealthy’ and ‘commoners’) largely replaced citizenship as the legal dividing lines of Roman society.  These were far less flexible categories, as economic social mobility in the ancient world was never very high.  Even there, the tax reforms of Diocletian (with some ‘patches’ under Constantine) began, for tax purposes, to tie tenant farmers (‘<em>coloni</em>‘) to their land, essentially barring both physical and economic mobility in the name of more efficient tax collection in a system that strongly resembled later medieval serfdom.</p>



<p><strong>Nevertheless, the consequence of this system of organization was that as often as the <em>foederati</em> provided crucial soldiers to Roman armies, they were just as frequently the problem Roman armies were being sent to address</strong>.  Never fully incorporated into the Roman army and under the command of their own kings, they proved deeply unreliable allies.  Pitting one set of <em>foederati </em>against the next could work in the short-term, but in the long term, without any plan to permanently incorporate the <em>foederati</em> into Roman society, fragmentation was inevitable.  <strong>The Roman abandonment of the successful older systems for managing diverse armies </strong>(on account that they were too expensive) <strong>turned the <em>foederati </em>from a potential source of vital manpower into the central cause of imperial collapse in the West.</strong></p>



<h2>Losing the Habit</h2>



<p><strong>This trend towards calcification had been matched by the loss of Rome’s (admittedly opportunistic and unevenly applied) religious tolerance</strong>.  This is often attributed to Christianity itself, but is perhaps better understood in light of the increasing demands of emperors during and after the Crisis of the Third Century to insist on unity through uniformity.  <strong>The first empire-wide systemic persecution of Christians, the <a href="https://en.wikipedia.org/wiki/Decian_persecution" data-type="URL" data-id="https://en.wikipedia.org/wiki/Decian_persecution">Decian Persecution</a> (250 AD) was exactly this – an effort to have all Romans everywhere sacrifice for the safety of the emperor as an act of unity</strong> to strengthen his reign which rather backfired because it seems not to have occurred to Decius that Christians (of whom, by 250, there were many) would be unable to participate.  <strong>Diocletian likewise launched the Great Persecution in 303 as part of a program to stress unity in worship and try to bind the fractured Roman Empire together</strong>, particularly by emphasizing the cults of Jupiter and Hercules.  From that perspective, Christians were a threat to the enforced, homogeneous unity Diocletian wanted to foster and thus had to be brought back or removed, though of course in the event Christianity’s roots were by 303 far too deep for it to be uprooted.</p>



<p>That is part of the context where we should understand Constantine (r. 306-337).  Constantine is famous for declaring the toleration of Christianity in the empire and being the first emperor to convert to Christianity (only on on his death-bed).  What is less well known is that, having selected Christianity as his favored religion,<strong> Constantine – seeking <em>unity</em> again – promptly set out to unify his new favored religion, by force if necessary</strong>.  A schism had arose as a consequence of Diocletian’s persecution and – now that Christianity was in the good graces of the emperor – both sides sought Constantine’s aid in suppressing the other in what became known as the <a href="https://en.wikipedia.org/wiki/Donatism" data-type="URL" data-id="https://en.wikipedia.org/wiki/Donatism">Donatism controversy</a>, as the side which was eventually branded heretical supported a Christian bishop named Donatus.  Constantine, after failing to get the two groups to agree settled on persecuting one of them (the Donatists) out of existence (which didn’t work either).</p>



<p>It is in that context that later Christian emperor’s efforts to unify the empire behind Christianity (leading to the<a href="https://en.wikipedia.org/wiki/Edict_of_Thessalonica" data-type="URL" data-id="https://en.wikipedia.org/wiki/Edict_of_Thessalonica"> Edict of Thessalonica </a>in 380) ought to be understood – <strong>as the culmination of, by that point, more than a century of on-again, off-again efforts by emperors to try to strengthen the empire by enforcing religious unity</strong>.  By the end of the fourth century, the Christian empire was persecuting pagans and Jews, not even a full century after it had been persecuting Christians.</p>



<p><strong>These efforts to violently enforce unity through homogeneity had the exact opposite effect. </strong> Efforts to persecute Arian Christians (who rejected the Nicene Creed) created further divisions in the empire; they also made it even more difficult to incorporate the newly arriving Germanic peoples, who had mostly converted to the ‘wrong’ (Arian) Christianity.  Meanwhile, in the fifth century, the church in the East splintered further, leading to the ‘Nestorian’ (the term is contested) churches of Syria and the Coptic Church in Egypt on the ‘outs’ with the official (Eastern) Roman Church and thus also facing persecution after the Council of Ephesus in 431.  The resentment created by the policy of persecution in the East seems to have played a fairly significant role in limiting the amount of local popular resistance faced by the Muslim armies of the Rashidun Caliphate during the conquests of Syria, the Levant and Egypt in the 630s, since in many cases Christian communities viewed as ‘heretical’ by Constantinople could actually expect potentially better treatment under Muslim rule.  Needless to say, this both made the Muslim conquests of those regions easier but also go some distance to explaining why Roman/Byzantine reconquest was such a non-starter.  <strong>Efforts to enforce unity in the empire had, perhaps paradoxically, made it more fragile rather than more resilient.</strong></p>



<h2>Conclusions</h2>



<p>Reaching back to our initial question, we now have some answers.  <strong>While the Romans are often presented in popular culture as a homogeneous society consisting of white Northern Europeans who uniformly speak their Latin with a decided British accent, the truth is both more complex and more interesting</strong>.  At every stage of their development, the Romans were a diverse bunch.  Initially this reflected Rome’s origins as a frontier town, positioned at the meeting point of several different cultural, linguistic and religious groups.  The Romans themselves understood their own deep past to have been diverse, with Rome drawn together out of peoples from all over Italy and while their founding myths aren’t particularly <em>accurate</em>, on this point the archaeology backs up the fundamental truth that earliest Rome was a fusion-society.  That diversity only grew as Rome expanded, first incorporating the different peoples of Italy and then the different peoples of the Mediterranean more broadly.</p>



<p>Contrary to the popular image, Rome was a diverse society, by any definition, from the foundation of the Republic (if not earlier) to the collapse of the empire in the West.  This was true when it came to language, culture, and religion.  It was also true when it came to skin-color, although this tended to be quite a bit less important to the Romans than it is to many people today.  <strong>While popular media tends to portray the Romans as uniformly white, typically using British actors, the <em>actual</em> Romans stretched close to the full range of human skin-colors</strong>.  There was no particular arrangement of skin color, hair color or type , no particular ‘<a href="https://en.wikipedia.org/wiki/Phenotype" data-type="URL" data-id="https://en.wikipedia.org/wiki/Phenotype">phenotype</a>‘ which was distinctively Roman.  There were fair-skinned Romans, dark-skinned Romans and Romans at every point in between.  That diversity of appearance was true within Roman Italy but became radically <em>more</em> true in Rome’s Mediterranean-spanning empire.  Instead, Roman identity was marked by a legal status, citizenship, which defined belonging in the group; visually, Roman citizenship was conveyed by clothing (the <em>toga</em> in particular), rather than skin, hair, facial structure, etc.  <strong>The ‘Queen’s Latin’ vision of a Rome homogeneously white is wrong in all respects</strong>.</p>



<p>Consequently the theory of empire that is often built up on that cracked foundation, which supposes that the strength of a homogeneous Roman society forged their empire and that the diversity of that empire doomed it is fundamentally flawed, based on an amateurish and catastrophically mistaken understanding of Roman history.  Rome was <em>never</em> homogeneous and so there is no pristine, unmixed Roman society to hearken back to.  Again, <em>the Romans themselves knew this</em> and declared it openly.</p>



<p><strong>Instead it was Rome’s opportunistic but well-honed ability to effectively manage diverse populations which led to their success</strong>.  Doubtless this skill had at least some of its origins in the fact that Roman political leaders <em>did not</em> come from a monoculture; the relatively ‘hands off’ strategy (with a strong emphasis on local self-government) Rome had to take to deal with the diversity of Italy provided an effective training ground for managing a vast empire.  The Romans do not seem to have ever intended to forge a vast, multi-cultural polity out of their imperial conquests; they were, for the most part, in it for the loot, taxes and military glory.  But that Italian toolkit and the habits of politics in Rome’s diverse Republic were things every Roman aristocrat brought with them when they went abroad as a general or a governor (coincidentally, the same job in the Republic and in the Empire, but that’s a story for another day).  Indeed, <strong>diversity was the root of Roman success.  What made the Roman Empire possible, both to create and to hold, was the willingness of the Romans to opportunistically <em>include</em> conquered peoples in the Roman project</strong>.</p>



<p>In the end though, when Rome’s conquests ceased, and with the frontiers defended against migrations of fresh peoples into the empire, the Romans clearly got out of the habits that had won them the empire.  Emperors more strongly emphasized unity through conformity, particularly in religion, and when the Romans once again had need of non-Romans in their armies, they made the crucial mistake of keeping them separate, rather than incorporating them as they had before.  <strong>Diversity did not destroy the Roman Empire, but <em>intolerance</em> of diversity contributed greatly to its fall</strong>.</p>



<p>Of course part of the reason we are discussing all of this is that these examples – often in their deeply flawed, ‘Queen’s Latin’ form – are mobilized as support for political ends.  I am not a policy expert, so I am not going to suggest what particular policy these conclusions lend themselves too.  But I <em>am</em> a Roman history expert and so <strong>when policy makers are thinking about the examples of history to try to craft effective policies, they should consider the <em>actual Romans</em> rather than the image of Rome crafted by the BBC and Hollywood</strong>.  Those Romans were not neatly homogeneous, they did not neatly map on to modern racial categories, but nor were they enlightened multiculturalists.  They were frequently shrewd and self-interested empire builders who recognized that it actually is true that diversity is strength.  </p>



<p>That Rome, the <em>real</em> Rome, the one that exists in our literary sources, in the archaeological record, in Roman artwork (and in my classroom), <strong>the real Rome was always diverse</strong>.</p>



<p>That’s why they won.</p>
	</div></div>]]></content:encoded>
      <guid>https://acoup.blog/2021/07/30/collections-the-queens-latin-or-who-were-the-romans-part-v-saving-and-losing-an-empire/</guid>
      <pubDate>Mon, 02 Aug 2021 16:41:11 +0000</pubDate>
      <source>https://acoup.blog/2021/07/30/collections-the-queens-latin-or-who-were-the-romans-part-v-saving-and-losing-an-empire/</source>
    </item>
    <item>
      <title>Mobile phones on aircraft</title>
      <link>https://en.wikipedia.org/wiki/Mobile_phones_on_aircraft</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div>

<p>In the U.S., <a href="https://en.wikipedia.org/wiki/Federal_Communications_Commission" title="Federal Communications Commission">Federal Communications Commission</a> (FCC) regulations prohibit the use of <b><a href="https://en.wikipedia.org/wiki/Mobile_phones" title="Mobile phones">mobile phones</a> aboard aircraft in flight</b>.<sup id="cite_ref-FCC_Cellban01_1-0"><a href="#cite_note-FCC_Cellban01-1">[1]</a></sup> Contrary to popular misconception, the <a href="https://en.wikipedia.org/wiki/Federal_Aviation_Administration" title="Federal Aviation Administration">Federal Aviation Administration</a> (FAA) does not actually prohibit the use of personal electronic devices (including cell phones) on aircraft. Paragraph (b)(5) of 14 CFR 91.21 leaves it up to the airlines to determine if devices can be used in flight, allowing use of &#34;Any other portable electronic device that the operator of the aircraft has determined will not cause interference with the navigation or communication system of the aircraft on which it is to be used.&#34;<sup id="cite_ref-FAR9121_2-0"><a href="#cite_note-FAR9121-2">[2]</a></sup>
</p><p>In Europe, regulations and technology have allowed the limited introduction of the use of passenger mobile phones on some commercial flights, and elsewhere in the world many <a href="https://en.wikipedia.org/wiki/Airline" title="Airline">airlines</a> are moving towards allowing mobile phone use in flight.<sup id="cite_ref-OnAirAirfax_3-0"><a href="#cite_note-OnAirAirfax-3">[3]</a></sup> Many airlines still do not allow the use of mobile phones on aircraft.<sup id="cite_ref-ABCNews2007_4-0"><a href="#cite_note-ABCNews2007-4">[4]</a></sup> Those that do often ban the use of mobile phones during take-off and landing.
</p><p>Many passengers are pressing airlines and their governments to allow and deregulate mobile phone use, while some airlines, under the pressure of competition, are also pushing for deregulation or seeking new technology which could solve the present problems.<sup id="cite_ref-CNN_5-0"><a href="#cite_note-CNN-5">[5]</a></sup> On the other hand, official aviation agencies and safety boards are resisting any relaxation of the present safety rules unless and until it can be conclusively shown that it would be safe to do so. There are both technical and social factors which make the issues more complex than a simple discussion of safety versus hazard.<sup id="cite_ref-USATodayCingular_6-0"><a href="#cite_note-USATodayCingular-6">[6]</a></sup>
</p>


<h2><span id="The_debate_on_safety">The debate on safety</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=1" title="Edit section: The debate on safety">edit</a><span>]</span></span></h2>
<p>In the <a href="https://en.wikipedia.org/wiki/United_States" title="United States">United States</a>, the <a href="https://en.wikipedia.org/wiki/Federal_Communications_Commission" title="Federal Communications Commission">Federal Communications Commission</a> (FCC) restricts cell phone usage on aircraft in order to prevent disruption to cellular towers on the ground.<sup id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup> As mentioned above, the FAA allows the in-flight use of wireless devices but only after the airline has determined that the device will not interfere with aircraft communication or navigation.
</p><p>One report asserts<sup id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup> <a href="https://en.wikipedia.org/wiki/Correlation_and_dependence" title="Correlation and dependence">correlations</a> between the use of mobile phones and other portable electronic devices in flight, and various problems with <a href="https://en.wikipedia.org/wiki/Avionics" title="Avionics">avionics</a>. Another study<sup id="cite_ref-BoeingAeroMag200_9-0"><a href="#cite_note-BoeingAeroMag200-9">[9]</a></sup> concluded that some &#34;portable electronic devices&#34;, including laptops, electronic toys and laser pointers, used in the cabin can exceed the aircraft manufacturer&#39;s permissible <a href="https://en.wikipedia.org/wiki/Emission_(radiocommunications)" title="Emission (radiocommunications)">emission levels</a> for safety with regard to some avionics, while they were unsuccessful in duplicating any of the errors suspected to be caused by these devices use in controlled lab conditions.
</p><p>Since these regulations were originally imposed by various international aviation agencies, ultra-low-power devices, such as <a href="https://en.wikipedia.org/wiki/Picocell" title="Picocell">picocells</a>, have been developed. Reasons for this include improved security, reduction of interference, and to allow safe in-flight use of mobile phones. Many airline companies have now added such equipment to their aircraft. More are expected to do so in the coming years.<sup id="cite_ref-OnAirAirfax_3-1"><a href="#cite_note-OnAirAirfax-3">[3]</a></sup>
</p>
<h3><span id="Electromagnetic_interference">Electromagnetic interference</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=2" title="Edit section: Electromagnetic interference">edit</a><span>]</span></span></h3>
<p><a href="https://en.wikipedia.org/wiki/Electromagnetic_interference" title="Electromagnetic interference">Electromagnetic interference</a> to aircraft systems is a common argument offered for banning mobile phones (and other passenger electronic devices) on planes. Theoretically, active <a href="https://en.wikipedia.org/wiki/Radio_transmitter" title="Radio transmitter">radio transmitters</a> such as mobile phones, walkie–talkies, portable computers or gaming devices may interfere with the aircraft. Non-transmitting electronic devices also emit electromagnetic radiation, although typically at a lower power level, and could also theoretically affect the aircraft electronics. Collectively, any of these may be referred to as portable electronic devices (PEDs).
</p><p>A <a href="https://en.wikipedia.org/wiki/NASA" title="NASA">NASA</a> publication<sup id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup> details the fifty most recent reports to the <a href="https://en.wikipedia.org/wiki/Aviation_Safety_Reporting_System" title="Aviation Safety Reporting System">Aviation Safety Reporting System</a> (ASRS) regarding &#34;avionics problems that may result from the influence of passenger electronic devices.&#34; The nature of these reports varies widely. Some merely describe passengers&#39; interactions with flight crews when asked to stop using an electronic device.  Other reports amount to crews reporting an anomaly experienced at the same time a passenger was witnessed using a mobile phone. A few reports state that interference to aircraft systems was observed to appear and disappear as that particular suspect device was turned on and off. One entry in the ASRS, designated ACN: 440557,<sup id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup> reports a clear link where a passenger&#39;s DVD player induced a 30-degree error in the display of the aircraft&#39;s heading, each time the player was switched on. However, this report dates back to 1999 and involves a <a href="https://en.wikipedia.org/wiki/Boeing_727" title="Boeing 727">Boeing 727</a>, an old type of aircraft that is no longer in use by airlines today.
</p><p>A 2003 study<sup id="cite_ref-IEEESpectrum2006_12-0"><a href="#cite_note-IEEESpectrum2006-12">[12]</a></sup> involved three months of testing with <a href="https://en.wikipedia.org/wiki/Radio_frequency" title="Radio frequency">RF</a> <a href="https://en.wikipedia.org/wiki/Spectrum_analyzer" title="Spectrum analyzer">spectrum analyzers</a> and other instruments aboard regular commercial flights, and one passage reads:
</p>
<blockquote><p> ...our research has found that these items can interrupt the normal operation of key cockpit instruments, especially Global Positioning System (GPS) receivers, which are increasingly vital to safe landings. Two different studies by NASA further support the idea that passengers&#39; electronic devices dangerously produce interference in a way that reduces the safety margins for critical avionics systems.</p></blockquote>
<p>A 2000 study by the <a href="https://en.wikipedia.org/wiki/Civil_Aviation_Authority_(United_Kingdom)" title="Civil Aviation Authority (United Kingdom)">British Civil Aviation Authority</a><sup id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup> found that a mobile phone, when used near the cockpit or other avionics equipment location, will exceed safety levels for older equipment (compliant with 1984 standards). Such equipment is still in use, even in new aircraft. Therefore, the report concludes, the current policy, which restricts the use of mobile phones on all aircraft while the engines are running, should remain in force.
</p><p>Critics of the ban doubt that small battery-powered devices would have any significant influence on a commercial jetliner&#39;s shielded electronic systems. Safety researchers Tekla S. Perry and Linda Geppert point out that shielding and other protections degrade with increasing age, cycles of use, and even some maintenance procedures, as is also true of the shielding in PEDs, including mobile phones.<sup id="cite_ref-IEEESpectrum2006_12-1"><a href="#cite_note-IEEESpectrum2006-12">[12]</a></sup>
</p><p>Several reports argue both sides of the issue in the same article; on the one hand they highlight the lack of definite evidence of mobile phones causing significant interference, while on the other hand they point out that caution in maintaining restrictions on using mobile phones and other PEDs in flight is the safer course to take.<sup id="cite_ref-ABCNews2007_4-1"><a href="#cite_note-ABCNews2007-4">[4]</a></sup><sup id="cite_ref-BoeingAeroMag200_9-1"><a href="#cite_note-BoeingAeroMag200-9">[9]</a></sup><sup id="cite_ref-BBCNews1999_14-0"><a href="#cite_note-BBCNews1999-14">[14]</a></sup>
</p>
<h2><span id="The_debate_on_other_issues">The debate on other issues</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=3" title="Edit section: The debate on other issues">edit</a><span>]</span></span></h2>
<h3><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=4" title="Edit section: Social resistance to mobile phone use on flights">edit</a><span>]</span></span></h3>
<p>Many people may prefer a ban on mobile phone use in flight as it prevents undue amounts of noise from mobile phone chatter. <a href="https://en.wikipedia.org/wiki/AT%26T_Mobility" title="AT&amp;T Mobility">AT&amp;T</a> has suggested that in-flight mobile phone restrictions should remain in place in the interests of reducing the nuisance to other passengers caused by someone talking on a mobile phone near them.<sup id="cite_ref-USATodayCingular_6-1"><a href="#cite_note-USATodayCingular-6">[6]</a></sup>
</p>
<h3><span id="Competition_for_airlines.27_in-flight_phone_service"></span><span id="Competition_for_airlines&#39;_in-flight_phone_service">Competition for airlines&#39; in-flight phone service</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=5" title="Edit section: Competition for airlines&#39; in-flight phone service">edit</a><span>]</span></span></h3>
<p>Skeptics of the ban have suggested that the airlines support the ban because they do not want passengers to have an alternative to the in-flight phone service such as GTE&#39;s <a href="https://en.wikipedia.org/wiki/Airfone" title="Airfone">Airfone</a>.<sup id="cite_ref-15"><a href="#cite_note-15">[15]</a></sup> Andy Plews a spokesman for UAL&#39;s United Airlines was quoted as saying &#34;We don&#39;t believe it&#39;s a good safety issue...We&#39;d like people to use the air phones.&#34;<sup id="cite_ref-16"><a href="#cite_note-16">[16]</a></sup>
</p>
<h2><span id="Current_status">Current status</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=6" title="Edit section: Current status">edit</a><span>]</span></span></h2>
<h3><span id="In_flight_technology">In flight technology</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=7" title="Edit section: In flight technology">edit</a><span>]</span></span></h3>
<p>On 31 October 2013, the FAA issued a press release entitled &#34;FAA to Allow Airlines to Expand Use of Personal Electronics&#34;<sup id="cite_ref-FAAPressRelease20131031_17-0"><a href="#cite_note-FAAPressRelease20131031-17">[17]</a></sup> in which it announced that &#34;airlines can safely expand passenger use of Portable Electronic Devices (PEDs) during all phases of flight.&#34; This new policy does not include cell phone use in flight, because, as the press release states, &#34;The FAA did not consider changing the regulations regarding the use of cell phones for voice communications during flight because the issue is under the jurisdiction of the Federal Communications Commission (FCC).&#34;
</p><p>This FAA press release was quickly followed up by an FCC press release entitled &#34;Chairman Wheeler Statement on In-Flight Mobile Services Proposal&#34;<sup id="cite_ref-FCCPressRelease20131121_18-0"><a href="#cite_note-FCCPressRelease20131121-18">[18]</a></sup> in which FCC Chairman Tom Wheeler states, &#34;modern technologies can deliver mobile services in the air safely and reliably, and the time is right to review our outdated and restrictive rules.&#34; This has led to media speculation<sup id="cite_ref-WSJOnFCCAnnouncement_19-0"><a href="#cite_note-WSJOnFCCAnnouncement-19">[19]</a></sup> that the use of cell phones for voice communication on board an aircraft in flight will soon be allowed.
</p><p>Some airlines have installed technologies to allow phones to be connected within the airplane as it flies. Such systems were tested on scheduled flights from 2006 and in 2008 several airlines started to allow in-flight use of mobile phones.<sup id="cite_ref-OnAirAirfax_3-2"><a href="#cite_note-OnAirAirfax-3">[3]</a></sup>
</p>
<h3><span id="Status_of_specific_regions_and_individual_airlines">Status of specific regions and individual airlines</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=8" title="Edit section: Status of specific regions and individual airlines">edit</a><span>]</span></span></h3>
<dl><dt>China</dt></dl>
<p>As of 2018, Chinese regulations (and major carriers including China Southern Airlines, China Eastern Airlines and Air China) permit phone usage in flight mode (with transmitters off).<sup id="cite_ref-20"><a href="#cite_note-20">[20]</a></sup>
</p>
<dl><dt>Emirates Airline</dt></dl>
<p>On 20 March 2008, <a href="https://en.wikipedia.org/wiki/Emirates_(airline)" title="Emirates (airline)">Emirates</a> flights began allowing in-flight voice calls on some commercial airline flights.<sup id="cite_ref-21"><a href="#cite_note-21">[21]</a></sup>
</p>
<dl><dt>European services</dt></dl>
<p><a href="https://en.wikipedia.org/wiki/AeroMobile" title="AeroMobile">AeroMobile</a> and <a href="https://en.wikipedia.org/wiki/OnAir" title="OnAir">OnAir</a> allow the use of personal electronics devices aboard flights. The services are most readily available in Europe and are licensed to specific airlines.<sup id="cite_ref-OnAirAirfax_3-3"><a href="#cite_note-OnAirAirfax-3">[3]</a></sup><sup id="cite_ref-VA_Aeromobile_22-0"><a href="#cite_note-VA_Aeromobile-22">[22]</a></sup>
</p>
<dl><dt>Qantas</dt></dl>
<p>Since 26 August 2014 <a href="https://en.wikipedia.org/wiki/Qantas" title="Qantas">Qantas</a> permits mobile phones (and other portable electronic devices weighing less than 1 kg) to be switched on during the entire flight, if the devices are in flight mode while on board the aircraft.<sup id="cite_ref-23"><a href="#cite_note-23">[23]</a></sup><sup id="cite_ref-24"><a href="#cite_note-24">[24]</a></sup>  Jetstar (owned by Qantas) adopted the same arrangements on 30 August 2014.<sup id="cite_ref-25"><a href="#cite_note-25">[25]</a></sup>
</p>
<dl><dt>Ryanair</dt></dl>
<p>On 30 August 2006 the Irish airline <a href="https://en.wikipedia.org/wiki/Ryanair" title="Ryanair">Ryanair</a> announced that it would introduce a facility to allow passengers to use their mobile phones in-flight.<sup id="cite_ref-26"><a href="#cite_note-26">[26]</a></sup> This service started on 19 February 2009 with 20 of their Dublin-based aircraft.<sup id="cite_ref-27"><a href="#cite_note-27">[27]</a></sup>
</p>
<dl><dt>Turkish Airlines</dt></dl>
<p><a href="https://en.wikipedia.org/wiki/Turkish_Airlines" title="Turkish Airlines">Turkish Airlines</a>&#39; stated position is that &#34;Mobile phones interfere with the flight instruments and have a negative effect on flight safety.&#34;<sup id="cite_ref-IEEESpectrum2006_12-2"><a href="#cite_note-IEEESpectrum2006-12">[12]</a></sup>
</p>
<dl><dt>Mobile phones on corporate jets</dt></dl>
<p><a href="https://en.wikipedia.org/wiki/Dassault_Aviation" title="Dassault Aviation">Dassault Aviation</a> implemented a new concept designated SafeCell on 2 April 2009 when the <a href="https://en.wikipedia.org/wiki/Falcon_2000" title="Falcon 2000">Falcon 2000</a> commenced flying.<sup id="cite_ref-28"><a href="#cite_note-28">[28]</a></sup>
</p>
<dl><dt>United Kingdom</dt></dl>
<p>On 18 October 2007 the <a href="https://en.wikipedia.org/wiki/Ofcom" title="Ofcom">Office of Communications</a> published proposals<sup id="cite_ref-29"><a href="#cite_note-29">[29]</a></sup> for the technical and authorisational approach that would be adopted to allow this for European GSM users on the 1800 MHz band on UK registered aircraft.<sup id="cite_ref-30"><a href="#cite_note-30">[30]</a></sup> and on 26 March 2008 Ofcom approved the use of mobile phone-supporting picocells aboard aircraft in the United Kingdom. Airline companies will have to first equip the aircraft with picocells and apply for licences.<sup id="cite_ref-31"><a href="#cite_note-31">[31]</a></sup><sup id="cite_ref-32"><a href="#cite_note-32">[32]</a></sup>
</p>
<h3><span id="Regulations_and_practice_in_the_United_States">Regulations and practice in the United States</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=9" title="Edit section: Regulations and practice in the United States">edit</a><span>]</span></span></h3>
<p>To prevent disruption to the cellular phone network from the effects of fast-moving cell phones at altitude (see <a href="#Technical_discussion">Technical discussion</a>, below), the FCC has banned the use of mobile phones on all aircraft in flight.<sup id="cite_ref-FCC_Cellban03_33-0"><a href="#cite_note-FCC_Cellban03-33">[33]</a></sup> The FCC did, however, allocate spectra in the 450 MHz and 800 MHz frequency bands for use by equipment designed and tested for <a href="https://en.wikipedia.org/wiki/Air-ground_radiotelephone_service" title="Air-ground radiotelephone service">air-ground radiotelephone service</a>. These systems use far more widely separated ground stations than standard cellular systems. In the 450 MHz band co-channel assignments are at least 497 miles apart and in the 800 MHz band only specific sites were authorized by the FCC. The 450 MHz service is limited to &#34;general aviation&#34; users, usually corporate jets, while the 800 MHz spectrum can be used by airliners as well as for general aviation.<sup id="cite_ref-34"><a href="#cite_note-34">[34]</a></sup>
</p><p>The FAA in 14 C.F.R § 91.21 prohibits the use of portable electronic devices, including mobile phones, for all commercial flights and for those private flights being made under <a href="https://en.wikipedia.org/wiki/Instrument_flight_rules" title="Instrument flight rules">instrument flight rules</a> (IFR). It does allow that the airline (or, for privately operated aircraft, the pilot) can make an exception to this rule if the operator deems that device safe. This effectively gives the airline, or the private pilot, the final word as to what devices may safely be used aboard an aircraft as far as the FAA is concerned although the FCC restriction still applies.<sup id="cite_ref-FAR9121_2-1"><a href="#cite_note-FAR9121-2">[2]</a></sup> (Note that for aircraft operated by an airline the pilot is not considered the &#34;operator&#34; and cannot legally allow exceptions to the airline&#39;s restrictions although the pilot may dictate <i>additional</i> restrictions.<sup>[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (January 2020)">citation needed</span></a></i>]</sup>)
On February 11, 2014, the <a href="https://en.wikipedia.org/wiki/House_Committee_on_Transportation_and_Infrastructure" title="House Committee on Transportation and Infrastructure">House Committee on Transportation and Infrastructure</a> approved the Prohibiting In-Flight Voice Communications on Mobile Wireless Devices Act. The bill would forbid airline passengers from talking on mobile phones during a flight.<sup id="cite_ref-35"><a href="#cite_note-35">[35]</a></sup> In September 2014, a bipartisan group of lawmakers opposed the FCC ending the ban on mobile phones aboard, citing safety as one of the main concerns.<sup id="cite_ref-36"><a href="#cite_note-36">[36]</a></sup>
</p>
<h3><span id="Regulatory_status_in_Europe">Regulatory status in Europe</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=10" title="Edit section: Regulatory status in Europe">edit</a><span>]</span></span></h3>
<table role="presentation"><tbody><tr><td><a href="https://en.wikipedia.org/wiki/File:Wiki_letter_w_cropped.svg"></a></td><td><p>This section <b>needs expansion</b>. You can help by <a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=">adding to it</a>.  <span><i>(<span>January 2015</span>)</i></span></p></td></tr></tbody></table>
<p>In September 2014, the <a href="https://en.wikipedia.org/wiki/European_Aviation_Safety_Agency" title="European Aviation Safety Agency">European Aviation Safety Agency</a> removed its ban on mobile phone use during flights.<sup id="cite_ref-37"><a href="#cite_note-37">[37]</a></sup>
</p>
<h3><span id="Regulatory_status_in_India">Regulatory status in India</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=11" title="Edit section: Regulatory status in India">edit</a><span>]</span></span></h3>
<p>On 19 January 2018, the <a href="https://en.wikipedia.org/wiki/Telecom_Regulatory_Authority_of_India" title="Telecom Regulatory Authority of India">Telecom Regulatory Authority of India</a> (TRAI) permitted the use of mobile phones and internet access through Wi-Fi on-board all flights operating in Indian airspace. However, passengers are only permitted to make mobile phone calls when the aircraft is at an altitude of over 3,000 metres (9,800 ft). TRAI stated that the height restriction was to ensure &#34;compatibility with terrestrial mobile networks&#34;.<sup id="cite_ref-38"><a href="#cite_note-38">[38]</a></sup><sup id="cite_ref-39"><a href="#cite_note-39">[39]</a></sup>
</p>
<h3><span id="Future_technologies">Future technologies</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=12" title="Edit section: Future technologies">edit</a><span>]</span></span></h3>
<p>A few U.S. airlines have announced plans<sup id="cite_ref-40"><a href="#cite_note-40">[40]</a></sup><sup id="cite_ref-41"><a href="#cite_note-41">[41]</a></sup> to install new technology on aircraft which would allow mobile phones to be used on aircraft, pending approval by the FCC and the FAA. This method is similar to that used in most cars on the German <a href="https://en.wikipedia.org/wiki/InterCityExpress" title="InterCityExpress">ICE</a> train. The aircraft would carry a device known as a <a href="https://en.wikipedia.org/wiki/Picocell" title="Picocell">picocell</a>. A picocell acts as a miniature <a href="https://en.wikipedia.org/wiki/Base_station" title="Base station">base station</a> (like a cellphone tower) communicating with cellphones within the aircraft and relaying the signals to either satellites or a terrestrial-based system. The picocell will be designed and maintained for full compatibility with the aircraft avionics. Communication between the picocell and the rest of the telephone network will be on separate frequencies that do not interfere with either the cellular system or the aircraft&#39;s avionics, similarly to the on–board proprietary phone systems already aboard many commercial aircraft. Since the picocell&#39;s antennas within the aircraft would be very close to the passengers and inside the aircraft&#39;s metal shell both the picocell&#39;s and the cell phones&#39; output power could be reduced to very low levels, which would reduce the risk of interference. Such systems have been tested on a few flights within the United States under a waiver from the FCC.<sup>[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (January 2013)">citation needed</span></a></i>]</sup>
</p><p>ARINC and Telenor have formed a joint venture company to offer such a service aboard commercial aircraft. The cell phone calls are routed via satellite to the ground network and an on-board EMI screening system prevents the cell phones from attempting to contact ground-based networks.<sup id="cite_ref-42"><a href="#cite_note-42">[42]</a></sup>
</p><p>These systems are comparatively easy to implement for customers in most of the world where <a href="https://en.wikipedia.org/wiki/GSM" title="GSM">GSM</a> phones operating on one of just two bands are the norm. The multitude of incompatible mobile phone systems in the United States and some other countries makes the situation more difficult—it is not clear if the onboard repeaters will be compatible with all of the different cell-phone protocols (<a href="https://en.wikipedia.org/wiki/Digital_AMPS" title="Digital AMPS">TDMA</a>, <a href="https://en.wikipedia.org/wiki/GSM" title="GSM">GSM</a>, <a href="https://en.wikipedia.org/wiki/CDMA" title="CDMA">CDMA</a>, <a href="https://en.wikipedia.org/wiki/Integrated_Digital_Enhanced_Network" title="Integrated Digital Enhanced Network">iDen</a>) and their respective providers.
</p>
<h2><span id="Technical_discussion">Technical discussion</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=13" title="Edit section: Technical discussion">edit</a><span>]</span></span></h2>
<p>The U.S. <a href="https://en.wikipedia.org/wiki/Federal_Communications_Commission" title="Federal Communications Commission">Federal Communications Commission</a> (FCC) currently prohibits the use of mobile phones aboard <i>any</i> aircraft in flight. The reason given is that cell phone systems depend on <a href="https://en.wikipedia.org/wiki/Cellular_network#Frequency_reuse" title="Cellular network">frequency reuse</a>, which allows for a dramatic increase in the number of customers that can be served within a geographic area on a limited amount of radio spectrum, and operating a phone at an altitude may violate the fundamental assumptions that allow channel reuse to work.<sup id="cite_ref-FCC_Cellban02_43-0"><a href="#cite_note-FCC_Cellban02-43">[43]</a></sup><sup>[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Please_clarify" title="Wikipedia:Please clarify"><span title="The text near this tag needs further explanation. (January 2020)">further explanation needed</span></a></i>]</sup>
</p>
<h2><span id="See_also">See also</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=14" title="Edit section: See also">edit</a><span>]</span></span></h2>

<ul><li><a href="https://en.wikipedia.org/wiki/Air-ground_radiotelephone_service" title="Air-ground radiotelephone service">Air-ground radiotelephone service</a></li>
<li><a href="https://en.wikipedia.org/wiki/Airplane_mode" title="Airplane mode">Airplane mode</a></li></ul>
<h2><span id="References">References</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=15" title="Edit section: References">edit</a><span>]</span></span></h2>
<h3><span id="Notes">Notes</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=16" title="Edit section: Notes">edit</a><span>]</span></span></h3>
<div>
<ol>
<li id="cite_note-FCC_Cellban01-1"><span><b><a href="#cite_ref-FCC_Cellban01_1-0">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.ecfr.gov/cgi-bin/text-idx?rgn=div8&amp;node=47:2.0.1.1.2.8.27.12">&#34;FCC 47 Part 22.925&#34;</a>. www.ecfr.gov<span>. Retrieved <span>2014-08-28</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=FCC+47+Part+22.925&amp;rft.pub=www.ecfr.gov&amp;rft_id=http%3A%2F%2Fwww.ecfr.gov%2Fcgi-bin%2Ftext-idx%3Frgn%3Ddiv8%26node%3D47%3A2.0.1.1.2.8.27.12&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-FAR9121-2"><span>^ <a href="#cite_ref-FAR9121_2-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-FAR9121_2-1"><sup><i><b>b</b></i></sup></a></span> <span>14 Code of Federal Regulations 91.21 <a rel="nofollow" href="http://ecfr.gpoaccess.gov/cgi/t/text/text-idx?c=ecfr&amp;rgn=div8&amp;view=text&amp;node=14:2.0.1.3.10.1.4.11&amp;idno=14">[1]</a> <a rel="nofollow" href="https://web.archive.org/web/20090714052028/http://ecfr.gpoaccess.gov/cgi/t/text/text-idx?c=ecfr&amp;rgn=div8&amp;view=text&amp;node=14%3A2.0.1.3.10.1.4.11&amp;idno=14">Archived</a> 2009-07-14 at the <a href="https://en.wikipedia.org/wiki/Wayback_Machine" title="Wayback Machine">Wayback Machine</a>. Retrieved August 21, 2009.</span>
</li>
<li id="cite_note-OnAirAirfax-3"><span>^ <a href="#cite_ref-OnAirAirfax_3-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-OnAirAirfax_3-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-OnAirAirfax_3-2"><sup><i><b>c</b></i></sup></a> <a href="#cite_ref-OnAirAirfax_3-3"><sup><i><b>d</b></i></sup></a></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20130204065403/http://airfax.com/blog/index.php/tag/inflight-connectivity">&#34;Qatar Flies First B787 with Inflight Connectivity&#34;</a>. IFExpress. November 19, 2012. Archived from <a rel="nofollow" href="http://airfax.com/blog/index.php/tag/inflight-connectivity/">the original</a> on February 4, 2013<span>. Retrieved <span>January 10,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Qatar+Flies+First+B787+with+Inflight+Connectivity&amp;rft.pub=IFExpress&amp;rft.date=2012-11-19&amp;rft_id=http%3A%2F%2Fairfax.com%2Fblog%2Findex.php%2Ftag%2Finflight-connectivity%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-ABCNews2007-4"><span>^ <a href="#cite_ref-ABCNews2007_4-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-ABCNews2007_4-1"><sup><i><b>b</b></i></sup></a></span> <span><cite id="CITEREFSherrChris_Kilmer2007">Sherr, Lynn; Chris Kilmer (2007-12-07). <a rel="nofollow" href="https://abcnews.go.com/2020/story?id=3964895&amp;page=1">&#34;Cell Phones Are Dangerous in Flight: Myth, or Fact?&#34;</a>. <a href="https://en.wikipedia.org/wiki/ABC_News" title="ABC News">ABC News</a><span>. Retrieved <span>2010-06-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Cell+Phones+Are+Dangerous+in+Flight%3A+Myth%2C+or+Fact%3F&amp;rft.pub=ABC+News&amp;rft.date=2007-12-07&amp;rft.aulast=Sherr&amp;rft.aufirst=Lynn&amp;rft.au=Chris+Kilmer&amp;rft_id=https%3A%2F%2Fabcnews.go.com%2F2020%2Fstory%3Fid%3D3964895%26page%3D1&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-CNN-5"><span><b><a href="#cite_ref-CNN_5-0">^</a></b></span> <span><cite><a rel="nofollow" href="https://archive.today/20130215174650/http://articles.cnn.com/2004-09-29/travel/bt.inflight.phone_1_mobile-phone-cell-phones-flight?_s=PM:TRAVEL">&#34;In flight phone-free zone may end&#34;</a>. CNN. October 3, 2004. Archived from <a rel="nofollow" href="http://articles.cnn.com/2004-09-29/travel/bt.inflight.phone_1_mobile-phone-cell-phones-flight?_s=PM:TRAVEL">the original</a> on February 15, 2013<span>. Retrieved <span>January 10,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=In+flight+phone-free+zone+may+end&amp;rft.pub=CNN&amp;rft.date=2004-10-03&amp;rft_id=http%3A%2F%2Farticles.cnn.com%2F2004-09-29%2Ftravel%2Fbt.inflight.phone_1_mobile-phone-cell-phones-flight%3F_s%3DPM%3ATRAVEL&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-USATodayCingular-6"><span>^ <a href="#cite_ref-USATodayCingular_6-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-USATodayCingular_6-1"><sup><i><b>b</b></i></sup></a></span> <span><cite id="CITEREFCauley2005">Cauley, Leslie (2005-06-16). <a rel="nofollow" href="https://www.usatoday.com/travel/news/2005-06-15-cell-ban-usat_x.htm">&#34;Cingular backs air cell ban&#34;</a>. <i>USA Today</i><span>. Retrieved <span>2010-05-12</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=USA+Today&amp;rft.atitle=Cingular+backs+air+cell+ban&amp;rft.date=2005-06-16&amp;rft.aulast=Cauley&amp;rft.aufirst=Leslie&amp;rft_id=https%3A%2F%2Fwww.usatoday.com%2Ftravel%2Fnews%2F2005-06-15-cell-ban-usat_x.htm&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-7"><span><b><a href="#cite_ref-7">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20120110081053/http://www.fcc.gov/guides/wireless-devices-airplanes">&#34;Wireless Devices on Airplanes&#34;</a>. fcc.gov. Archived from <a rel="nofollow" href="http://www.fcc.gov/guides/wireless-devices-airplanes">the original</a> on 2012-01-10<span>. Retrieved <span>2012-01-19</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Wireless+Devices+on+Airplanes&amp;rft.pub=fcc.gov&amp;rft_id=http%3A%2F%2Fwww.fcc.gov%2Fguides%2Fwireless-devices-airplanes&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-8"><span><b><a href="#cite_ref-8">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20120210104705/http://ecfr.gpoaccess.gov/cgi/t/text/text-idx?c=ecfr&amp;sid=7c7f260014ebec75f96956b4a6d3f9e4&amp;rgn=div8&amp;view=text&amp;node=47%3A2.0.1.1.2.8.27.12&amp;idno=47">&#34;22.925 Prohibition on airborne operation of cellular telephones&#34;</a>. <i>Code of Federal Regulations, Title 47</i>. National Archives and Records Administration. Archived from <a rel="nofollow" href="http://ecfr.gpoaccess.gov/cgi/t/text/text-idx?c=ecfr&amp;rgn=div8&amp;view=text&amp;node=47:2.0.1.1.2.8.27.12&amp;idno=47">the original</a> on 2012-02-10<span>. Retrieved <span>2012-01-19</span></span>. <q>Cellular telephones installed in or carried aboard airplanes, balloons or any other type of aircraft must not be operated while such aircraft are airborne (not touching the ground).</q></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Code+of+Federal+Regulations%2C+Title+47&amp;rft.atitle=22.925+Prohibition+on+airborne+operation+of+cellular+telephones.&amp;rft_id=http%3A%2F%2Fecfr.gpoaccess.gov%2Fcgi%2Ft%2Ftext%2Ftext-idx%3Fc%3Decfr%26rgn%3Ddiv8%26view%3Dtext%26node%3D47%3A2.0.1.1.2.8.27.12%26idno%3D47&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-BoeingAeroMag200-9"><span>^ <a href="#cite_ref-BoeingAeroMag200_9-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-BoeingAeroMag200_9-1"><sup><i><b>b</b></i></sup></a></span> <span><cite><a rel="nofollow" href="http://www.boeing.com/commercial/aeromagazine/aero_10/interfere_textonly.html">&#34;Interference from Electronic Devices&#34;</a>. <i>Aero</i>. <a href="https://en.wikipedia.org/wiki/Boeing" title="Boeing">Boeing</a> (10). March 2000<span>. Retrieved <span>2010-06-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Aero&amp;rft.atitle=Interference+from+Electronic+Devices&amp;rft.issue=10&amp;rft.date=2000-03&amp;rft_id=http%3A%2F%2Fwww.boeing.com%2Fcommercial%2Faeromagazine%2Faero_10%2Finterfere_textonly.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-10"><span><b><a href="#cite_ref-10">^</a></b></span> <span>NASA ASRS Database Report Set <i><a rel="nofollow" href="http://asrs.arc.nasa.gov/docs/rpsts/ped.pdf">Passenger Electronic Devices</a></i> (PDF)</span>
</li>
<li id="cite_note-11"><span><b><a href="#cite_ref-11">^</a></b></span> <span><a href="https://en.wikipedia.org/wiki/NASA" title="NASA">NASA</a> <a href="https://en.wikipedia.org/wiki/Aviation_Safety_Reporting_System" title="Aviation Safety Reporting System">Aviation Safety Reporting System</a> Case Number 440557 (June 1999) <i><a rel="nofollow" href="http://akama.arc.nasa.gov/ASRSDBOnline/QueryWizard_Filter.aspx">ASRS Case 440557</a></i></span>
</li>
<li id="cite_note-IEEESpectrum2006-12"><span>^ <a href="#cite_ref-IEEESpectrum2006_12-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-IEEESpectrum2006_12-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-IEEESpectrum2006_12-2"><sup><i><b>c</b></i></sup></a></span> <span><i><a href="https://en.wikipedia.org/wiki/IEEE_Spectrum" title="IEEE Spectrum">IEEE Spectrum</a></i> (March 2006). &#34;<a rel="nofollow" href="https://spectrum.ieee.org/aerospace/aviation/unsafe-at-any-airspeed">Unsafe At Any Airspeed?</a>&#34;</span>
</li>
<li id="cite_note-13"><span><b><a href="#cite_ref-13">^</a></b></span> <span><a href="https://en.wikipedia.org/wiki/Civil_Aviation_Authority_(United_Kingdom)" title="Civil Aviation Authority (United Kingdom)">Civil Aviation Authority</a> (May 2, 2000).  <i><a rel="nofollow" href="http://www.caa.co.uk/docs/389/srg_acp_00021-01-030303.pdf">Interference Levels In Aircraft at Radio Frequencies used by Portable Telephones</a> <a rel="nofollow" href="https://web.archive.org/web/20070616083454/http://www.caa.co.uk/docs/389/srg_acp_00021-01-030303.pdf">Archived</a> 2007-06-16 at the <a href="https://en.wikipedia.org/wiki/Wayback_Machine" title="Wayback Machine">Wayback Machine</a></i> (PDF)</span>
</li>
<li id="cite_note-BBCNews1999-14"><span><b><a href="#cite_ref-BBCNews1999_14-0">^</a></b></span> <span><a href="https://en.wikipedia.org/wiki/BBC_News" title="BBC News">BBC News</a> (July 20, 1999). &#34;<a rel="nofollow" href="http://news.bbc.co.uk/2/hi/uk_news/399154.stm">Can Mobile Phones Bring Down Planes?</a>&#34;</span>
</li>
<li id="cite_note-15"><span><b><a href="#cite_ref-15">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.edn.com/electronics-blogs/beyond-bits-and-bytes/4395932/Mobile-phone-interference-with-plane-instruments--Myth-or-reality-">&#34;Mobile phone interference with plane instruments: Myth or reality?&#34;</a>. EDN network. September 11, 2012<span>. Retrieved <span>November 29,</span> 2014</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Mobile+phone+interference+with+plane+instruments%3A+Myth+or+reality%3F&amp;rft.pub=EDN+network&amp;rft.date=2012-09-11&amp;rft_id=http%3A%2F%2Fwww.edn.com%2Felectronics-blogs%2Fbeyond-bits-and-bytes%2F4395932%2FMobile-phone-interference-with-plane-instruments--Myth-or-reality-&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-16"><span><b><a href="#cite_ref-16">^</a></b></span> <span><cite id="CITEREFZDNet_UK">ZDNet UK. <a rel="nofollow" href="https://www.zdnet.com/article/a-year-ago-airlines-ban-mobile-phones-but-why/">&#34;A Year Ago: Airlines ban mobile phones, but why?&#34;</a>. ZDNet UK<span>. Retrieved <span>28 December</span> 2018</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=A+Year+Ago%3A+Airlines+ban+mobile+phones%2C+but+why%3F&amp;rft.pub=ZDNet+UK&amp;rft.au=ZDNet+UK&amp;rft_id=https%3A%2F%2Fwww.zdnet.com%2Farticle%2Fa-year-ago-airlines-ban-mobile-phones-but-why%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-FAAPressRelease20131031-17"><span><b><a href="#cite_ref-FAAPressRelease20131031_17-0">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.faa.gov/news/press_releases/news_story.cfm?cid=TW189&amp;newsId=15254">&#34;FAA to Allow Airlines to Expand Use of Personal Electronics&#34;</a> (Press release). Federal Aviation Administration. October 31, 2013<span>. Retrieved <span>November 11,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=FAA+to+Allow+Airlines+to+Expand+Use+of+Personal+Electronics&amp;rft.pub=Federal+Aviation+Administration&amp;rft.date=2013-10-31&amp;rft_id=http%3A%2F%2Fwww.faa.gov%2Fnews%2Fpress_releases%2Fnews_story.cfm%3Fcid%3DTW189%26newsId%3D15254&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-FCCPressRelease20131121-18"><span><b><a href="#cite_ref-FCCPressRelease20131121_18-0">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.fcc.gov/document/chairman-wheeler-statement-flight-mobile-services-proposal">&#34;Chairman Wheeler Statement on In-Flight Mobile Services Proposal&#34;</a> (Press release). Federal Communications Commission. November 21, 2013<span>. Retrieved <span>November 22,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Chairman+Wheeler+Statement+on+In-Flight+Mobile+Services+Proposal&amp;rft.pub=Federal+Communications+Commission&amp;rft.date=2013-11-21&amp;rft_id=http%3A%2F%2Fwww.fcc.gov%2Fdocument%2Fchairman-wheeler-statement-flight-mobile-services-proposal&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-WSJOnFCCAnnouncement-19"><span><b><a href="#cite_ref-WSJOnFCCAnnouncement_19-0">^</a></b></span> <span>Wall Street Journal (November 22, 2013) <i><a rel="nofollow" href="https://online.wsj.com/news/articles/SB10001424052702303653004579212210178774516">U.S. to Consider Cellphone Use on Planes</a></i></span>
</li>
<li id="cite_note-20"><span><b><a href="#cite_ref-20">^</a></b></span> <span><a rel="nofollow" href="https://www.zdnet.com/article/china-finally-lifts-ban-on-mobile-phone-use-during-flights/">https://www.zdnet.com/article/china-finally-lifts-ban-on-mobile-phone-use-during-flights/</a></span>
</li>
<li id="cite_note-21"><span><b><a href="#cite_ref-21">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.emirates.com/bh/English/flying/our_fleet/emirates_a380/news_and_events/emirates-offers-first-mobile-phone-service-onboard-a380-aircraft.aspx">&#34;Emirates offers first mobile phone service onboard A380 Aircraft&#34;</a> (Press release). Emirates. October 4, 2012<span>. Retrieved <span>January 10,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Emirates+offers+first+mobile+phone+service+onboard+A380+Aircraft&amp;rft.pub=Emirates&amp;rft.date=2012-10-04&amp;rft_id=http%3A%2F%2Fwww.emirates.com%2Fbh%2FEnglish%2Fflying%2Four_fleet%2Femirates_a380%2Fnews_and_events%2Femirates-offers-first-mobile-phone-service-onboard-a380-aircraft.aspx&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-VA_Aeromobile-22"><span><b><a href="#cite_ref-VA_Aeromobile_22-0">^</a></b></span> <span><cite id="CITEREFBoynton2012">Boynton, Christine (May 29, 2012). <a rel="nofollow" href="http://atwonline.com/it-distribution/news/virgin-atlantic-offer-aeromobile-connectivity-0528">&#34;Virgin Atlantic to offer AeroMobile connectivity&#34;</a>. Air Transport World<span>. Retrieved <span>January 10,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Virgin+Atlantic+to+offer+AeroMobile+connectivity&amp;rft.pub=Air+Transport+World&amp;rft.date=2012-05-29&amp;rft.aulast=Boynton&amp;rft.aufirst=Christine&amp;rft_id=http%3A%2F%2Fatwonline.com%2Fit-distribution%2Fnews%2Fvirgin-atlantic-offer-aeromobile-connectivity-0528&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-23"><span><b><a href="#cite_ref-23">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.qantas.com.au/travel/airlines/inflight-communications/global/en">&#34;Inflight Communications&#34;</a>. Qantas<span>. Retrieved <span>May 17,</span> 2015</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Inflight+Communications&amp;rft.pub=Qantas&amp;rft_id=http%3A%2F%2Fwww.qantas.com.au%2Ftravel%2Fairlines%2Finflight-communications%2Fglobal%2Fen&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-24"><span><b><a href="#cite_ref-24">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.ausbt.com.au/qantas-virgin-australia-hope-for-green-light-on-gadgets-during-take-off-landing">&#34;Qantas, Virgin Australia allow gate-to-gate gadgets&#34;</a>. Australian Business Traveller<span>. Retrieved <span>May 17,</span> 2015</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Qantas%2C+Virgin+Australia+allow+gate-to-gate+gadgets&amp;rft.pub=Australian+Business+Traveller&amp;rft_id=http%3A%2F%2Fwww.ausbt.com.au%2Fqantas-virgin-australia-hope-for-green-light-on-gadgets-during-take-off-landing&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-25"><span><b><a href="#cite_ref-25">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.ausbt.com.au/jetstar-to-allow-gate-to-gate-ipads-kindles-smartphones">&#34;Jetstar to allow gate-to-gate iPads, Kindles, smartphones&#34;</a>. Australian Business Traveller<span>. Retrieved <span>May 17,</span> 2015</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Jetstar+to+allow+gate-to-gate+iPads%2C+Kindles%2C+smartphones&amp;rft.pub=Australian+Business+Traveller&amp;rft_id=http%3A%2F%2Fwww.ausbt.com.au%2Fjetstar-to-allow-gate-to-gate-ipads-kindles-smartphones&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-26"><span><b><a href="#cite_ref-26">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.rte.ie/news/2006/0830/ryanair-business.html">&#34;RTÉ Business: Ryanair signs OnAir deal for in-flight mobiles&#34;</a>. Rte.ie. 2006-08-30<span>. Retrieved <span>2010-06-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=RT%C3%89+Business%3A+Ryanair+signs+OnAir+deal+for+in-flight+mobiles&amp;rft.pub=Rte.ie&amp;rft.date=2006-08-30&amp;rft_id=http%3A%2F%2Fwww.rte.ie%2Fnews%2F2006%2F0830%2Fryanair-business.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-27"><span><b><a href="#cite_ref-27">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20090526062150/http://www.ryanair.com/site/EN/news.php?yr=09&amp;month=feb&amp;story=gen-en-190209-2">&#34;News : Launch of Europe&#39;s 1st Fleet Wide Inflight Mobile Phone Service&#34;</a>. Ryanair.com. 2006-11-06. Archived from <a rel="nofollow" href="http://www.ryanair.com/site/EN/news.php?yr=09&amp;month=feb&amp;story=gen-en-190209-2">the original</a> on 2009-05-26<span>. Retrieved <span>2010-06-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=News+%3A+Launch+of+Europe%27s+1st+Fleet+Wide+Inflight+Mobile+Phone+Service&amp;rft.pub=Ryanair.com&amp;rft.date=2006-11-06&amp;rft_id=http%3A%2F%2Fwww.ryanair.com%2Fsite%2FEN%2Fnews.php%3Fyr%3D09%26month%3Dfeb%26story%3Dgen-en-190209-2&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-28"><span><b><a href="#cite_ref-28">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20100912010905/http://www.airfax.com/ifexpress/special_edition.htm">&#34;IFExpress Special Edition&#34;</a>. Airfax.com. 2009-03-31. Archived from <a rel="nofollow" href="http://www.airfax.com/ifexpress/special_edition.htm">the original</a> on 2010-09-12<span>. Retrieved <span>2010-06-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=IFExpress+Special+Edition&amp;rft.pub=Airfax.com&amp;rft.date=2009-03-31&amp;rft_id=http%3A%2F%2Fwww.airfax.com%2Fifexpress%2Fspecial_edition.htm&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-29"><span><b><a href="#cite_ref-29">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20080414072256/http://www.ofcom.org.uk/consult/condocs/mca/mobilecomms.pdf">&#34;Mobile Communications onboard Aircraft – Consultation on the introduction of mobile services on aircraft&#34;</a> <span>(PDF)</span>. <a href="https://en.wikipedia.org/wiki/Ofcom" title="Ofcom">Office of Communications</a>. October 18, 2007. Archived from <a rel="nofollow" href="http://www.ofcom.org.uk/consult/condocs/mca/mobilecomms.pdf">the original</a> <span>(PDF)</span> on April 14, 2008.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Mobile+Communications+onboard+Aircraft+%E2%80%93+Consultation+on+the+introduction+of+mobile+services+on+aircraft&amp;rft.pub=Office+of+Communications&amp;rft.date=2007-10-18&amp;rft_id=http%3A%2F%2Fwww.ofcom.org.uk%2Fconsult%2Fcondocs%2Fmca%2Fmobilecomms.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-30"><span><b><a href="#cite_ref-30">^</a></b></span> <span><cite><a rel="nofollow" href="http://news.bbc.co.uk/1/hi/technology/7050576.stm">&#34;Mobile phone use backed on planes&#34;</a>. BBC News. October 18, 2007<span>. Retrieved <span>January 10,</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Mobile+phone+use+backed+on+planes&amp;rft.pub=BBC+News&amp;rft.date=2007-10-18&amp;rft_id=http%3A%2F%2Fnews.bbc.co.uk%2F1%2Fhi%2Ftechnology%2F7050576.stm&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-31"><span><b><a href="#cite_ref-31">^</a></b></span> <span><cite><a rel="nofollow" href="http://news.bbc.co.uk/1/hi/technology/7314362.stm">&#34;Approval for mobiles on aircraft&#34;</a>. <i><a href="https://en.wikipedia.org/wiki/BBC_News" title="BBC News">BBC News</a></i>. 2008-03-26<span>. Retrieved <span>2008-10-07</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=BBC+News&amp;rft.atitle=Approval+for+mobiles+on+aircraft&amp;rft.date=2008-03-26&amp;rft_id=http%3A%2F%2Fnews.bbc.co.uk%2F1%2Fhi%2Ftechnology%2F7314362.stm&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-32"><span><b><a href="#cite_ref-32">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20131020162718/http://media.ofcom.org.uk/2008/03/26/enabling-mobile-phone-use-on-aircraft-2/"><i>Enabling mobile phone use on aircraft</i></a>, <a href="https://en.wikipedia.org/wiki/Ofcom" title="Ofcom">Office of Communications</a>, 2008-03-26, archived from <a rel="nofollow" href="http://media.ofcom.org.uk/2008/03/26/enabling-mobile-phone-use-on-aircraft-2/">the original</a> on 2013-10-20<span>, retrieved <span>2013-06-15</span></span></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Enabling+mobile+phone+use+on+aircraft&amp;rft.pub=Office+of+Communications&amp;rft.date=2008-03-26&amp;rft_id=http%3A%2F%2Fmedia.ofcom.org.uk%2F2008%2F03%2F26%2Fenabling-mobile-phone-use-on-aircraft-2%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-FCC_Cellban03-33"><span><b><a href="#cite_ref-FCC_Cellban03_33-0">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.ecfr.gov/cgi-bin/text-idx?SID=970d1dc3e5d46c1e9e0481c4d15f628d&amp;mc=true&amp;node=se47.2.22_1925&amp;rgn=div8">&#34;Title 47 Part 22.925&#34;</a>. <a href="https://en.wikipedia.org/wiki/United_States_Government_Publishing_Office" title="United States Government Publishing Office">United States Government Publishing Office</a><span>. Retrieved <span>2018-04-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Title+47+Part+22.925&amp;rft.pub=United+States+Government+Publishing+Office&amp;rft_id=https%3A%2F%2Fwww.ecfr.gov%2Fcgi-bin%2Ftext-idx%3FSID%3D970d1dc3e5d46c1e9e0481c4d15f628d%26mc%3Dtrue%26node%3Dse47.2.22_1925%26rgn%3Ddiv8&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-34"><span><b><a href="#cite_ref-34">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.fcc.gov/wireless/bureau-divisions/mobility-division/air-ground-radiotelephone-service">&#34;Air-Ground Radiotelephone Service&#34;</a>. <i>Federal Communications Commission</i>. 2016-04-13<span>. Retrieved <span>2021-04-24</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Federal+Communications+Commission&amp;rft.atitle=Air-Ground+Radiotelephone+Service&amp;rft.date=2016-04-13&amp;rft_id=https%3A%2F%2Fwww.fcc.gov%2Fwireless%2Fbureau-divisions%2Fmobility-division%2Fair-ground-radiotelephone-service&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-35"><span><b><a href="#cite_ref-35">^</a></b></span> <span>Martin, Aaron. <a rel="nofollow" href="https://archive.today/20140214203838/http://riponadvance.com/news/committee-approves-bill-ban-flight-calls/6583">&#34;Committee approves bill that would ban in-flight calls&#34;</a>. <i>Ripon Advance</i>. 2014-02-13. (Retrieved 2014-02-14).</span>
</li>
<li id="cite_note-36"><span><b><a href="#cite_ref-36">^</a></b></span> <span><cite id="CITEREFKrasny">Krasny, Ros. <a rel="nofollow" href="https://www.reuters.com/article/us-usa-mobilephone-airlines-idUSKCN0HH2S720140922">&#34;U.S. lawmakers urge continued ban on in-flight cellphone calls&#34;</a>. Reuters<span>. Retrieved <span>22 September</span> 2014</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=U.S.+lawmakers+urge+continued+ban+on+in-flight+cellphone+calls&amp;rft.pub=Reuters&amp;rft.aulast=Krasny&amp;rft.aufirst=Ros&amp;rft_id=https%3A%2F%2Fwww.reuters.com%2Farticle%2Fus-usa-mobilephone-airlines-idUSKCN0HH2S720140922&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-37"><span><b><a href="#cite_ref-37">^</a></b></span> <span><a rel="nofollow" href="https://www.bbc.com/news/business-29381193">https://www.bbc.com/news/business-29381193</a></span>
</li>
<li id="cite_note-38"><span><b><a href="#cite_ref-38">^</a></b></span> <span><cite><a rel="nofollow" href="https://timesofindia.indiatimes.com/business/trai-gives-approval-for-mobile-calls-net-surfing-while-flying/articleshow/62575489.cms">&#34;Trai gives approval for mobile calls, net surfing while flying - Times of India&#34;</a>. <i>The Times of India</i><span>. Retrieved <span>19 January</span> 2018</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=The+Times+of+India&amp;rft.atitle=Trai+gives+approval+for+mobile+calls%2C+net+surfing+while+flying+-+Times+of+India&amp;rft_id=https%3A%2F%2Ftimesofindia.indiatimes.com%2Fbusiness%2Ftrai-gives-approval-for-mobile-calls-net-surfing-while-flying%2Farticleshow%2F62575489.cms&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-39"><span><b><a href="#cite_ref-39">^</a></b></span> <span><cite><a rel="nofollow" href="https://economictimes.indiatimes.com/tech/internet/trai-paves-the-way-for-in-flight-internet-connectivity-issues-recommendations/articleshow/62569823.cms">&#34;Trai recommends allowing mobile services during air travel&#34;</a>. <i>The Economic Times</i>. 2018<span>. Retrieved <span>19 January</span> 2018</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=The+Economic+Times&amp;rft.atitle=Trai+recommends+allowing+mobile+services+during+air+travel&amp;rft.date=2018&amp;rft_id=https%3A%2F%2Feconomictimes.indiatimes.com%2Ftech%2Finternet%2Ftrai-paves-the-way-for-in-flight-internet-connectivity-issues-recommendations%2Farticleshow%2F62569823.cms&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-40"><span><b><a href="#cite_ref-40">^</a></b></span> <span><cite id="CITEREFIsidoreSenior2004">Isidore, Chris; Senior, /Money (2004-12-09). <a rel="nofollow" href="https://money.cnn.com/2004/12/09/technology/personaltech/cellphones_inflight/">&#34;Cell phone calls in flight?&#34;</a>. <i>CNN</i><span>. Retrieved <span>2010-05-12</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=CNN&amp;rft.atitle=Cell+phone+calls+in+flight%3F&amp;rft.date=2004-12-09&amp;rft.aulast=Isidore&amp;rft.aufirst=Chris&amp;rft.au=Senior%2C+%2FMoney&amp;rft_id=https%3A%2F%2Fmoney.cnn.com%2F2004%2F12%2F09%2Ftechnology%2Fpersonaltech%2Fcellphones_inflight%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-41"><span><b><a href="#cite_ref-41">^</a></b></span> <span><cite id="CITEREFIsidoreSenior2004">Isidore, Chris; Senior, /Money (2004-12-14). <a rel="nofollow" href="https://money.cnn.com/2004/12/14/technology/air_broadband/">&#34;FCC eyes in-flight cell phones, Web&#34;</a>. <i>CNN</i><span>. Retrieved <span>2010-05-12</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=CNN&amp;rft.atitle=FCC+eyes+in-flight+cell+phones%2C+Web&amp;rft.date=2004-12-14&amp;rft.aulast=Isidore&amp;rft.aufirst=Chris&amp;rft.au=Senior%2C+%2FMoney&amp;rft_id=https%3A%2F%2Fmoney.cnn.com%2F2004%2F12%2F14%2Ftechnology%2Fair_broadband%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-42"><span><b><a href="#cite_ref-42">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.aeromobile.net">&#34;mobile phones on planes&#34;</a>. AeroMobile<span>. Retrieved <span>2010-06-18</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=mobile+phones+on+planes&amp;rft.pub=AeroMobile&amp;rft_id=http%3A%2F%2Fwww.aeromobile.net&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AMobile+phones+on+aircraft"></span></span>
</li>
<li id="cite_note-FCC_Cellban02-43"><span><b><a href="#cite_ref-FCC_Cellban02_43-0">^</a></b></span> <span>47 C.F.R. § 22.925 Prohibition on airborne operation of cellular telephones.<a rel="nofollow" href="http://law.justia.com/us/cfr/title47/47-2.0.1.1.2.8.27.12.html">[2]</a>. Retrieved August 21, 2009.</span>
</li>
</ol></div>
<h2><span id="Further_reading">Further reading</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=17" title="Edit section: Further reading">edit</a><span>]</span></span></h2>
<ul><li><a rel="nofollow" href="http://www.travelstart.co.za/lp/media/cellphones-in-flight-survey">Study: Up To 15 Phones Are Left On During Every Flight</a></li>
<li><a rel="nofollow" href="https://web.archive.org/web/20110629050813/http://www.post-gazette.com/pg/06060/662669.stm">Study: In-flight cell calls pose risk to planes</a></li>
<li><a rel="nofollow" href="https://www.independent.co.uk/travel/news-and-advice/hello-im--on-the-plane-ryanair-passengers-will-be-able-to-use-mobiles-on-board-ndash-at-a-price-941466.html">&#39;Hello? I&#39;m on the plane&#39;: Ryanair passengers will be able to use mobiles on board – at a price</a></li>
<li><a rel="nofollow" href="http://www.ecfr.gov/cgi-bin/text-idx?rgn=div8&amp;node=47:2.0.1.1.2.8.27.12">47 CFR § 22.925: Prohibition on airborne operation of cellular telephones</a></li></ul>
<h2><span id="External_links">External links</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Mobile_phones_on_aircraft&amp;action=edit&amp;section=18" title="Edit section: External links">edit</a><span>]</span></span></h2>
<ul><li><a rel="nofollow" href="http://edocket.access.gpo.gov/cfr_2006/janqtr/14cfr91.21.htm">14 CFR § 91.21: The FAA rules regarding portable electronic devices</a></li>
<li><a rel="nofollow" href="http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgAdvisoryCircular.nsf/0/72F58116704FC3D986256A71006ED5B0?OpenDocument&amp;Highlight=91.21-1a">Advisory Circular 91.21-1A: Use of portable electronic devices</a></li>
<li><a rel="nofollow" href="http://www.discovery.com/tv-shows/mythbusters/mythbusters-database/cell-phones-interfere-plane-instruments/">Cell Phones Interfere with Plane Instruments: BUSTED</a>, summary of an episode of <a href="https://en.wikipedia.org/wiki/MythBusters" title="MythBusters">MythBusters</a></li></ul>
<!-- 
NewPP limit report
Parsed by mw2406
Cached time: 20210729010242
Cache expiry: 1814400
Reduced expiry: false
Complications: [vary‐revision‐sha1]
CPU time usage: 0.595 seconds
Real time usage: 0.722 seconds
Preprocessor visited node count: 2554/1000000
Post‐expand include size: 88806/2097152 bytes
Template argument size: 9491/2097152 bytes
Highest expansion depth: 19/40
Expensive parser function count: 9/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 109211/5000000 bytes
Lua time usage: 0.321/10.000 seconds
Lua memory usage: 10121241/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  647.271      1 -total
 48.27%  312.464      1 Template:Reflist
 30.36%  196.488     23 Template:Cite_web
 18.21%  117.863      4 Template:Ambox
 12.43%   80.470      1 Template:Multiple_issues
  9.62%   62.259      1 Template:Short_description
  7.60%   49.216      1 Template:Convert
  6.22%   40.258      3 Template:Fix
  5.57%   36.065      1 Template:Globalize
  5.27%   34.108      1 Template:Pagetype
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:1467543-0!canonical and timestamp 20210729010241 and revision id 1032107206. Serialized with JSON.
 -->
</div>
</div></div>]]></content:encoded>
      <guid>https://en.wikipedia.org/wiki/Mobile_phones_on_aircraft</guid>
      <pubDate>Wed, 04 Aug 2021 14:28:45 +0000</pubDate>
      <source>https://en.wikipedia.org/wiki/Mobile_phones_on_aircraft</source>
    </item>
    <item>
      <title>AdObserver Blocked by Facebook</title>
      <link>https://twitter.com/LauraEdelson2/status/1422736706554433538</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div id="ScriptLoadFailure"><form action="" method="GET"><div dir="auto"><p><span>Something went wrong, but don’t fret — let’s give it another shot.</span></p></div></form></div></div>]]></content:encoded>
      <guid>https://twitter.com/LauraEdelson2/status/1422736706554433538</guid>
      <pubDate>Wed, 04 Aug 2021 11:50:29 +0000</pubDate>
      <source>https://twitter.com/LauraEdelson2/status/1422736706554433538</source>
    </item>
    <item>
      <title>Ancient Roman ship laden with wine jars discovered off Sicily</title>
      <link>https://www.theguardian.com/world/2021/jul/28/ancient-roman-ship-discovered-off-coast-of-sicily</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div tabindex="0" id="maincontent"><div><p>An ancient Roman vessel dating back to the second century BC has been discovered in the Mediterranean Sea off the coast of Palermo.</p><p>The ship lies 92 metres (302ft) deep in the ocean, near Isola delle Femmine,<em> </em>and from the first images taken by a submarine robot it was carrying a copious cargo of wine <em>amphorae</em>.</p><p>“The Mediterranean continually gives us precious elements for the reconstruction of our history linked to maritime trade, the types of boats, the transport carried out,’’ said the superintendent of the sea of the Sicilian region, Valeria Li Vigni, who launched the expedition. “Now we will know more about life on board and the relationships between coastal populations.’’</p><p>The discovery was described by the Sicilian authorities as one of the most important archaeological finds of recent years.</p><p>A few weeks ago, Sicilian archeologists discovered another wreck: an ancient Roman ship about 70 metres deep near the island of Ustica. That ship also carried a huge load of <em>amphorae</em>, containing wine dating back to the second century BC.</p><p>The findings will shed light on Rome’s trade activity in the Mediterranean, where the Romans traded spices, wine, olives and other products in north Africa, Spain, France and the Middle East.</p><p>There are numerous wrecks of Roman ships throughout the Mediterranean, such as the almost intact Roman ship from the second century BC found in 2013 off the coast of Genoa. The vessel, which contained roughly 50 valuable <em>amphorae</em>, was spotted by police divers, roughly one mile from the shore of Alassio, 50 metres underwater.</p><p>In that case, police were tipped off about the whereabouts of the boat during a year-long investigation into purloined artefacts sold on the black market in northern <a href="https://www.theguardian.com/world/italy" data-component="auto-linked-tag" data-link-name="in body link">Italy</a>.</p><p>Every year, hundreds of ancient Roman <em>amphorae</em>, taken illegally, are found by the Italian police in the homes of art dealers.</p><p>In June, <a href="https://www.theguardian.com/world/2021/jun/21/italy-recovers-nearly-800-illegally-gathered-archaeological-finds" data-link-name="in body link">Italian authorities recovered hundreds of illegally gathered archeological finds</a> from a Belgian collector, dating as far back as the sixth century BC and worth €11m (£9.4m).</p><p>The nearly 800 pieces “of exceptional rarity and inestimable value”, including <em>stelae</em>, <em>amphorae</em> and other items, came from clandestine excavations in Puglia, in Italy’s south-eastern tip, according to the <em>carabinieri</em> in charge of cultural heritage. The collector is awaiting trial.</p></div></div></div>]]></content:encoded>
      <guid>https://www.theguardian.com/world/2021/jul/28/ancient-roman-ship-discovered-off-coast-of-sicily</guid>
      <pubDate>Sun, 01 Aug 2021 23:50:09 +0000</pubDate>
      <source>https://www.theguardian.com/world/2021/jul/28/ancient-roman-ship-discovered-off-coast-of-sicily</source>
    </item>
    <item>
      <title>Uptime Lab&#39;s CM4 Blade Adds NVMe, TPM 2.0 to Raspberry Pi</title>
      <link>https://www.jeffgeerling.com/blog/2021/uptime-labs-cm4-blade-adds-nvme-tpm-20-raspberry-pi</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><p>A few weeks ago, I received two early copies of <a href="https://www.instagram.com/uptime.lab/">Uptime.Lab</a>&#39;s CM4 Blade.</p>

<p></p>

<p>The Blade is built for the <a href="https://www.raspberrypi.org/products/compute-module-4/">Raspberry Pi Compute Module 4</a>, which has the same processor as the Pi 4 and Pi 400, but without any of the built-in IO ports. You plug the CM4 into the Blade, then the Blade breaks out the connections to add some interesting features.</p>

<p>A 1U rackmount enclosure is in the works, and 16<sup>1</sup> of these boards would deliver:</p>

<ul>
<li>64 ARM CPU cores</li>
<li>up to 128 GB of RAM</li>
<li>16 TB+ of NVMe SSD storage</li>
</ul>

<p>That&#39;s assuming you can find 8 GB Compute Modules—they&#39;ve been out of stock since launch almost a year ago, and even smaller models are hard to come by. More realistically, with 4 GB models, you could cram in 64 GB of total RAM.</p>

<p>Having the capacity spread across multiple nodes means you&#39;d need to use something like Kubernetes to coordinate workloads, but this is an interesting alternative to something like an <a href="https://amperecomputing.com">Ampere Altra</a>, if you have parallelizable workloads and need as many 64-bit ARM compute cores as possible.</p>

<p>Each blade has the following features:</p>

<ul>
<li>M.2 M-key slot for NVMe SSDs</li>
<li>TPM 2.0 module</li>
<li>Integrated PoE+ with Gigabit Ethernet</li>
<li>A PWM fan header</li>
<li>UART debug header and partial GPIO header for RTC or Zymkey 4i</li>
<li>1x HDMI, USB 2.0, and USB-C for eMMC flashing</li>
<li>microSD card slot for Lite CM4 modules</li>
<li>GPIO-controlled ID LED and SSD activity LED</li>
</ul>

<p>I have a full video walkthrough of the board on my YouTube channel:</p>

<div>
<p><iframe src="https://www.youtube.com/embed/zH9GwYZu_aE" frameborder="0" allowfullscreen=""></iframe></p>
</div>

<p>I tested the onboard NVMe drive, and was able to get up to <strong>415 MB/sec</strong> sequential reads, which is right at the limit of the Pi&#39;s single PCIe Gen 2.0 lane.</p>

<p>I was also able to communicate with the TPM 2.0 chip after enabling it in <code>/boot/config.txt</code> with the following configuration line:</p>

<pre><code># Enable TPM module
dtoverlay=tpm-slb9670
</code></pre>

<p>I used Infineon&#39;s <a href="https://github.com/infineon/eltt2">Embedded Linux TPM Toolbox 2</a> with the command <code>sudo ./eltt2 -g</code> to confirm I could communicate with the module, and it returned valid data.</p>

<p></p>

<p>But don&#39;t get your hopes up for secure boot on the Pi—it would need support in the Pi&#39;s bootloader... right now it&#39;s not supported. Since the bootloader is closed source, I wouldn&#39;t count on TPM support being added anytime soon, especially since this is the first Pi device I&#39;ve seen with a TPM 2.0 chip! You can still use it for other secure computing features and cryptography storage, though.</p>

<p>The board gets fairly warm, likely due to the overhead of the PoE+ power conversion (which consumes 6-7W on its own!), so active cooling is probably a good idea—the plan is to have an official 1U rackmount case with integrated Noctua 40mm fans at the rear, plugged into the Blade&#39;s 4-pin fan header.</p>

<p>Ivan (<a href="https://twitter.com/Merocle">@Merocle</a>, who posts to <a href="https://www.instagram.com/uptime.lab/">@Uptime.Lab</a>) already has a short 10&#34; rack case design, which holds 8 boards, and is working on the full 19&#34; version:</p>

<p></p>

<p>His plan is to launch a Kickstarter for the board, but until then, the best way to follow along is to <a href="https://uplab.us6.list-manage.com/subscribe?u=fdbd31aa8fdf802b1edc668f9&amp;id=2de992b8de">subscribe to the Uptime.Lab mailing list for a Kickstarter launch notification</a>, and <a href="https://www.instagram.com/uptime.lab/">follow @Uptime.Lab on Instagram</a>.</p>

<hr/>

<p><sup>1</sup> Ivan <a href="https://twitter.com/Merocle/status/1422931604855566339">stated</a> the final 1U rack enclosure could support up to 20 or even 22 blades!</p>
</div></div>]]></content:encoded>
      <guid>https://www.jeffgeerling.com/blog/2021/uptime-labs-cm4-blade-adds-nvme-tpm-20-raspberry-pi</guid>
      <pubDate>Wed, 04 Aug 2021 14:30:12 +0000</pubDate>
      <source>https://www.jeffgeerling.com/blog/2021/uptime-labs-cm4-blade-adds-nvme-tpm-20-raspberry-pi</source>
    </item>
    <item>
      <title>Pitfalls of Data Anonymization</title>
      <link>https://palant.info/2020/02/18/insights-from-avast/jumpshot-data-pitfalls-of-data-anonymization/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___palant_info_2020_02_18_insights-from-avast_jumpshot-data-pitfalls-of-data-anonymization_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
              <p>There has been a surprising development after my <a href="https://palant.info/2020/01/27/avasts-broken-data-anonymization-approach/">previous article on the topic</a>, Avast having <a href="https://www.pcmag.com/news/avast-to-end-browser-data-harvesting-terminates-jumpshot">announced that they will terminate Jumpshot and stop selling users’ data</a>. That’s not the end of the story however, with the Czech Office for Personal Data Protection <a href="https://www.uoou.cz/en/vismo/dokumenty2.asp?id_org=200156&amp;id=1896">starting an investigation into Avast’s practices</a>. I’m very curious to see whether this investigation will confirm Avast’s claims that they were always fully compliant with the <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation">GDPR</a> requirements. For my part, I now got a glimpse of what the Jumpshot data actually looks like. And I learned that I massively overestimated Avast’s success when anonymizing this data.</p>
<figure></figure>

<p>In reality, the data sold by Jumpshot contained plenty of user identifiers, names, email addresses, even home addresses. That’s partly due to Avast being incapable or unwilling to remove user-specific data as they <a href="https://patents.google.com/patent/US20160203337A1">planned to</a>. Many issues are generic however and almost impossible to avoid. This once again underlines the central takeaway: anonymizing browser history data is very hard. That’s especially the case if you plan to sell it to advertisers. You <em>can</em> make data completely anonymous, but you will have to dumb it down so much in the process that advertisers won’t have any use for it any more.</p>
<p>Why did I decide to document Avast’s failure in so much detail? My goal is to spread appreciation for the task of data anonymization: it’s very hard to ensure that no conclusions about users’ identity are possible. So maybe whoever is toying with the idea of collecting anonymized data will better think twice whether they really want do go there. And maybe next time we see a vendor collecting data we’ll ask the right questions about how they ensure it’s a “completely anonymous” process.</p>


<h2 id="the-data"><a href="#the-data"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>The data</h2>
<p>The data I saw was an example that Jumpshot provided to potential customers: an excerpt of real data for one week of 2019. Each record included an exact timestamp (milliseconds precision), a persistent user identifier, the platform used (desktop or mobile, which browser), the approximate geographic location (country, city and ZIP code derived from the user’s IP address), a guess for user’s gender and age group.</p>
<p>What it didn’t contain was “every click, on every site.” This data sample didn’t belong to the “All Clicks Feed” which has received much media attention. Instead, it was the “Limited Insights Pro Feed” which is supposed to merely cover user’s shopping behavior: which products they looked at, what they added to the cart and whether they completed the order. All of that limited to shopping sites and grouped by country (Germany, UK and USA) as well as product category such as Shoes or Men’s Clothing.</p>
<p>This doesn’t sound like there would be all too much personal data? But there is, thanks to a “referrer” field being there. This one is supposed to indicate how the user came to the shopping site, e.g. from a Google search page or by clicking an ad on another website. Given the <a href="https://palant.info/2019/10/28/avast-online-security-and-avast-secure-browser-are-spying-on-you/#what-data-is-being-sent">detailed information collected by Avast</a>, determining this referrer website should have been easy – yet Avast somehow failed this task. And so the supposed referrer is typically a completely unrelated random web page that this user visited, and sometimes not even a page but an image or JSON data.</p>
<p>If you extract a list of these referrers (which I did), you see news that people read, their web mail sessions, search queries completely unrelated to shopping, and of course porn. You get a glimpse into what porn sites are most popular, what people watch there and even what they search for. For each user, the “limited insights” actually contain a tiny slice of their entire browsing behavior. Over the course of a week this exposed way too much information on some users however, and Jumpshot customers watching users over longer periods of time could learn a lot about each user even without the “All Clicks Feed.”</p>
<h2 id="what-about-anonymization"><a href="#what-about-anonymization"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>What about anonymization?</h2>
<p>Some parameters and address parts have been censored in the data. For example, you will see an entry like the following:</p>
<pre><code>http://example.com/email/edit-details/[PII_EMAIL_abcdef1234567890]
</code></pre>
<p>A heuristic is at work here and will replace anything looking like an email address with a placeholder. Other heuristics will produce placeholders like <code>[PII_USER_abcdef1234567890]</code> and <code>[PII_NM_abcdef1234567890]</code> – these seem to be more rudimentary, applying based on parameter names. This is particularly obvious in entries like this one:</p>
<pre><code>https://www.ancestry.co.uk/name-origin?surname=[PII_NM_abcdef1234567890]
</code></pre>
<p>Obviously, the <code>surname</code> parameter here is merely a search query. Given that search queries aren’t being censored elsewhere, it doesn’t make much sense to censor them here. But this heuristic isn’t terribly clever and cannot detect whether the parameter refers to the user.</p>
<p>Finally, the <a href="https://palant.info/2020/01/27/avasts-broken-data-anonymization-approach/#the-patented-data-scrubbing-approach">generic algorithm described in the previous article</a> seems to apply, this one will produce placeholders like <code>[PII_UNKWN_abcdef1234567890]</code>.</p>
<h2 id="failures-to-censor-user-specific-parameters"><a href="#failures-to-censor-user-specific-parameters"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Failures to censor user-specific parameters</h2>
<p>It isn’t a big surprise that heuristic approaches will miss some data. The generic algorithm seemed sane from <a href="https://patents.google.com/patent/US20160203337A1">its description in the patent</a> however and should be able to recognize most user-specific data. In reality, this algorithm appears misimplemented, censoring only few of the relevant parameters and without an apparent system. So you will see addresses like the following without any censoring applied:</p>
<pre><code>https://nolp.dhl.de/nextt-online-public/set_identcodes.do?zip=12345&amp;idc=9876543210987654321
</code></pre>
<p>Residents of Germany will immediately recognize this as a DHL package tracking link. The <code>idc</code> parameter is the package identifier whereas the sometimes present <code>zip</code> parameter is the recipient’s ZIP code. And now you’d need to remember that DHL only requires you to know these two pieces of information to access the “detailed view,” the one that will show you the name of whoever received the package. Yes, now we have a name to associate the browsing history with. And even if the <code>zip</code> parameter isn’t in the tracking link – remember, the data contains a guess for it based on the user’s IP address, a fairly accurate one in fact.</p>
<p>Want more examples? Quite a few “referrers” are related to the authentication process of websites. A search for keywords like “oauth”, “openid” or “token” will produce lots of hits, usually without any of the parameters being censored. Worst-case scenario here: somebody with access to Jumpshot data could hijack an already authenticated session and impersonate this user, allowing them to access and modify user’s data. One has to hope that larger websites like Facebook and Google use short enough expiration intervals that such attacks would be impracticable for Jumpshot customers.</p>
<p>JWT tokens are problematic even under ideal conditions however. <a href="https://jwt.io/">JWT</a> is an authentication approach which works without server-side state, all the relevant information is encoded in the token itself. These tokens are easily found by searching for the “.ey” keyword. There are some issued by Facebook, AOL, Microsoft and other big names. And after reversing Base64 encoding you get something like:</p>
<pre><code>{&#34;instanceId&#34;:&#34;abcd1234&#34;,&#34;uid&#34;:12345,&#34;nonce&#34;:&#34;dcba4321&#34;,&#34;sid&#34;:&#34;1234567890&#34;}
</code></pre>
<p>Most values here are implementation-specific and differ from site to site. But usually there is some user identifier, either a numerical one (can likely be converted into a user name somewhere on the website), occasionally an email or even an IP address. It also often contains tokens related to the user’s session and potentially allowing hijacking it: session identifier, nonce, sometimes even OAuth tokens.</p>
<p>Last but not least, there is this:</p>
<pre><code>https://mail.yandex.ru/u1234/?uid=987654321&amp;login=myyandexname#inbox
</code></pre>
<p>This address also wasn’t worth censoring for Avast. Now I never used Yandex Mail but I guess that this user’s email address is <code>myyandexname@yandex.ru</code>. There are quite a few addresses looking like this, most of them contain only the numerical user identifier however. I strongly suspect that some Yandex service or API allows translating these numerical IDs into user names however, thus allowing to deduce user’s email address.</p>
<h2 id="shortcomings-of-the-heuristics"><a href="#shortcomings-of-the-heuristics"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Shortcomings of the heuristics</h2>
<p>Now let’s have a look at the heuristic removing email addresses, the last line of defense. This one will reliably remove any URL-encoded email addresses, so you won’t find anything like <code>me%40example.com</code> in the data. But what about unusual encodings? Heuristics aren’t flexible, so these won’t be detected.</p>
<p>It starts with the obvious case of URL encoding applied twice: <code>me%2540example.com</code>. The Avast data contains plenty of email addresses encoded like this, for example:</p>
<pre><code>https://m.facebook.com/login.php?next=https%3A%2F%2Fm.facebook.com%2Fn%2F
%3Fthread_fbid%3D123456789%26source%3Demail%26cp%3Dme%2540example.com
</code></pre>
<p>Did you notice what happened here? The email address isn’t a parameter to Facebook’s <code>login.php</code>. The only parameter here is <code>next</code>, it’s the address to navigate to after a successful login. And that address just happens to contain the user’s email address as a parameter, for whatever reason. Hence URL encoding applied twice.</p>
<p>Another scenario:</p>
<pre><code>https://www.google.com/url?q=http://example.com/
confirm?email%3dme%2540example.com&amp;source=gmail
</code></pre>
<p>What’s that, a really weird Google query? The <code>source=gmail</code> parameter indicates that it isn’t, it’s rather a link that somebody clicked in Gmail. Apparently, Gmail will will send such links as “queries” to the search engine before the user is redirected to their destination. And the destination address contains the email address here, given how the link originated from an address confirmation email apparently. Links from newsletters will also frequently contain the user’s email address.</p>
<p>And then there is this unexpected scenario:</p>
<pre><code>https://mail.yahoo.com/d/search/name=John%2520Smith&amp;emailAddresses=me%2540example.com
</code></pre>
<p>I have no idea why search in Yahoo Mail will encode parameters twice but it does. And searches of Yahoo Mail users contain plenty of names and email addresses of the people they communicate with.</p>
<p>Note that I only mentioned the most obvious encoding approach here. Some websites encode their parameters using Base64 encoding for some reason, and these also contain email addresses quite frequently.</p>
<h2 id="where-do-these-users-live"><a href="#where-do-these-users-live"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Where do these users live?</h2>
<p>So far we have names, email and IP addresses. That’s interesting of course but where do these users actually live? Jumpshot data provides only a rough approximation for that. Luckily (or unfortunately – for the users), Google Maps is a wildly popular service, and so it is very present in the data. For example:</p>
<pre><code>https://www.google.de/maps/@52.518283,13.3735008,17z
</code></pre>
<p>That’s a set of very precise geographical coordinates, could it be the user’s home? It could be, but it also might be a place where they wanted to go, or just an area that they looked at. The following entry is actually way more telling:</p>
<pre><code>https://www.google.de/maps/dir/Platz+der+Republik+1,+10557+Berlin/
Museum+für+Kommunikation,+Leipziger+Straße,+Berlin/@52.5140286,13.3774848,16z
</code></pre>
<p>By Avast’s standards, a route planned on Google Maps isn’t personally identifiable information – any number of people could have planned the same route. However, if the start of the route is an address and the end a museum, a hotel or a restaurant, it’s a fairly safe bet that the address is actually the user’s home address. Even when it isn’t obvious which end of the route the user lives at, the ZIP code in the Jumpshot data helps one make an educated guess here.</p>
<p>And then you type “Platz der Republik 1, Berlin” into a search engine and in quite a few cases the address will immediately map to a name. So your formerly anonymous user is now called Angela Merkel.</p>
<h2 id="wasn-t-it-all-aggregated"><a href="#wasn-t-it-all-aggregated"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Wasn’t it all aggregated?</h2>
<p>In 2015 Avast’s then-CTO Ondřej Vlček <a href="https://forum.avast.com/?topic=171725.0">promised</a>:</p>
<blockquote>
<p>These aggregated results are the only thing that Avast makes available to Jumpshot customers and end users.</p>
</blockquote>
<p>Aggregation would combine data from multiple users into a single record, an approach that would make conclusions about individual users much harder. Sounds quite privacy-friendly? Unfortunately, Jumpshot’s marketing already cast significant doubt on the claims that aggregation is being used consistently.</p>
<p>What was <a href="https://palant.info/2020/01/27/avasts-broken-data-anonymization-approach/#what-about-aggregation">merely a suspicion</a> in my previous blog post is now a fact. I don’t want to say anything about Jumpshot data in general, I haven’t seen all of it. But the data I saw wasn’t aggregated at all, each record was associated with exactly one user and there was a unique user identifier to tell records from different users apart. Also, I’ve seen marketing material for the “All Clicks Feed” suggesting that this data isn’t aggregated either.</p>
<p>The broken promises here aren’t terribly surprising, aggregated data is much harder to monetize. I already quoted Graham Cluley before with <a href="https://www.grahamcluley.com/week-avg-flogs-web-browsing-search-history/">his prediction</a> from 2015:</p>
<blockquote>
<p>But let’s not kid ourselves. Advertisers aren’t interested in data which can’t help them target you. If they really didn’t feel it could help them identify potential customers then the data wouldn’t have any value, and they wouldn’t be interested in paying AVG to access it.</p>
</blockquote>
<h2 id="conclusions"><a href="#conclusions"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Conclusions</h2>
<p>I looked into a week’s worth of data from a “limited insights” product sold by Jumpshot and I was already able to identify a large number of users, sometimes along with their porn watching habits. The way this data was anonymized by Avast is insufficient to say the least. Companies with full access to the “every click, on every site” product were likely able to identify and subsequently stalk the majority of the affected users. The process of identifying users was easy to automate, e.g. by looking for double encoded email addresses or planned Google Maps routes.</p>
<p>The only remaining question is: why is it that Avast was so vehemently denying selling any personally identifiable data? Merely a few days before deciding to shut down Jumpshot Avast’s CEO Ondřej Vlček repeated in a <a href="https://blog.avast.com/our-commitment-to-responsible-data-use">blog post</a>:</p>
<blockquote>
<p>We want to reassure our users that at no time have we sold any personally identifiable information to a third party.</p>
</blockquote>
<p>So far we only suspected, now we can all be certain that this statement isn’t true. To give them the benefit of doubt, how could they have not known? The issues should have been pretty obvious to anybody who took a closer look at the data. The whole scandal took months to unwind. Does this mean that throughout all that time Avast kept repeating this statement, giving it to journalists and spreading it on social media, yet nobody bothered to verify it? If we follow this line of thought then the following statement from the same blog post is clearly a bold lie:</p>
<blockquote>
<p>The security and privacy of our users worldwide is Avast’s priority</p>
</blockquote>
<p>I for my part removed all the raw and processed Jumpshot data in presence of witnesses after concluding this investigation. Given the nature of this data, this seems to be the only sensible course of action.</p>

            </div></div>]]></content:encoded>
      <guid>https://palant.info/2020/02/18/insights-from-avast/jumpshot-data-pitfalls-of-data-anonymization/</guid>
      <pubDate>Wed, 04 Aug 2021 08:01:35 +0000</pubDate>
      <source>https://palant.info/2020/02/18/insights-from-avast/jumpshot-data-pitfalls-of-data-anonymization/</source>
    </item>
    <item>
      <title>Are dynamic languages going to replace static languages? (2003)</title>
      <link>https://www.artima.com/weblogs/viewpost.jsp?thread=4639</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div width="100%">
<tbody><tr>
<td>
<div>
<p><a href="https://www.artima.com/weblogs/index.jsp">Artima Weblogs</a> | 

<a href="https://www.artima.com/weblogs/index.jsp?blogger=unclebob">Robert C. Martin&#39;s Weblog</a> | 

<a href="https://www.artima.com/forums/flat.jsp?forum=106&amp;thread=4639">Discuss</a> | 
<a href="mailto:?subject=Are Dynamic Languages Going to Replace Static Languages?&amp;body= %0AArtima Weblogs %0AAre Dynamic Languages Going to Replace Static Languages? %0Aby Robert C. Martin %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=4639">Email</a> | 
<a href="https://www.artima.com/weblogs/viewpostP.jsp?thread=4639">Print</a> | 
<a href="https://www.artima.com/weblogs/bloggers.jsp">Bloggers</a> | 
Previous | 
<a href="https://www.artima.com/weblogs/viewpost.jsp?thread=4738" title="One per Pixel.">Next</a>
</p></div>
</td>
</tr>
</tbody></div></div>]]></content:encoded>
      <guid>https://www.artima.com/weblogs/viewpost.jsp?thread=4639</guid>
      <pubDate>Wed, 04 Aug 2021 03:36:30 +0000</pubDate>
      <source>https://www.artima.com/weblogs/viewpost.jsp?thread=4639</source>
    </item>
    <item>
      <title>Simple Systems Have Less Downtime (2020)</title>
      <link>https://www.gkogan.co/blog/simple-systems/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>The Maersk Triple-E Class container ship is 1,300 feet long, carries over 18,000 containers across 11,000 miles between Europe and Asia, and… Its entire crew can fit inside a passenger van.</p>

<p></p>

<p>As a former naval architect and a current <a href="https://www.gkogan.co/">marketing consultant to startups</a>, I found that the same principle that lets a 13-person crew navigate the world’s largest container ship to a port halfway around the world without breaking down also applies to startups working towards aggressive growth goals:</p>

<p><strong>Simple systems have less downtime.</strong></p>

<p>Ships contain simple systems that are easy to operate and easy to understand, which makes them easy to fix, which means they have less downtime. An important quality, considering that “downtime” for a ship could mean being stranded thousands of miles from help.</p>

<p>Take the ship’s steering system, for instance. The rudder is pushed left or right by metal rods. Those rods are moved by hydraulic pressure. That pressure is controlled by a hydraulic pump. That pump is controlled by an electronic signal from the wheelhouse. That signal is controlled by the autopilot. It doesn’t require a rocket scientist or a naval architect to find the cause of and solution to any problem:</p>

<ul>
  <li>If the autopilot fails, steer the ship manually from the wheelhouse.</li>
  <li>If the electronic signals fail, go to the rudder control room to control the pump by hand, while talking with the bridge through a <a href="https://en.wikipedia.org/wiki/Sound-powered_telephone">simple sound-powered phone</a>.</li>
  <li>If the hydraulics fail, use the mechanically linked emergency steering wheel.</li>
  <li>If the mechanical linkage fails, hook a chain to both sides of the rudder and pull in the direction you want!</li>
</ul>

<p></p>

<p>Startups, like ships, can’t afford to stall from system downtimes. Extended downtime in sales, marketing, web, customer support, hiring, product, and other systems may cause irreparable damage to the growth rate.</p>

<p>(Although automation is prevalent on modern ships, it only affects the time it takes to do things and the attention required to monitor everything. The propulsion and auxiliary systems are more simple than ever, thanks to modern diesel and electric propulsion systems that replaced pipe-laden steam plants.)</p>

<h2 id="why-simplicity-leads-to-less-downtime">Why Simplicity Leads to Less Downtime</h2>

<h3 id="1-proficiency-takes-less-time">1. Proficiency takes less time.</h3>

<p>If the person responsible for the system leaves, falls overboard, <a href="https://en.wikipedia.org/wiki/Bus_factor">gets hit by a bus</a>, or gets pulled into another project, another person can take over without much learning or training. That means more people are able to step in to troubleshoot and fix issues.</p>

<p>For example, an analytics dashboard built with Tableau is likely to have more qualified people to fix it than one built with a patchwork of custom scripts and APIs. Nobody should have to pull data scientists or product developers away from their work to fix a bar chart.</p>

<hr/>

<p><em>By the way, I write an article like this every month or so, covering lessons learned from growing B2B software startups. Get an email update when the next one is published:</em>
<!-- Begin MailChimp Signup Form --></p>



<!--End mc_embed_signup-->
<hr/>

<h3 id="2-troubleshooting-takes-less-time">2. Troubleshooting takes less time.</h3>

<p>In a system where the behavior of each component and its relationship to other comments is easily understood, ruling out issues and finding the broken component—the root cause—is more intuitive.</p>

<p>For example, if a company has many downloadable whitepapers on their website, and they’re all gated behind a single form—as opposed to a custom form for each one—then they need only troubleshoot one form and one automation workflow if the whitepaper downloads stop working.</p>

<p></p>

<h3 id="3-more-alternative-solutions">3. More alternative solutions.</h3>

<p>When each part of the system has a clear function, alternatives are easier to find.</p>

<p>For example, imagine a Salesforce process that uses a mishmash of automation and third-party tools to score, filter, classify, and assign new sales leads. If that fails then there is no obvious replacement. Everything will be put on hold until the process is fixed or replaced with a similarly complex solution.</p>

<p>Now imagine a sales process in which the sales team is simply notified of each new sales lead along with pertinent details, letting them decide whether or not to follow up with the lead. If the Salesforce notification step fails, it’s easy to come up with a hundred other ways of getting that information to the sales team: Reports, Slack notifications, list exports, manual observation, or using Zapier to send an alert through virtually any medium. The downtime would last a few minutes, at most.</p>

<p></p>

<hr/>

<h2 id="startup-story">Startup Story</h2>

<p>One of my clients was using a legacy enterprise marketing automation platform (Marketo) with 629 automated processes built up over several years. When something broke or needed tweaking, there was only one person among the 150+ employees who could do it. Each issue took several days or even weeks to fix, all the while marketing campaigns stalled. And with each patch, the overall system only grew more complex.</p>

<p></p>

<p>When that person left the company, there was nobody left to operate the system. With every passing week a new issue would come up, faster than we could find and fix them.</p>

<p>To keep the marketing operation from coming to a standstill, I rushed to migrate the company from Marketo to HubSpot, a more simple platform that would be easier to operate and troubleshoot.</p>

<p>The migration took just one week. Along the way, however, another complex system reared its head: Salesforce. There were 10 automated processes in Salesforce with over 100 combined operations, all dependent on various delicately timed automations in Marketo. It took two weeks—twice as long as the migration—to understand and integrate those processes with the new marketing platform.</p>

<p></p>

<p>Overall, these two complex systems (in Marketo and in Salesforce) resulted in six weeks of downtime for the marketing team and three weeks of downtime for the sales team. That’s not counting the many weeks of downtime they experienced throughout the past few years, nor the many weeks of downtime they would experience in the future if we did not overhaul the underlying systems.</p>

<p>In the end, the system I put in place had 97% fewer processes (from 629 to 20) while providing all the same capabilities. A bug that was found a few days later got resolved in four minutes.</p>

<p>This experience made me wonder what principles startups can adopt to avoid the pitfalls of complex systems.</p>

<h2 id="principles-for-simple-systems">Principles for Simple Systems</h2>

<p>Rip-and-replace projects are painful and disruptive, even when the long-term benefits are worth it. Many startups—as with ships—don’t have the luxury of time and resources to perform overhauls once they’re underway.</p>

<p>Here are my three principles to follow when evaluating or implementing new systems:</p>

<ol>
  <li>
    <p><strong>Features don’t justify complexity.</strong> What good is a complicated flight control system if it grounds an entire fleet of aircraft, or an enterprise marketing platform like Marketo if nobody can run a marketing campaign? Choose tools that are simple to operate over those that promise the most features. A frequent recommendation I give to startups is to choose HubSpot for their marketing platform instead of an enterprise platform like Marketo, Eloqua, or Pardot.</p>
  </li>
  <li>
    <p><strong>Complex ideas lead to complex implementations.</strong> If it takes too long to explain or grasp an idea, then its implementation will be complex, and it will take too long to fix when something inevitably breaks. For example, a proposed sales process that requires an hour-long presentation will be a nightmare to maintain, regardless of how clever it seems.</p>
  </li>
  <li>
    <p><strong>Modifications before additions.</strong> When new requirements come up, the tendency is to add layers on top of the existing system—by way of additional steps or integrations. Instead, see if the system’s core can be modified to meet the new requirements. The change may cause (planned) downtime upfront, as with my Marketo-to-HubSpot migration example, but less (unplanned) downtime over the long term.</p>
  </li>
</ol>

<h2 id="smooth-sailing">Smooth Sailing</h2>

<blockquote>
  <p>“… the more simple any thing is, the less liable it is to be disordered, and the easier repaired when disordered.” — Thomas Paine, Common Sense, 1776</p>
</blockquote>

<p>There’s no question things will break along the startup journey, just as surely as they do on a ship crossing the globe. However, if the onboard systems are simple, those issues won’t leave the startup drifting helplessly in the middle of the ocean.</p>

<hr/>

<p><em>Image source: <a href="http://maritime-connector.com/ship/maersk-mc-kinney-moller-9619907/">http://maritime-connector.com/ship/maersk-mc-kinney-moller-9619907/</a></em></p>


    <p>◼</p>

    <p>PS - Liked this article? I write one every month or so, covering lessons learned on B2B startup growth. Don&#39;t miss the next one:</p>

    <!-- Begin MailChimp Signup Form -->
    

    <!--End mc_embed_signup-->
    </div>

  

  
  
  



</article>

<!-- Begin MailChimp popup signup form -->



<!-- End MailChimp popup signup form -->
      </div>
    </div></div>]]></content:encoded>
      <guid>https://www.gkogan.co/blog/simple-systems/</guid>
      <pubDate>Wed, 04 Aug 2021 09:16:24 +0000</pubDate>
      <source>https://www.gkogan.co/blog/simple-systems/</source>
    </item>
    <item>
      <title>A Bestiary of Functions for Systems Designers</title>
      <link>https://brunodias.dev/2021/03/19/functions-for-system-designers.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Whether your game surfaces its numbers to the player or not, odds are it has underlying systems that rely on them, and you use functions to determine how those numbers affect each other. In other words, a mathematical function is usually at the core of the answer to a bunch of frequent game design questions.</p>

<!--more-->

<ul>
  <li>If I increase my strength, how much does my damage grow?</li>
  <li>How fast does damage fall off when shooting a gun outside its normal range?</li>
  <li>How much more expensive is each subsequent upgrade?</li>
  <li>How aggressively does the AI respond to this stimulus?</li>
  <li>How much XP to the next level?</li>
  <li>How fast does the difficulty ramp up in Infinite Mode?</li>
  <li>How much harder do enemies hit in each New Game+?</li>
  <li>How does the player character’s speed change when the sprint button is held?</li>
  <li>How do quest rewards ramp up over the course of the game?</li>
  <li>How much time do I expect players to spend on each level?</li>
</ul>

<p>And so on. Sometimes those questions are about the explicit math undergirding game rules; sometimes they’re more about analysis and intent, about the spreadsheet you’re building to later turn into a loot or progression table that the game will express in some other way.</p>

<p>This isn’t meant as a comprehensive primer on those functions let alone some sort of taxonomy. It’s more a collection of interesting specimens, alongside histories, use cases, and observations on their behavior.</p>

<div>
    <p>
    </p>
    
<h4 id="a-note-about-mathematics">A note about mathematics</h4>

<p>There are some mentions here of calculus and some potentially scary notation like \(\frac{d}{dx}\), but hopefully the main gist of everything should be understandable as long as you’re familiar with the idea of functions and the most common mathematical notation. If any part of this is very unclear or you think I’ve made a math error (which is very likely!), a good place to ask me questions is actually <a href="https://forcemeat-ghost.tumblr.com">on tumblr</a>.</p>

<h4 id="conventions-in-this-article">Conventions in this article</h4>
<p>The word <em>parameter</em> has different meaning to programmers and mathematicians. Usually, in programming, we think of any input of a function as a parameter; if I define a function like <code>(x) -&gt; pow(x, a)</code>, we think of <em>x</em> as the parameter and <em>a</em> as some constant defined elsewhere in the code.</p>

<p>In mathematics it’s basically the other way around. Parameters are known or constant values for a given “version” of a function, and the inputs of the function are <em>arguments.</em> So in math, if I define a function like \(f(x) = x^a\), then <em>a</em> is the parameter.</p>

<p>So instead of talking about parameters, I’ll be talking about <em>arguments</em> (the variables that go into a function) and <em>coefficients</em> (the constant values that adjust a function) instead.</p>

<p>For variables, I’ll follow the usual mathematical convention that arguments are usually \(x, y,\) or \(z\). Anything else is a coefficient; \(a, b, c\) are usually additive or multiplicative, \(s\) is usually an exponent, \(k\) is usually a counting number.</p>


</div>

<h2 id="the-functions">The Functions</h2>

<h3 id="the-linear-function">The Linear Function</h3>

<p></p>

<p>Let’s first establish a baseline by talking about the simplest function, \(f(x) = bx + a\). This is useful to point out the basics of parametrization – by adjusting \(b\), we can change the function’s slope to make it steeper or shallower; by adjusting \(a\) we can shift the output up or down by some amount.</p>

<p>The main reason to use a linear curve is simplicity and clarity. Players can grasp a linear system pretty intuitively, and those functions will hold to several properties that players will expect. For example, if you double \(x\), then \(f(x)\) will also double. If you increase \(x\) by some value \(y\), then \(f(x)\) will increase by the same amount no matter what \(x\) was. This kind of clarity can be invaluable to players who are trying to optimize something.</p>

<p>This simplicity, of course, precludes more complex behaviors. In a lot of game systems, players won’t be cognizant of the underlying numbers and will be learning how the system works by “feel” – in which case, using an easily graspable linear function might not even be any more clear to the player at all. And of course sometimes we <em>don’t</em> want game systems to be immediately clear.</p>

<div>
    <p>
    </p>
    
<p>For the rest of these functions, I’ll usually be skipping over various multiplicative and additive coefficients you can throw into these functions to shift or scale their outputs, just so we don’t get lost in symbolic soup.</p>

</div>

<h3 id="quadratic-cubic-and-other-power-functions">Quadratic, Cubic, and other Power Functions</h3>

<p>There are several “families” of power functions but at first we should talk about \(f(x) = x^b\), where \(b\) is some small counting number greater than 1, like 2, 3, or 4.</p>

<p>Power functions “feel” very different in the range \(0 \leq x \leq 1 \) than they do when \(x \gt 1\). Inside the unit square, they “bulge” down and away from the linear function, meeting at the 0 and 1 points. Outside that square, \(f_{\mathrm{linear}}(x) \lt f_{\mathrm{quadratic}}(x)\), and the slope increases to infinity.</p>

<p></p>

<p>If you expect a normalized input where \(0 \leq x \leq 1\), power functions are often used to add “juice” to animations or character movement, as easing functions, and so on.</p>

<p>The “outer” range where \(x \gt 1\) is more interesting in designing systems. Power functions give you accelerating growth, which feels powerful for players and, indeed, is inherently dangerous.</p>

<p>Say the player character’s damage and enemy hit points both scale exponentially with their level; say \(f_\mathrm{damage}(x_\mathrm{level}) = x_\mathrm{level}^2\). In practice, the game stays at the same balance if the player is of the same level as the enemies, but the numbers grow explosively. As we know, player happy when number big; this is the kind of thing that works well for games with visible damage numbers.</p>

<p>However, as the player gains levels, each subsequent level is a little less significant. You can understand why by looking at a graph of \(\frac{f(x)}{f(x) + 1}\):</p>

<p></p>

<p>A level 1 player fighting a level 2 enemy might as well be doing 25% damage, whereas the difference between level 10 and level 11 is nowhere near as dramatic. This isn’t nearly as noticeable if x is always a bigger integer, of course, but it’s still there.</p>

<div>
    <p>
    </p>
    
<p>In calculus terms, \(\ddx f(x)\) increases as \(x\) increases, but not as fast as \(f(x)\) increases. So while each subsequent level has a bigger <em>absolute</em> effect, in <em>relative</em> terms the percent increase in damage from one level to the next is slowing down.</p>

</div>

<p>Everything is relative, so the “feel” of a growth curve will depend on what it’s being compared against. To illustrate this with power curves, consider an RPG where:</p>

<ul>
  <li>As the player increases in level and enters higher-level content, quest rewards (in money) scale quadratically;</li>
  <li>The prices of consumables stay constant;</li>
  <li>The prices of equipment grows linearly;</li>
  <li>The cost of resurrecting a dead party member grows quadratically;</li>
  <li>The cost of retraining your character grows <em>cubically.</em></li>
</ul>

<p>You can see how all those things interact:</p>
<ul>
  <li>Consumables quickly become unlimited, at least as far as money is concerned. After a few levels you can buy as many potions as you need.</li>
  <li>Equipment becomes cheaper relative to quest rewards, though higher-level equipment is still meaningfully more expensive than low-level equipment. If overleveled equipment is available to buy, it becomes more and more affordable.</li>
  <li>If you lose a party member, the level of effort to pay for their resurrection is always about the same.</li>
  <li>Retraining your character becomes ever more onerous as the game goes on.</li>
</ul>

<p>These kinds of relationships, of course, emerge from using any function against any other function. It’s very useful to look at the ratios between different functions at different stages of the game, and using those relationships is very important in achieving whatever player experience goals you have.</p>

<h3 id="fractional-and-negative-powers">Fractional and negative powers</h3>

<p>Reconsidering \(f(x) = x^s\), we obviously can look at exponents other than 2, 3, and 4. It’s very common to use a value of \(s\) that’s a fractional number to fine-tune the curve and make it exactly as dramatic as intended.</p>

<p>But there are two other useful cases. The first is when \(s\) is some fractional number between 0 and 1. These are <em>diminishing returns</em> functions, where the rate of change decreases as \(x\) increases, but \(f(x)\) keeps increasing forever.</p>

<p></p>

<p>This kind of function has many, many applications. First of all, it front-loads the effect of \(x\); you get the most benefit from having a little of it, instead of stacking a lot of it. A good use for this might be something like damage reduction. Say you can equip a certain amount \(x\) of cold-resistant items, and all together they negate \(10x^{0.5}\) cold damage. Your first cold-resistant item negates 10 damage. But to double that protection and negate 20 damage, you have to <em>quadruple</em> the number of cold-resistant items you have equipped. Putting on another warm pair of mittens, thermal vest, or ushanka will always increase the amount of damage reduction the player gets, but having <em>some</em> is vastly more important and noticeable than having <em>a lot.</em></p>

<p>Finally, we come to negative powers. If you don’t remember how negative powers work: raising something to a negative power is the same thing as taking the inverse of a positive power; that is:</p>

<p>\[x^{-s} = \frac{1}{x^s}\]</p>

<p>The latter might be easier to reason about, and is probably computationally faster, if that matters for your application.</p>

<p></p>

<p>Note that for a function like \(f(x) = x^{-s}\), the value for \(x = 0\) is undefined, and it approaches infinity. This tends to not be useful, so you will usually see this in the form \(f(x) = (x + 1)^{-s}\), which normalizes it so that \(f(0) = 1\).</p>

<p>You can think of this as an easing-out function; it slows down as \(x\) increases, though it never quite plateaus. Effects are very front-loaded; in the graph above, the first point of \(x\) will <em>halve</em> \(y\), but subsequent points are nowhere near as efficient. But the time we’re at 4, effects are pretty marginal.</p>

<p>The clearest use case for this is as a multiplier for something else which reduces it – giving the player a discount based on their Barter skill, reducing incoming damage based on their armor, and so on. Because of its slowing-down nature, it’s useful for negative effects that can be stacked – for example, reducing the player’s speed as they accumulate stacks of a debuff. Subsequent stacks will always have an effect, but the majority of the impact comes from the first one.</p>

<div>
    <p>
    </p>
    
<p>For this article, I’m not really thinking about performance considerations, but they might matter in your game; if a function has to run hundreds of times a second, that might constrain what operations you can really use, depending on context.</p>

<p>As a rule, addition, subtraction, and multiplication are safe to use; division and raising things to fractional or negative powers are computationally expensive.</p>

</div>

<h3 id="exponential-growth">Exponential Growth</h3>

<p></p>

<p>The exponential function, \(f(x) = b^x\), in which \(b \gt 1\). Shown above, specifically, is \(e^x - 1\).</p>

<p>Like the power functions, the exponential function grows to infinity. <em>Unlike</em> with the power function, the rate of growth keeps accelerating in pace with the growth of the value itself, so the relative multiplicative value of each increase stays the same.</p>

<div>
    <p>
    </p>
    
<p>Or, again in calculus terms, \(\ddx f(x)\) is just some multiple of of \(f(x)\), such that \(\frac{\ddx f(x)}{f(x)}\) stays constant.</p>

</div>

<p>Exponential growth blows up even more than quadratic or cubic growth; if those functions created big, player-pleasing numbers, exponential functions are liable to create even bigger ones. It may make sense to use an exponential function when:</p>

<ul>
  <li>You want the numbers to truly explode. Maybe you’re exposing them to the player and your game is <em>about</em> seeing that giant pile of zeroes. Maybe your game deals with a huge range of scales. Maybe the input has a small range but you want that small range to translate into <em>dramatic</em> changes in output.
    <ul>
      <li>Example: An idle game like <em>Cookie Clicker,</em> where the numbers exploding is the point.</li>
      <li>Example: A comical physics-driven golf game where the joke is that the 9-iron shoots the ball \(2^9\) times further than the 0-iron.</li>
    </ul>
  </li>
  <li>You want multiplicative consistency; that is, the absolute increase when you increase the input will grow, but the ratio between level 10 and level 11 is the same as the ratio between level 1 and level 2.</li>
  <li>You’re not worried about game balance, either because the input of the function is strictly bounded, or because you just don’t care.
    <ul>
      <li>Example: Player hit point growth is exponential, but the base is small and the game has a level cap, so we know what the min and max values are.</li>
      <li>Example: Again, an idle game where the joke <em>is</em> that the numbers explode and are unbounded, until the game itself breaks.</li>
    </ul>
  </li>
</ul>

<p>Keep in mind that while exponential curves usually look like very sharp “hockey stick” curves, you can have a shallow exponential curve! Just use a base that’s barely above 1. Say you use exponential scaling for the player’s hit points, based on their level, and your game is capped at 20 levels. You can define a function like \(f(x) = 8 \times 1.25^x\). This leads to numbers that feel relatively sane – the player starts with 10 hit points at level 1 and will have nearly 700 at level 20 – but still increase rapidly in absolute terms, while keeping the relative increase.</p>

<p>Exponential functions can also be surprisingly intuitive. The \(8 \times 1.25^x\) example above is essentially “8 hit points at level 0, and a 25% increase each level.” This can be actively easier for players to understand, in some contexts, than a quadratic function.</p>

<p>An useful perceptual trick when you are exposing numbers to the player – directly or indirectly through something like a bar that grows in length – is to make each <em>absolute</em> increase bigger than the last one, giving the player a sensation of rising power, while maintaining their <em>relative</em> marginal value. The exponential function does that.</p>

<p>A close relative to the exponential growth curve is the exponential decay curve. This is given by a function like:</p>

<p>\[f(x) = \frac{1}{b^x}\]</p>

<p>It feels very similar to the negative power curve above, but has a couple of useful features. First, it’s inherently normalized; \(f(0) = 1\), and it always approaches 0 as \(x\) approaches infinity. Like with the “small” exponential curve, it can also be inherently graspable if you use a nice round base.</p>

<p>For example, if \(f(x) = \frac{1}{2^x}\), the output halves at each unit step of \(x\).</p>

<h3 id="the-triangle-number-function">The Triangle Number Function</h3>

<p>Triangle numbers are very interesting. Imagine you’re arranging marbles into an equilateral triangle, with \(n\) marbles to a side. How many marbles do you need in total to complete the triangle?</p>

<p>The answer is always the triangle number for n, \(T_n\). Originally, triangle numbers are defined as an integer sequence:</p>

<p>\[ T_n = \sum^n_{k=1} k\]</p>

<p>That is, the triangle number for \(n\) is just the sum of all integers between 1 and \(n\). But this sum generalizes into a function:</p>

<p>\[ f(x) = \frac{x(x+1)}{2}\]</p>

<p>When you graph this function, it looks something like this:</p>

<p></p>

<p>The triangle function looks a lot like a power function, though it’s a subtly distinct curve. It has a nice feature: \(f(x) - f(x-1) = x\). That is, the difference between one step and the next is the same as the value of the function at that next step.</p>

<p>This makes triangle numbers a very useful curve to apply to costs and milestones, like experience thresholds to level up or upgrading something with successive levels.</p>

<p>The triangle numbers are ingrained in <em>Fallen London;</em> to increase an attribute in FL, you need as many “change points” as the next level. So to go from, say, level 4 to 5, you need 5 change points; to get from 0 to 5, you will need \(T_5 = 15\) change points in total.</p>

<p>This intuitive property was also used in 3rd Edition <em>Dungeons &amp; Dragons</em>, where the XP needed to get to a level \(x\) is \(1000 \times T_{x - 1}\). Therefore, the difference between your current level and the next is always 1000xp times your current level.</p>

<p>If a system exposes the numbers to players, this can be more graspable than a power function while still having many of the same properties.</p>

<h3 id="the-sigmoid-curve">The Sigmoid Curve</h3>

<p>A “sigmoid” is any s-shaped curve. A sigmoid starts at some lower bound, rises steadily, and then smoothly plateaus at some upper bound.</p>

<p>There are many functions with a roughly sigmoid shape, but I’ll talk here about two: The logistic function, \(f_l\), and the algebraic sigmoid \(f_s\).</p>

<p></p>

<p>Above: \(f_l\), in red, and \(f_s\), in blue. Both functions have had their coefficients adjusted so they would mostly line up.</p>

<p>First, the algebraic sigmoid, which has a simpler expression:</p>

<p>\[f_s(x) = \frac{x^\lambda}{\sigma^\lambda + x^\lambda}\]</p>

<p>As far as I know, this sigmoid was first described in the context of game design by <a href="https://www.jfurness.uk/sigmoid-functions-in-game-design/">James Furness</a>. It’s a normalized curve; it always ranges from \(0\) when \(x = 0\) on to \(1\) at some point when \(x\) is large enough.</p>

<p>The two coefficients, \(\sigma\) and \(\lambda\), respectively determine how big \(x\) has to be before the curve reaches its lower bound, and how steeply the curve rises to that point.</p>

<p>There are a lot of nice things about this curve, including that it’s inherently normalized. It also has a useful asymmetry, in that the it starts climbing quickly but plateaus relatively slowly.</p>

<p>The logistic function is widely used in statistical modeling. The traditional parametrized definition is:</p>

<p>\[ f_l(x) = \frac{L}{1 + e^{-k(x-x_0)}}\]</p>

<p>There are a lot of coefficients here, but the nice thing about the logistic function is that all of them have very well-defined effects.</p>

<ul>
  <li>\(L\) is the upper bound, the number the function converges to for high values of \(x\).</li>
  <li>\(k\) is a coefficient that determines how steeply the curve rises; you can make this a negative number to invert the slope of the function and get a logistic decay curve.</li>
  <li>\(e\) is Euler’s number, of course, but for our purposes it’s just an arbitrary base. You could use any number greater than \(1\), though adjusting this value is completely equivalent to adjusting \(k\).</li>
  <li>\(x_0\) is a simple additive coefficient that shifts the curve left or right as desired. The inflection point of the curve is wherever \(x_0\) is set – that is, the midpoint in the rise is exactly at that point.</li>
</ul>

<p>Besides the difference in how easy they are to compute, the main difference is in their skew. The algebraic sigmoid skews early, front-loading the effect of \(x\); the logistic function is perfectly symmetrical.</p>

<p></p>

<p>Above: A graph of the derivatives of the two sigmoid functions. They are both bell curves, but the algebraic sigmoid’s “bump” is noticeably skewed to the left.</p>

<p>What are sigmoids good for? Well:</p>

<ul>
  <li>First, they are normalization functions; they will take an unbounded input and spit out a bounded output. Depending on the kinds of values you expect for the input, that output might not contain a lot of information about the original input, of course.</li>
  <li>Because of their bounded output, sigmoids are great for implementing caps and limits on the growth of something, or for smoothing between two values.</li>
</ul>

<p>Some examples of this:</p>
<ul>
  <li>Damage faloff: It’s very simple to define a logistic curve between, say, 0.5 and 1, which multiplies the damage done by a weapon based on the distance to the target. The logistic function is useful here because different weapons could have different ranges and more or less sharp faloff curves by adjusting \(k\) and \(x_0\).</li>
  <li>Speed bonus: On a game with scoring and leaderboards, a logistic curve could be used to scale a speed bonus based on a par time for the level. Players who complete the level very fast would get the maximum bonus; players who complete the level very slowly would get nothing. In this case, \(x\) is the completion time, and \(k\) is negative, inverting the curve’s slope.</li>
  <li>NPC disposition: Your game is a social simulation and it works by stacking NPC disposition modifiers on top of each other, like <em>Crusader Kings 3</em>. Using a sigmoid can be useful for normalizing an unbounded number into a bounded value, for example as an input to a facial animation system.</li>
</ul>

<h2 id="in-conclusion">In conclusion…</h2>

<p>Again, this is a <em>bestiary;</em> a limited selection of interesting specimens. There are more use cases and examples than the ones here, but I hope those work as a useful starting point for folks.</p>

<p>If you have a question, want to point out an error, or have a suggestion of something I didn’t include, the best place to ask questions is through <a href="https://forcemeat-ghost.tumblr.com">tumblr</a>.</p>

<p>I’m not the first to apply any of those ideas to game design, and a lot of this is widely known at least in some subset of the industry. Much of my thinking here (and desire to document it) has emerged from conversations with colleagues, in particular Emily Short, who originally pointed out the logistic curve to me.</p>

<p>This article is also inspired by some other pieces on the subject:</p>

<ul>
  <li><a href="https://www.jfurness.uk/sigmoid-functions-in-game-design/">James Furness’ article on sigmoids</a></li>
  <li><a href="https://medium.com/@pedro.camara/sigmoid-curves-are-game-designers-friends-8b1f5b53d2fc">Pedro Gardel Câmara’s article on sigmoids</a></li>
  <li><a href="https://www.youtube.com/watch?v=mr5xkf6zSzk">Squirrel Eiserloh’s talk on functions for easing</a></li>
</ul>

  </div>

  
</article>

      </div>
    </div></div>]]></content:encoded>
      <guid>https://brunodias.dev/2021/03/19/functions-for-system-designers.html</guid>
      <pubDate>Tue, 03 Aug 2021 06:03:50 +0000</pubDate>
      <source>https://brunodias.dev/2021/03/19/functions-for-system-designers.html</source>
    </item>
    <item>
      <title>Corecursive: Andrew Kelly Built Zig</title>
      <link>https://corecursive.com/067-zig-with-andrew-kelley/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___corecursive_com_067-zig-with-andrew-kelley_/image.jpg" /> 
<div id="readability-page-1" class="page"><p><i>Note: This podcast is designed to be heard. If you are able, we strongly encourage you to listen to the
audio, which includes emphasis that’s not on the page</i></p><div>
<h2 id="introduction"><strong>Introduction</strong></h2><p><strong>Adam:</strong>Today on Corecursive.</p><p><strong>Andrew:</strong>Let me be clear about this. Commercially forking Zig is fine. It’s MIT-licensed like go for it. But what they did with the Fork was be very tricky about it, right? So, they actually deleted the license file, put their own license in it and made it look like you had to pay for the software. So, they were deceiving people. That was the problem with what they were doing.</p><p><strong>Adam:</strong>Hello, and welcome to Corecursive. I’m Adam Gordon Bell. Each episode someone shares the story of a piece of software being built. Today’s show, How to Quit Your Job and Work on Open Source Full Time. This story has it all, balancing open source work and full-time employment, building up enough supporters and enough savings to leave your job. The hardest part to me which is explaining leaving your job to your significant other and to your family and friends.</p><p>And then, also what do you do if your project succeeds, and then someone forks it and builds a commercial business around it? There’s a lot more as well dealing with hacker news feedback, how to improve upon the C programming language and how to be super ambitious without seeming arrogant. And my guest is this guy.</p><p><strong>Andrew:</strong>My name is Andrew Kelly. I am the lead software developer and president of the Zig Software Foundation.</p><h2 id="the-music-studio-project"><strong>The Music Studio Project</strong></h2><p><strong>Adam:</strong>Zig is a programming language, and we’ll get into why it’s needed, but Andrew got started on Zig because of another side project.</p><p><strong>Andrew:</strong>I started working on a music studio project, and in this music studio project, you have more difficult requirements than you usually have in other programming projects. So, for example, if anyone’s going to use your music studio software live, for live performance, you have a hot loop where you absolutely must not skip the audio or their entire performance might be compromised.</p><p>So, you just have these like new constraints where you really need control over how it’s going to work. And likewise, if you want to support all the hardware that’s associated with this, a lot of times you’re not going to be able to rely on someone else’s third-party library to do that for you, you’re going to have to get into OC, C++ or another low-level language that gives you the control that you need and the other thing I noticed is that when I tried to use other people’s libraries, if I ran into a problem, I wouldn’t be able to fix it. It’s too slow.</p><p>I’m trying to make progress on this big project and I learned the value of inventing stuff here, right? People are always telling you, “Don’t invent.” Don’t NIH syndrome, but I learned the value of actually, yeah, that is the right thing to do sometimes. If you really want that much power and control you got to do it. So, that’s when I started just really getting into programming stuff from scratch with C or C++.</p><h2 id="reuse-problems"><strong>Reuse Problems</strong></h2><p><strong>Adam:</strong>Even in C reuse is common, but reuse can bring problems.</p><p><strong>Andrew:</strong>I think that the natural first impulse was that if someone else solved the problem, just go use their solution, right? It’s already done. You write the glue code, and then you’re off. In a lot of ways that’s smart because we only have so much time, we only have so much ability to analyze a problem space. And the other person has already done that part. So, let’s see what’s a good example of this.</p><p>The audio library would be an example. So, I tried using port audio. I tried using SDL, I think. These projects mostly work, but then the problem is that they solve 90% of the problem, and if you want to close that last 10% gap, you have to start over. So, I ended up writing my own cross-platform audio abstraction called the libsound.io, and that allowed me to do things that the other libraries didn’t let me do. So, for example, I had the ability to just display a list of input devices and have it automatically refresh. If you unplug the mic, it goes away, if you plug the mic in, it shows up.</p><p>It seems so simple, seems like such a reasonable thing for the user experience, but these other libraries just did not have that ability. And it would have taken me probably honestly years to get the feature into those libraries, and then have enough time pass that those libraries got the updates into the various open source distributions of packaged libraries. Because if you use a third-party library, people want to use the pre-packaged versions. So, then you’re even waiting for their release cycle. And then, you’re waiting for the downstream maintainers to get it, but if you put it in your own code base, you just ship it when you want to ship it, right?</p><p>And there’s just so many problems with these languages that get in the way of progress, bugs take forever to find and fix, progress is slower than it should be. And so, that’s when the juices started flowing. And I thought, “I think I can do better than this.” I think I see what these languages are bringing to the table and I think I can take them to the next level.</p><h2 id="fighting-the-impluse-to-rewrite"><strong>Fighting the Impluse to Rewrite</strong></h2><p><strong>Adam:</strong>Did you fight that impulse? Did you immediately get sidetracked on building a language or what happened there?</p><p><strong>Andrew:</strong>I did. I did fight the impulse. And I stuck with the music player project for quite a while. And then, to be honest I just went through kind of a difficult life experience. It was a breakup at the time and just as kind of a coping mechanism I let myself say, “Hey, I know you’ve been trying to be just disciplined and stick with the same project for a long time, but go have some fun, start a new project, start a programming language. It’ll be good for you.” And then, it’s never switched back.</p><p><strong>Adam:</strong>So, was it like you were like my whole mind is occupied by this breakup, but I think if I start this new project it might be able to squeeze it out of my brain at least temporarily?</p><p><strong>Andrew:</strong>Yeah. That was exactly right.</p><p><strong>Adam:</strong>And did it work?</p><p><strong>Andrew:</strong>Mn-hmm (affirmative). I mean I think just the natural emotional progress ran its course, but just in the meantime I was having fun with a distracting toy project.</p><p><strong>Adam:</strong>Yeah. I mean it’s certainly more productive than like, I don’t know, playing Mario Kart for-</p><p><strong>Andrew:</strong>Mario Kart.</p><p><strong>Adam:</strong>… eight hours a day or something. I like Mario Kart. I don’t know.</p><p><strong>Andrew:</strong>Yeah. Mario Kart’s a great game.</p><h2 id="creating-a-programming-language"><strong>Creating a Programming Language</strong></h2><p><strong>Adam:</strong>Andrew had always wanted to create a programming language.</p><p><strong>Andrew:</strong>The very first time I ever used a programming language, I always wondered what would it be like to make one? And whenever I listen to music, I always wonder what would it be like to try and make a song like this? I’ve always enjoyed just consuming things by just wondering what the other side of the process looks like.</p><p><strong>Adam:</strong>When I was in university, I had a class where we built a compiler, like a toy compiler. And it was super fun. Andrew had a similar experience and went on to toy around with a fork of CoffeeScript. I found playing with programming languages to be fun, but Andrew, he got something different out of it.</p><p><strong>Andrew:</strong>You know what it was? I actually ran my first marathon a couple years ago, but I don’t feel like I did. Because I walked the last four miles of it, hit that wall hard. And I guess most people do, because I was still in like the top 50% for my age group. So, I guess just most people walk at the end of marathons, but in my head, it’s like you didn’t do it. You walked part of it, right?</p><p>So, I always felt that way about the compilers that I’ve made, because if it’s like a CoffeeScript one, you’re actually just outputting JavaScript. And then, for the one in college the professor just had us do C as the output. So, I always felt like I walked the last part. I always wanted to say, “No. I want to make it actually make machine code and make it do the whole thing. I don’t want to cheat on some of the layers.”</p><p>I also don’t want to devalue like the work that people have done. That’s all it’s still a compiler. If you go from one input language to a different input language, that’s a compiler. That’s just my personal subjective experience is that I felt like I was missing some interesting part that I hadn’t had the experience of completing.</p><h2 id="c-is-popular"><strong>C Is Popular</strong></h2><p><strong>Adam:</strong>Andrew understood before he even started what the C language brought to the table, and this is important. C is a small language and it’s everywhere. C is used by 20% of software developers according to the Stack Overflow Survey. Some conditions may apply there.</p><p>I don’t know if the Stack Overflow Survey is representative, but they have a lot of developers using it and 20% of them say that they are writing C. That’s one in five developers. That’s more people than use Ruby and Swift and Rust combined.</p><p>So, anyways, Andrew has his breakup and he gives himself permission to start on his language. His idea isn’t to start from first principles and create a new language, but to look for specific problems that can be addressed.</p><p><strong>Andrew:</strong>Is there dirt under this rug? Maybe we can do this a different way. A lot of software is built on premises of abstractions that previous generations have handed to us. Let’s peel those off a little bit and take a peek and say, “Maybe we might want to make some different decisions now that it’s 40 years later.”</p><h2 id="static-linking"><strong>Static Linking</strong></h2><p><strong>Adam:</strong>What’s an example?</p><p><strong>Andrew:</strong>One example would be static linking. If you’re trying to ship a application on Linux, there’s a common problem people have where it’ll only work on one distribution of Linux. So, for example, someone might provide their application on their website you download it, but only runs on Ubuntu or something that’s close enough to Ubuntu.</p><p><strong>Adam:</strong>I literally just had this problem. I was trying to install a Python library Matplotlib. And on Mac OS, it was super easy, but to get it into Alpine Linux, I had to install all these dependencies.</p><p><strong>Andrew:</strong>And the reason for this is that they dynamic link all the libraries they depend on. They just expect you to install those libraries with the system package manager. I’ve chosen to make Zig so that the default on Linux is that you do not link libc at all when we provide the download of a pre-built Zig for Linux. It works for all Linuxes, all of them, because the binary has no libc dependency. It just uses the syscalls in assembly.</p><p>And the only dependency it has is a file system and the kernel. It doesn’t depend on anything else. So, that way we can provide a binary that just works for everybody’s computer on Linux just like on Windows and other systems. We got that benefit by questioning distributing things with dynamic linking and saying, “Well, maybe we should go a different direction.”</p><p><strong>Adam:</strong>Go does something similar?</p><h2 id="integer-casting-rules"><strong>Integer Casting Rules</strong></h2><p><strong>Andrew:</strong>Yes. I think it does depend on glibc though. I know that you can actually use Zig with Go and Zig will provide the ability to have a static Linux binary and give you this benefit with Go programs.</p><p><strong>Adam:</strong>So, were there other aspects of C that you were targeting that frustrated you?</p><p><strong>Andrew:</strong>One is that there are just too many ways to accidentally introduce bugs that are not interesting bugs that you get because programming is hard, but they’re unnecessary bugs, because the C programming language made some bad decisions. So, as an example, there’s a type system and the whole point of a type system is to help you not make bugs, but the type system has some things that it allows with no errors and no warnings that just are bugs 99% of the time.</p><p>It’s very easy to make that mistake. Just stuff like integer casting rules is one, so that’s one complaint I would make. Too easy to shoot yourself in the foot. And then, have a unnecessarily complicated debugging session to solve the problem.</p><h2 id="the-c-preprocessor"><strong>The C Preprocessor</strong></h2><p><strong>Andrew:</strong>And then, the second complaint I would make is that while C code is usually very simple to read, because it’s just functions and data. That’s the best case scenario. It does have just another different programming language on top of it, which is the C pre-processor. It’s not C, it’s a different language that’s based on text concatenation and people abuse that language too much.</p><p>And then, it’s just too hard to figure out what’s going on. You see a function call, is it a function call? If you’re not super familiar with the code you’re reading, you’re always wondering, “Is that a macro? It might be a macro.” Right?</p><p><strong>Adam:</strong>Yeah. It requires global knowledge of what all of these things are.</p><p><strong>Andrew:</strong>Global knowledge is a great way to put it. Yeah. One of the big design considerations that I made with the Zig language was let’s reduce the amount that someone must remember when they’re reading code.</p><h2 id="software-development-culture"><strong>Software Development Culture</strong></h2><p><strong>Adam:</strong>Another thing Andrew thought he could improve upon was more cultural.</p><p><strong>Andrew:</strong>Some people are so defensive about a norm where people are like mean to each other. And don’t get me wrong, I’m a very blunt person. I’m very comfortable with conflict and I can tell someone I think that they’re full of shit, but have you ever gone into the C, freenode channel and just observed?</p><p><strong>Adam:</strong>No.</p><p><strong>Andrew:</strong>That is one of the most toxic, hostile chatrooms I’ve ever been in. Before the freenode drama, the C programming language channel on freenode. You could go in there and ask some simple question like, “How do I… I don’t know. How do I align a field in a struct or something?” Some very reasonable question, and you’ll get one person who calls you a name, one person who says you can’t period, passive aggressive doesn’t explain it at all.</p><p>One person gives you just wrong information and the actual answer is that you can do it. It’s fine. And there’s some tricks you can do. It’s one of the worst places in the world. I don’t know what’s up with that. So, it’s like the one word I’d use to describe it is pedantic, right?</p><p><strong>Adam:</strong>oh, yeah.</p><p><strong>Andrew:</strong>And they even have, there’s even a flag and a C compiler that’s pedantic. And I always think like, “Oh, it’s the C chat room flag.”</p><p><strong>Adam:</strong>With this vision in mind of a better language and a better less pedantic community and a working version of the language up on GitHub, Andrew starts to get some users.</p><h2 id="releasing-the-first-version-of-zig"><strong>Releasing the First Version Of Zig</strong></h2><p><strong>Andrew:</strong>The number of people who file an issue per week has just gone up slowly over time. The number of people who wanted to help out, submit pull requests, which were up for grabs since the very beginning. It was always done in the open. It’s just slowly gone up over time.</p><p>One of the first projects that I got to see that someone did with Zig was the Pokemon rom randomizer project. So, they used Zig and made a set of command line tools to take the Game Boy roms that were Pokemon ones and just did some rom hacking. And then, gave you a new rom that you could then pop into an emulator and it would shuffle around all the, which graphs have which Pokemon and stuff.</p><p><strong>Adam:</strong>Building a programming language is just a lot of work. You have to find time to keep pushing it forward.</p><p><strong>Andrew:</strong>I would describe Zig as kind of like a flower growing in the cracks of the concrete of my career. When I started it I was taking a break from full-time work. And then, I needed a job. So, I got a job at a start-up called Backtrace, did that for a little bit, save some more money, quit, worked on Zig full-time for a few months. I interviewed with Apple, and they just flat out said, “You may not do that in your spare time.”</p><p>So, I said, “Fuck off then.” And now getting donations from Apple to the Zig Software Foundation, by the way.</p><p><strong>Adam:</strong>That’s awesome.</p><h2 id="joining-okcupid"><strong>Joining OKCupid</strong></h2><p><strong>Andrew:</strong>Joined OKCupid, moonlighted Zig during that time.</p><p><strong>Adam:</strong>Was there ever any tension? I imagine you’re at OKCupid or the other place. And I don’t know, is work building up or is there things to do? Do you constantly try to evangelize how great your language is to your co-workers until they get angry? What happened?</p><p><strong>Andrew:</strong>Oh, yeah. When I joined OKCupid, I had to have a whole negotiation with the recruiter, because a lot of companies just put in the contract something like, “Anything you do in your spare time is owned, the IP is owned by the company.” It’s ridiculous. So, I just said, “You have to strike that from the contract. I’m going to own all the IP of everything I do in my spare time on my own equipment.”</p><p>And the guy was like, “Oh, no one asks for this. We don’t usually do this. I’ll see what I can do.” And I had to take a real like hard-line stance with him, eventually he caved. You have to protect your baby or someone’s going to take it away.</p><p><strong>Adam:</strong>Yeah. That’s silly, right? And you know that they had no problem striking it, it’s just they didn’t want to go through the problem of like… He didn’t want to find out who to ask about that.</p><p><strong>Andrew:</strong>Yeah. He was just like didn’t want to bother.</p><p><strong>Adam:</strong>Yeah.</p><p><strong>Andrew:</strong>True.</p><h2 id="ok-webserver-and-zig"><strong>OK WebServer and Zig</strong></h2><p><strong>Adam:</strong>But what about your actual co-workers, did they know you were working on Zig? Did you talk about it?</p><p><strong>Andrew:</strong>Oh, yeah. I wasn’t shy about that. And I tried not to be annoying, but I couldn’t help if we were… If we had some problem in the code base, I couldn’t help point out like, “Well, in Zig if you wrote… The code would be written this way and this problem would have been a compiler error instead of a bug.”</p><p>In some ways I think it helped me design the compiler errors because I was just seeing the problems that we were hitting in practice.</p><p><strong>Adam:</strong>What technologies were they using?</p><p><strong>Andrew:</strong>At OKCupid, it’s a big C++ code base.</p><p><strong>Adam:</strong>It’s kind of unexpected to me that it would be C++. I just assume all like SaaS stuff is, I don’t know, not C++.</p><p><strong>Andrew:</strong>Yeah. So, the funny story there is that the company was founded, I don’t know, 15 years ago by Maxwell Krohn, and this other guy’s name. Their PhD thesis was called OK Web Server. And it was just like some… It had nothing to do with dating. It was just a way to do security on a C++ web service. And so, basically they did their research, and they thought, “Okay, now what? I guess we’ll start a company.”</p><p>So, OKCupid was actually named after the research paper OK Web Server.</p><p><strong>Adam:</strong>That’s funny.</p><p><strong>Andrew:</strong>Yeah.</p><p><strong>Adam:</strong>Yeah. So, it’s like arbitrary that they use C++. Well, it’s actually arbitrary that they choose dating.</p><p><strong>Andrew:</strong>Right. Exactly. Yeah.</p><p><strong>Adam:</strong>Yeah. It was always going to be C++. They just didn’t know what.</p><h2 id="the-okcupid-code-base"><strong>The OKCupid Code Base</strong></h2><p><strong>Andrew:</strong>The funny thing too is when you’re joining the company they just have you read the paper, because it’s still accurate about how the code base works.</p><p><strong>Adam:</strong>I mean in some ways that’s great, because like most places have code bases that like, there’s not a single person that can explain the entirety of it, right?</p><p><strong>Andrew:</strong>Yeah. I agree with you, although I will say just having splunked through a bunch of that old code, I could tell that the founders were just having a lot of fun and just experimenting a lot, just playing with stuff. I’m just like, “Who cares? We’re definitely going to exit from the startup and leave in four years. I don’t give a shit.” Right?</p><p>You can see it in their code. You can tell they’re just screwing around and they really don’t care about the longevity of… It was pretty… I feel like I have kind of like a parasocial relationship with the founders. I didn’t actually interact with them, but I interacted with their code. And I’m just like…</p><p><strong>Adam:</strong>What does-</p><p><strong>Andrew:</strong>Why did you do this to me?</p><p><strong>Adam:</strong>Yeah. What does I don’t give a shit, I’m going to exit like C++ look like?</p><p><strong>Andrew:</strong>There was a file that was both a Perl script and a C++ file, and to update it… It’s self-updating, so you run it with Perl and it edits itself, but then you’re supposed to… It’s for the C++ project. Does that make sense? It’s a polyglot file.</p><p><strong>Adam:</strong>Oh, wow.</p><p><strong>Andrew:</strong>So, the same file is a Perl program and it edits itself like a weird hack so that it could be parsed by both.</p><p><strong>Adam:</strong>That’s amazing.</p><p><strong>Andrew:</strong>It’s very cute.</p><h2 id="the-stress-of-two-jobs"><strong>The Stress of Two Jobs</strong></h2><p><strong>Adam:</strong>Before you went full time, did you ever feel like this is too much to do this and my job?</p><p><strong>Andrew:</strong>Oh, I was definitely stressed out. Yeah. My fiancée can tell you about some of the times I just kind of just showed up very, very stressed and just like unable to like be a good partner, but I never even considered quitting doing Zig stuff. The only thing I ever considered was quitting work. The thing that was causing me so much stress was the feeling that I was wasting my life just on this bullshit. Wasting my life just being a pawn in someone else’s just play to get money, whereas what I felt like I was doing with this open source project was more meaningful.</p><p>I mean we create our own meaning in life. I’m not here to judge what anyone wants to do with their life, if you want to make money go make money, but I don’t want to be a pawn in your gambit to make money. I want to do what I think is meaningful in my life, and for me a large part of that is just contributing as a collective to open source software. And I could tell as Zig was picking up more steam, I could tell that I was missing out on opportunities, because of the full-time work.</p><p>People who would become contributors were kind of just turned away because they didn’t get enough attention that I would have given them if I had more time or just the progress, the rate of progress didn’t match up to my ambitions of what I wanted it to be. I think I just became very, very aware of the opportunity cost I was paying by being employed for someone else. And that was rough. That was probably a low point in my life.</p><h2 id="setting-up-patreon-for-zig"><strong>Setting Up Patreon for Zig</strong></h2><p><strong>Adam:</strong>Fortunately, Andrew had a plan that he got from Alan Webster.</p><p><strong>Andrew:</strong>So, that’s someone from the handmade community. I met him at Handmade Seattle, but I noticed that he was making a text editor, and he had a patreon, and he was getting something like 400 bucks a month or something like that. And that’s not enough to live on. That’s maybe enough for groceries for food for a month, but I thought like that’s progress, and that’s a big amount of money, even if I’m just going to try and save money, and then quit and then go back to work when I run out, that would help me delay, that helped me give me more runway.</p><p>So, I thought, “Maybe this can work.” So, I started just paying really close attention to everyone who did this kind of imitate them. And so, yeah, so, I did a patreon at first, and there was never a spike. It was always just like very, very slow growth. I started doing live coding streams. I started, I just put links to donate to me at the bottom of my blog posts. Every time I got a blog post on hacker news or Reddit or something I’d get like a few more donations, but the point is they’re recurring.</p><p>People are going to add and remove, it’s going to go up or down, but because of statistics you can just kind of count on it more. You can plan your life a little bit more about how much income you’re going to get. That was a total game changer. So, after a few months I realized that it was predictable. And I could actually find out how to quit my job. And then, that’s when I started crunching the numbers and figured out that if I quit and if my donation growth kept up that my savings would start, they’d dip, and then they start going back up before I hit zero.</p><p><strong>Adam:</strong>Oh, that’s clever. Yeah. You calculated not just the amount you would need to survive, but how far you could dip into your savings before you’d come back out the rate of growth or something.</p><p><strong>Andrew:</strong>Right. Yeah. With conservative numbers, but the math checked out. Yeah. It was really nerve-wracking and scary, but it turned out even much better than I expected, because the thing that I hadn’t considered is if I quit full-time work and I got to spend full-time work on Zig that would help me make more progress faster.</p><h2 id="telling-friends-and-family-im-going-full-time"><strong>Telling Friends and Family I’m going Full-Time</strong></h2><p><strong>Adam:</strong>Did you run this idea by others? Did you tell your mom, like, “Hey…”</p><p><strong>Andrew:</strong>I told my girlfriend. She was really supportive, especially considering the fact that we were renting an apartment in Manhattan and she was still in school and wasn’t ready to start pulling a bunch of money in with her career yet. So, kudos to her for supporting my dream, even when it was like maybe not financially completely stable.</p><p><strong>Adam:</strong>She was on board right away?</p><p><strong>Andrew:</strong>Yeah. In fact, she actually encouraged me to do it. I think I was wavering a little bit, and she was the one who was saying, “I don’t know why you’re so worried. The numbers check out. I think you’re good.”</p><p><strong>Adam:</strong>Was she the person you were afraid to run with this idea too? I just keep thinking of my mom.</p><p><strong>Andrew:</strong>Your mom? What would you tell your mom?</p><p><strong>Adam:</strong>She doesn’t really totally understand what I do at all, right? I think that it involves computers is the extent of it, right?</p><p><strong>Andrew:</strong>Right.</p><p><strong>Adam:</strong>So, telling her that I was going to leave my paying job that involves computers for a non-paying job that involves computers. I don’t think-</p><p><strong>Andrew:</strong>Right. Yeah. I see the point that you’re making. Yeah. I think for me telling the older generation about this was all kind of fun and games to me. So, for example, my parents are pretty financially conservative. So, just telling my dad like, “Yeah, I’m quitting my job and going to do this like donation thing.” And being just completely… I don’t actually care what his feedback was, because I just, it’s not relevant.</p><p>But it was fun to just kind of make him think like, “Oh, what is my son doing? It doesn’t make any sense, but all right. I guess if it works for you.” And then, my girlfriend’s grandma was the other fun one. I recall she was saying something like, “So, what does he do? He has a tip jar.” It’s like close enough I guess.</p><h2 id="open-source-self-worth"><strong>Open Source Self Worth</strong></h2><p><strong>Adam:</strong>That’s great. Once you did quit, was it everything that you thought it would be? Day one you start-</p><p><strong>Andrew:</strong>It was even more. First of all, I’ve never been happier. Second of all, I realized that the freedom that I have has allowed me to open my mind up to just other, even just different politics and ways of thinking about society and how the world works. It’s harder to think about maybe more radical ways that society could run when you have to play the game, and you’re spending 40 or plus hours per week clocked in and just like doing the labor. Not only was it everything I thought I would be, but once I tasted this freedom, I know I will never have a boss again.</p><p>I will go start a farm if I have to. My just sense of worth of self-worth has just skyrocketed and I just, I don’t even want to be subject to another person’s domain anymore. I want everyone to feel this way. I want everyone to feel they get to decide what they do with their life and no one’s going to tell them what they have to do.</p><p><strong>Adam:</strong>Did you have a really bad boss?</p><p><strong>Andrew:</strong>Actually, no. Well, I did have one or two, but actually no. I’ve had bosses that are fine. I’ve had good bosses. I had a boss that was like a friend, a co-worker before who just kind of went into a manager position. I think that’s why I realized that I never want to have a boss again is that I had a good one and I still really hated him.</p><p><strong>Adam:</strong>One thing Andrew hated in his work as a software laborer, which is what he calls it, was the presumption of growth and growing profit. So, to support Zig and to support himself and future contributors, he started the Zig Software Foundation, and he started it as a non-profit.</p><p><strong>Andrew:</strong>So, all the income just comes from satisfied users. I mean the product is free. So, the point is we don’t have to grow. There’s no venture capitalists who are breathing down our back saying that we need to monetize our users. The motives that we have for doing features and making progress is just intrinsic. There’s no monetary incentives to do anything in Zig. It’s all just people driven.</p><p>And I think that to me that’s like I’m really happy with it being this way. And it’s something that I didn’t get when I worked at any startups.</p><h2 id="zig-on-hacker-news"><strong>Zig on Hacker News</strong></h2><p><strong>Adam:</strong>Another thing he didn’t get to do when working at startups was show his work to the world, with Zig, everything was out in the open and early on Zig showed up on hacker news.</p><p><strong>Andrew:</strong>A lot of the comments were, “Oh, we don’t need another programming language or this guy’s an idiot. He hasn’t even made a programming language before. This is like his first one.” Not actually true, but that people just say whatever they want to say. It was all just kind of like there’s too many players in the field. Just get out of here, shoo, that kind of thing.</p><p>And I wasn’t fazed at all. I was ready. I knew that was the game and just kept working on making progress in the language and just kept peeling off those layers and re-evaluating like, “What’s the better way to do this? How should the standard library work? How should the language work?” But I also did pay attention to the people who had legitimate complaints.</p><p>So, some of the early legitimate complaints were that the sigils were too noisy. We had percents everywhere. And they’re all gone now. I think that was a legitimate complaint and that it’s now gone. It looks like cleaner. It’s a lot more keyword based and it doesn’t seem to be an issue anymore.</p><p><strong>Adam:</strong>Did you jump on when people said this is his first language or this can’t be trusted? Did you respond to them?</p><p><strong>Andrew:</strong>I wasn’t shy, but I just kind of tried to only respond if I felt like I could like look good. What are you trying to do in a hacker news trend, right? You’re not actually interacting with someone. What you’re actually doing is putting on a show for the lurkers of which there’s like hundreds of thousands of lurkers. And those are the people who are going to read your comments and be like, “Oh, this guy’s cool. Maybe I want to actually check out the project.”</p><p>I was actually just trying to sell my personality at that point rather than engage with just people saying stupid shit.</p><h2 id="zig-is-immoral-and-unsafe"><strong>Zig Is Immoral and UnSafe</strong></h2><p><strong>Adam:</strong>In that first Zig post on hacker news, a lot of the comments were about the impossibility of replacing C, but Andrew hasn’t slowed down, and things being impossible is not the main thing that people bring up right now.</p><p><strong>Andrew:</strong>It’s funny how it just kind of changes course as the language gets taken more and more seriously. And now, all the comments are even starting to shift to kind of like the philosophy of memory safety and whether Zig is immoral.</p><p><strong>Adam:</strong>The morality comments they come from people who see Zig as competition to Rust, but Andrew doesn’t see it as competition.</p><p><strong>Andrew:</strong>So, there’s a lot of ways that these languages can be complementary. And it doesn’t have to be like a zero-sum game, and there’s a lot of ways that these projects can help each other. So, as an example both projects depend on LLVM. So, on the Zig side of things, we’ve submitted a lot of bug fixes upstream to LLVM, especially regarding non x86 architectures, because we just have a really good cross compilation story. Likewise, Rust has submitted a lot of fixes to LLVM having to do with aliasing, because that’s just an important concept in that language.</p><p>It’s not as an important concept in C++, so that’s kind of the changes that they’ve made. So, in this way we can team up, right? That’s great. We’re on the same, we’re all just players in the open source field helping each other out. But there’s always people who want to make it a competition, which one’s better? Which one am I going to use? That sort of thing.</p><p>And so, people will just find ammo to fling. And so, the obvious one that you would pick is, “Well, Rust gives you memory safety and Zig doesn’t.” And the talking point is that’s a fatal flaw. It’s 2021, we can’t have memory on safety in a modern language. I think that they just kind of missed the point. So, the way I would describe it is that Rust has a kind of like vertical memory safety approach where on the top, it’s safe. And then, on the bottom, you hit the unsafe block, and it’s not safe, right?</p><p>Let’s acknowledge that Rust is also unsafe because it has unsafe blocks in it at the bottom layer. Zig is more of I would say horizontal safety approach. So, there’s no unsafe blocks where it’s all contained in, but each feature of the language models safety in a different way.</p><h2 id="pointers-in-zig-and-rust"><strong>Pointers in Zig and Rust</strong></h2><p><strong>Andrew:</strong>So, as an example, the pointer type in Zig actually can represent alignment. In Rust, if you want to mess with pointer alignment, you have to use an unsafe block and you’ve turned off safety for alignment.</p><p>In Zig, you have pointer alignment in the type. So, it’s actually completely safe, and in Rust it’s not.</p><p><strong>Adam:</strong>Okay, pointers. This is a really cool example. So, pointers and C are just raw memory addresses. Just integers that tell you where to look in memory, and you can screw them up in a lot of ways. A pointer can be null. It can be incorrectly aligned and so on. Raw pointers leading to buffer overflows are responsible for many security problems, but pointers are also super useful. Certain system calls, you can’t make them without pointers.</p><p>So, Zig works to make pointers safer. It can’t be null. They have to be optional instead. They know about alignment and so on. Rust has a different strategy. Rust keeps pointers mainly the same as C, but it puts them in unsafe blocks and says, “You really shouldn’t be using these. We have the borrow checker. Zig could have taken this unsafe keyword approach.</p><p><strong>Andrew:</strong>I mean if we did that, it would just kind of be Rust. I think this question is also asking why not add a borrow checker? And the answer is Zig also wants to be optimal and optimal means you want to fully use the hardware that you have. So, my hardware lets me use virtual memory and it lets me use intrusive data structures. And it lets me write code in a certain way that’s the most efficient way to use all the CPU and all the memory. So, if my language doesn’t let me use all my hardware features, it’s not optimal.</p><h2 id="undefined-behavior-in-zig"><strong>Undefined Behavior in Zig</strong></h2><p><strong>Adam:</strong>Another way to think about this is Zig is less ambitious, intentionally. It’s a smaller language. It’s what if C were better? And one place you can see this is with the handling of undefined behavior.</p><p><strong>Andrew:</strong>I think undefined behavior is a misunderstood beast. So, a lot of people think it’s just a crime like, “Why does it exist? It was a mistake to ever have it in the language.” But I think it’s actually a tool. I’ll give you an example. Integer overflow is a simple example.</p><p>So, you can define it so that if you overflow 64-bit integer, it wraps. That’s one way to do it. Now, you don’t have undefined behavior. Okay, but now if you add something in your code and it overflows, and you didn’t expect it to, now you have a bug. And this is a really contrived example, but let’s say it’s like the bank balance or something, and you just went from like a million dollars to zero or something like that.</p><p>That’s a critical bug that happened because of well-defined behavior, whereas if we make integer overflow for just the regular plus operator undefined, then we can compile the program in a safe mode that doesn’t allow it and crashes if it happens. And that’s what you get and debug and release safe builds of Zig.</p><p>So, my point is that undefined behavior lets you catch bugs. And also, let’s say that you had this code now and you’ve tested it. It’s battle tested. It’s done. It’s like some low-level library… No one’s reported a bug in it for 10 years. We’re done working on it, right? It’s finished. It’s like the mp3 encoder or something.</p><p>Now, you can compile it in a different mode and instead of putting a safety check in for the undefined behavior, now we tell the compiler, “Assume that will never happen, and now if it did happen it would be undefined behavior.” But because we know that there’s no bugs, we can actually generate much better code assuming that the undefined behavior will never happen.</p><p><strong>Adam:</strong>So, in Zig, if you’re not doing the fastest build then you’re always asserting that this won’t overflow and you crash if that’s the case.</p><p><strong>Andrew:</strong>Yeah. Exactly.</p><p><strong>Adam:</strong>And that’s better than setting that person’s account to a million from a million to zero or whatever.</p><p><strong>Andrew:</strong>That is in accordance with the Zig philosophy, yes.</p><p><strong>Adam:</strong>If you’re running in your kind of release mode, you won’t crash on it, right?</p><h2 id="release-fast-in-zig"><strong>Release Fast in Zig</strong></h2><p><strong>Andrew:</strong>In release fast mode, which is unsafe, you will get actual undefined behavior. So, you might crash or you might get overflow. You might go down to zero or you might run an unrelated function.</p><p><strong>Adam:</strong>Run an unrelated function. That sounds super scary. That’s why you don’t really want to turn off the asserts unless you’re certain that they’re not needed. I could see Andrew using this for the hot loop of his audio software, we’re missing the timing of the audio is almost as bad as crashing. The reason for being able to turn these off is for speed.</p><p><strong>Andrew:</strong>And not only that, but by not having the checks, you’re allowing the optimizer to notice patterns that would not be there if the checks were present. So, for example, there may be the array bounds checking maybe is inside a function and by not including the checking, we were actually able to inline that function into the place of the call site. And then, because of the lack of bounds checking, it was then able to see another optimization and flatten that out. It can have snowballing effects to not have these extra checks in there.</p><h2 id="forking-zig"><strong>Forking Zig</strong></h2><p><strong>Adam:</strong>So, while Andrew is pushing Zig forward, trying to tell people that undefined behavior is a tool, not a crime, something bad happens.</p><p><strong>Andrew:</strong>Oh, yeah, this story, huh? Yeah. We had this character come in, and at first, he just seemed a really enthusiastic contributor. He did a lot of help with his pull requests, but I didn’t mind. I would just kind of throw in a couple commits, some fix ups, and just merge it, and say, “Yeah, good enough. I’ll help you with the rest.”</p><p>But then all of a sudden, he just blew up at some kind of language decisions. He created a commercial fork, translated the documentation to Japanese, and then if you downloaded it, all the files were just the Zig files, but he just changed the extension to zen.</p><p><strong>Adam:</strong>But he was a contributor to a certain extent?</p><p><strong>Andrew:</strong>Oh, yeah.</p><p><strong>Adam:</strong>It said in something I read that other contributors left with him.</p><p><strong>Andrew:</strong>I think that’s not an accurate way to put it, because it implies that there was like some kind of controversy, but what actually happened was that just that one person… This guy’s name is [inaudible 00:37:20]. The thing that actually happened was that just he just got pissed and left and no one else left, but then he offered actual money to one of the core contributors of Zig, and that person accepted the job and started working on the fork.</p><p>So, that’s what happened. And you know what? Fair, because at that point, we didn’t have the Zig Software Foundation yet. We couldn’t offer any money to core contributors. You got to put food on your table, so I really… I don’t even blame them for taking it. They got to probably improve their resume and work on something more fun and get some more money. Fine.</p><p><strong>Adam:</strong>So, were there people in Japan who are paying for a fork of Zig?</p><p><strong>Andrew:</strong>I really don’t know. Honestly, this guy is a total weirdo. It’s like he’s the kind of person where they’ll share conspicuous photos of themselves, shaking hand with some important person. And then, you’re like, “What? What’s going on? What did you do with that person?” And it’s like, “Oh, we had like a business deal, business transaction.”</p><p>It’s like, “Well, what? What did you do?” And then, it’s all show. A super weirdo guy. I don’t even know how to explain it. I’m not giving you a good synopsis of the story, but let me be clear about this. Commercially forking Zig is fine. It’s MIT-licensed. Like go for it. You’re supposed to give, supposed to just acknowledge in the license that it’s a fork.</p><p>If you just take a file that’s Zig code, and you rename the extension, you have to keep the MIT license in there. That’s fine. Go for it. But what they did with the fork was like be very tricky about it, right? So, they actually deleted the license file, put their own license in it and made it look like you had to pay for the software. So, they put like, “Oh, this is licensed by our company’s license and you have to pay $100 a year or something for it.”</p><p>So, they were deceiving people. That was the problem with what they were doing. As long as you don’t trick people, you’re welcome to do a commercial fork of Zig.</p><p><strong>Adam:</strong>Legally it’s fine to fork Zig. It’s allowed as part of the license, but it feels a bit wrong to me. Andrew built this and he deserves some credit for creating it, and if I were Andrew and I left my job to work full-time on this project. And now, had just been forked by a commercial company, I would have freaked out. Andrew is much more calm though.</p><p><strong>Andrew:</strong>Honestly, it was more of a curiosity for me. I wasn’t ever worried about it, but I was definitely kind of just curious about, what is this guy’s motive? Didn’t seem like a effective strategy that he was taking.</p><p><strong>Adam:</strong>The thing that strikes me as strange is like stealing something that’s free, and then trying to sell it. I guess that’s not totally what’s happening, but it’s sort of what’s happening.</p><p><strong>Andrew:</strong>Yeah.</p><p><strong>Adam:</strong>People don’t tend to pay for programming languages right now that often I guess.</p><p><strong>Andrew:</strong>Right. Right.</p><p><strong>Adam:</strong>I mean it’s possible that he was on to something.</p><p><strong>Andrew:</strong>He was onto something in the sense that he translated the documentation, and then it became accessible to people who didn’t speak English. A lot of countries don’t have a big enough, like I don’t know cultural impact on the world that they can get away with not speaking English. So, in that way, English is one of the like lingua francas of technology for better or worse, but China, Japan, Russia are big enough that you can just be someone who only speaks those languages.</p><p><strong>Adam:</strong>This language barrier is the heart of the issue, but the Zig team had a solution for that.</p><p><strong>Andrew:</strong>We put out a little blog post just kind of explaining, “Hey, this other, this thing that you’re paying for, you can get it for free over here if you want. We’re sorry we don’t have the translation of the docs yet, hopefully we can get that soon.” And I think after that blog post… We got that blog post translated into Japanese. And I think that once people saw that and it went around they realized, “Oh, okay, it’s better to just get it from the upstream rather than go for this guy.”</p><h2 id="the-opposite-of-imposter-syndrome"><strong>The Opposite of Imposter Syndrome</strong></h2><p><strong>Adam:</strong>It’s strange how this stuff, it doesn’t faze Andrew. Of course, I can improve upon C, of course, I could take on a commercial fork. People have talked to death the imposter syndrome, but this is the opposite. Andrew is just very assertive and confident in what he can accomplish.</p><p><strong>Andrew:</strong>From the very beginning, my attitude was, “Let’s fucking do this. Let’s go. I’m not fooling around.” When you first make a project, obviously, you’re not unique, you’re not a unicorn. A lot of people made a programming language that’s not impressive, that’s not interesting. So, people are calling it a toy language at the very beginning.</p><p>And that’s good. I just let it slide. Part of the job I have to do is marketing and getting people to be excited about it. So, I know that having a reputation of a toy language in the beginning is okay and I’m not going to fight about it. But in my head I was thinking, “Oh, just wait. This ain’t no toy.”</p><p><strong>Adam:</strong>That’s awesome. I love that. If you were going to run a marathon a lot of people have a goal to finish the marathon I guess, but you’re like, “I’m going to win it.”</p><p><strong>Andrew:</strong>Yeah.</p><p><strong>Adam:</strong>And take down C.</p><p><strong>Andrew:</strong>Let’s go. Yeah.</p><p><strong>Adam:</strong>Yeah.</p><p><strong>Andrew:</strong>I do feel like I have a sense for like what’s cool and what’s kind of cringy. If your posts make it under Reddit or something. And so, I definitely have been very conscious about, how am I going to come off to people so that I don’t seem like too arrogant and too big for his britches or something even though I am?</p><p><strong>Adam:</strong>Yeah. Because in the back of your head you’re like, “Yeah. We’re taking down C.” But you’re like, I’m just going to… Let’s get people slowly introduced to this concept.</p><p><strong>Andrew:</strong>Yeah. Exactly.</p><h2 id="the-future-of-zig"><strong>The Future of Zig</strong></h2><p><strong>Adam:</strong>What does the world look like when you take down C like?</p><p><strong>Andrew:</strong>Oh, it’s beautiful. It looks mostly the same, except all your apps just work slightly better, and they just crash less often, and they use less memory, and they just go faster. When professors teach operating system courses, it’ll just be like obviously assumed that you just use Zig. That’s not the focus. That’s just the setting when textbooks try to do how operating systems work or how embedded devices work, it’ll just be like assumed that you’re going to use Zig as the example code, because that’s just what everyone does.</p><p>The world won’t really be that much different, it’ll just be just a better programming experience for everyone. So, in one sense I have a lot of ambition because I am trying to dethrone this entrenched player, but on the other sense, Zig is not actually a super ambitious language. It’s just trying to take it to the next level of faster, less memory, less bugs, better development experience, better end user experience. Just a little bit better.</p><p><strong>Adam:</strong>So, it’s just an incremental improvement on C?</p><p><strong>Andrew:</strong>Yep. So, that’s kind of the yin-yang of ambition there.</p><p><strong>Adam:</strong>There’s no vision of you accepting your Turing award and… Yeah.</p><p><strong>Andrew:</strong>No. Everyone will just be like a little less stressed in their daily lives as a programmer. That’s it.</p><h2 id="advice-for-open-source-developers"><strong>Advice for Open Source Developers</strong></h2><p><strong>Adam:</strong>Andrew is five years into building Zig and five years is a long time and Zig is more than just him now. The Zig Software Foundation is now supporting other full-time employees, and this is all through donations. Andrew has some tips for self-funding your own open source projects.</p><p><strong>Andrew:</strong>I think that there’s no better time than now for people who’s trying to make a living in an unconventional way. My advice is do it because you love it and don’t be afraid to put yourself out there on the crowdfunding platforms and ask for tips and don’t expect overnight success. I also think that people do want a, they want something to believe in, right?</p><p>I think with early days of Zig the feeling that I was kind of offering was, we’re going to take on C, right? This is an ambitious project, but I’m here to stick with it. I’m here to pull it off. Let’s go. Let’s do this. And that was a vibe people can get on board with.</p><p>Let’s do this. Let’s go.</p><h2 id="putting-out-my-tip-jar"><strong>Putting Out My Tip Jar</strong></h2><p><strong>Adam:</strong>That was the show. I find Andrew to be a very inspiring person. So, it’s time for me to put out my own tip jar. <strong>If you go to <a href="https://www.patreon.com/adamgordonbell">patreon.com/adamgordonbell</a>, you can find the patreon page for the podcast</strong>, and if you are enjoying these episodes and want me to keep putting more time into them, think about setting up a recurring donation.</p><p>It takes me a lot of time to make each episode, and that’s why I’m only able to make one a month right now. So, if you want to support the show, check it out. I’ll put a link in the show notes and on the webpage as well.</p><p>Until next time, let’s do this. Let’s go or sorry. I mean thank you so much for listening.</p>


</div></div>]]></content:encoded>
      <guid>https://corecursive.com/067-zig-with-andrew-kelley/</guid>
      <pubDate>Tue, 03 Aug 2021 06:29:51 +0000</pubDate>
      <source>https://corecursive.com/067-zig-with-andrew-kelley/</source>
    </item>
    <item>
      <title>Facebook reportedly researching ways to use encrypted WhatsApp messages for ads</title>
      <link>https://www.macrumors.com/2021/08/03/facebook-researching-analyzing-encrypted-data/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_macrumors_com_2021_08_03_facebook-researching-analyzing-encrypted-data_/image.jpg" /> 
<div id="readability-page-1" class="page"><div><div data-io-article-url="/2021/08/03/facebook-researching-analyzing-encrypted-data/"><p>Facebook is researching ways to analyze encrypted data, such as WhatsApp messages, without actually decrypting the information, according to a <a href="https://www.theinformation.com/articles/facebook-researchers-hope-to-bring-together-two-foes-encryption-and-ads">new report from <em>The Information</em></a>. </p>
<p></p>
<p>This specific field of research is called &#34;homomorphic encryption,&#34; which is hoped to allow companies to read information from encrypted sets of data while also preserving privacy to protect against cybersecurity threats. Facebook has advertised several related job roles on its website, noting that it wants to work on privacy-preserving technologies while &#34;simultaneously expanding the efficiency of Facebook&#39;s market-leading advertising systems.&#34;<br/>
</p>
<blockquote><p>The company continues to recruit researchers with backgrounds in privacy-related technologies including homomorphic encryption, secure computation and data anonymization, according to job advertisements on its website. The technologies are aimed at preserving privacy while &#34;simultaneously expanding the efficiency of Facebook&#39;s market-leading advertising systems.&#34;</p></blockquote>
<p>Facebook has famously been the subject of scrutiny from lawmakers and members of the public over its privacy practices. <em>The Information</em> believes that homomorphic encryption could be Facebook&#39;s response to growing concerns over user privacy and its relation to the platform&#39;s business model of running ads.<br/>
</p>
<blockquote><p>For Facebook, homomorphic encryption could offer a way to continue to make money from ads that are targeted based on what it knows about individual users while also answering calls from lawmakers to take privacy more seriously and prevent the misuse or breach of its data. And it could aid the company&#39;s effort to make money from WhatsApp, whose messages are encrypted, meaning Facebook can&#39;t use them to target ads.</p>
<p>Facebook has considered a workaround to target ads to WhatsApp users in the meantime, but homomorphic encryption could allow Facebook to analyze the data without actually reading it or sharing it directly with advertisers.</p></blockquote>
<p>A Facebook spokesperson told <em>The Information</em> that it is &#34;too early for us to consider homomorphic encryption for WhatsApp at this time.&#34; The timing of Facebook&#39;s apparent ramp-up of research into new ways to target ads to users through their WhatsApp messages comes not long after Apple&#39;s rollout of ATT or App Tracking Transparency.</p>
<p>ATT is a framework on iOS 14.5 and later that requires that all apps to ask for user&#39;s consent before tracking them across other apps and websites. Facebook had been a vocal critic of the framework in the weeks leading up to its official launch; however, after its rollout, Facebook CEO Mark Zuckerberg said it has had little impact on his company&#39;s performance so far.</p>
<p><strong>Update:</strong> Will Cathcart, head of WhatsApp, has <a href="https://twitter.com/wcathcart/status/1422611553954668546">tweeted in response</a> to <em>The Information&#39;s</em> report that WhatsApp is not exploring the use of homomorphic encryption. Cathcart states that there should be skepticism of &#34;technical claims that apps like ours could see messages in &#34;good&#34; cases only.&#34; </p>
</div></div></div>]]></content:encoded>
      <guid>https://www.macrumors.com/2021/08/03/facebook-researching-analyzing-encrypted-data/</guid>
      <pubDate>Wed, 04 Aug 2021 14:31:59 +0000</pubDate>
      <source>https://www.macrumors.com/2021/08/03/facebook-researching-analyzing-encrypted-data/</source>
    </item>
    <item>
      <title>Lisp in an “impossible” language, the most complex malbolge program to date</title>
      <link>https://github.com/kspalaiologos/malbolge-lisp</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p>Made by Palaiologos, 2020 - 2021. Released to the public domain.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/kspalaiologos/malbolge-lisp/raw/master/session.gif"></a></p>
<h2><a id="user-content-what-is-malbolgelisp" aria-hidden="true" href="#what-is-malbolgelisp"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What is MalbolgeLisp?</h2>
<p><strong>MalbolgeLisp</strong> is a LISP interpreter written in Malbolge. It&#39;s as of 2020 and 2021, <a href="https://en.wikipedia.org/wiki/Malbolge#Programming_in_Malbolge" rel="nofollow">the most advanced, usable Malbolge program ever created</a>. It supports everything LISPs generally tend to support (like <code>cond</code>, <code>let</code>, <code>lambda</code>, etc...). The v1.1 release greatly improved the performance and reduced the code size, while adding a few features.</p>
<h2><a id="user-content-what-is-malbolge-why-is-it-difficult" aria-hidden="true" href="#what-is-malbolge-why-is-it-difficult"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What is Malbolge? Why is it difficult?</h2>
<p><strong>Malbolge</strong> is a public domain esoteric programming language. It was specifically designed to be almost impossible to use, via a counter-intuitive &#39;crazy operation&#39;, trinary arithmetic, and self-modifying code. It builds on the difficulty of earlier, challenging esoteric languages like Brainfuck, but takes this aspect to the extreme. Despite this design, it is possible to write useful Malbolge programs (as this project proves).</p>
<p>What Malbolge instructions do depends on their position in the source code. After being ran, they are encrypted (so to make a loop, one has to decrypt it after each iteration - sounds hard already?). This is how so-called instruction cycles have been discovered - it has been observed that some instructions on certain locations form looping cycles, which is the basis of Malbolge programming.</p>
<p>The most complex programs made in Malbolge, to date, include an adder, a &#34;99 bottles of beer&#34; program, and a &#34;Hello, world!&#34; program (originally generated by a Lisp program utilizing a genetic algorithm).</p>
<p>MalbolgeLisp uses a special variant of Malbolge called <strong>Malbolge Unshackled</strong>. It&#39;s considerably harder to program for multiple reasons:</p>
<ol>
<li>The rotation width is chosen randomly by the interpreter</li>
<li>Malbolge Unshackled lets the width of rotation be variable, which grows with the values in the D register, and since the initial rotation width is unknown, you have to probe it (because otherwise <code>*</code> returns unpredictable results)</li>
<li>Malbolge Unshackled&#39;s print instruction requires unicode codepoints</li>
<li>if the rotation width is unknown then you can&#39;t load values larger than 3^4-1, except values starting with a <code>1</code> trit</li>
<li>to overcome this you need a loop that probes the rotation width which is probably beyond most people&#39;s comprehension</li>
<li>the specification says that the value <code>0t21</code> should be used to print a newline, but this value is <em>theoretically</em> impossible to obtain without having read an end of line or end of file from I/O before.</li>
<li>Malbolge Unshackled is actually usable because it&#39;s (as this project proves) Turing complete. The default Malbolge rotation width (10) constraints the addressable memory enough to make something cool with it.</li>
</ol>
<p>A few example Malbolge programs:</p>
<p>A &#34;Hello World&#34; program:</p>
<div data-snippet-clipboard-copy-content="(=&lt;`#9]~6ZY327Uv4-QsqpMn&amp;+Ij&#34;&#39;E%e{Ab~w=_:]Kw%o44Uqp0/Q?xNvL:`H%c#DD2^WV&gt;gY;dts76qKJImZkj
"><pre><code>(=&lt;`#9]~6ZY327Uv4-QsqpMn&amp;+Ij&#34;&#39;E%e{Ab~w=_:]Kw%o44Uqp0/Q?xNvL:`H%c#DD2^WV&gt;gY;dts76qKJImZkj
</code></pre></div>
<p>A cat program that doesn&#39;t terminate on EOF:</p>
<div data-snippet-clipboard-copy-content="(=BA#9&#34;=&lt;;:3y7x54-21q/p-,+*)&#34;!h%B0/.~P&lt;&lt;:(8&amp;66#&#34;!~}|{zyxwvugJk
"><pre><code>(=BA#9&#34;=&lt;;:3y7x54-21q/p-,+*)&#34;!h%B0/.~P&lt;&lt;:(8&amp;66#&#34;!~}|{zyxwvugJk
</code></pre></div>
<h2><a id="user-content-what-is-inside-the-zip-file" aria-hidden="true" href="#what-is-inside-the-zip-file"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What is inside the zip file?</h2>
<p>The release bundle includes interpreter binaries for Windows (x64, one is optimized for memory consumption and one for speed), and a few interpreters for Linux (the names should be self explanatory, also x64). If you&#39;re not running a x64 machine, you&#39;ll have to compile <code>fast20.c</code> yourself. From my observations, the best results were yielded by GCC and the code has been tuned to perform well when compiled with it. <code>malbolgelisp-v1.1.mb</code> is the source code for the interpreter.</p>
<h2><a id="user-content-how-to-use-malbolgelisp" aria-hidden="true" href="#how-to-use-malbolgelisp"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to use MalbolgeLisp?</h2>
<p>Pass the Lisp interpreter source code (<code>malbolgelisp-v1.1.mb</code>) as an argument to <code>fast20</code>.</p>
<h2><a id="user-content-using-the-repl" aria-hidden="true" href="#using-the-repl"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using the REPL</h2>
<p>After you start the interpreter, you should be greeted with a banner (containing the version, dot commands, etc..). The following dot commands are currently available:</p>
<ul>
<li><code>.F</code> - display all the features recognized by the interpreter</li>
<li><code>.A</code> - display the information about the interpreter&#39;s author</li>
<li><code>.R</code> - reset the memory</li>
<li><code>.M</code> - display the information about memory consumption</li>
<li>Any other command (and sending EOF - ^Z on Windows, ^D on UNIXes
will terminate the interpreter).</li>
</ul>
<p>After entering an expression (for example - <code>(+ 2 2)</code>), the interpreter should print something akin to this:</p>
<div data-snippet-clipboard-copy-content="   % (+ 2 2)
   ..............|.....
   4
   %
"><pre><code>   % (+ 2 2)
   ..............|.....
   4
   %
</code></pre></div>
<p>The dots are used to signal that the code is being parsed (before the pipe character) or evaluated (after the pipe character). The amount of dots doesn&#39;t correspond to any consistent amount of time.</p>
<h2><a id="user-content-the-language" aria-hidden="true" href="#the-language"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>The language</h2>
<p>The interpreter supports the following features that will be discussed in this README:</p>
<div data-snippet-clipboard-copy-content="   MALBOLGELISP V1.1 (2020-2021, PALAIOLOGOS)
   DOT COMMANDS:  .F(eatures)  .A(uthor)  .R(eset)  .M(emory)
   % .F
   &#39; + - &lt; &gt; = ! &amp; | * / define defun lambda
   cond print atom cons car cdr if let
   iota size nth
"><pre><code>   MALBOLGELISP V1.1 (2020-2021, PALAIOLOGOS)
   DOT COMMANDS:  .F(eatures)  .A(uthor)  .R(eset)  .M(emory)
   % .F
   &#39; + - &lt; &gt; = ! &amp; | * / define defun lambda
   cond print atom cons car cdr if let
   iota size nth
</code></pre></div>
<p><strong>MalbolgeLisp</strong> is fairly slow. If you want to test programs in a faster, mostly compatible environment to MalbolgeLisp, try <a href="https://github.com/kspalaiologos/x86lisp">x86Lisp</a> - a Lisp interpreter based on this dialect, squashed into a 2.1KB Windows <code>.exe</code> file.</p>
<h2><a id="user-content-arithmetic-on-numbers" aria-hidden="true" href="#arithmetic-on-numbers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Arithmetic on numbers</h2>
<p>A few examples of performing arithmetic in MalbolgeLisp are presented below. Note: Signed integers aren&#39;t supported.</p>
<div data-snippet-clipboard-copy-content="   % (+ 2 -1)
   ..............|.....
   1
   % (* 3 3)
   ..............|.....
   9
   % (% 5 2)
   ..............|.....
   1
   % (&gt; 5 6)
   ..............|.....
   0
   % (&lt; 5 6)
   ..............|.....
   1
   % (= 6 6)
   ..............|......
   1
   % (! (= 6 7))
   ......................|.........
   1
   % (/ 25 5)
   ..............|.....
   5
   % (- 4 3)
   ..............|.....
   1
   % (&amp; (= 2 2) (= 3 3))
   ....................................|...............
   1
"><pre><code>   % (+ 2 -1)
   ..............|.....
   1
   % (* 3 3)
   ..............|.....
   9
   % (% 5 2)
   ..............|.....
   1
   % (&gt; 5 6)
   ..............|.....
   0
   % (&lt; 5 6)
   ..............|.....
   1
   % (= 6 6)
   ..............|......
   1
   % (! (= 6 7))
   ......................|.........
   1
   % (/ 25 5)
   ..............|.....
   5
   % (- 4 3)
   ..............|.....
   1
   % (&amp; (= 2 2) (= 3 3))
   ....................................|...............
   1
</code></pre></div>
<p>There is no <code>&gt;=</code> or <code>&lt;=</code>, it has to be implemented by negating respectively <code>&lt;</code> and <code>&gt;</code>. A single <code>&amp;</code> and <code>|</code> are respectively logical AND and OR.</p>
<h2><a id="user-content-define-defun-and-lambda" aria-hidden="true" href="#define-defun-and-lambda"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>define</code>, <code>defun</code> and <code>lambda</code>.</h2>
<p>In MalbolgeLISP, you can introduce constants using the <code>define</code> function. For example:</p>
<div data-snippet-clipboard-copy-content="   % (define x 5)
   ................|..
   5
   % (+ x 1)
   ................|.....
   6
"><pre><code>   % (define x 5)
   ................|..
   5
   % (+ x 1)
   ................|.....
   6
</code></pre></div>
<p>MalbolgeLISP also supports lexically scoped (a function sees its lexical ancestor&#39;s environment, not its callers) lambdas. For instance:</p>
<div data-snippet-clipboard-copy-content="   % ((lambda (n) (* n n)) 3)
   ........................................|.........
   9
   % ((lambda (m) ((lambda (n) (+ m n)) 2)) 2)
   ........................................................|.............
   4
"><pre><code>   % ((lambda (n) (* n n)) 3)
   ........................................|.........
   9
   % ((lambda (m) ((lambda (n) (+ m n)) 2)) 2)
   ........................................................|.............
   4
</code></pre></div>
<p>How to define functions then? Well, a logical conclusion can be drawn from the examples above:</p>
<div data-snippet-clipboard-copy-content="   % (define succ (lambda (x) (+ x 1)))
   .............................................|..
   (lambda (x) (+ x 1))
   % (succ 2)
   ...........|.........
   3
"><pre><code>   % (define succ (lambda (x) (+ x 1)))
   .............................................|..
   (lambda (x) (+ x 1))
   % (succ 2)
   ...........|.........
   3
</code></pre></div>
<p>Because <code>define lambda</code> is a bit annoying to type each time and doesn&#39;t look good, we can use a nicer syntax for that - <code>defun</code>:</p>
<div data-snippet-clipboard-copy-content="   % (defun succ (x) (+ x 1))
   .....................................|.
   (lambda (x) (+ x 1))
   % (succ 2)
   ...........|.........
   3
"><pre><code>   % (defun succ (x) (+ x 1))
   .....................................|.
   (lambda (x) (+ x 1))
   % (succ 2)
   ...........|.........
   3
</code></pre></div>
<h2><a id="user-content-operations-on-lists-and-atoms" aria-hidden="true" href="#operations-on-lists-and-atoms"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Operations on lists and atoms</h2>
<p>The equals function (<code>=</code>) also works on atoms and lists. Lists have to be quoted to prevent the interpreter from evaluating them:</p>
<div data-snippet-clipboard-copy-content="   % (= test test)
   ..................|......
   1
   % (= &#39;(1 2 3) &#39;(1 2 3))
   ..................................|.........
   1
   %
"><pre><code>   % (= test test)
   ..................|......
   1
   % (= &#39;(1 2 3) &#39;(1 2 3))
   ..................................|.........
   1
   %
</code></pre></div>
<p>The <code>iota</code> function generates natural numbers from <code>0</code> to <code>N-1</code> (inclusive). For instance:</p>
<div data-snippet-clipboard-copy-content="   % (iota 5)
   ...........|....
   (0 1 2 3 4)
"><pre><code>   % (iota 5)
   ...........|....
   (0 1 2 3 4)
</code></pre></div>
<p><code>size</code> yields the size of a list passed as an argument. Using <code>size</code> and <code>iota</code>, we can make a really inefficient identity function for numbers:</p>
<div data-snippet-clipboard-copy-content="   % (defun id (x) (size (iota x)))
   ..........................................|.
   (lambda (x) (size (iota x)))
   % (id 6)
   ...........|...........
   6
   % .M
   233B USED
   % # That&#39;s a lot of memory wasted!
"><pre><code>   % (defun id (x) (size (iota x)))
   ..........................................|.
   (lambda (x) (size (iota x)))
   % (id 6)
   ...........|...........
   6
   % .M
   233B USED
   % # That&#39;s a lot of memory wasted!
</code></pre></div>
<p><code>nth</code> yields the N-th element of a list. It uses the same indexing as <code>iota</code>, as demonstrated below:</p>
<div data-snippet-clipboard-copy-content="   % (nth 3 (iota 5))
   ......................|........
   3
"><pre><code>   % (nth 3 (iota 5))
   ......................|........
   3
</code></pre></div>
<p>Let&#39;s try using atoms now. We can print an atom or a list using <code>print</code>, and we can check if something is an atom using the <code>atom</code> function. Note that <code>print</code> is an identity function with a side effect of printing an expression&#39;s value:</p>
<div data-snippet-clipboard-copy-content="   % (atom null)
   ...........|....
   1
   % (atom &#39;(1 2 3))
   .....................|....
   0
   % (print hello)
   .............|....
   hello

   hello
   % (print &#39;(1 2 3))
   .....................|....
   (1 2 3)

   (1 2 3)
   %
"><pre><code>   % (atom null)
   ...........|....
   1
   % (atom &#39;(1 2 3))
   .....................|....
   0
   % (print hello)
   .............|....
   hello

   hello
   % (print &#39;(1 2 3))
   .....................|....
   (1 2 3)

   (1 2 3)
   %
</code></pre></div>
<p>Let&#39;s look at how <code>car</code> and <code>cdr</code> work. <code>car</code> takes the head (first element) of a list, and <code>cdr</code> takes the tail (everything <em>except</em> the first element) of a list:</p>
<div data-snippet-clipboard-copy-content="   % (define list &#39;(1 2 3))
   ..........................|..
   (1 2 3)
   % (car list)
   .............|....
   1
   % (cdr list)
   .............|....
   (2 3)
"><pre><code>   % (define list &#39;(1 2 3))
   ..........................|..
   (1 2 3)
   % (car list)
   .............|....
   1
   % (cdr list)
   .............|....
   (2 3)
</code></pre></div>
<p>Finally, <code>cons</code> can be used to prepend something to a list. Like so:</p>
<div data-snippet-clipboard-copy-content="   % (cons 3 &#39;(1 2))
   .....................|.....
   (3 1 2)
"><pre><code>   % (cons 3 &#39;(1 2))
   .....................|.....
   (3 1 2)
</code></pre></div>
<h2><a id="user-content-if-cond-and-let" aria-hidden="true" href="#if-cond-and-let"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>if</code>, <code>cond</code> and <code>let</code></h2>
<p>The <code>if</code> function requires exactly 3 parameters - the condition, the expression to evaluate if the condition is true, and the expression to evaluate if the condition is false. A small example:</p>
<div data-snippet-clipboard-copy-content="   % (defun gt10 (x) (if (&gt; x 10) (print yes) (print no)))
   .......................................................................|.
   (lambda (x) (if (&gt; x 10) (print yes) (print no)))
   % (gt10 5)
   ...........|...............
   no

   no
   % (gt10 16)
   ...........|...............
   yes

   yes
"><pre><code>   % (defun gt10 (x) (if (&gt; x 10) (print yes) (print no)))
   .......................................................................|.
   (lambda (x) (if (&gt; x 10) (print yes) (print no)))
   % (gt10 5)
   ...........|...............
   no

   no
   % (gt10 16)
   ...........|...............
   yes

   yes
</code></pre></div>
<p>If you need a lot of <code>if</code>s in one place, you can consider using <code>cond</code>. It takes a list of lists <code>(condition result)</code>, optionally including a <code>(result)</code> list. Using <code>cond</code>, we can make a three-way-comparison function (that returns <code>2 1 0</code> for <code>&gt; = &lt;</code>):</p>
<div data-snippet-clipboard-copy-content="   % (defun &lt;=&gt; (x y) (cond ((&gt; x y) 2) ((&lt; x y) 0) (1)))
   ....................................................................................|.
   (lambda (x y) (cond ((&gt; x y) 2) ((&lt; x y) 0) (1)))
   % (&lt;=&gt; 5 6)
   ..............|.....................
   0
"><pre><code>   % (defun &lt;=&gt; (x y) (cond ((&gt; x y) 2) ((&lt; x y) 0) (1)))
   ....................................................................................|.
   (lambda (x y) (cond ((&gt; x y) 2) ((&lt; x y) 0) (1)))
   % (&lt;=&gt; 5 6)
   ..............|.....................
   0
</code></pre></div>
<p>The final builtin function is <code>let</code>. It allows us to bind names to expressions (so that they&#39;re not re-evaluated at a later time). For example:</p>
<div data-snippet-clipboard-copy-content="   % (let (x 5 y 6) (+ x y))
   .............................................|.............
   11
"><pre><code>   % (let (x 5 y 6) (+ x y))
   .............................................|.............
   11
</code></pre></div>
<h2><a id="user-content-example-programs" aria-hidden="true" href="#example-programs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example programs</h2>
<p>Quicksort (@La Condizione; yes, they know that this is not a real quicksort)</p>
<div data-snippet-clipboard-copy-content="(defun filter (f l) (cond ((= l null) null) ((f (car l)) (cons (car l) (filter f (cdr l)))) (1 (filter f (cdr l)))))
(defun append (a b) (if (= null a) b (cons (car a) (append (cdr a) b) )))
(defun append3 (a b c) (append a (append b c)))
(defun list&gt;= (m list) (filter (lambda (n) (! (&lt; n m))) list))
(defun list&lt; (m list) (filter (lambda (n) (&lt; n m)) list))
(defun qsort (l) (if (= null l) null (append3 (qsort (list&lt; (car l) (cdr l))) (cons (car l) null) (qsort (list&gt;= (car l) (cdr l))))))
(qsort &#39;(6 8 1 0 6 8 2))
"><pre><code>(defun filter (f l) (cond ((= l null) null) ((f (car l)) (cons (car l) (filter f (cdr l)))) (1 (filter f (cdr l)))))
(defun append (a b) (if (= null a) b (cons (car a) (append (cdr a) b) )))
(defun append3 (a b c) (append a (append b c)))
(defun list&gt;= (m list) (filter (lambda (n) (! (&lt; n m))) list))
(defun list&lt; (m list) (filter (lambda (n) (&lt; n m)) list))
(defun qsort (l) (if (= null l) null (append3 (qsort (list&lt; (car l) (cdr l))) (cons (car l) null) (qsort (list&gt;= (car l) (cdr l))))))
(qsort &#39;(6 8 1 0 6 8 2))
</code></pre></div>
<p>&#34;Dumb&#34; sort (@umnikos)</p>
<div data-snippet-clipboard-copy-content="(defun insert (i l) (if (= null l) (cons i l) (if (&gt; i (car l)) (cons (car l) (insert i (cdr l))) (cons i l))))
(defun insertsort (l) (if (= null l) null (insert (car l) (insertsort (cdr l)))))
(insertsort &#39;(6 8 1 0 6 8 2))
"><pre><code>(defun insert (i l) (if (= null l) (cons i l) (if (&gt; i (car l)) (cons (car l) (insert i (cdr l))) (cons i l))))
(defun insertsort (l) (if (= null l) null (insert (car l) (insertsort (cdr l)))))
(insertsort &#39;(6 8 1 0 6 8 2))
</code></pre></div>
<p>And a bunch of programs I wrote myself - a counter, power function, factorial function and the maximum of a list.</p>
<div data-snippet-clipboard-copy-content="(defun counter (x) (cond ((&lt; x 10) (counter (print (+ 1 x)))) (print ok)))
(counter 1)

(defun power (x y) (if (= y 0) 1 (* x (power x (- y 1)))))
(power 3 5)

(defun fac (n) (if (= n 0) 1 (* n (fac (- n 1)))))
(fac 6)

(defun max (l) (if (= null l) 0 (let (m (max (cdr l))) (if (&gt; (car l) m) (car l) m))))
(max &#39;(2 5 1 9 10))
"><pre><code>(defun counter (x) (cond ((&lt; x 10) (counter (print (+ 1 x)))) (print ok)))
(counter 1)

(defun power (x y) (if (= y 0) 1 (* x (power x (- y 1)))))
(power 3 5)

(defun fac (n) (if (= n 0) 1 (* n (fac (- n 1)))))
(fac 6)

(defun max (l) (if (= null l) 0 (let (m (max (cdr l))) (if (&gt; (car l) m) (car l) m))))
(max &#39;(2 5 1 9 10))
</code></pre></div>
<p>Do you want <em>your</em> code featured? Please open a pull request.</p>
</article>
        </div></div>]]></content:encoded>
      <guid>https://github.com/kspalaiologos/malbolge-lisp</guid>
      <pubDate>Tue, 03 Aug 2021 11:44:18 +0000</pubDate>
      <source>https://github.com/kspalaiologos/malbolge-lisp</source>
    </item>
    <item>
      <title>Early Retirement (2006)</title>
      <link>https://philip.greenspun.com/materialism/early-retirement/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page">



<hr/>



This article addresses the joys, challenges, and some practical aspects
of retiring young.  The author retired in 2001, at the age of 37 (same
age as Rossini when he retired).

<h3>The Depressing Truth</h3>

Ask a wage slave what he&#39;d like to accomplish.  Chances are the response
will be something like &#34;I&#39;d start every day at the gym and work out for
two hours until I was as buff as Brad Pitt.  Then I&#39;d practice the piano
for three hours.  I&#39;d become fluent in Mandarin so that I could be
prepared to understand the largest transformation of our time.  I&#39;d
really learn how to handle a polo pony.  I&#39;d learn to fly a helicopter.
I&#39;d finish the screenplay that I&#39;ve been writing and direct a production
of it in HDTV.&#34;

<p>

Why hasn&#39;t he accomplished all of those things? &#34;Because I&#39;m chained to
this desk 50 hours per week at this horrible
[insurance|programming|government|administrative|whatever] job.

</p><p>

So he has no doubt that he would get all these things done if he didn&#39;t
have to work?  &#34;Absolutely none.  If I didn&#39;t have the job, I would be
out there living the dream.&#34;

</p><p>

Suppose that the guy cashes in his investments and does retire.  What do
we find?  He is waking up at 9:30 am, surfing the Web, sorting out the
cable TV bill, watching DVDs, talking about going to the gym, eating
Doritos, and maybe accomplishing <em>one</em> of his stated goals.

</p><p>

Retirement forces you to stop thinking that it is your job that holds
you back.  For most people the depressing truth is that they aren&#39;t that
organized, disciplined, or motivated.

</p><h3>Be Happy or You&#39;re a Loser</h3>

In olden times, the average person didn&#39;t expect to be happy.  Life
could be a struggle for survival with hard work and adversity at every
corner.  Marriages were arranged by parents and if, after 20 years, the
couple hated each other, there was no option to divorce.

<p>

This article is written primarily for Americans.  We have &#34;pursuit of
happiness&#34; written right into our Declaration of Independence.  A
working person, however, does not expect to be happy all the time.
Every job has unpleasant elements and drudgery.  The working person
imagines that if he didn&#39;t have to work, he would be happy 24/7.  It
would be like going to Disneyland every day.

</p><p>

Suppose that you are retired.  At this point, your one job is the
pursuit of happiness.  If you are not happy, therefore you are a failure
at your job and in your life.  But how can you be happy 24/7?  Perhaps
if you moved into a hotel in Orlando and went to Disneyworld every day
you would be pretty happy.  But if you retain the responsibilities of
home- and car-ownership, much of your life will continue to be mundane,
boring, or unpleasant.  Will you wear a big smile on your face as you
change the lightbulbs in the hall?  Will you be delighted paying bills
or begging the plumber to come over and fix the shower?  Will you be
ecstatic when it comes time to get your car inspected?

</p><p>

The idle rich in the old days were truly idle.  They had servants, and
butlers to supervise those servants.  Unless you are retiring today with
$50 million or more, however, you probably aren&#39;t rich enough to live in
a cocoon.  You still end up running the same errands that you ran when
you were a wage slave, but now they stick out more.  The errands aren&#39;t
keeping you from attending a boring meeting at work; they&#39;re keeping you
from a fun horse-riding or helicopter-flying lesson.

</p><h3>Interaction with Other Humans</h3>

Most jobs come with a social life.  You show up to work.  You have
casual conversations throughout the day with a variety of people, most
of whom you know and many of whom you like.  If all you do when you go
home at night is sit and read or watch TV by yourself, you&#39;re still a
reasonably social person.  When you retire, however, this built-in
social life goes away.

<p>

If you&#39;ve got a spouse and kids, you&#39;re all set.  You&#39;ll spend enough of
your day talking to other people.  If you&#39;re single, however, be aware
that you will need to create a social life.  This can be tough in many
parts of the country and with your existing friends.  Your friends who
have jobs aren&#39;t available during the day and, most of the time, will be
too tired in the evening to get together.

</p><p>

The author has been personally fortunate in several respects.  First,
his preretirement apartment is located in near Harvard Square in
Cambridge, Massachusetts.  This neighborhood is full of interesting
people, such as graduate students, with flexible schedules.  Second,
several years before retiring he adopted a Samoyed puppy.  Walking
around town and into shops with a Samoyed is a guaranteed way to start a
casual conversation.  It might be limited to &#34;What kind of dog is he?
What&#39;s his name?  How old?&#34; but it seems to be sufficient to stave off
the feeling of solitary confinement.  Third, the author took up flying
as a hobby and general aviation seems to involve a lot of middle-aged
guys goofing off and hanging around. (see <a href="https://philip.greenspun.com/materialism/early-retirement/aviation">this
separate page on &#34;Aviation for Retired Guys (and Gals)&#34;</a>)

</p><p>

One strategy that might be effective is to spend every Sunday night
planning activities for the week.  As your friends get older, it becomes
more difficult to arrange dinner parties and other get-togethers.  They
just don&#39;t have the energy or inclination to hang out like they did in
college or just after.

</p><h3>Travel: No to the Beach; Yes to the Organized Tour</h3>

<a href="https://philip.greenspun.com/images/200404-ecuador-peru/200405-machu-picchu/tour-group-on-balcony-2.tcl"></a>

One of the great things about retirement is the freedom to travel and
explore new parts of the world.  Should you take the trips that you
dreamed of when you were working?  Maybe not.  When you worked 50 weeks
per year, the idea of sitting on a beach by yourself with a stack of
novels might have seemed an appealing escape from the crush of
interaction that afflicted you on every working day.  In retirement,
however, you&#39;re free to sit in your living room by yourself every day
and read novels.  Nobody is going to disturb you.  Why go to the trouble
of getting on an airplane if that is all you want to do?

<p>

An ideal retirement trip might be one in which you learn some new skills
and have built-in interaction with people.  The author enjoyed a 10-day
trip to Panama, for example, in which he took helicopter lessons on
most of the days.  There was some sightseeing, of course, but not the
same old &#34;Where else have you been in Central America&#34; sorts of
conversations that pure tourists have.  The organized tour that appalled
you during your working life might be just right now that you&#39;re
retired.  You&#39;ll be sightseeing but also getting to know some
potentially interesting new people.

</p><p>

Remember that travel can be hard work, especially if you&#39;re doing the
planning yourself.  Some experienced travelers plan a day or two each
week in which they &#34;take a day off&#34; from traveling.  They don&#39;t move to
a new city.  They don&#39;t sightsee.  They might do laundry or other
errands.

</p><p>

[Photo at right from <a href="http://photo.net/travel/tourists-as-subjects/">Tourists as Subjects</a>.]



</p><h3>Non-profits are NOT the Answer</h3>

You were probably able to retire young because you are vastly more able
than the average person.  Now should be an ideal time to find a
non-profit organization whose goals you share.  You would expect them to
be delighted at your offer to pitch in as a volunteer, bringing the
skills that enabled you to start and grow a profitable enterprise.

<p>

Let&#39;s start with a story.  Back in ancient times, I worked at an
open-source enterprise software company.  We had about $20 million per
year in revenue and, even after paying out $3 million in
year-end bonuses to the programmers, we had at least $3 million left over in
pure taxable profit.  So we looked for opportunities to do some
non-profit work.  One of our customers was the MIT Sloan business
school.  They wanted an information system to coordinate all
student-teacher and student-student interaction in their classes.
Basically the system, dubbed &#34;Sloan Space&#34;, covered all the IT needs of
the school except for accounting.  Sloan Space kept track of who was in
a class, who was teaching a class, what the assignments were and when
they were due, the submission and grading of assignments, private
discussion forums for each class, and everything else that the Sloan
staff decided that an online community of MBA students needed.

</p><p>

Sloan wasn&#39;t paying our company as much as other clients but we found
the contract worthwhile partly because many of our employees had been
MIT students and had a sentimental attachment to the place, but mostly
because we thought that we could reuse the software and get other
universities to adopt it.  Our software was free and open-source but the
richer organizations that used it would generally pay for support and
extensions.  Universities don&#39;t pay taxes and they sometimes cry &#34;poor&#34;,
but after years of claiming to lose money on every student they somehow
end up with substantial assets. (Harvard, for example, has about $30
billion in its checking account; enough to buy at least five aircraft
carriers, complete with fighter jets.)

</p><p>

Just as Sloan was preparing to launch their system to students we heard
about a new tuition-free engineering college.  They were about a year
from taking in their first students.  We liked what they were doing and
contacted the president of the new school.  We explained our contract
with MIT Sloan and the fact that all of the software we&#39;d built for
Sloan was free and open-source and could be reused at their school.  We
offered to assign two full-time programmers, each with an MIT degree in
computer science, to the project indefinitely.  These two programmers
would extend the MIT Sloan software to meet any requirements that the
new school set forth.  Basically we would handle all of their IT needs
at no charge.  All of our software was open-source and if we disappeared
after a year they could hire the programmer of their choice to maintain
and extend it.  The president seemed delighted with this idea and turned
us over to his head of IT to work out the details.  That&#39;s where the
project stopped.  The head of IT already had a plan to hire programmers
and build a big system from scratch, working in various Microsoft
products (most of which were subsequently rewritten or discontinued)

</p><p>

Non-profit organizations exist to provide their staff with great jobs
and the fun of making decisions and spending money.  The folks who work
at a non-profit organization are very interested in drawing a salary
higher than their skills and working hours would command at a for-profit
enterprise subject to competition.  They are not especially interested
in efficiency or accomplishment.  If you&#39;ve come from the commercial
world, in which McDonald&#39;s must be ruthlessly efficient for fear of
being destroyed by Burger King, working with or in the typical
non-profit organization will likely drive you to insanity.

</p><p>

Once word gets around town that you are retired, non-profit orgs will
start rattling your cage.  Whatever your IQ, education, certifications,
and skills might be, the assumption will be that you are past it, a
doddering old fool incapable of doing more than writing a check.  If you
believe in their mission, however, it doesn&#39;t make sense to write them a
check.  Donating money to charity is great for busy people with jobs and
the obscenely wealthy who are maintaining their social status with
displays of spending surplus cash.  As an early retiree, however, your
comparative wealth is mostly in the time that you can choose to spare.
If the non-profit organization can&#39;t come up with a way to use your
brains, skills, and time, tell them to get their cash from the
time-starved working rich and the multi-billionaires.

</p><p>

Most important, do not retire in the expectation that it will be easy to
find rewarding non-profit volunteer work.

</p><p>

(If you aren&#39;t sufficiently discourage by the foregoing, read <a href="https://philip.greenspun.com/non-profit/">my ideas for new non-profit projects</a>.)

</p><h3>Teaching might be the answer</h3>

Volunteering as a teacher has proven very rewarding for many early
retirees.  People like teaching for a variety of reasons.  One is that
the traditional lecture course provides a venue in which people are
forced to listen to the teacher.  If ambitious working people no longer
care to hear what you have to say, at least students who don&#39;t want to
fail the class will listen.  A more powerful reason is that talking to
young people is an activity that matters.  If you are talking to someone
over the age of 40 about life decisions, chances are that you both are
simply wasting breath and killing time.  You can talk about how great it
would be to live on the other coast or up in Alaska but both of you are
so tied down by a web of obligations from friends and family that it
will never happen.  A young person graduating from college, on the other
hand, is almost certain to choose a new career and move to a new city.
Input that you provide on these subjects could be critical to their
future happiness.


<h3>Tattoo Your Net Worth on Your Forehead...</h3>

... otherwise folks will greatly overestimate your wealth.  If someone
at a party asks you what you do and you answer &#34;retired&#34;, if you appear
to be under the age of 50, almost always they will greatly overestimate
your wealth.  Americans cannot imagine stopping work before they&#39;ve
either (1) purchased everything that they could conceivably want, or (2)
collapsed from physical exhaustion.  The magazine <a href="http://www.elite-traveler.com"><cite>Elite Traveler</cite></a>,
distributed free to airport general aviation lounges where corporate
looters alight, depicts the lifestyle to which Americans aspire.  A
watch costs $30,000, a survey of hotel accommodations in Mexico or New
Orleans shows suites ranging in price from $3,000 to $20,000, getting
from point A to point B costs $5,000 per hour in a private jet, partying
for a week involves chartering a yacht for $200,000.  These costs are no
problems for the readers of <cite>Elite Traveler</cite> because (a) most
of them are borne by the shareholders of the public companies for which
they work, and (b) the median annual income of an <cite>Elite
Traveler</cite> reader is over $1 million (see their media kit online).
When you say &#34;I&#39;m retired&#34; the other person at the party hears &#34;Even
without working anymore, I can afford to live the <cite>Elite
Traveler</cite> lifestyle.&#34;

<p>

Suppose that you say, for example, that you can&#39;t make firm travel plans
because your little airplane doesn&#39;t have a turbine engine and deicing
equipment and therefore you&#39;re very dependent on the weather.  Folks
will ask &#34;Why don&#39;t you get a Gulfstream and blast through the clouds at
4,000 feet-per-minute with the same engines that power a Boeing 737?&#34;
It becomes a little awkward to admit that you&#39;re approximately $50
million short of the $50 million required to join Jack Welch in the
flight levels (of course Mr. Welch, despite being retired, doesn&#39;t pay
for his use of a GE business jet, the fuel, or the pilots; the public
shareholders of GE do).

</p><p>

An answer that brings the conversation back down to earth is to remind
your interlocutor of all the older folks he or she might know who are
retired.  They aren&#39;t rich, are they?  They have enough money, one
hopes, to live in a comfortable house and do the things that they most
enjoy, not enough money to gratify every conceivable material desire.


</p><h3>Investing</h3>

This subject is sufficiently complicated to merit its own page: <a href="https://philip.greenspun.com/materialism/early-retirement/investing">&#34;Investing for early retirees&#34;</a>.

<h3>Giving Money to Children (While Still Alive)</h3>

What&#39;s a good way to give money to kids without spoiling them?
My idea: For every dollar they earn, give them $N. That way they have to
work, but they don&#39;t have to work a repulsive yuppie job to enjoy
a comfortable lifestyle.  The main objection to this approach is that it
is tax-inefficient.  If the kid earns $50,000 per year doing something
he finds rewarding and you give him $150,000 that year, you have to pay
a big gift tax.  Some sort of trust fund and/or life insurance policy
that the kid can claim after you die would be more efficient.

<p>

Is an increased tax liability so bad?  Not for the truly rich.  These
guys intend to give most of their wealth away to non-profit
organizations.  The federal government funds roads and airports that we
all enjoy using.  The feds pay for health care for the poor and the old.
Our tax dollars pay for intrepid military personnel who go out and kill
angry foreigners (in most cases) before they can arrive on U.S. soil and
kill Americans here at home.  For a non-profit organization of its size,
the federal government is surprisingly efficient.  Most federal
employees work in big box-like office buildings, not in $300 million
monuments to an architect&#39;s ego.  George W. Bush gets paid only $400,000
per year, less than half of what a lot of university presidents earn.

</p><p>

Can we tweak the $N bonus idea at all?  What if a kid becomes a
repulsive yuppie despite the lack of financial necessity?  Won&#39;t
his siblings become envious when Chad, Jr. gets a $3 million check
from Chad, Sr. to supplement his $1 million/year earnings at
J.P. Morgan?  Perhaps there should be a sliding scale for the bonus
where the first $100,000/year is muliplied by 4, the next $100,000 by
3, the next $100,000 by 2, and the rest of the kid&#39;s income is
not subject to a parental bonus.  Or there could be a lifetime cap of
$10-20 million per kid (no Gulfstream for Johnny :-( ).


</p><p>

How about tweaking the tax liability?  Perhaps the money could go first
into an irrevocable trust, but only paid out by the trustee as a
multiple of income.  I&#39;m not sure if this escapes gift/estate tax.

</p><p>

[Note: I drafted this idea at the request of a late 40s rich, but not
retired, friend.  He ended up implementing it for his teenage children.]


</p><h3>Where to Live?</h3>

This subject is sufficiently complicated to merit its own page: <a href="https://philip.greenspun.com/materialism/early-retirement/where-to-live">&#34;Choosing a place to live for
early retirees&#34;</a>.

<p>

Whatever you do, make sure that you read <a href="http://www.realworlddivorce.com"><cite>Real World
Divorce</cite></a> before settling in a state and exposing yourself to
its family law system. Moving one mile over a border could mean the
difference between losing half of your savings after a one-day
marriage and losing none, or the difference between being a parent
after a divorce and being an every-other-weekend aunt or uncle, or the
difference between paying $100,000 per year in child support or $13,000.

</p><h3>Time Management</h3>

How much work does the average college student get done?  Almost none.
Yet the same person, injected into a corporate bureaucracy, becomes a
reasonably effective worker.  Why?  Most people have terrible time
management skills.  This limitation is of no consequence in public
school.  The school tells you where to sit and what to do and when, at
least for six hours per day.  This limitation is of no consequence at
most jobs.  The employer tells the workers where to sit and what to do
and when, at least for eight hours per day.

<p>

If you&#39;re retired, however, nobody tells you how to organize your life.
If you have goals that you&#39;d like to accomplish and your time management
skills are poor, you might end up disappointed in yourself.

</p><p>

In researching this article, I ordered all of the popular books on time
management from Amazon.com, but didn&#39;t like any of them well enough to
recommend.  Here are some reasonably good ideas from the books and from
my friends:

</p><ul>

<li>make lists of the things that you want to accomplish and subtasks
toward those goals; keep these lists in prominent and convenient places
(most of the books)

</li><li>schedule lots of lessons and other things in advance so that your
days have some structure (my own; I tend to schedule flying and horse
riding lessons during the summer, for example)

</li><li>come up with a rigid scheduling spreadsheet for your days as though
you had a job, setting aside time for writing, reading, answering email,
going to the gym, etc. (my own, I drafted a spreadsheet once but never
tried living it because I was instantly ridiculed for my efforts by a
girlfriend)

</li><li>publish a public Web diary of what you do every day, thus
discouraging you from wasting time because you&#39;ll be ashamed to admit
that all you accomplished yesterday was a 15-minute oil change and a
trip to Target (my own, but never implemented)

</li><li>don&#39;t read the newspaper or email in the morning because it will
scramble your brain with lots of disconnected ideas and you won&#39;t be
able to accomplish any serious work for the rest of the day (very
productive friend who has just completed his fourth book)


</li></ul>

<h3>TIME Magazine Happiness Issue</h3>

As mentioned above, pursuit of happiness is the main goal of the early
retiree.  TIME magazine&#39;s January 17, 2005 issue contains a special
section entitled &#34;The Science of Happiness&#34;.  At least 50 percent of
happiness is genetic, so don&#39;t expect a huge change from how you felt
when working.

<p>

Some good news for early retirees:

</p><ul> 

<li>important sources of happiness are often those that require some
free time to pursue, such as spending time with children and friends

</li><li>&#34;your degree of control over your life and destiny&#34; was an important
factor as was &#34;the things you do in your leisure time&#34;

</li><li>older people are happier and less subject to depression than young
people

</li><li>reported happiness is positively correlated with income (88
percent of people earning over $100k/year say that they are happy &#34;most
or all of the time&#34; compared to just 68 percent of people earning less
than $35,000 per year), though some other studies show that this is not
a large factor once above the median income

</li></ul>

Potential bad news:  &#34;engagement and meaning are much more important
[than pleasure]&#34;.  If you don&#39;t have a job or kids, you might not be
very engaged and what you do might not have any meaning or purpose.
&#34;Cerebral virtues--curiosity, love of learning--are less strongly tied
to happiness than interpersonal virtues like kindness, gratitude, and
the capacity for love.&#34;

<p>

Concrete steps toward more happiness:

</p><ul>

<li>keep a gratitude journal, once a week, in which you write down three
to five things for which you are current thankful

</li><li>practice acts of kindness to make yourself feel generous and capable

</li><li>thank a mentor--in detail and, if possible, in person

</li><li>write letters of forgiveness to people who have hurt or wronged you

</li><li>invest time and energy in friends and family

</li><li>sleep and exercise

</li><li>spend more time with other people (&#34;almost every person feels
happier when they&#39;re with other people,&#34; says one expert quoted in the
issue--note that this makes computer programming a particularly poor
career choice)

</li><li>laugh more (watch <a href="http://www.amazon.com/exec/obidos/asin/B00003CXPJ/pgreenspun-20">Zoolander</a> instead of a serious subtitled French movie)

</li><li>move to a country, city, or neighborhood where you are substantially
wealthier than average (being exposed to lots of richer people will make
you envious and less satisfied with whatever you have)

</li><li>move to a country where people around you are happy (East Asia
bad; Latin America good; U.S. quite good as well)

</li><li>get a dog: studies show that dog owners were happier and less
subject to depression, people were able to do difficult or unpleasant
tasks more easily and with lower blood pressure when accompanied by a
dog; dog owners get more exercise and find it more enjoyable

</li><li>(tough to fake) become a sports fan and cheer like an idiot

</li><li>(even tougher to fake) become religious, ideally Buddhist -- those
who have a lot of religious faith tend to be happier and find meaning in
life; among mainstream U.S. religions, Protestantism is good for
happiness and Judaism is bad

</li></ul>

The TIME issue is negative on marriage as a means for increasing
happiness.  Married people are happier, of course, but mostly because
they were happier and better adjusted to begin with.  TIME ignores the
fact that they previously talked about how children and grandchildren
were critical to happiness.  For most people, it is not practical to
have children outside of marriage, so it seems that people would be
happier if they stayed married at least long enough to have some kids.


<h3>Prepare to Die</h3>

Retiring young has benefits and risks to life expectancy.  You&#39;re not
sitting at a desk all day every day anymore, so you&#39;ll probably lose 10
lbs. simply by being more active.  You won&#39;t be going on business trips
and gorging yourself with expense-account meals.  On the other hand, you
now have time to ski, snowboard, skydive, whitewater raft, fly light
aircraft, travel to Africa, and engage in other risky
activities.  Best to plan for your ultimate demise.

<p>

Unless you think the government is doing such a great job building a new
and better Iraq that you want to pitch in even more, you may wish to
consider ways of avoiding estate tax.  Only the first $2 million of an
estate is currently exempt from taxes, scheduled to rise to $3.5 million
2009, be unlimited in 2010, and come back down to $1 million in 2011.
Some states collect their own estate taxes (see <a href="http://www.retirementliving.com/RLtaxes.html">http://www.retirementliving.com/RLtaxes.html</a>
for a list).  The total tax burden on an estate can be more than 50
percent.

</p><p>

The standard tools that rich families use to preserve their wealth down
through the centuries include the following:

</p><ul> 

<li>give money to a grandchild instead of a child; by skipping a
generation, the government gets only half as many opportunities to
collect estate tax (reduce estate tax by 50 percent)

</li><li>take money that you were going to give to someone upon your death
and, instead, buy a huge life insurance policy with it; when you die
they collect the proceeds of the insurance policy tax-free (reduce
estate taxes by 100 percent)

</li><li>various trusts to hold insurance proceeds and other money so that
young and/or irresponsible inheritors don&#39;t burn through the money too
fast (doesn&#39;t really save tax, but lets you control people from beyond
the grave)

</li><li>charitable foundations and organizations that are supposed to work
for the public benefit, but in fact provide jobs and luxurious vacations
(&#34;board meetings&#34;) for members of your family for decades to come; the
Enron executives were into these.  Supposedly it is illegal and the
family foundation ought to recruit employees on the open market, but in
practice people are able to say &#34;the only person we could find to review
grant applications at our family foundation was our cousin Margaret at
$100,000 per year&#34; (reduce estate taxes by 100 percent)

</li></ul>

A good lawyer can put together a package with a Will, a single trust,
and maybe an insurance policy, for about $2,000.  Even at big firms,
some of the more honest lawyers will do this work for a fixed fee.

<h3>Literature</h3>

Here are some books and movies about people who don&#39;t work.

<ul>
<h4>earned</h4>

<li><a href="http://www.amazon.com/exec/obidos/ASIN/B000BX8R10/pgreenspun-20">Broken Flowers</a>, the 2005 movie with Bill Murray

</li><li><a href="http://www.amazon.com/exec/obidos/ASIN/0786885688/pgreenspun-20">Shop
Girl</a>, by Steve Martin (the book, not the movie); the shop girl&#39;s
boyfriend is a mostly-retired guy whose wealth derives from &#34;a few lines
of computer code&#34;; Steve Martin has a very confused notion of how a
leftover computer nerd might live in terms of fashion and taste

<h4>inherited</h4>

</li><li><a href="http://www.amazon.com/exec/obidos/ASIN/046087781X/pgreenspun-20"><cite>The Whirlpool</cite></a> (1897), by George Gissing

</li><li><a href="http://www.amazon.com/exec/obidos/ASIN/1573227331/pgreenspun-20"><cite>About
a Boy</cite></a> (1998) by Nick Hornby; also 
<a href="http://www.amazon.com/exec/obidos/ASIN/B00005JL7Q/pgreenspun-20">on DVD</a>


</li></ul>


<hr/>

Text and pictures <a href="https://philip.greenspun.com/copyright/">copyright 2006 Philip Greenspun</a>

<hr/>
<a href="https://philip.greenspun.com/"><address>philg@mit.edu</address></a>




<center><h3>Reader&#39;s Comments</h3></center>
	<blockquote>
		Very interesting. Most of my happiness comes from accomplishing goals (creating software products is very satisfying) or from interacting with my spouse, children, extended family and co-workers. I can imagine doing all these things in my free time if retired. I do build software on my own &#39;just for the heck of it&#39;. And incidentally, thanks for all the free software engineering stuff, I can&#39;t read enough (even on my own time).
W

		</blockquote>
<blockquote>
		Phil, this is a great article and one that hits the heart.  I left a certain famous search company after 5 years of employment with a lot of wealth and haven&#39;t been working since.  I think there needs to be more written on this subject of &#39;now what?!&#39; and basically support for some of us young (im 36) retirees who have lost a bit of ambition and direction after leaving the rat race. 
Anyway, after reading your article, i dont feel as guilty anymore splurging on a thing or two (namely justifying buying another car), but more importanly to focus on new things and not lose confidence that you&#39;ll have the motivation to be working hard again one day.  I also never knew that being wealthy has its stigmas...ie alienation from certain friends and certain family, etc.  You really have to be creative in this situation. Keep the ideas and updates on this subject coming...

		</blockquote>
<blockquote>
		I really like your list of how rich families preserve their wealth down to many generations; especially the suggestion on buying a huge life insurance policy and getting monthly annuity payments from it, set for life! According to this site, it is also not advised to take out a lump sum distribution from a <a href="http://www.research401k.com" target="_blank_">401k</a> because:
</blockquote>
<blockquote>
		Dismissing all non-profits because they exist for the benefit of the employees is just a little cynical.  When I stopped working in the corporate world (MSFT) I started working for a non-profit to educate myself and figure out if I wanted to do it long term, and have discovered a wealth of viable causes, and committed people who really are contributing to making the world (sometimes one individual at a time) a better place for the rest of us to live. Sometimes it takes a group of people with different skills to create change, whether it be locally by clearing the trails in a local park, or building a house for others, or globally, thru education and information.  However, when it comes to volunteering, be prepared to be clear about what you are offering and be willing to show up in a committed way, showing up once or twice for a couple hours probably won&#39;t be beneficial to anyone. (altho at YES! magazine, we have successfully used a seminar format to pick the brains of people, in a consulting format).

		</blockquote>
<blockquote>
		From 2001-2004 I was a CEO of a public software company and after a major turnaround, we sold it, and I made enough to &#34;comfortably&#34; retire in my 40&#39;s.

<p>

Since then, I have had both the same joys and frustrations that you mention in your article.  I have enjoyed working out more, reading, traveling all over the world, time with friends and family.

</p><p>

Yet, like most ambitious people, I keep asking myself, &#34;Is there somethhing more?&#34;  &#34;Am I really done with my career?&#34; etc.

</p><p>

Retiring in your 30&#39;s, 40&#39;s, 50&#39;s or 60&#39;s, we will all have to come face to face with the reality that we are all so much more than our jobs, careers, status symbols captured and enjoyed.  

</p><p>

I don&#39;t have my final answer.  I am still struggling through, &#34;Get another CEO Gig&#34; or &#34;Fully pursue all my other passions in life&#34;.

</p><p>

Craig

		</p></blockquote>
<blockquote>
		I&#39;m getting ready to retire fairly early- 53- not through having made a killing in the stock market or working 60-80 hours a week or being in a fabulous Internet startup, but by simply living below my means, maxing out my 403bk contributions, and adding to a seperate brokerage account when I could.

<p>

I found a good broker/money manager who has actively managed my account and averaged about 12%/year after expenses. Over the last few years he&#39;s guided me in moving from higher volitility investment to lower volitility, as well as some tax sheltered investments, and I&#39;m in a position now where I can count on keeping up the same income level I had pre-retirement, along with the growth necessary for inflation, as well as keeping a cushion against the inevitible recessions. 

</p><p>

There are three kinds of &#34;money managers&#34; out there. Most are salemen for insurance companies who will stuff you into low-yield annuities and pcoket large commissions. A lot are drones who will sell you what they&#39;re told to sell by their employers. But there is a small subset who make their money and their reputation doing wealth preservation for reirees and people who have inherited wealth. If you can find one who&#39;s interested in taking on someone who doesn&#39;t yet have a fortune, that can be a good way to go.

		</p></blockquote>
<blockquote>
		If you do want to volunteer your time; organise a conference!  Find something you&#39;re passionate about (free software, gardening...) and see if there&#39;s a related grass-roots conference in your area (for example the &#34;Yet Another Perl Conference&#34;s, the various &#34;Open Source Developers&#39; Conference&#34;s etc).  If so, volunteer to help with the next conference; if not, create one.  It&#39;s a great way to spend time with people, encourage the growth of your field of interest and increase your personal fame within it.  It also comes with a specific due date, so you can walk away at the end if you don&#39;t want to do it again.

		</blockquote>
<blockquote>
		Wonderful article Philip,

<p>

Here are some ideas (many similar to yours) that have worked for me to retire at 51.

</p><p>

[1] Move to a country where you are richer  (I moved from the UK to the USA) Other suggestions would be: Tunisia or Morocco.

</p><p>

[2] Learn something new that&#39;s HARD.  (I took flying lessons at 45 and I am now a private pilot) Other suggestions would be:  play piano, learn chess, get an MA or Phd.

</p><p>

[3] Be creative.  I draw and sculpt. Other suggestions would be: paint, garden, design stuff

</p><p>

[4] Realize that love and sex gets better the older you are.  in your 20s your inexperienced, 
in your 30s your making babies and money, in your forties your getting divorced, but in your 50s your relaxed and enjoying life.

</p><p>

[5] Teach young people your skills and passions.  You will both learn from each other.

</p><p>

[6] Keep buying popular music. Don&#39;t just listen to the hits of your youth but embrace current trends and you will not turn into an old foggie with a bad haircut and dreadful clothes.  My hero whom did this perfectly  was John Peel BBC DJ.

</p><p>

http://en.wikipedia.org/wiki/John_Peel

</p><p>

JUST HAVE FUN AND LIVE FOR EACH DAY.

</p><p>

Simon Holland
Wisconsin
USA

		</p></blockquote>
<blockquote>
		Thanks for the &#34;food for thought&#34; . I have  lived within my means and worked a goverment job -for 23 years paying union and pension dues. My pension will be  (well under the recommended 70 percent of my $70,000 per year gross income)  at 53 percent , wih no debt.

<p>

The human brain needs refreshing , new stimulation to be healthy; dong the same old job  decade -after-decade tends to rot the brain and dry up the soul. My employer seems ill equipted to provide a renewing, refreshing, stimulating workplace.
I am getting out asap at 53 years old, whatever the world brings it will have to be better than the stale, unmotivated, retired-on-your-feet condition of  many long term goverment employees.


		</p></blockquote>
<blockquote>
		Great information. Sadly, I now know that I will have no more motivation
in retirement, than I do now (which is little). I do still look forward to no longer going to a job I no longer like, even a little bit. My last day is 12-22-2008 @ age 50.

<p>

I will take many of your suggestions to heart.

		</p></blockquote>
<blockquote>
		While I am not ready for retirement yet, I found much of use in this article. I was inspired to start a Gratitude Journal on my blog. Feel free to join in on my Thankful Thursdays, starting on 1/15/09. <a herf="http://www.akalranch.com/2009/01/thankful-thursday/" target="_blank">http://www.akalranch.com/2009/01/thankful-thursday/</a>



		</blockquote>
<blockquote>
		I too have not found any good time management material until recently.  There is one lecture I found that is actually useful and goes beyond anything else I&#39;ve seen.  It is the Time Management lecture given by Randy Pausch the &#39;Last Lecture&#39; guy who died of pancreatic cancer recently.  The time management lecture was not his last lecture, but a separate one he gave.  It is sad to think how critical time management was for a person who was dying, but I think he was using these time management skills all the time.  Here is a link to that lecture:  http://www.cs.virginia.edu/~robins/Randy/

		</blockquote>
<blockquote>
		I retired at 32. I&#39;m now 56. Of all the &#34;things&#34; that I&#39;ve done, or junk I&#39;ve bought and disposed of over the years, the most rewarding thing in my life has been my Buddhist practice. And it hasn&#39;t been a walk in the park.

		</blockquote>
<blockquote>
		I have to disagree with much of what you say about non-profits, or at least state that it does not apply to the ones I&#39;m familiar with.  For the record, I&#39;ve worked in the corporate world, a government agency, and am currently working in a non-profit.

<p>

&#34;Non-profit organizations exist to provide their staff with great jobs and the fun of making decisions and spending money.&#34;

</p><p>

Wow, that totally does not apply to the non-profits I know.  Maybe if you&#39;re talking about some cushy art museum, but certainly not your run-of-the-mill non-profit or charity that actually *does* something.  My observation is that the non-profits with the biggest budgets seem to be those with the suckiest missions.  The non-profits and charities that actually do something good for people always seem to be the most desperately under-funded.  Probably because rich people like to give money to organizations in comfortable parts of town that they don&#39;t feel awkward visiting.

</p><p>

&#34;They are not especially interested in efficiency or accomplishment. If you&#39;ve come from the commercial world, in which McDonald&#39;s must be ruthlessly efficient for fear of being destroyed by Burger King, working with or in the typical non-profit organization will likely drive you to insanity.&#34;

</p><p>

Again this is totally false.  I work every bit as hard as I did at my corporate jobs, and many of my colleagues work even harder.  With fewer resources and support.  Sure I&#39;ve known some slackers at my non-profit, but those people have all been laid off by now.  We have to be ruthlessly efficient because we have lots of work to do and very few resources to do it with.  Fewer all the time, because donors don&#39;t like to give money for operating expenses (see below) and we always seem to be losing people but the job never gets scaled back.  We&#39;re always scrambling to find ways to squeeze a little more out of the resources we do have.

</p><p>

Regarding accomplishment, non-profits exist to accomplish things, in particular things that are not profitable.  Non-profits *have* to accomplish things so that they can point to them when they ask for more money to continue their mission.  Most people I know who work at non-profits would just go get a cushy corporate job if they didn&#39;t care about the things their organization was trying to accomplish.  Maybe the problem is with the particular non-profits you&#39;ve been exposed to.

</p><p>

&#34;If you believe in their mission, however, it doesn&#39;t make sense to write them a check.&#34;

</p><p>

Oh my gosh this is so false!  Non-profits *desperately* need people to write checks to them, especially for operating expenses!  When people *do* write big checks, these donations often come with restrictions or are attached to some project that will have the donor&#39;s own name emblazoned on it in large letters.  This is often a building project (see your comments about Harvard).  Donors love to have buildings or pieces of buildings with their names on them, or one-off projects that prominently say &#34;Sponsored by DONOR&#34;, but they don&#39;t seem to care about paying the utilities or replacing old equipment or paying the staff.

</p><p>

The problem is that these ego-boosting building projects are unsustainable.  The place I work is saddled with debt because we did a large building project ten years ago.  It has donors&#39; names all over it, but it&#39;s dragging us down.  If those donors had given us unencumbered funds, or put money in our endowment, we&#39;d be in a lot better shape.

</p><p>

I don&#39;t know how to sum this up, other than to say I&#39;ve worked every bit as hard at my nonprofit job as at my corporate ones because I&#39;m passionate about the organization I work for and its mission.  Also because I know my work contributes to something I believe in rather than lining the pockets of some rich guy who will get to retire early while I&#39;ll probably be slaving away until I die.  Sorry about that last comment, but reading about rich people who get to retire early brings out my inner socialist.

		</p></blockquote>
<blockquote>
		I enjoyed reading your column and I like some of your ideas.  I would think in this difficult economic climate, it is a challenge for retirees to manage their lifestyle into their 80&#39;s.  As a young retiree at 50 years old, my family and friends looked at me with surprise as they expect me to work at least up to 60 years old. Since I have lost my drive to work in the corporate world, I decided to volunteer in non profit organizations, read avidly, blog actively, join a bible study group, travel overseas once or twice a year and spend the rest of my time reviewing my investments.  I have developed my own benchmark for happiness which I reviewed on a yearly basis and improve on areas where I have been lacking.   Although I could say I am doing quite well so far, my greatest challenge is to manage my time, money and talents wisely.  I pray that with God&#39;s grace, I will become more creative in developing new hobbies and even more discerning in my investments and my business ventures. 

		</blockquote>
<blockquote>
		I&#39;m preparing myself (physically &amp; mentally) to leave the corporate world and become full time homemaker. I browsed the internet looking for some valuable &#39;advice&#39; on how to face reality with early retirement and your article came up among others on google page. I am quitting my job as a CEO of a small investment mgt. company at age 43 (am serving 3 months resignation notice fr 6/3/2011) after the job responsibilities became too taxing &amp; stressful for me to endure. Also, the job has taken away my ability to perform my other duties as wife and mother to 4 children well. Nevertheless, the prospect of being left with no &#39;office work&#39; to do from 9-5 after 21 years is still quite unimaginable for me...after reading your article; it helps to put certain perspectives in place. 1st, I have to get my priorities right!. Family first, personal second. I welcome more advice and words of wisdom - maybe from those who retired early &amp; still have school-going children to manage themselves

		</blockquote>
<blockquote>
		This article really goes in depth on many areas effecting early retirees but one area I think could possibly be added is to learn self-sufficent skills.  I personally think anyone retiring without a huge retirement fund should learn how to repair and/or build a home, fix their cars, grow their own food, start a business, etc.

<p>

These skills have come in handy for my early retirement and saved me a nice bit of money.  Since your probably going to have much more time during retirement you can spend some of it upgrading or learning some very practical and money saving skills.

		</p></blockquote>
<blockquote>
		Hi,

<p>

An interesting post you&#39;ve written.

</p><p>

I think it&#39;s a bit disrespectful to say that non-profit workers are under-skilled and over-eager for pay. I worked in an non-profit and I know that I was working harder than most of the people I know in the private sector and getting paid less. There were constant demands on my time and I had to be able to deal with a wide variety of people and changing circumstances on a regular basis. Working in education or with the under-served is never easy. When I worked in the corporate world, I enjoyed endless air-conditioning (yes, these silly things can be an issue), a computer that ALWAYS worked, free coffee, and other perks. I don&#39;t want to seem inane by stating these small perks, but what I&#39;m getting at is that life in the corporate world is just easier because it&#39;s more comfortable on many levels. Not having to walk 20- 30 minutes to your job site from the parking lot (which you had to pay for) with a load of materials, is very nice. In short, in the non-profit world, I had a world of goals and objectives to reach, but had fewer resources to reach them with. :)

</p><p>

I&#39;m sorry that your relationship with non-profits has been negative. I can&#39;t say that mine was entirely positive. Being underpaid for endless amounts of work is never a fun experience. But put that aside, it was the lack of coherence, follow through, and transparency on the part of some of the management that was difficult to deal with.

</p><p>

Best,
M

		</p></blockquote>
<blockquote>
		charitable foundations and organizations that are supposed to work for the public benefit, but in fact provide jobs and luxurious vacations (&#34;board meetings&#34;) for members of your family for decades to come; the Enron executives were into these. Supposedly it is illegal and the family foundation ought to recruit employees on the open market, but in practice people are able to say &#34;the only person we could find to review grant applications at our family foundation was our cousin Margaret at $100,000 per year&#34; (reduce estate taxes by 100 percent)

<p>

Shameless?

		</p></blockquote>

	<center>
	<a href="https://philip.greenspun.com/comments/add?page_id=7641">Add a comment</a>
	</center>
	<center><h3>Related Links</h3></center>
	<ul><li><a href="http://www.lostandfoundinmexico.com" rel="nofollow">Lost and Found in Mexico</a>- Lost and Found in Mexico is a new documentary film-53 minutes-that explores the lives of ex-pats, both young and old, who have abandoned the American dream for life in third world Mexico. It recently played at the San Luis Obispo International Film Festival to an enthusiastic audience. Helpful for those considering a new way of life. Available on DVD.    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=280715">caren cross</a>)</SPAN>
</li><li><a href="http://www.dollartimes.com/calculators/retirement.htm" rel="nofollow">Retirement Calculator</a>- A calculator to estimate how much money you might need to retire    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=290275">H John</a>)</SPAN>
</li><li><a href="http://www.retirementcalculators.org" rel="nofollow">Retirement Calculator</a>- A simple collection of retirement calculators.    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=292456">Matt Clay</a>)</SPAN>
</li><li><a href="http://www.early-retirement.org" rel="nofollow">Early Retirement Community</a>- If you are interested in joining an active online community of quality people who discuss topics regarding Early Retirement we would like to extend an invitation for you to visit our site.    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=302455">Andy R</a>)</SPAN>
</li><li><a href="http://www.firecalc.com" rel="nofollow">FIRECalc - Retirement Calculator</a>- FIRECalc is a free retirement calculator that has been written about in many mainstream publications.  It&#39;s simple to use and offers various solve for methods.  You can quickly analyze what your spending level should be based on your assets or figure out how much you need to save to meet your goals.  It&#39;s been online for 10+ years and all output can be exported to Excel for review or fine tuning the models to your needs.    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=302455">Andy R</a>)</SPAN>
</li><li><a href="http://retirementlivinginthephilippines.com/" rel="nofollow">How To Retire In The  Philippines</a>- Are you now ready for retirement and find that you have lived a dull life, void of adventure and excitement, and one where you went paycheck to paycheck? Or, have you lived a fun filled life, but now find yourself a victim of the economic deterioration of your life savings and limited pension, and that retirement life in the U.S. or U.K. is not going to be that exciting? Then I encourage you to take a look at the opportunity to retire in the  Philippines.    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=330615">retirement living</a>)</SPAN>
</li><li><a href="http://www.lordbrettsinclair.com" rel="nofollow">Retire when YOU decide to</a>- Articles and helpful hints to get out of the rat race and retire early    <SPAN size="-1">(contributed by <a href="https://philip.greenspun.com/shared/community-member?user_id=333755">Brigitte Mehr</a>)</SPAN>
</li></ul>
	<center>
	<a href="https://philip.greenspun.com/links/add?page_id=7641">Add a link</a>
	</center>



</div>]]></content:encoded>
      <guid>https://philip.greenspun.com/materialism/early-retirement/</guid>
      <pubDate>Wed, 04 Aug 2021 14:15:46 +0000</pubDate>
      <source>https://philip.greenspun.com/materialism/early-retirement/</source>
    </item>
    <item>
      <title>EASTL: An Alternative C++ Standard Library From Electronic Arts</title>
      <link>https://github.com/electronicarts/EASTL</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p><a href="https://travis-ci.org/electronicarts/EASTL" rel="nofollow"></a></p>
<p>EASTL stands for Electronic Arts Standard Template Library. It is a C++ template library of containers, algorithms, and iterators useful for runtime and tool development across multiple platforms. It is a fairly extensive and robust implementation of such a library and has an emphasis on high performance above all other considerations.</p>
<h2><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p>If you are familiar with the C++ STL or have worked with other templated container/algorithm libraries, you probably don&#39;t need to read this. If you have no familiarity with C++ templates at all, then you probably will need more than this document to get you up to speed. In this case, you need to understand that templates, when used properly, are powerful vehicles for the ease of creation of optimized C++ code. A description of C++ templates is outside the scope of this documentation, but there is plenty of such documentation on the Internet.</p>
<p>EASTL is suitable for any tools and shipping applications where the functionality of EASTL is useful. Modern compilers are capable of producing good code with templates and many people are using them in both current generation and future generation applications on multiple platforms from embedded systems to servers and mainframes.</p>
<h2><a id="user-content-package-managers" aria-hidden="true" href="#package-managers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Package Managers</h2>
<p>You can download and install EASTL using the <a href="https://github.com/conan-io/conan">Conan</a> package manager:</p>
<div data-snippet-clipboard-copy-content="conan install eastl/3.15.00@
"><pre><code>conan install eastl/3.15.00@
</code></pre></div>
<p>The EASTL package in conan is kept up to date by Conan team members and community contributors. If the version is out-of-date, please <a href="https://github.com/conan-io/conan-center-index">create an issue or pull request</a> on the Conan Center Index repository.</p>
<p>You can download and install EASTL using the <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> dependency manager:</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
vcpkg install eastl
"><pre><code>git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
vcpkg install eastl
</code></pre></div>
<p>The EASTL port in vcpkg is kept up to date by Microsoft team members and community contributors. If the version is out of date, please <a href="https://github.com/Microsoft/vcpkg">create an issue or pull request</a> on the vcpkg repository.</p>
<h2><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<p>Please see <a href="https://github.com/electronicarts/EASTL/blob/master/doc/Introduction.md">EASTL Introduction</a>.</p>
<h2><a id="user-content-compiling-sources" aria-hidden="true" href="#compiling-sources"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Compiling sources</h2>
<p>Please see <a href="https://github.com/electronicarts/EASTL/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a> for details on compiling and testing the source.</p>
<h2><a id="user-content-credits-and-maintainers" aria-hidden="true" href="#credits-and-maintainers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Credits And Maintainers</h2>
<p>EASTL was created by Paul Pedriana and he maintained the project for roughly 10 years.</p>
<p>EASTL was subsequently maintained by Roberto Parolin for more than 8 years.
He was the driver and proponent for getting EASTL opensourced.
Rob was a mentor to all members of the team and taught us everything we ever wanted to know about C++ spookyness.</p>
<p>Max Winkler is the current EASTL owner and primary maintainer within EA and is responsible for the open source repository.</p>
<p>Significant EASTL contributions were made by (in alphabetical order):</p>
<ul>
<li>Avery Lee</li>
<li>Colin Andrews</li>
<li>JP Flouret</li>
<li>Liam Mitchell</li>
<li>Matt Newport</li>
<li>Max Winkler</li>
<li>Paul Pedriana</li>
<li>Roberto Parolin</li>
<li>Simon Everett</li>
</ul>
<h2><a id="user-content-contributors" aria-hidden="true" href="#contributors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributors</h2>
<h2><a id="user-content-projects-and-products-using-eastl" aria-hidden="true" href="#projects-and-products-using-eastl"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Projects And Products Using EASTL</h2>
<ul>
<li>Frostbite - Electronic Arts - [<a href="https://www.ea.com/frostbite" rel="nofollow">https://www.ea.com/frostbite</a>]</li>
</ul>
<h2><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p>Modified BSD License (3-Clause BSD license) see the file LICENSE in the project root.</p>
</article>
        </div></div>]]></content:encoded>
      <guid>https://github.com/electronicarts/EASTL</guid>
      <pubDate>Wed, 04 Aug 2021 13:21:30 +0000</pubDate>
      <source>https://github.com/electronicarts/EASTL</source>
    </item>
    <item>
      <title>Where are the robotic bricklayers?</title>
      <link>https://constructionphysics.substack.com/p/where-are-the-robotic-bricklayers</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___constructionphysics_substack_com_p_where-are-the-robotic-bricklayers/image.jpg" /> 
<div id="readability-page-1" class="page"><div><p>When researching construction, you invariably discover that any new or innovative idea has actually been tried over and over again, often stretching back decades. One of these new-but-actually-old ideas is the idea of a mechanical bricklayer, a machine to automate the construction of masonry walls.</p><p>It’s easy to see the appeal of this idea - masonry construction seems almost perfectly suited for mechanization [0]. It’s extremely repetitive - constructing a masonry building requires setting tens or hundreds of thousands of bricks or blocks, each one (nearly) identical, each one set in the same way. It doesn’t seem like it would require physically complex movements - each brick gets a layer of mortar applied, and is simply laid in place next to the previous one. And because each brick and mortar joint is the same size, placement is almost deterministic - each brick is the same fixed distance from the previous one.</p><p>On top of this, masonry, especially block masonry, is one of the most physically punishing construction tasks, since it requires hours and hours of repetitively moving extremely heavy objects. All together masonry seems like the perfect candidate for a task to hand over to a machine, and it’s something people have been attempting for over 100 years.</p><h3>Early Attempts</h3><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F24266b51-506d-47bd-8141-d30144d4984d_609x393.png"></a><figcaption>John Thompson’s 1904 bricklaying machine</figcaption></figure></div><p>The first attempts at machine-laid masonry date back to the turn of the century - we can find patents issued for mechanical bricklayers in <a href="https://books.google.com/books?id=o8JJAQAAMAAJ&amp;pg=PA82&amp;dq=brick+laying+machine&amp;hl=en&amp;newbks=1&amp;newbks_redir=0&amp;sa=X&amp;ved=2ahUKEwj94fKjq_3xAhVIrJ4KHVkRB944ChDoATAAegQIBhAC#v=onepage&amp;q=brick%20laying%20machine&amp;f=false">1899</a>, <a href="https://patentimages.storage.googleapis.com/ac/13/fa/b5f479fda30195/US772191.pdf">1904</a>, and <a href="https://books.google.com/books?id=NT_nAAAAMAAJ&amp;pg=PA169&amp;dq=brick+laying+machine&amp;hl=en&amp;newbks=1&amp;newbks_redir=0&amp;sa=X&amp;ved=2ahUKEwj474rBqv3xAhVOj54KHYetAQ0Q6AEwBnoECAsQAg#v=onepage&amp;q=brick%20laying%20machine&amp;f=false">1924</a>, all by different individuals (some of whom worked on their idea for years - John Thompson, who was was awarded the 1904 patent, had additional patents in 1918 and 1926). These machines would (theoretically) run along the top of a wall, set down a layer of mortar, and place bricks one at a time. These machines couldn’t sense anything about their environment, or measure where a brick needed to go - they simply extruded a layer of mortar and mechanically placed a brick at regular intervals. It’s unclear how many of these machines ever made it beyond the drawing board, but at least one of these (John Knight’s) was used to build a brick wall that <a href="https://www.britainbycar.co.uk/farnham/489-john-henry-knight">allegedly still stands today</a>.</p><p>This same concept would reappear several times over the next few decades - patents can be found for similar machines issued in the 60s and 70s. This video from 1967 of the “Motor Mason &#39;&#39; shows one in action - it’s not all that different from the early 1900s efforts:</p><p id="youtube2-4MWald1Goqk" data-attrs="{&#34;videoId&#34;:&#34;4MWald1Goqk&#34;,&#34;startTime&#34;:null,&#34;endTime&#34;:null}"><iframe src="https://www.youtube-nocookie.com/embed/4MWald1Goqk?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p><p>These attempts at mechanical bricklayers never made it far beyond the demonstration stage, and never found any sort of commercial success.</p><h3>The 1980s: Bricklaying Robots</h3><p>Beginning in the late 1980s and early 90s, we start to see attempts at mechanizing masonry based around robotic arms. Unlike the previous machines, which were purely mechanical, these machines had an information processing component. Instead of mindlessly repeating the same motions, these arms would combine a high degree-of freedom robotic arm with sensors and control systems to “see” the brick, see where it needed to go, and deliberately grab it and place it there.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F079e277f-0ee9-41ee-9768-12ccfafd6fce_755x474.png"></a><figcaption>Schematic of the ROCCO system, via <a href="https://www.iaarc.org/publications/proceedings_of_the_11th_isarc/first_results_of_the_development_of_the_masonry_robot_system_rocco_a_fault_tolerant_assembly_tool.html">IAARC</a></figcaption></figure></div><p>For a while this was an entire sub-field of academic research - we can find examples in <a href="https://www.sciencedirect.com/science/article/abs/pii/0921889088900206">Slocum 1988</a>, <a href="https://cris.vtt.fi/en/publications/outlines-of-two-masonry-robot-systems">Lehiten 1989</a>, <a href="https://www.sciencedirect.com/science/article/abs/pii/0926580595000097">Rihani 1996</a>, <a href="https://ascelibrary.org/doi/abs/10.1061/(ASCE)0893-1321(1993)6:1(19)">Altobelli 1993</a>, <a href="https://www.sciencedirect.com/science/article/abs/pii/0926580595000151">Pritschow 1996</a>, the <a href="http://www.iaarc.org/publications/proceedings_of_the_5th_isarc/a_robotized_wall_erection_system_with_solid_components.html">SMAS in Japan</a>, and the <a href="https://www.iaarc.org/publications/proceedings_of_the_11th_isarc/first_results_of_the_development_of_the_masonry_robot_system_rocco_a_fault_tolerant_assembly_tool.html">ROCCO system</a>. But despite all the effort expended, these attempts saw about the same level of success as the previous, purely mechanical masonry machines. Most didn’t get past the level of technical descriptions (“here’s how you COULD build a masonry robot”), a few reached the level of prototypes, but essentially no progress was made beyond that. At least one researcher gave up, declaring that general purpose construction robots would be infeasible for the foreseeable future. The single example I can find of a system that <em>might</em> have been used in production is Multistone 8000, a German system that could, with human assistance, automatically assemble masonry wall panels in a factory-like environment.</p><h3>Current Attempts</h3><p>Over the years, masonry has declined in importance as a construction technology in the developed world, and with it the interest in automating it. Unlike with concrete 3D printing, where there are dozens of attempts to develop the technology, I can only find a handful of current efforts to automate masonry.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F3975fb2b-12f1-407a-b215-a96cfa777141_719x436.png"></a><figcaption>Hadrian X, via <a href="https://www.fbr.com.au/">FBR</a></figcaption></figure></div><p>The most advanced of these seems to be the <a href="https://www.fbr.com.au/">Hadrian system</a> by Fastbrick Robotics. Hadrian uses a hollow boom mounted to a truck, through which masonry blocks are transported (sort of like a concrete pump truck). When the block reaches the end of the boom, it’s sprayed with an industrial adhesive (instead of conventional mortar) and grabbed by a robot arm, which places it into the correct position.</p><p>The reach of this boom, combined with it’s vehicle mounting, means that Hadrian has a lot fewer restrictions as to where it can place blocks than other mechanized masonry systems. It’s capable of placing blocks in tight hallways or complex corners, and Hadrian can construct all the walls of a small building with just a few moves of the vehicle. Hadrian can currently set around 200 blocks an hour, but they’re aiming to be able to do 1000 blocks an hour or more (the blocks it sets are different from the block masonry used in the US, but in US masons can set somewhere in the neighborhood of 400 blocks a day).</p><p>Hadrian has been in development since 2006, and has only recently started to be used on commercial jobsites - they’ve built the block walls for 3 or 4 buildings in Australia so far. It seems like they’ve had some struggles as a company (not surprising for a hardware system that’s been in development for over 15 years), and they had what appears to be a fairly serious round of layoffs in 2020. But over the last few months there’s been a slow trickle of projects built using the system.</p><p>But the most commercially successful mechanized masonry system I’m aware of is the <a href="https://www.construction-robotics.com/sam-2/">SAM</a>, semi autonomous mason. SAM is a masonry robot built by Construction Robotics, and has been in use on commercial projects since 2015. Unlike Hadrian, which lays block, SAM lays normal clay bricks - it consists of a robot arm, mortar dispenser and conveyor belt, mounted to a wheeled chassis. The robot arm grabs a brick, applies a layer of mortar to it, and places it into position on the wall, based on an internal “brick map” indicating the location of every brick to be set. Once the brick is in place, it repeats the process, traversing back and forth as it builds up the wall (human masons are required to set bricks at the ends of the wall). SAM has a series of sensors to compensate for the movement of the platform and ensure it’s placing bricks level, and can work with bricks of all different sizes (though it won’t build CMU block walls). It gets mounted to a movable scaffolding that’s raised gradually as the wall is completed.</p><p>Like Hadrian, it also seems like SAM has had some struggles. It can perform well on very long stretches of wall, but on short walls it has trouble outperforming human masons. It can’t turn corners, and it can’t finish the masonry joints. At its best it seems to lay brick around 5 times faster than a human can, but it requires masons to follow behind it to clean the joints and occasionally level the bricks, and an on-site technician to handle technical issues. The <a href="https://www.amazon.com/dp/B07THDGSPG?psc=1&amp;ref=ppx_pop_dt_b_asin_title">book written about the development of SAM</a> documents one challenge after another, and ends with them struggling to find buyers for it. The promotional material on Construction Robotics’ website suggests that it’s no longer their main focus - more emphasis is given to their other product, MULE.</p><p>Other than SAM and Hadrian, there are a few other mechanical bricklayers in various stages of development. Craftsmac, a company out of India, just recently announced a <a href="https://www.youtube.com/watch?v=6WFZmu4rs8E">robotic mason</a> used for building CMU walls - it appears somewhat similar to SAM, a wheeled chassis with a robot arm, conveyor, and mortar mixer mounted to it. This <a href="https://www.youtube.com/watch?v=uIwmtyvoFmw&amp;t=58s">UK system</a> for robotically laying bricks uses a track mounted system gantry system, which both lets it turn corners and eliminates the problem of how to move the robot from floor to floor (trading it for the time and expense of having to assemble the system upfront). <a href="https://rob-technologies.com/robotic-brickwork#brickwork-use-cases-section">ROB</a> uses an off-the-shelf robot arm to build highly variable masonry panels (though it doesn’t seem to be able to handle mortar). You also see the occasional academic effort. Overall the list of efforts in this space is pretty short.</p><p>One area where we do see some commercial success with mechanical bricklaying is with brick roads - a variety of companies offer machines that can “print” a section of road made of bricks. As we’ve <a href="https://constructionphysics.substack.com/p/why-did-agriculture-mechanize-and">seen previously</a>, road construction is slightly easier to mechanize than building construction.</p><h3>Masonry Assistants</h3><p>A slightly different category of machines aimed at improving masonry productivity is what I’ll call “masonry assistants”. These are machines designed to assist with physically lifting the block (they seem to be more common with block than brick) and taking the strain off the mason, while still allowing the mason to manipulate it into position</p><p>Masonry assistants date from at least 1994, when the military experimented with <a href="https://apps.dtic.mil/sti/citations/ADA302081">MAMA</a>, the Mechatronically Assisted Mason’s Aid. It consisted of a gripper attached to a track mounted boom arm. The mason could use the gripper to move the block into place without having to physically lift it. Since then several companies have developed variations of the boom mounted gripper idea - the Layher Balance, Rimatem, and Assistance System Steinherr were a few I can find records of. The only system like this I’m aware of currently for sale is the MULE, sold by Construction Robotics (they seem to have had much more success with it than with SAM).</p><p>But the most interesting of these masonry assistant systems might be the <a href="https://www.masonrymagazine.com/blog/2020/06/01/exoskeletons-for-bricklayers-science-fiction-is-now-reality/">exoskeleton in development by FRACO,</a> just released last year. It was adapted from a model developed for the military, and has various passive and active lifting mechanisms designed to reduce the strain on the mason’s muscles when manipulating blocks.</p><p>Of course, a machine to aid the moving of heavy objects isn’t exactly revolutionary - a commenter on the agricultural productivity article pointed out that one of the most important advancements in masonry productivity was the telescopic handler, which eliminated having to manually move pallets of block into place on the jobsite.</p><h3>Why aren’t mechanical masons already here?</h3><p>Masonry seemed like the perfect candidate for mechanization, but a hundred years of limited success suggests there’s some aspect to it that prevents a machine from easily doing it. This makes it an interesting case study, as it helps define <em>exactly</em> where mechanization becomes difficult - what makes laying a brick so different than, say, hammering a nail, such that the latter is almost completely mechanized and the former is almost completely manual?</p><p>There seems to be a few factors at work. One is the fact that a brick or block isn’t simply set down on a solid surface, but is set on top of a thin layer of mortar, which is a mixture of water, sand, and cementitious material. Mortar has sort of complex physical properties - it’s a non-newtonian fluid, and it’s viscosity increases when it’s moved or shaken. This makes it difficult to apply in a purely mechanical, deterministic way (and also probably makes it difficult for masons to explain what they’re doing - watching them place it you can see lots of complex little motions, and the mortar behaving in sort of strange not-quite-liquid but not-quite-solid ways). And since mortar is a jobsite-mixed material, there will be variation in it’s properties from batch to batch.</p><p>Masonry machines have constantly struggled with the mortar aspect of masonry; many of them simply ignored the aspect of the problem. The academic studies of the late 80s and early 90s were often based on using mortarless walls, wall systems that don’t require mortar joints (such as surface bonded masonry), or mortar alternatives that behaved a little more predictably (which is what Hadrian ended up using). In his 1996 paper, Pritschow comes right out and says that trying to solve the problem of handling mortar is too difficult. The folks that have figured out how to reliably apply mortar still can’t quite manage to produce a clean mortar joint - they simply slather the mortar on there, requiring workers to follow behind and clean it up. In some ways efforts like SAM don’t look all that different from the 50-year-old Motor Mason in this regard.</p><p>Mortar joints make setting blocks more complicated. Whereas a nailgun can apply force to a nail and get a fairly uniform result every time (and if it can’t, it’s not critical - a nail will still function if its driven slightly askew), setting a block on a layer of field-mixed non-newtonian fluid isn’t so forgiving. Without some feedback from the environment (measuring the levelness of the block that’s been set), it’s hard to be sure that the wall is being built level. Human masons are constantly checking the levelness of their blocks with strings or field levels to ensure the wall remains true as it gets built, and making slight adjustments as needed; a mechanical mason needs some way to do the same. SAM seems to have MOSTLY solved this problem, but every so often still needs the workers following behind to tap the blocks level.</p><p>This is one of the main things that separates driving a nail from setting a block - the necessity of making adjustments based on feedback from the environment. Things like nailguns, circular saws, and other power tools are in some sense more like the masonry assistants - they perform some purely physical task, while leaving all the information processing and precise placement work in the hands of humans. A nailgun isn’t responsible for figuring out where a nail needs to go, and moving itself into position - it simply does the physical task of striking the nail.</p><p>The history of routers and milling machines offers an instructive parallel. The first ones were developed in the late 1800s/early 1900s, and the capability for programmatically controlling them was developed in the late 40s/early 50s. But it’s only recently where we’ve had the capability of incorporating real-time feedback, enabling products like the <a href="https://www.shapertools.com/en-us/">Shaper Origin</a> (a handheld router that autocorrects human movements ). Robustly getting a machine to react based on its surrounding environment remains a complex problem, even if the machine is <em>physically</em> capable of doing it.</p><p>There’s also a few other ancillary problems making masonry machines tricky: </p><ul><li><p>Bricks and blocks are large and heavy, which means larger, more expensive machinery is needed to manipulate them (especially if you want to manipulate them <em>quickly</em>, as force scales with acceleration). </p></li><li><p>In the US, masonry walls are constructed with a large amount of reinforcement, which would be difficult to handle for a simple block-based machine (on Hadrian’s projects, the reinforcement was installed manually)</p></li><li><p>For <a href="https://constructionphysics.substack.com/p/why-its-hard-to-innovate-in-construction">risk-aversion</a> reasons, it’s hard to get contractors on board with your technology [1]. A <a href="https://www.youtube.com/watch?v=2msCMjuqeiY">surprisingly candid video</a> from Construction Robotics goes into detail about how difficult it was to convince a particular client to use their system, and the book about the company details many more difficult sells.</p></li></ul><h3>Should we expect to see mechanized masonry get more popular?</h3><p>This is a tough question to answer. Fundamentally, it seems like it depends on what progress in robotics, software, computer vision, and other technologies (which I’ll lump together as “automation”) looks like.</p><p>For all it’s difficulties, masonry has been more successfully automated than other building systems - it’s one of the few systems where commercial robots for building it are actually on the market for general use. So progress in automation technology might plausibly benefit masonry construction most of all, as it’s arguably the farthest along. If automated masonry systems got smaller, faster, could more easily handle corners and finish joints, it might start to look like a very attractive system.</p><p>However, it could just as easily be a rising tide lifts all boats scenario - advancing automation technology could easily be applied to other building systems (wood, steel, etc.) as well. It becomes a question of a question of what the relative improvement curves look like - what gets better the fastest, how long does that stay true?</p><p>Blocks are quite heavy, which means the machines to manipulate them will likely always be more expensive than the machines for manipulating a lighter building system. And even large blocks individually make up a small fraction of the overall building. So automated masonry systems might end up being more expensive and have lower production rates than other building types. We could see a situation where there’s a small window of time where automated masonry becomes extremely popular/competitive, but then is quickly overshadowed as the technology gets adapted for other building systems.</p><p>[0] - There are, roughly, two different kinds of masonry. Brick masonry, which is made from clay bricks, and concrete masonry (CMU, or concrete masonry units), which is made from hollow concrete blocks. To a first approximation, in the US brick masonry is purely decorative and doesn’t support the weight of the building. Block masonry is used as the load bearing structure.</p><p>[1] - The SAM book details quite a few instances of cascading failures caused by process changes. On one job, SAM is unable to set bricks because the wall is unbraced, and the bricklaying platform is much heavier than the ones the firm was used to using, and the wall has insufficient bracing force. The entire project is slowed down. On another project, SAM is slowed down by the masons unexpectedly changing the size of the bricks, which forces them to recreate the brick-map used to program the machine.</p><p><em>Feel free to contact me!</em></p><p><em>email: <a href="mailto:briancpotter@gmail.com">briancpotter@gmail.com</a></em></p><p><em>LinkedIn: <a href="https://email.mg1.substack.com/c/eJxd0kuPsjwYBuBfM-wwbaUcFizEz8OIioyC4oaUUrDKyVIU_fUvzuy-pGmbPE97p-lFiWR5LV52U7dS-UyxfDXMrtizLZiUTChdy0TMU3uMoQmBqaQ2MBA1EoW3cSYYKwkvbKXpkoJTInldfZoh0AA2lYvNkGWlOLEAIJmBNENDSWpkWqYhwlJM9L9M0qWcVZTZ7MHEq66YUtgXKZv2azz5QvNh_MaMyhyO2i5pJaG3Ea3LoUA_xdWzuM0W3mU68X-C-GBsmyDff3fHTV-Kcubvmw7855-f1zXNEmf32kd3nj1gdSCzoim2j81Pil7h1bue9vm3bgVTfkRncL-msAF3ZxLQvtGTR7dSD2-Ps8s1dsVZ3lQh9URbuLi8OJHeh5jQw2m3MRs0PIfNqvSws8ojX0RFM9u-GRYp8-_H7Q7-eOUml11zckOp8pW5jPVx5X3j0mLz7bvOFv3NlGroFHupz3BPHuE53ufeOvIJeIt38XTm8_lkN1WffpJuppdggnPvuQxo6MvZiaqF4_ZiFwptvb3eMirmaJcWT7xWPXlN6lPUhpbxCDRgwkf3dmDs3SL3HFau3qxg1J0KFUXPtRPcw7aXW7DnfeF7E989BcsMcxc64N66csyN4wksk8XSTc97lSP1sRl357iPkAd8hdsIIDhIgRCBYTeCIwIwgQkxDR2CMYMZNsc4Y9BKgKXpOra-NPD__1WEnQhOKtrUH4tDR_7r4FMaxMXDWnYVl6-YVSQpWGpL0TFF_nH-NRPnrGJiYJ7GRNpQR7qpmyY2Bol_9j60LQABGmNlyE7r4VRl07pqh7voB3RzebWctv8AnbARWw">https://www.linkedin.com/in/brian-potter-6a082150/</a></em></p></div></div>]]></content:encoded>
      <guid>https://constructionphysics.substack.com/p/where-are-the-robotic-bricklayers</guid>
      <pubDate>Tue, 03 Aug 2021 21:43:38 +0000</pubDate>
      <source>https://constructionphysics.substack.com/p/where-are-the-robotic-bricklayers</source>
    </item>
    <item>
      <title>Show HN: Till – Unblock and scale your web scrapers, with minimal code changes</title>
      <link>https://github.com/DataHenHQ/till</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text"><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/DataHenHQ/till/blob/main/img/till-logo.svg"></a> <strong>DataHen Till</strong> is a standalone tool that runs alongside your web scraper, and instantly makes your existing web scraper scalable, maintainable and unblockable. It integrates with your existing web scraper without requiring any code changes on your scraper code.</p>
<p>Till was architected to follow best practices that <a href="https://www.datahen.com" rel="nofollow">DataHen</a> has accumulated over the years of scraping at a massive scale.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/DataHenHQ/till/blob/main/img/how-it-works.png"></a></p>
<h2><a id="user-content-problems-with-web-scraping" aria-hidden="true" href="#problems-with-web-scraping"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Problems with Web Scraping</h2>
<p>Web scraping is usually easy to get started, especially on a small scale. However, as you try to scale it up, it gets exponentially difficult. Scraping 10,000 records can easily be done with simple web scraper scripts in any programming language, but as you try to scrape millions of pages, you would need to architect and build features on your web scraping script that allows you to scale, maintain and unblock your scrapers.</p>
<p><strong>DataHen Till</strong> solves the following problems:</p>
<h3><a id="user-content-scaling-your-scraper" aria-hidden="true" href="#scaling-your-scraper"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Scaling your scraper</h3>
<p>Scraping to millions or even billions of records requires much more pre-planning. It&#39;s not simply running your existing web scraper script in a bigger CPU/Ram machine.
More thoughts are needed, such as:</p>
<ul>
<li>How to log massive amounts of HTTP requests.</li>
<li>How to troubleshoot HTTP requests, when it fails at scale.</li>
<li>How to minimize bandwidth usage.</li>
<li>How to rotate proxy IPs.</li>
<li>How to handle anti-scrapers.</li>
<li>What happens when a scraper fails.</li>
<li>How to resume scrapers after they are fixed.</li>
<li>etc.</li>
</ul>
<p>Till provides a plug-and-play method of making your web scrapers scalable, and maintainable following best practices at <a href="https://www.datahen.com" rel="nofollow">DataHen</a> that makes web scraping a pleasant experience.</p>
<h3><a id="user-content-blocked-scraper" aria-hidden="true" href="#blocked-scraper"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Blocked scraper</h3>
<p>As you try to scale up the number of requests, quite often, the target websites will detect your scraper and try to block your requests using Captcha, or throttling, or denying your request completely.</p>
<p>Till helps you circumvent detected as a web scraper by identifying your scraper as a real web browser. It does this by generating random <code>user-agent</code> headers and randomizing proxy IPs (that you supply) on every HTTP request.</p>
<p>Till also makes it easy for you to troubleshoot on why the target website block your scraper.</p>
<h3><a id="user-content-scraper-maintenance" aria-hidden="true" href="#scraper-maintenance"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Scraper Maintenance</h3>
<p>Maintaining high-scale scrapers is challenging due to the massive volume of requests and interactions between your scrapers and the target websites. In order for a smooth operation, you need to think through how to maintain your scrapers regularly.</p>
<p>You need to know how to raise and triage errors as they occur on your scrapers, not all errors on web scraping should be treated equally. some are ignorable, and some are urgent. So, you will need to know what will be the details of your &#34;development-deployment-maintenance&#34; process will be.</p>
<p>Till solves this by logging all your HTTP requests and categorizing them whether it was successful (2XX statuses) or failures(non 2XX statuses). Till also provides a Web UI to analyze the request history and make sense of what happened during your scraping process.</p>
<p>Till makes it even easier for scraper maintenance by assigning each request with a unique Global ID (GID) that is derived from the request&#39;s URL, method, body, etc. You can then use this GID to troubleshoot your scrapers on where it went wrong.</p>
<h3><a id="user-content-postmortem-analysis--reproducability" aria-hidden="true" href="#postmortem-analysis--reproducability"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Postmortem analysis &amp; reproducability</h3>
<p>The biggest difficulty facing any web scraper developer is when there are scraping failures. Your scraper fails when fetching or parsing certain URLs, but when you look at the target website and URLs, everything looks fine. How do you troubleshoot what already happened in the scenario?. How do you reproduce that failed scrape so that you can fix the issue?</p>
<p>Till stores all HTTP requests and the responses (including the response body/content) into a local cache. If at anytime your scraper encounters an error, you can then use the request&#39;s GID (Till assigns a Global ID, also called GID, on every request) to find the request and the actual response and content from the cache. In this way, you can analyze what went wrong with that particular request.</p>
<h3><a id="user-content-starting-over-from-scratch-when-it-fails-mid-way" aria-hidden="true" href="#starting-over-from-scratch-when-it-fails-mid-way"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Starting over from scratch when it fails mid-way</h3>
<p>Websites change all the time and without notice. Imagine running your web scraper for a week and then suddenly, somewhere along the way, it fails. It is frustrating that once you&#39;ve fixed the scraper, there is a high chance that you&#39;d need to start over from scratch again. And, on top of this, there are additional consequences, such as time delay, and further charges related to proxy usage, bandwidth, storage, VM costs, etc.</p>
<p>Till solves this by allowing you to replay your scrapers without actually needing to resend the HTTP requests to the target server.
Till does this by assigning each HTTP request its own unique Global ID (GID) that is generated from the request&#39;s URL, method, headers, etc. It then stores all HTTP responses in the Cache based on their GID.</p>
<p>When you restart your scraper, the scraping process can go blazingly fast because Till now serves the cached version of the HTTP responses. All of this without any code changes on your existing web scraper.</p>
<h2><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<h3><a id="user-content-user-agent-randomizer" aria-hidden="true" href="#user-agent-randomizer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/user-agent-randomizer" rel="nofollow">User-Agent randomizer</a></h3>
<p>Till automatically generates random user-agent on every request. Choose to identify your scraper as a desktop browser, or a mobile browser, or you can even override it with your custom user-agent.</p>
<h3><a id="user-content-proxy-ip-address-rotation" aria-hidden="true" href="#proxy-ip-address-rotation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/proxy-ip-address-rotation" rel="nofollow">Proxy IP address rotation</a></h3>
<p>Supply a list of proxy IPs, and Till will randomly use them on every request. Saves you time in needing to set up a separate proxy rotation service.</p>
<h3><a id="user-content-sticky-sessions" aria-hidden="true" href="#sticky-sessions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/sticky-sessions" rel="nofollow">Sticky Sessions</a></h3>
<p>Your scraper can selectively reuse the same user-agent, proxy IP, and cookie jar for multiple requests. This allows you to easily group your requests based on certain workflow, and allow you to avoid detection from anti-scraping systems.</p>
<h3><a id="user-content-managing-cookies" aria-hidden="true" href="#managing-cookies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/sticky-sessions#manage-cookies" rel="nofollow">Managing Cookies</a></h3>
<p>No need to build your cookie management logic in your scraper codes. Till can store the cookies for you so that you can easily reuse them on subsequent requests.</p>
<h3><a id="user-content-request-logging" aria-hidden="true" href="#request-logging"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/request-log" rel="nofollow">Request Logging</a></h3>
<p>Till will log your requests based on successful request (2XX status code) or failed request (non 2XX status code). This will allow you to easily troubleshoot your scraper later.</p>
<p>The Till UI allows you to make sense of HTTP request history, and troubleshoot what happens during a scraping session.</p>
<h3><a id="user-content-http-caching" aria-hidden="true" href="#http-caching"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/http-caching" rel="nofollow">HTTP Caching</a></h3>
<p>Till caches all of your HTTP responses (and their contents), so that as needed, your web scraper will reuse the cache without needing to do another HTTP request to the target server.</p>
<p>You can selectively choose whether to use a particular cached content or not by specifying how fresh you want Till to serve the cache. For example: If Till holds an existing cached content that is 1 week old, but your web scraper only wants 1-day old content, Till will then only serve cached contents that are 1 day old.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/DataHenHQ/till/blob/main/img/http-caching-flowchart.png"></a></p>
<h3><a id="user-content-global-id-gid" aria-hidden="true" href="#global-id-gid"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://till.datahen.com/docs/http-caching#gid" rel="nofollow">Global ID (GID)</a></h3>
<p>Till uses <a href="https://www.datahen.com/platform" rel="nofollow">DataHen Platform</a>&#39;s convention of marking every unique request with a signature (we call this the Global ID or GID for short). Think of it like a Checksum of the actual request.</p>
<p>Anytime your scraper sends a request through Till, it will return a response with the header <code>X-DH-GID</code> that contains the GID. This GID allows you to easily troubleshoot requests when you need to look up specific requests in the log, or contents in the cache.</p>
<h2><a id="user-content-how-datahen-till-works" aria-hidden="true" href="#how-datahen-till-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How DataHen Till works</h2>
<p>Till works as a Man In The Middle (MITM) proxy that listens to incoming HTTP(S) requests and forwards those requests to the target server as needed. While it does so, it enhances each request to avoid being detected by anti-scrapers. It also logs and caches the responses to make your scraper maintainable and scalable.</p>
<p>Connect your scraper to Till via the <code>proxy</code> protocol that is typically common in any programming language.</p>
<p>Your scraper will then continue to run as-is and it will get instantly become more unblockable, scalable, and maintainable.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/DataHenHQ/till/blob/main/img/how-it-works.png"></a></p>
<h2><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<h3><a id="user-content-step-1-download-till" aria-hidden="true" href="#step-1-download-till"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Step 1: Download Till</h3>
<p>The recommended way to install DataHen Till is by downloading one of the <a href="https://github.com/DataHenHQ/till/releases">standalone binaries</a> according to your OS.</p>
<h3><a id="user-content-step-2-get-your-auth-token" aria-hidden="true" href="#step-2-get-your-auth-token"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Step 2: Get your auth Token</h3>
<p>You need to get your auth token to run Till.</p>
<p>Get your token for FREE by signing up for an account at <a href="https://till.datahen.com/login?type=signup" rel="nofollow">till.datahen.com</a>.</p>
<h3><a id="user-content-step-3-start-till" aria-hidden="true" href="#step-3-start-till"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Step 3: Start Till</h3>
<p>start the Till server with the following command:</p>
<div data-snippet-clipboard-copy-content="$ till serve -t &lt;your token here&gt; 
"><pre>$ till serve -t <span>&lt;</span>your token here<span>&gt;</span> </pre></div>
<p>The above will start a proxy port on <a href="http://localhost:2933" rel="nofollow">http://localhost:2933</a>
and the Till UI on <a href="http://localhost:2980" rel="nofollow">http://localhost:2980</a>.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/DataHenHQ/till/blob/main/img/request-log-ui.png"></a></p>
<h3><a id="user-content-step-4-connect-to-till" aria-hidden="true" href="#step-4-connect-to-till"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Step 4 Connect to Till</h3>
<p>You can connect your scraper to Till without many code changes.</p>
<p>If you want to connect to Till using curl, this is how:</p>
<div data-snippet-clipboard-copy-content="$ curl -k --proxy http://localhost:2933 https://fetchtest.datahen.com/echo/request
"><pre>$ curl -k --proxy http://localhost:2933 https://fetchtest.datahen.com/echo/request</pre></div>
<h2><a id="user-content-certificate-authority-ca-certificates" aria-hidden="true" href="#certificate-authority-ca-certificates"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Certificate Authority (CA) Certificates</h2>
<p>Till decrypts and encrypts HTTPS traffic on the fly between your scraper and the target websites.  In order to do so, your scraper (or browser) must be able to trust the built-in Certificate Authority (CA). This means the CA certificate that Till generates for you, needs to be installed on the computer where the scraper is running.</p>
<p><strong>Note:</strong> If you do not wish to install the CA certificate, you can still have your scraper connect to the Till server by disabling/ignoring security checks in your scraper. Please refer to the programming language/framework/tool that your scraper uses.</p>
<h3><a id="user-content-installing-the-generated-ca-certificates-onto-your-computer" aria-hidden="true" href="#installing-the-generated-ca-certificates-onto-your-computer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing the generated CA certificates onto your computer</h3>
<p>The first time Till runs as a server, Till generates the CA certificates in the following directory:</p>
<p>Linux or MacOS:</p>

<p>Windows:</p>
<div data-snippet-clipboard-copy-content="C:\Users\&lt;your user&gt;\.config\datahen\till\
"><pre><code>C:\Users\&lt;your user&gt;\.config\datahen\till\
</code></pre></div>
<p>Then, please follow the following instructions to install the CA certificates:</p>
<h4><a id="user-content-macos" aria-hidden="true" href="#macos"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>MacOS</h4>
<p><a href="https://support.apple.com/en-ca/guide/keychain-access/kyca2431/mac" rel="nofollow">Add certificates to a keychain using Keychain Access on Mac</a></p>
<h4><a id="user-content-ubuntudebian" aria-hidden="true" href="#ubuntudebian"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Ubuntu/Debian</h4>
<p><a href="https://askubuntu.com/questions/73287/how-do-i-install-a-root-certificate/94861#94861" rel="nofollow">How do I install a root certificate</a></p>
<h4><a id="user-content-mozilla-firefox" aria-hidden="true" href="#mozilla-firefox"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Mozilla Firefox</h4>
<p><a href="https://wiki.mozilla.org/MozillaRootCertificate#Mozilla_Firefox" rel="nofollow">how to import the Mozilla Root Certificate into your Firefox web browser</a></p>
<h4><a id="user-content-chrome" aria-hidden="true" href="#chrome"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Chrome</h4>
<p><a href="https://stackoverflow.com/questions/7580508/getting-chrome-to-accept-self-signed-localhost-certificate/15076602#15076602" rel="nofollow">Getting Chrome to accept self-signed localhost certificate</a></p>
<h4><a id="user-content-windows" aria-hidden="true" href="#windows"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Windows</h4>
<p>Use <code>certutil</code> with the following command:</p>
<div data-snippet-clipboard-copy-content="certutil -addstore root &lt;path to your CA cert file&gt;
"><pre><code>certutil -addstore root &lt;path to your CA cert file&gt;
</code></pre></div>
<p>Read more about <a href="https://web.archive.org/web/20160612045445/http://windows.microsoft.com/en-ca/windows/import-export-certificates-private-keys#1TC=windows-7" rel="nofollow">certutil</a></p>
</article>
        </div></div>]]></content:encoded>
      <guid>https://github.com/DataHenHQ/till</guid>
      <pubDate>Wed, 04 Aug 2021 10:16:52 +0000</pubDate>
      <source>https://github.com/DataHenHQ/till</source>
    </item>
    <item>
      <title>Spreadsheet Formulas for Personal Finance</title>
      <link>https://bou.ke/blog/formulas/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
<div>
  
  <p><span>Aug 2021</span></p>
  <p>I love spreadsheets. Spreadsheet programs like Microsoft’s Excel, Apple’s Numbers and Google Sheets are the secret heroes of our civilization.</p>

<p>I’ve also been interested in personal finance and the <em>FIRE</em> community for a while—not so much in the early retirement aspect but in the financial literacy it teaches its members. I have combined my passion for both into one mega-spreadsheet that I use to track my income, expenses, savings and investments in one overview. While creating this spreadsheet I got proficient in some new formulas, which I’ll share here—and also write down for my own reference.</p>

<h2 id="annuity-functions">Annuity Functions</h2>

<p>An <em>annuity</em> is a regular set of payments that accumulates into/diminishes a <em>principal</em> (basically a balance) that often has an associated <em>interest</em> on the principal. This is traditionally used for answering questions around <em>life annuities</em> which are products bought to guarantee an income for a certain amount of time—e.g. you want to buy an annuity that pays €250 per month for the next 10 years while the interest rate is 2%, what should its price be? These functions are also useful for calculating things before your retirement, however.</p>

<p>The functions for calculating with annuities are <code>PMT</code>, <code>RATE</code>, <code>PV</code>, <code>NPER</code> and <code>FV</code>. I will give an example for each of these and you will notice that each takes the other four as input values.</p>

<h3 id="fv">FV</h3>

<p><code>FV</code> stands for Future Value and it allows you to answer the following question: given an initial sum, an interest rate, a periodic payment and a duration, what will the balance be after the last payment? The definition is:</p>

<div><div><pre><code>FV(rate, nper, pmt, pv, type)
</code></pre></div></div>

<p>The only argument I’ll gloss over in this post is <code>type</code>, which specified whether the payment is done at the beginning (1) or end (0) of the period, which matters for the interest.</p>

<p>You can use the <code>FV</code> function to answer the following question:</p>

<blockquote>
  <p>If I have €1000 in an investment that grows with 5% annually and I contribute €100 per month for the next 10 years, how much will accrue?</p>
</blockquote>

<p>This can be calculated with the following formula:</p>

<div><div><pre><code>FV(5% ÷ 12, 10 × 12, 100, 1000) = -17,175.24
</code></pre></div></div>

<p>Huh? Why is it negative? It’s because the formulas work with ‘inflows’ and ‘outflows’. Every month 100 flows into the ‘sum’ and at the end the whole sum flows ‘out’—therefore it’s negative. You can also flip the signs on the <code>pmt</code> and <code>pv</code> values which will make the <code>FV</code> result positive.</p>

<h3 id="pmt">PMT</h3>

<p><code>PMT</code> means Payment and is useful for mortgage calculations and savings goals. It is defined as:</p>

<div><div><pre><code>PMT(rate, nper, pv, fv, type)
</code></pre></div></div>

<p>For example:</p>

<blockquote>
  <p>I am looking to get a €200,000 mortgage to buy a house and the current interest rate is 2%. I will have to make monthly payments for the next 30 years. What will my monthly payment be?</p>
</blockquote>

<p>The answer to this question is:</p>

<div><div><pre><code>PMT(2% ÷ 12, 30 × 12, -200000, 0) = 739.24
</code></pre></div></div>

<p>Another question that can be solved with the same function is:</p>

<blockquote>
  <p>I have €3000 saved in an account that grows with 4% per year. I want to have €200,000 saved 10 years from now to buy a house, how much will I have to contribute per month to reach my goal?</p>
</blockquote>

<p>The answer (note that <code>pv</code> and <code>fv</code> have opposite signs, because they flow in opposite directions):</p>

<div><div><pre><code>PMT(4% ÷ 12, 10 × 12, 3000, -200000) = 1,327.86
</code></pre></div></div>

<h3 id="rate">RATE</h3>

<p><code>RATE</code> calculates what interest rate you need to match the other parameters. I personally haven’t found a need for this, but you could use it to figure out what investment target you need to hit to reach your goal.</p>

<div><div><pre><code>RATE(nper, pmt, pv, fv, type)
</code></pre></div></div>

<p>As example, if you have €1000 and want to grow it to €100.000 in 20 years without making any contributions, what growth rate do you need?</p>

<div><div><pre><code>RATE(20, 0, 1000, -100000) = 25.89%
</code></pre></div></div>

<p>Not very realistic!</p>

<h3 id="nper">NPER</h3>

<p><code>NPER</code> calculates the Number of Periods it takes to reach a Future Value. One of the fundamental blog posts in the FIRE community is <a href="https://www.mrmoneymustache.com/2012/01/13/the-shockingly-simple-math-behind-early-retirement/" target="_blank">The Shockingly Simple Math Behind Early Retirement</a>—the gist of which is that the specific amounts of how much you make or save don’t matter for calculating how long until you’re financially independent, but rather the ratio between them: your savings rate. We can use <code>NPER</code> to make this calculation.</p>

<div><div><pre><code>NPER(rate, pmt, pv, fv, type)
</code></pre></div></div>

<p>To recreate the table from the blogpost we use the following formula:</p>

<div><div><pre><code>Investment Returns = 5%
Savings Rate = 50%
Safe Withdrawal Rate = 4%

NPER(IR, -SR, 0, (1 - SR) ÷ SWR) = 16.62 years
</code></pre></div></div>

<p>If we put this into a table we get the following:</p>

<table>
  <thead>
    <tr>
      <th>Savings Rate</th>
      <th>Years Until FI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>5%</td>
      <td>65.8</td>
    </tr>
    <tr>
      <td>10%</td>
      <td>51.4</td>
    </tr>
    <tr>
      <td>15%</td>
      <td>42.8</td>
    </tr>
    <tr>
      <td>20%</td>
      <td>36.7</td>
    </tr>
    <tr>
      <td>25%</td>
      <td>31.9</td>
    </tr>
    <tr>
      <td>30%</td>
      <td>28.0</td>
    </tr>
    <tr>
      <td>35%</td>
      <td>24.6</td>
    </tr>
    <tr>
      <td>40%</td>
      <td>21.6</td>
    </tr>
    <tr>
      <td>45%</td>
      <td>19.0</td>
    </tr>
    <tr>
      <td>50%</td>
      <td>16.6</td>
    </tr>
    <tr>
      <td>55%</td>
      <td>14.4</td>
    </tr>
    <tr>
      <td>60%</td>
      <td>12.4</td>
    </tr>
    <tr>
      <td>65%</td>
      <td>10.5</td>
    </tr>
    <tr>
      <td>70%</td>
      <td>8.8</td>
    </tr>
    <tr>
      <td>75%</td>
      <td>7.1</td>
    </tr>
    <tr>
      <td>80%</td>
      <td>5.6</td>
    </tr>
    <tr>
      <td>85%</td>
      <td>4.1</td>
    </tr>
    <tr>
      <td>90%</td>
      <td>2.7</td>
    </tr>
    <tr>
      <td>95%</td>
      <td>1.3</td>
    </tr>
    <tr>
      <td>100%</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>

<p>Which matches the table from the original blog post.</p>

<h3 id="pv">PV</h3>

<p><code>PV</code> for Present Value makes it possible to calculate how much you need to contribute today to get a certain result in the future, or the value of something today discounted from the future.</p>

<div><div><pre><code>PV(rate, nper, pmt, fv, type)
</code></pre></div></div>

<p>Let’s answer the following question:</p>

<blockquote>
  <p>I want to buy an annuity that yields €100/month for the next 10 years and the interest rate is 2%. How much will it cost?</p>
</blockquote>

<p>The answer is:</p>

<div><div><pre><code>PV(2% ÷ 12, 10 × 12, −100, 0) = 10,867.98
</code></pre></div></div>

<p>An controversial book on investing I recently read is <a href="https://www.lifecycleinvesting.net" target="_blank">Lifecycle Investing</a> which argues that young people are often much too conservative in their investment strategy, because they should model their future earnings as a bond and allocate enough to equities to compensate for holding this bond, even leveraging up to 100% to get the right allocation. To calculate the present value we can use the following formula, assuming you will work for another 20 years, can save €300 per month and discount your future earnings by 4% annually:</p>

<div><div><pre><code>PV(4% ÷ 12, 20 × 12, -300, 0) = -49,506.56
</code></pre></div></div>

<p>So we can value our future savings at about €50k in current monies and adjust our portfolio accordingly.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Do you have any useful spreadsheet tricks you learned recently? Please let me know, I’m always looking to expand my toolbox!</p>

</div>
</div></div>]]></content:encoded>
      <guid>https://bou.ke/blog/formulas/</guid>
      <pubDate>Mon, 02 Aug 2021 14:57:58 +0000</pubDate>
      <source>https://bou.ke/blog/formulas/</source>
    </item>
    <item>
      <title>Galois Groups and the Symmetries of Polynomials</title>
      <link>https://www.quantamagazine.org/how-galois-groups-used-polynomial-symmetries-to-reshape-math-20210803/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_quantamagazine_org_how-galois-groups-used-polynomial-symmetries-to-reshape-math-20210803_/image.jpg" /> 
<div id="readability-page-1" class="page"><div data-reactid="206"><section data-reactid="207"><section data-reactid="208"><div data-reactid="209"><div data-reactid="211"><div data-reactid="212"><h6 data-reactid="213"><a href="https://www.quantamagazine.org/tag/group-theory/" data-reactid="214">group theory</a></h6><!-- react-empty: 216 --><div data-reactid="224"><p>By focusing on relationships between solutions to polynomial equations, rather than the exact solutions themselves, Évariste Galois changed the course of modern mathematics.</p></div></div></div></div></section></section></div><div data-reactid="260"><div data-reactid="261"><div data-reactid="262"><div data-reactid="263"><section data-reactid="319"><div data-reactid="320"><div data-reactid="321"><div data-reactid="322"><p>Before being mortally wounded in a duel at age 20, Évariste Galois discovered the hidden structure of polynomial equations. By studying the relationships between their solutions — rather than the solutions on their own — he created new concepts that have since become an essential part of many branches of mathematics.</p>
<p>No one knows why Galois found himself on a Paris dueling ground early in the morning of May 30, 1832, but the night before, legend has it that he stayed up late finishing his last manuscripts. There he wrote:</p>
<blockquote><p><small>Go to the roots of these calculations! Group the operations. Classify them </small><small>according to their complexities rather than their appearances! This, I believe, is the mission of future mathematicians. This is the road on which I am embarking in this work.</small></p></blockquote>
<p>Galois’ edict emerged from a mathematical predicament. In the 1500s, mathematicians had studied polynomials like <em>x</em><sup>2 </sup>− 2 and <em>x</em><sup>4 </sup>− 10<em>x</em><sup>2 </sup>+ 22. They had tried to find simple formulas that would allow them to calculate the roots of those polynomials — the values of <em>x</em> that make the equation equal zero — but could only find them when the highest exponent was no greater than 4.</p>

<p>Beyond that, Galois himself proved that no such formulas exist. So he devised a new way of studying roots: Instead of calculating them exactly, he realized he could study the algebraic relationships between them — focusing on their complexities, rather than their appearances.</p>
<p>In spirit, his perspective was similar to considering a shape’s different symmetries. These are the various ways of reorienting the shape so that it still looks the same, such as rotating a square by 180 degrees. Symmetries between a polynomial’s roots are ways of swapping them so that they maintain the same algebraic relationship.</p>
<p>And just as some shapes have more symmetries than others (a circle has infinitely many; a square has just eight), you can rearrange the roots of some polynomial equations more freely than you can rearrange the roots of others.</p>
<p>“Some ways of rearranging the roots can be incompatible with the rules of algebra. In this sense, the roots might not be entirely interchangeable with one another,” said <a href="http://math.stanford.edu/~conrad/">Brian Conrad</a> of Stanford University.</p>
<p>The extent to which roots can be swapped with each other while maintaining algebraic consistency is a subtle property that tells mathematicians a lot about how to recognize features of polynomials that can’t be seen just by looking at them. It’s easiest to see with examples. Let’s take a look at two, each of which has three roots (since the highest exponent of each is 3):</p>
<p><em>f</em>(<em>x</em>) = <em>x</em><sup>3</sup> − 7<em>x</em> + 5</p>
<p><em>g</em>(<em>x</em>) = <em>x</em><sup>3</sup> − 7<em>x</em> + 7</p>
<p>On paper, they’re nearly identical. But behind the scenes, the roots of one can be rearranged in more ways than the roots of the other.</p>
<p>Let’s focus on <em>f</em>(<em>x</em>) first. Here, we have three roots: <em>a</em>, <em>b</em> and <em>c</em>. We can combine them algebraically to make a new value by taking the product of pairs of roots and adding them together. For all cubic polynomials — those with 3 as their highest exponent — with a coefficient of 1 for the cubed term, it’s known that this particular algebraic expression made from the roots always equals the coefficient of the linear term, or the term that is raised to the first power. In our example, this is −7.</p>
<p>We get this algebraic equation:</p>
<p><em>ab</em> + <em>ac</em> + <em>bc</em> = −7.</p>
<p>Now let’s rearrange the roots, leaving <em>c</em> alone, but switching <em>a</em> and <em>b</em>. We get:</p>
<p><em>ba</em> + <em>bc</em> + <em>ac</em> = −7.</p>
<p>Rearranging the roots in this way preserves the algebraic relationship between them: The equation is still true because multiplication and addition are commutative, meaning that swapping the order of things — like shuffling the roots around — doesn’t change the answer. In fact, for this example, all six possible ways of rearranging the roots (including the one where they don’t change) preserves the relationship:</p>
<p><strong><em>a, b, c: ab</em></strong><strong> + <em>ac</em> + <em>bc</em> = </strong><strong>−</strong><strong>7</strong></p>
<p>Now let’s look at the second polynomial,<em> g</em>(<em>x</em>) = <em>x</em><sup>3</sup> − 7<em>x</em> + 7. If we call the roots <em>r</em>, <em>s</em> and <em>t</em>, then an analogous equation to the one for <em>f</em>(<em>x</em>) holds as well:</p>
<p><em>rs</em> + <em>rt</em> + <em>st</em> = −7.</p>
<p>This will be true for any cubic polynomial whose initial term is <em>x</em><sup>3</sup> and whose linear term is −7<em>x</em>. And again, all six of the possible arrangements still equal −7. But curiously, for <em>g</em>(<em>x</em>), not all of them are considered symmetries of the polynomial.</p>
<p>This is because the algebraic relationships among its roots are more complex: There is an additional special algebraic relationship that its roots satisfy. The special relationship is (<em>r</em> − <em>t</em>)(<em>r</em> − <em>s</em>)(<em>t</em> − <em>s</em>) = 7 (when you assume <em>r </em>is less than <em>s</em>, and <em>s</em> is less than <em>t</em>). Only three of the six possible rearrangements of its roots preserve both algebraic relationships: <em>rs</em> + <em>rt</em> + <em>st</em> = 7 and (<em>r</em> − <em>t</em>)(<em>r</em> − <em>s</em>)(<em>t</em> − <em>s</em>) = 7:</p>
<p><strong><em>r</em>, <em>s</em>, <em>t: </em>(<em>r </em></strong><strong>− <em>t</em>)(<em>r</em> </strong><strong>− <em>s</em>)(<em>t</em> </strong><strong>− <em>s</em>) = 7<br/>
</strong><em>  s</em>, <em>r</em>, <em>t: </em>(<em>s </em>− <em>t</em>)(<em>s </em>− <em>r</em>)(<em>t </em>− <em>r</em>) = −7</p>
<p>The three rearrangements in bold preserve all algebraic relationships among the roots, even beyond these two. Consequently, these three rearrangements are considered to be the symmetries of the polynomial.</p>
<p>It’s not obvious at a glance that the two polynomials have different levels of complexity, but it becomes visible when you adopt the perspective Galois invented.</p>

<p>Galois packaged his way of thinking in new objects — which came to be called Galois groups — that encode the complexity of the algebraic relationships between the roots of a given polynomial. Within these relationships, rearrangements of roots can be applied one after another, but they can be undone to get back to where you started — just as you can apply the symmetries of a square and then undo them to get back to the exact position you began with.</p>
<p>This idea reflects the general concept of a group in mathematics, which is a collection of symmetries, whether they apply to a square or the roots of a polynomial. Galois groups were the first instances of the concept of a group, and Galois’ ideas blossomed into what today is a powerful, ubiquitous area of research called group theory.</p>
<p>Galois groups provide a powerful perspective from which to study polynomial equations. If you know the Galois group of a polynomial, then the behavior of its roots can be understood by accessing many of the tools of group theory. The insights you’ll gain through this approach are far more illuminating than the ones you can get by performing algebra on the polynomial itself.</p>
<p>“[With Galois groups] you get this one piece of information, and it spreads and tells you so much more,” said <a href="https://www2.math.upenn.edu/~harbater/">David Harbater</a> of the University of Pennsylvania.</p>

<p>For instance, the Galois group immediately tells you whether a polynomial can be solved at all, and it allows you to compare the underlying structure of different polynomials. Galois groups can also be used to study various mathematical objects in algebra and number theory in ways that open up solutions to problems that aren’t otherwise available.</p>
<p>“Turning a question about polynomials into a question about groups opens up the door to many other mathematical operations and techniques that cannot be readily described in the original language of polynomials,” said Conrad.</p>
<p>This expansiveness has allowed Galois groups to play a central role in many of the most celebrated mathematical projects over the last century or so. They featured in Gerd Faltings’ 1983 proof of the Mordell conjecture and Andrew Wiles’ 1994 proof of Fermat’s Last Theorem.</p>

<p>Galois groups are also at the heart of some of the most exciting ongoing work in mathematics today. As <em>Quanta</em> explained in a <a href="https://www.quantamagazine.org/with-a-new-shape-mathematicians-link-geometry-and-numbers-20210719/">recent feature story</a>, they are the linchpin of the sprawling Langlands program, which turns a question about polynomials into a more sophisticated and revealing question about the relationship between Galois groups and another special class of groups.</p>
<p>Though Évariste Galois’ life was cut short, his greatest achievement will continue to advance mathematics for centuries to come — though it’s hard to predict exactly how.</p>
<p>“[Galois groups] just have a way of appearing in surprising places,” said <a href="https://people.math.wisc.edu/~jose/">Jose Rodriguez</a> of the University of Wisconsin, Madison.</p>
</div></div></div></section></div></div></div></div></div>]]></content:encoded>
      <guid>https://www.quantamagazine.org/how-galois-groups-used-polynomial-symmetries-to-reshape-math-20210803/</guid>
      <pubDate>Wed, 04 Aug 2021 08:50:51 +0000</pubDate>
      <source>https://www.quantamagazine.org/how-galois-groups-used-polynomial-symmetries-to-reshape-math-20210803/</source>
    </item>
    <item>
      <title>The STEM Crisis Is a Myth</title>
      <link>https://spectrum.ieee.org/the-stem-crisis-is-a-myth</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-elid="2650269799" data-post-url="https://spectrum.ieee.org/the-stem-crisis-is-a-myth" data-authors="Robert N. Charette" data-headline="The STEM Crisis Is a Myth"><div><p>
<strong>You must have seen the warning </strong>a thousand times: Too few young people study scientific or technical subjects, businesses can&#39;t find enough workers in those fields, and the country&#39;s competitive edge is threatened.
</p><p>
	It pretty much doesn&#39;t matter what country you&#39;re talking about—the United States is facing this crisis, as is 
	<a href="http://www.nytimes.com/2008/05/17/business/worldbusiness/17engineers.html?pagewanted=all&amp;_r=0">Japan</a>, the <a href="http://www.parliament.uk/business/committees/committees-a-z/lords-select/science-and-technology-committee/news/stem-report-published/">United Kingdom</a>, <a href="http://www.adelaidenow.com.au/news/south-australia/education-to-tackle-shortage-of-20000-engineers-in-australia/story-e6frea83-1225907964866">Australia</a>, <a href="http://www.mckinsey.com/insights/china/addressing_chinas_looming_talent_shortage">China</a>,<a href="http://www.truth-out.org/archive/item/93684:running-out-of-engineers"> Brazil</a>, <a href="http://www.moneyweb.co.za/moneyweb-south-africa/sas-engineering-shortage-widens">South Africa</a>, <a href="http://www.youtube.com/watch?v=aozIkbu2rB0">Singapore</a>, <a href="http://www.thehindu.com/news/cities/Vijayawada/india-facing-shortage-of-engineers-in-st-drdo-dg/article4356570.ece">India</a>…the list goes on. In many of these countries, the predicted shortfall of STEM (short for science, technology, engineering, and mathematics) workers is supposed to number in the hundreds of thousands or even the millions. A 2012 report by President Obama&#39;s Council of Advisors on Science and Technology, for instance, stated that over the next decade, <a href="http://www.whitehouse.gov/sites/default/files/microsites/ostp/pcast-engage-to-excel-final_2-25-12.pdf">1 million additional STEM graduates</a> will be needed. In the U.K., the Royal Academy of Engineering reported last year that the nation will have to graduate <a href="http://www.theengineer.co.uk/channels/policy-and-business/report-reveals-scale-of-uks-engineering-skills-shortage/1014081.article">100 000 STEM majors every year until 2020</a> just to stay even with demand. <a href="http://www.dbresearch.com/servlet/reweb2.ReWEB?addmenu=false&amp;document=PROD0000000000288952&amp;rdShowArchivedDocus=true&amp;rwobj=ReDisplay.Start.class&amp;rwsite=DBR_INTERNET_EN-PROD">Germany, meanwhile, is sa to have a shortage of about 210 000 workers</a> in what&#39;s known there as the MINT disciplines—mathematics, computer science, natural sciences, and technology.
</p><p>
	The situation is so dismal that governments everywhere are now pouring billions of dollars each year into myriad efforts designed to boost the ranks of STEM workers. President Obama has called for government and industry to train 10 000 new U.S. engineers every year as well as 
	<a href="http://www.whitehouse.gov/the-press-office/2011/01/25/fact-sheet-state-union-president-obamas-plan-win-future">100 000 additional STEM teachers by 2020</a>. And until those new recruits enter the workforce, <a href="http://www.wavy.com/dpp/news/politics/congress/Hightech-pushes-for-more-in-immigration-bill_01365267">tech companies like Facebook, IBM, and Microsoft are lobbying to boost the number of H-1B visas</a>—temporary immigration permits for skilled workers—from 65 000 per year to as many as 180 000. The European Union is similarly introducing the new <a href="http://www.eubluecard.nl/eu_blue_card">Blue Card visa</a> to bring in skilled workers from outside the EU. The government of India has said it needs to add <a href="http://news.oneindia.in/2010/03/24/indianeeds-800-universities-35000-colleges-in-next-tenye.html">800 new universities</a>, in part to avoid a <a href="http://www.levininstitute.org/pdf/LevinBRICSFinal.pdf">shortfall of 1.6 million university-educated engineers</a> by the end of the decade.
</p><p>
	And yet, alongside such dire projections, you&#39;ll also find reports suggesting just the opposite—that there are more STEM workers than suitable jobs. One study found, for example, that 
	<a href="http://www.epi.org/publication/pm195-stem-labor-shortages-microsoft-report-distorts/">wages for U.S. workers in computer and math fields have largely stagnated</a> since 2000. Even as the Great Recession slowly recedes, STEM workers at every stage of the career pipeline, from freshly minted grads to mid- and late-career Ph.D.s, still struggle to find employment as many companies, including Boeing, <a href="http://www.crn.com/news/data-center/240156885/ibm-layoffs-said-to-be-widespread-throughout-company.htm">IBM</a>, and <a href="http://www.mercurynews.com/business/ci_23452499/symantec-plans-layoffs-joining-zynga-and-netapp">Symantec</a>, continue to lay off thousands of STEM workers.
</p><p>
<small placeholder="Add Photo Caption...">A Matter of Supply vs. Demand: Every year U.S. schools grant more STEM degrees than there are available jobs. When you factor in H-1B visa holders, existing STEM degree holders, and the like, it&#39;s hard to make a case that there&#39;s a STEM labor shortage.</small>
</p><p>
	To parse the simultaneous claims of both a shortage and a surplus of STEM workers, we&#39;ll need to delve into the data behind the debate, how it got going more than a half century ago, and the societal, economic, and nationalistic biases that have perpetuated it. And what that dissection reveals is that there is indeed a STEM crisis—just not the one everyone&#39;s been talking about. The real STEM crisis is one of literacy: the fact that today&#39;s students are not receiving a solid grounding in science, math, and engineering.
</p><p>
<strong>In preparing this article,</strong> I went through hundreds of reports, articles, and white papers from the past six decades. There were plenty of data, but there was also an extraordinary amount of inconsistency. Who exactly is a STEM worker: somebody with a bachelor&#39;s degree or higher in a STEM discipline? Somebody whose job requires use of a STEM subject? What about someone who manages STEM workers? And which disciplines and industries fall under the STEM umbrella?
</p><p>
	Such definitions obviously affect the counts. For example, in the United States, both the National Science Foundation (NSF) and the Department of Commerce track the number of STEM jobs, but using different metrics. According to Commerce, 
	<a href="http://www.esa.doc.gov/sites/default/files/reports/documents/stemfinalyjuly14_1.pdf">7.6 million individuals worked in STEM jobs in 2010</a>, or about 5.5 percent of the U.S. workforce. That number includes professional and technical support occupations in the fields of computer science and mathematics, engineering, and life and physical sciences as well as management. The <a href="http://www.nsf.gov/statistics/infbrief/nsf13311/">NSF, by contrast, counts 12.4 million</a> science and engineering jobs in the United States, including a number of areas that the Commerce Department excludes, such as health-care workers (4.3 million) and psychologists and social scientists (518 000).
</p><p>Such inconsistencies don&#39;t just create confusion for numbers junkies like me; they also make rational policy discussions difficult. Depending on your point of view, you can easily cherry-pick data to bolster your argument.
</p><p>Another surprise was the apparent mismatch between earning a STEM degree and having a STEM job. Of the 7.6 million STEM workers counted by the Commerce Department, only 3.3 million possess STEM degrees. Viewed another way, about 15 million U.S. residents hold at least a bachelor&#39;s degree in a STEM discipline, but three-fourths of them—11.4 million—work outside of STEM.
</p><p>The departure of STEM graduates to other fields starts early. In 2008, the NSF surveyed STEM graduates who&#39;d earned bachelor&#39;s and master&#39;s degrees in 2006 and 2007. It found that
</p><p>
<a href="http://www.nsf.gov/statistics/nsf12328/content.cfm?pub_id=4169&amp;id=2">2 out of 10 were already working in non-STEM fields</a>. And 10 years after receiving a STEM degree, <a href="http://www9.georgetown.edu/grad/gppi/hpi/cew/pdfs/stem-complete.pdf">58 percent of STEM graduates had left the field</a>, according to a 2011 study from Georgetown University.
</p><p>The takeaway? At least in the United States, you don&#39;t need a STEM degree to get a STEM job, and if you do get a degree, you won&#39;t necessarily work in that field after you graduate. If there is in fact a STEM worker shortage, wouldn&#39;t you expect more people with STEM degrees to be filling those jobs? And if many STEM jobs can be filled by people who don&#39;t have STEM degrees, then why the big push to get more students to pursue STEM?
</p><p>Now consider the projections that suggest a STEM worker shortfall. One of the most cited in recent U.S. debates comes from the 2011 Georgetown University report mentioned above, by Anthony P. Carnevale, Nicole Smith, and Michelle Melton of the 
	<a href="http://cew.georgetown.edu/">Center on Education and the Workforce</a>. It estimated there will be slightly more than 2.4 million STEM job openings in the United States between 2008 and 2018, with 1.1 million newly created jobs and the rest to replace workers who retire or move to non-STEM fields; they conclude that there will be roughly 277 000 STEM vacancies per year.
</p><p>But the Georgetown study did not fully account for the Great Recession. It projected a downturn in 2009 but then a steady increase in jobs beginning in 2010 and a return to normal by the year 2018. In fact, though, 
	<a href="http://www.usnews.com/debate-club/should-h-b-visas-be-easier-to-get/h-1b-visas-a-symptom-of-special-interest-influence-in-dc">more than 370 000 science and engineering jobs in the United States were lost in 2011</a>, according to the Bureau of Labor Statistics.
</p><p>I don&#39;t mean to single out this study for criticism; it just illustrates the difficulty of accurately predicting STEM demand and supply even a year or two out, let alone over a prolonged period. Highly competitive science- and technology-driven industries are volatile, where radical restructurings and 
	<a href="http://www.todaysengineer.org/2003/Aug/Unemployment.pdf">boom-and-bust cycles have been the norm</a> for decades. Many STEM jobs today are also <a href="http://www.fas.org/sgp/crs/misc/RL32292.pdf">targets for outsourcing</a> or <a href="http://www.npr.org/2011/11/03/141949820/how-technology-is-eliminating-higher-skill-jobs">replacement by automation</a>.
</p><p>The nature of STEM work has also changed dramatically in the past several decades. In engineering, for instance, your job is no longer linked to a company but to a funded project. Long-term employment with a single company has been replaced by a series of de facto temporary positions that can quickly end when a project ends or the market shifts. To be sure, engineers in the 1950s were sometimes laid off during recessions, but they expected to be hired back when the economy picked up. That rarely happens today. And unlike in decades past, 
	<a href="http://usatoday30.usatoday.com/money/workplace/story/2012-08-09/job-training/56922438/1">employers seldom offer generous education and training</a> benefits to engineers to keep them current, so out-of-work engineers find they quickly become technologically obsolete.
</p><p>Any of these factors can affect both short-term and longer-term demand for STEM workers, as well as for the particular skills those workers will need. The agencies that track science and engineering employment know this to be true. Buried in Chapter 3 of a 
	<a href="http://www.nsf.gov/statistics/seind12/c3/c3s.htm">2012 NSF workforce study</a>, for instance, you&#39;ll find this caveat: &#34;Projections of employment growth are plagued by uncertain assumptions and are notoriously difficult to make.&#34;
</p><p>
<strong>So is there a shortfall</strong> of STEM workers or isn&#39;t there?
</p><p>The Georgetown study estimates that nearly
</p><p>
<a href="http://www9.georgetown.edu/grad/gppi/hpi/cew/pdfs/stem-execsum.pdf">two-thirds of the STEM job openings</a> [PDF] in the United States, or about 180 000 jobs per year, will require bachelor&#39;s degrees. Now, if you apply the Commerce Department&#39;s definition of STEM to the <a href="https://www.nsf.gov/statistics/seind/">NSF&#39;s annual count of science and engineering bachelor&#39;s degrees</a>, that means about 252 000 STEM graduates emerged in 2009. So even if all the STEM openings were entry-level positions and even if only new STEM bachelor&#39;s holders could compete for them, that still leaves 70 000 graduates unable to get a job in their chosen field.
</p><p>Of course, the pool of U.S. STEM workers is much bigger than that: It includes new STEM master&#39;s and Ph.D. graduates (in 2009, 
	<a href="http://www.nsf.gov/statistics/seind12/append/c2/at02-01.pdf">around 80 000 and 25 000, respectively)</a>, STEM associate degree graduates (about 40 000), H-1B visa holders (<a href="http://www.nsf.gov/statistics/indicators/appendix">more than 50 000</a>), other immigrants and visa holders with STEM degrees, technical certificate holders, and non-STEM degree recipients looking to find STEM-related work. And then there&#39;s the vast number of STEM degree holders who graduated in previous years or decades.
</p><p>Even in the computer and IT industry, the sector that employs the most STEM workers and is expected to grow the most over the next 5 to 10 years, not everyone who wants a job can find one. A recent 
	<a href="http://www.epi.org/publication/bp359-guestworkers-high-skill-labor-market-analysis/">study by the Economic Policy Institute</a> (EPI), a liberal-leaning think tank in Washington, D.C., found that more than a third of recent computer science graduates aren&#39;t working in their chosen major; of that group, almost a third say the reason is that there are no jobs available.
</p><p>Spot shortages for certain STEM specialists do crop up. For instance, the recent explosion in data analytics has sparked demand for 
	<a href="http://www.mckinsey.com/insights/business_technology/big_data_the_next_frontier_for_innovation">data scientists</a> in health care and retail. But the H-1B visa and similar immigrant hiring programs are meant to address such shortages. The problem is that students who are contemplating what field to specialize in can&#39;t assume such shortages will still exist by the time they emerge from the educational pipeline.
</p><p>What&#39;s perhaps most perplexing about the claim of a STEM worker shortage is that many studies have directly contradicted it, including 
	<a href="http://www.issues.org/23.3/wadhwa.html">reports from Duke University</a>, the <a href="http://www.judiciary.senate.gov/pdf/04-22-13HiraTestimony.pdf">Rochester Institute of Technology</a>, the <a href="http://rbm.nih.gov/stem/Teitelbaum.pdf">Alfred P. Sloan Foundation</a>, and the <a href="http://www.rand.org/content/dam/rand/pubs/monographs/2004/RAND_MG118.pdf">Rand Corp</a>. A 2004 Rand study, for example, stated that there was no evidence &#34;that such shortages have existed at least since 1990, nor that they are on the horizon.&#34;
</p><p>That report argued that the best indicator of a shortfall would be a widespread rise in salaries throughout the STEM community. But the price of labor has not risen, as you would expect it to do if STEM workers were scarce. In computing and IT, wages have generally been stagnant for the past decade, according to the EPI and other analyses. And over the past 30 years, according to the Georgetown report, engineers&#39; and engineering technicians&#39; wages have grown the least of all STEM wages and also more slowly than those in non-STEM fields; while STEM workers as a group have seen wages rise 33 percent and non-STEM workers&#39; wages rose by 23 percent, engineering salaries grew by just 18 percent. The situation is even more grim for those who get a Ph.D. in science, math, or engineering. The Georgetown study states it succinctly: &#34;At the highest levels of educational attainment, STEM wages are not competitive.&#34;
</p><p>Given all of the above, it is difficult to make a case that there has been, is, or will soon be a STEM labor shortage. &#34;If there was really a STEM labor market crisis, you&#39;d be seeing very different behaviors from companies,&#34; notes Ron Hira, an associate professor of public policy at the Rochester Institute of Technology, in New York state. &#34;You wouldn&#39;t see companies cutting their retirement contributions, or hiring new workers and giving them worse benefits packages. Instead you would see signing bonuses, you&#39;d see wage increases. You would see these companies really training their incumbent workers.&#34;
</p><p>&#34;None of those things are observable,&#34; Hira says. &#34;In fact, they&#39;re operating in the opposite way.&#34;
</p><p>
<strong>So why the persistent</strong> anxiety that a STEM crisis exists? Michael S. Teitelbaum, a Wertheim Fellow at Harvard Law School and a senior advisor to the Alfred P. Sloan Foundation, has studied the phenomenon, and he says that in the United States the anxiety dates back to World War II. Ever since then it has tended to run in cycles that he calls &#34;alarm, boom, and bust.&#34; He says the cycle usually starts when &#34;someone or some group sounds the alarm that there is a critical crisis of insufficient numbers of scientists, engineers, and mathematicians&#34; and as a result the country &#34;is in jeopardy of either a national security risk or of falling behind economically.&#34; In the 1950s, he notes, Americans worried that the <a href="http://pubs.acs.org/doi/abs/10.1021/cen-v033n015.p1522">Soviet Union was producing 95 000 scientists and engineers</a> a year while the United States was producing only about 57 000. In the 1980s, it was the perceived Japanese economic juggernaut that was the threat, and now it is China and India.
</p><p>You&#39;ll hear similar arguments made elsewhere. In India, the director general of the Defence Research and Development Organisation, Vijay Kumar Saraswat, recently noted that in his country, &#34;<a href="http://www.thehindu.com/news/cities/Vijayawada/india-facing-shortage-of-engineers-in-st-drdo-dg/article4356570.ece">a meagre four persons out of every 1000 are choosing S&amp;T or research</a>, as compared to 110 in Japan, 76 in Germany and Israel, 55 in USA, 46 in Korea and 8 in China.&#34; Leaders in South Africa and Brazil cite similar statistics to show how they are likewise falling behind in the STEM race.
</p><p>&#34;The government responds either with money [for research] or, more recently, with visas to increase the number of STEM workers,&#34; Teitelbaum says. &#34;This continues for a number of years until the claims of a shortage turn out not to be true and a bust ensues.&#34; Students who graduate during the bust, he says, are shocked to discover that &#34;they can&#39;t find jobs, or they find jobs but not stable ones.&#34;
</p><p>At the moment, we&#39;re in the alarm-heading-toward-boom part of the cycle. According to a recent report from the Government Accountability Office, the U.S. government spends more than 
	<a href="http://www.gao.gov/products/GAO-13-529T">US $3 billion each year on 209 STEM-related initiatives</a> overseen by 13 federal agencies. That&#39;s about $100 for every U.S. student beyond primary school. In addition, major corporations are collectively spending millions to support STEM educational programs. And every U.S. state, along with a host of public and private universities, high schools, middle schools, and even primary schools, has its own STEM initiatives. The result is that many people&#39;s fortunes are now tied to the STEM crisis, real or manufactured.
</p><p>
<strong>Clearly, powerful forces</strong> must be at work to perpetuate the cycle. One is obvious: the bottom line. Companies would rather not pay STEM professionals high salaries with lavish benefits, offer them training on the job, or guarantee them decades of stable employment. So having an oversupply of workers, whether domestically educated or imported, is to their benefit. It gives employers a larger pool from which they can pick the &#34;best and the brightest,&#34; and it helps keep wages in check. No less an authority than Alan Greenspan, former chairman of the Federal Reserve, said as much when in 2007 he advocated boosting the number of skilled immigrants entering the United States so as <a href="http://www.boston.com/business/globe/articles/2007/03/14/greenspan_let_more_skilled_immigrants_in/">to &#34;suppress&#34; the wages of their U.S. </a>counterparts, which he considered too high.
</p><p>Governments also push the STEM myth because an abundance of scientists and engineers is widely viewed as an 
	<a href="http://www.whitehouse.gov/blog/2011/07/14/stem-jobs-help-america-win-future">important engine for innovation and also for national defense</a>. And the perception of a STEM crisis benefits higher education, says Ron Hira, because as &#34;taxpayers subsidize more STEM education, that works in the interest of the universities&#34; by allowing them to expand their enrollments.
</p><p>An oversupply of STEM workers may also have a beneficial effect on the economy, says Georgetown&#39;s Nicole Smith, one of the coauthors of the 2011 STEM study. If STEM graduates can&#39;t find traditional STEM jobs, she says, &#34;they will end up in other sectors of the economy and be productive.&#34;
</p><p>The problem with proclaiming a STEM shortage when one doesn&#39;t exist is that such claims can actually create a shortage down the road, Teitelbaum says. When previous STEM cycles hit their &#34;bust&#34; phase, up-and-coming students took note and steered clear of those fields, as happened in computer science after the dot-com bubble burst in 2001.
</p><p>Emphasizing STEM at the expense of other disciplines carries other risks. Without a good grounding in the arts, literature, and history, STEM students narrow their worldview—and their career options.
</p><p>
<a href="http://online.wsj.com/article/SB10001424053111904265504576568351324914730.html">In a 2011 op-ed in The Wall Street Journal, Norman Augustine</a>, former chairman and CEO of Lockheed Martin, argued that point. &#34;In my position as CEO of a firm employing over 80 000 engineers, I can testify that most were excellent engineers,&#34; he wrote. &#34;But the factor that most distinguished those who advanced in the organization was the ability to think broadly and read and write clearly.&#34;
</p><p>A broader view, I and many others would argue, is that everyone needs a solid grounding in science, engineering, and math. In that sense, there is indeed a shortage—a STEM knowledge shortage. To fill that shortage, you don&#39;t necessarily need a college or university degree in a STEM discipline, but you do need to learn those subjects, and learn them well, from childhood until you head off to college or get a job. Improving everyone&#39;s STEM skills would clearly be good for the workforce and for people&#39;s employment prospects, for public policy debates, and for everyday tasks like balancing checkbooks and calculating risks. And, of course, when science, math, and engineering are taught well, they engage students&#39; intellectual curiosity about the world and how it works.
</p><p>Many children born today are likely to live to be 100 and to have not just one distinct career but two or three by the time they retire at 80. Rather than spending our scarce resources on ending a mythical STEM shortage, we should figure out how to make all children literate in the sciences, technology, and the arts to give them the best foundation to pursue a career and then transition to new ones. And instead of continuing our current global obsession with STEM shortages, industry and government should focus on creating more STEM jobs that are enduring and satisfying as well.
</p></div>
        

        

    </div></div>]]></content:encoded>
      <guid>https://spectrum.ieee.org/the-stem-crisis-is-a-myth</guid>
      <pubDate>Wed, 04 Aug 2021 14:40:31 +0000</pubDate>
      <source>https://spectrum.ieee.org/the-stem-crisis-is-a-myth</source>
    </item>
    <item>
      <title>Longer days on early Earth may have set stage for complex life</title>
      <link>https://www.sciencemag.org/news/2021/08/totally-new-idea-suggests-longer-days-early-earth-set-stage-complex-life</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>              <!--<div class="article__body">-->
              
              
              
              <div>
  
  
      <figure>
  <p>  </p>
      <figcaption>
      <div>
                  <p>Divers collected samples of these colorful microbial mats to understand their role in oxygenating Earth.</p>
                          <p><span>
            
  
      Phil Hartmeyer/NOAA Thunder Bay National Marine Sanctuary  
          </span>
              </p></div>
    </figcaption>
  </figure>
  
</div>
  
  <header>

    
          
    
          
      </header>

  
  
  
      <p>Today, oxygen fuels much of life on Earth, but it wasn’t always that way. Three billion years ago, this gas was scarce in the atmosphere and oceans. Knowing why oxygen became plentiful could illuminate the evolution of our planet’s flora and fauna, but scientists have struggled to find an explanation satisfying to all. Now a research team has proposed a novel link between how fast our planet spun on its axis, which defines the length of a day, and the ancient production of additional oxygen. Their modeling of Earth’s early days, which incorporates evidence from microbial mats coating the bottom of a shallow, sunlit sinkhole in Lake Huron, produced a surprising conclusion: as Earth’s spin slowed, the resulting longer days could have triggered more photosynthesis from similar mats, allowing oxygen to build up in ancient seas and diffuse up into the atmosphere.</p>

<p><a href="https://www.nature.com/articles/s41561-021-00784-3">That proposal</a>, described today in <cite>Nature Geoscience</cite>, has intrigued some scientists. “The rise of oxygen [on Earth] is easily the most substantial environmental change in the history of our planet,” says Woodward Fischer, a geobiologist at the California Institute of Technology who was not involved with the work. This study offers “a totally new flavor of an idea. It’s making a connection that people haven’t made before.”</p>

<p>Earth was much different when life first took hold about 4  billion years  ago, with vast shallow seas whose only living creatures were one-celled. Many of those early microbes were cyanobacteria, which can form mats on sediments and rock surfaces and today sometimes cause algal blooms deadly to fish and other aquatic animals. Microbes that became cyanobacteria evolved the molecular machinery for photosynthesis early on, letting them convert carbon dioxide and water into sugars and oxygen. Researchers have long thought these microbes provided Earth’s initial supply of oxygen, over the eons creating an environment that favored the evolution of aerobic life in all its forms. But they always puzzled over why about a billion years passed between the first photosynthetic microbes, which fossils indicate arose about 3.5 billion years ago, and the first good geological evidence for a buildup of oxygen.</p>

<p>Researchers already knew, from modeling the Moon’s distance from Earth and the resulting atmospheric and oceanic tides, that the infant Earth turned much faster on its axis than it does today. Many agree that 4.5 billion years ago, a day was only about 6 hours long. By about 2.4 billion years ago, the models predict, the pull of the Moon had slowed that spin to about a 21-hour day. Earth’s rotational speed then stayed constant for about a billion years, as its gravitational pull countered the Moon’s drag. Those forces fell out of balance about 700 million years ago, because the resonance cycle between Earth and the Moon is not completely stable, and the planet’s spin slowed to its current speed, creating a 24-hour day, according to the models</p>

<p>In 2016, after a chance suggestion, Judith Klatt, a biogeochemist now at the Max Planck Institute for Marine Microbiology, realized those slowdowns in Earth’s rate of spin mirrored big leaps in atmospheric oxygen. For example, oxygen first jumped during what’s called the Great Oxygenation Event, some 2.4 billion years ago, and then again during the Neoproterozoic era, more than a billion years later. During the Paleozoic, about 400 million years ago, there was a final major increase in atmospheric oxygen.  </p>

<p>As a postdoc at the University of Michigan, Ann Arbor, Klatt had studied microbial mats growing on sediments in the Middle Island Sinkhole in Lake Huron. There, the water is shallow enough for the cyanobacteria to get enough sunlight for photosynthesis. Oxygen-depleted water and sulfur gas bubble up from the lake floor, creating anoxic conditions that roughly approximate conditions of early Earth.</p>

<p>Scuba divers collected samples of the microbial mats and in the lab, Klatt tracked the amount of oxygen they released under various day lengths simulated with halogen lamps. The longer the exposure to light, the more of the gas the mats released. </p>

<p>Excited, Klatt and Arjun Chennu, a modeler from the Leibniz Center for Tropical Marine Research, set up a numerical model to calculate how much oxygen ancient cyanobacteria could have produced on a global scale. When the microbial mat results and other data were plugged into this computer program, it revealed a key interaction between light exposure and the microbial mats.</p>

<p>Typically, microbial mats “breathe” in almost as much oxygen at night as they produce during the day. But as Earth’s spin slowed, the additional continuous hours of daylight allowed the simulated mats to build up a surplus, releasing oxygen into the water. As a result, atmospheric oxygen tracked estimated day length over the eons: Both rose in a stepped fashion with a long plateau.</p>
  
  <figure>
    <h2>Did longer days fuel oxygen rise?</h2>
  <figcaption><p>Models suggest the amount of oxygen on Earth increased in a stepwise fashion, starting with the Great Oxygenation Event (GOE) about 2.4 billion years ago, followed by a plateau for a &#34;boring billion&#34; years. Oxygen rose again in the Neoproterozoic Oxygenation Event (NOE) and Palaeozoic Oxidation Event (POE). Day length rose in the same stepped pattern, suggesting that the added light boosted photosynthetic microbes, fueling increases in oxygen.</p>
</figcaption> 

  
      <figure>
  <p>
    <figure data-src="/sites/default/files/svgimg/080621_NID_Oxygenation_graph_DRUPAL_0.svg.png"><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 25.3.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 720 361.1" style="enable-background:new 0 0 720 361.1;" xml:space="preserve">

<g>
	<g>
		<g>
			<line x1="58.7" y1="235.8" x2="673.6" y2="235.8"></line>
			<line x1="58.7" y1="169.4" x2="673.6" y2="169.4"></line>
			<line x1="58.7" y1="103.1" x2="673.6" y2="103.1"></line>
			<line x1="58.7" y1="36.7" x2="673.6" y2="36.7"></line>
		</g>
		<g>
			<text transform="matrix(1 0 0 1 42.6631 307.4458)">0</text>
			<text transform="matrix(1 0 0 1 23.0439 241.0591)">0.25</text>
			<text transform="matrix(1 0 0 1 30.876 174.6885)">0.5</text>
			<text transform="matrix(1 0 0 1 23.5 108.3008)">0.75</text>
			<text transform="matrix(1 0 0 1 45.2529 41.9307)">1</text>
		</g>
		<text transform="matrix(1 0 0 1 242.2988 356.2212)">Earth age (millions of years ago)</text>
		<g>
			<text transform="matrix(1 0 0 1 42.1719 331.9106)">3500</text>
			<text transform="matrix(1 0 0 1 130.4355 331.9106)">3000</text>
			<text transform="matrix(1 0 0 1 218.7695 331.9106)">2500</text>
			<text transform="matrix(1 0 0 1 306.0166 331.9106)">2000</text>
			<text transform="matrix(1 0 0 1 395.2617 331.9106)">1500</text>
			<text transform="matrix(1 0 0 1 482.5244 331.9106)">1000</text>
			<text transform="matrix(1 0 0 1 571.9141 331.9106)">500</text>
			<text transform="matrix(1 0 0 1 668.5859 331.9106)">0</text>
		</g>
		<g>
			<line x1="59" y1="313.4" x2="59" y2="302.2"></line>
			<line x1="146.8" y1="313.4" x2="146.8" y2="302.2"></line>
			<line x1="234.5" y1="313.4" x2="234.5" y2="302.2"></line>
			<line x1="322.3" y1="313.4" x2="322.3" y2="302.2"></line>
			<line x1="410" y1="313.4" x2="410" y2="302.2"></line>
			<line x1="497.8" y1="313.4" x2="497.8" y2="302.2"></line>
			<line x1="585.5" y1="313.4" x2="585.5" y2="302.2"></line>
			<line x1="673.3" y1="313.4" x2="673.3" y2="302.2"></line>
		</g>
		<line x1="58.7" y1="302.2" x2="673.6" y2="302.2"></line>
		<text transform="matrix(0 -1 1 0 14.001 263.3813)">Oxygen concentration (pO</text>
		<text transform="matrix(0 -0.583 0.583 0 19.6621 86.625)">2</text>
		<text transform="matrix(0 -1 1 0 14.001 81.6113)">)</text>
		<g>
			<g>
				<text transform="matrix(1 0 0 1 678.9766 241.0591)">15</text>
				<text transform="matrix(1 0 0 1 678.9766 108.3008)">21</text>
				<text transform="matrix(1 0 0 1 678.9775 307.4458)">12</text>
				<text transform="matrix(1 0 0 1 678.9795 174.6885)">18</text>
				<text transform="matrix(1 0 0 1 678.9775 41.9307)">24</text>
			</g>
			<text transform="matrix(0 -1 1 0 714.793 266.3218)">Estimated day length (hours)</text>
		</g>
		<polyline points="146.8,302.2 146.8,302.2 147.2,302.2 147.7,302.2 148.1,302.2 148.5,302.2 149,302.2 149.4,302.2 
			149.9,302.2 150.3,302.2 150.7,302.2 151.2,302.2 151.6,302.2 152.1,302.2 152.5,302.2 152.9,302.2 153.4,302.2 153.8,302.2 
			154.2,302.2 154.7,302.2 155.1,302.2 155.6,302.2 156,302.2 156.4,302.2 156.9,302.2 157.3,302.2 157.8,302.2 158.2,302.2 
			158.6,302.2 159.1,302.2 159.5,302.2 159.9,302.2 160.4,302.2 160.8,302.2 161.3,302.2 161.7,302.2 162.1,302.2 162.6,302.2 
			163,302.2 163.5,302.2 163.9,302.2 164.3,302.2 164.8,302.2 165.2,302.2 165.6,302.2 166.1,302.2 166.5,302.2 167,302.2 
			167.4,302.2 167.8,302.2 168.3,302.2 168.7,302.2 169.2,302.2 169.6,302.2 170,302.2 170.5,302.2 170.9,302.2 171.3,302.2 
			171.8,302.2 172.2,302.2 172.7,302.2 173.1,302.2 173.5,302.2 174,302.2 174.4,302.2 174.9,302.2 175.3,302.2 175.7,302.2 
			176.2,302.2 176.6,302.2 177.1,302.2 177.5,302.2 177.9,302.2 178.4,302.2 178.8,302.2 179.3,302.2 179.7,302.2 180.1,302.2 
			180.6,302.2 181,302.2 181.5,302.2 181.9,302.2 182.3,302.2 182.8,302.2 183.2,302.2 183.6,302.2 184.1,302.2 184.5,302.2 
			185,302.2 185.4,302.2 185.8,302.2 186.3,302.2 186.7,302.2 187.2,302.2 187.6,302.2 188,302.2 188.5,302.2 188.9,302.2 
			189.3,302.2 189.8,302.2 190.2,302.2 190.7,302.2 191.1,302.2 191.5,302.2 192,302.2 192.4,302.2 192.9,302.2 193.3,302.2 
			193.7,302.2 194.2,302.2 194.6,302.2 195,302.2 195.5,302.2 195.9,302.2 196.4,302.2 196.8,302.2 197.2,302.2 197.7,302.2 
			198.1,302.2 198.5,302.2 199,302.2 199.4,302.2 199.9,302.2 200.3,302.2 200.7,302.2 201.2,302.2 201.6,302.2 202.1,302.2 
			202.5,302.2 202.9,302.2 203.4,302.2 203.8,302.2 204.3,302.2 204.7,302.2 205.1,302.2 205.6,302.2 206,302.2 206.5,302.2 
			206.9,302.2 207.3,302.2 207.8,302.2 208.2,302.2 208.7,302.2 209.1,302.2 209.5,302.2 210,302.2 210.4,302.2 210.8,302.2 
			211.3,302.2 211.7,302.2 212.2,302.2 212.6,302.2 213,302.2 213.5,302.2 213.9,302.2 214.4,302.2 214.8,302.2 215.2,302.2 
			215.7,302.2 216.1,302.2 216.6,302.2 217,302.2 217.4,302.2 217.9,302.2 218.3,302.2 218.7,302.2 219.2,302.2 219.6,302.2 
			220.1,302.2 220.5,302.2 220.9,302.2 221.4,302.2 221.8,302.2 222.2,302.2 222.7,302.2 223.1,302.2 223.6,302.2 224,302.2 
			224.4,302.2 224.9,302.2 225.3,302.2 225.8,302.2 226.2,302.2 226.6,302.2 227.1,302.2 227.5,302.2 227.9,302.2 228.4,302.2 
			228.8,302.2 229.3,302.2 229.7,302.2 230.1,302.2 230.6,302.2 231,302.2 231.5,302.2 231.9,302.2 232.3,302.2 232.8,302.2 
			233.2,302.2 233.7,302.2 234.1,302.2 234.5,302.2 235,302.2 235.4,302.2 235.8,302.2 236.3,302.2 236.7,302.2 237.2,302.2 
			237.6,302.2 238,302.2 238.5,302.2 238.9,302.2 239.4,302.2 239.8,302.2 240.2,302.2 240.7,302.2 241.1,302.2 241.6,302.2 
			242,302.2 242.4,302.2 242.9,302.2 243.3,302.2 243.8,302.2 244.2,302.2 244.6,302.2 245.1,302.2 245.5,302.2 245.9,302.2 
			246.4,302.2 246.8,302.2 247.3,302.2 247.7,302.2 248.1,302.2 248.6,302.2 249,302.2 249.5,302.2 249.9,302.2 250.3,302.2 
			250.8,302.2 251.2,302.2 251.6,302.2 252.1,302.2 252.5,302.2 253,302.2 253.4,302.2 253.8,302.2 254.3,302.2 254.7,302.2 
			255.2,302.2 255.6,302.2 256,302.2 256.5,302.2 256.9,302.2 257.3,302.2 257.8,302.2 258.2,302.2 258.7,302.2 258.7,302.2 
			259.1,302.2 259.1,302.2 259.5,302.1 259.5,302.2 260,302.1 260,302.2 260.4,302 260.4,302.2 260.9,302 260.9,302.2 261.3,301.9 
			261.3,302.2 261.7,301.8 261.7,302.2 262.2,301.7 262.2,302.2 262.6,301.6 262.6,302.2 263,301.4 263,302.2 263.5,301.3 
			263.5,302.2 263.9,301.2 263.9,302.2 264.4,301 264.4,302.2 264.8,300.8 264.8,302.2 265.2,300.7 265.2,302.2 265.7,300.5 
			265.7,302.2 266.1,300.3 266.1,302.2 266.6,300.1 266.6,302.2 267,299.8 267,302.2 267.4,299.6 267.4,302.2 267.9,299.4 
			267.9,302.2 268.3,299.1 268.3,302.2 268.8,298.8 268.8,302.2 269.2,298.6 269.2,302.2 269.6,298.3 269.6,302.2 270.1,298 
			270.1,302.2 270.5,297.7 270.5,302.2 271,297.4 271,302.1 271.4,297.1 271.4,302 271.8,296.7 271.8,301.9 272.3,296.4 
			272.3,301.7 272.7,296 272.7,301.5 273.2,295.7 273.2,301.3 273.6,295.3 273.6,301.1 274,294.9 274,300.8 274.5,294.5 
			274.5,300.5 274.9,294.1 274.9,300.1 275.3,293.6 275.3,299.7 275.8,293.2 275.8,299.3 276.2,292.7 276.2,298.8 276.7,292.2 
			276.7,298.3 277.1,291.7 277.1,297.8 277.5,291.1 277.5,297.1 278,290.6 278,296.5 278.4,290 278.4,295.8 278.9,289.4 
			278.9,295.1 279.3,288.9 279.3,294.4 279.7,288.2 279.7,293.6 280.2,287.6 280.2,292.8 280.6,287 280.6,292 281,286.4 281,291.2 
			281.5,285.7 281.5,290.3 281.9,285 281.9,289.4 282.4,284.4 282.4,288.4 282.8,283.6 282.8,287.4 283.2,282.9 283.2,286.4 
			283.7,282 283.7,285.2 284.1,281.2 284.1,284 284.5,280.4 284.5,282.7 285,279.6 285,281.8 285.4,278.6 285.4,280.1 285.9,278.3 
			285.9,279.7 286.3,277.7 286.3,278.8 286.7,277.1 286.7,277.7 287.2,277.1 287.2,278 287.6,276.5 287.6,276.9 288.1,276.5 
			288.1,276.9 288.5,276.3 288.5,276.7 288.9,276.1 288.9,276.4 289.4,275.9 289.4,276.1 289.8,275.9 289.8,276.1 290.2,275.8 
			290.2,276 290.7,275.7 290.7,275.6 291.1,275.9 291.1,276.1 291.6,275.6 291.6,275.6 292,275.8 292.4,275.9 292.4,276.2 
			292.9,275.8 292.9,275.8 293.3,276.1 293.3,276.4 293.8,276 293.8,276.3 294.2,276.2 294.2,276.4 294.6,276.4 294.6,276.9 
			295.1,276.3 295.1,276.6 295.5,276.5 295.5,277 296,276.4 296,276.8 296.4,276.3 296.4,276.8 296.8,276.1 296.8,276.4 
			297.3,276.1 297.3,276.4 297.7,275.6 298.2,275.4 298.2,275.2 298.6,275.2 298.6,275 299,274.6 299,273.8 299.5,274.7 
			299.5,274.1 299.9,274.4 299.9,273.5 300.4,274.2 300.4,273.2 300.8,274.4 300.8,273.6 301.2,274.1 301.2,273.1 301.7,274.4 
			301.7,273.5 302.1,274.6 302.1,273.8 302.6,274.6 302.6,274 303,274.9 303,274.4 303.4,275.1 303.4,274.7 303.9,275.3 303.9,275 
			304.3,275.4 304.3,275.2 304.7,275.5 304.7,275.5 305.2,275.3 305.2,275.1 305.6,275.4 305.6,275.2 306.1,275.2 306.1,274.9 
			306.5,274.6 306.5,274 306.9,274.7 306.9,274.2 307.4,274 307.4,272.9 307.8,273.8 307.8,272.5 308.2,273.6 308.2,272.3 
			308.7,272.9 308.7,271 309.1,273 309.1,271.3 309.6,272.7 309.6,270.7 310,272.6 310,270.5 310.4,272.7 310.4,270.7 310.9,272.7 
			310.9,270.6 311.3,272.8 311.3,270.8 311.8,272.9 311.8,271 312.2,273.1 312.2,271.3 312.6,273.1 312.6,271.3 313.1,273.3 
			313.1,271.8 313.5,273.3 313.5,271.7 313.9,273.3 313.9,271.7 314.4,273.6 314.4,272.3 314.8,273.3 314.8,271.7 315.3,273.5 
			315.3,272.1 315.7,273.6 315.7,272.2 316.1,273.5 316.1,271.9 316.6,273.8 316.6,272.5 317,273.7 317,272.4 317.5,273.9 
			317.5,272.7 317.9,274.1 317.9,273.1 318.3,274.3 318.3,273.4 318.8,274.6 318.8,273.8 319.2,274.9 319.2,274.3 319.6,275.1 
			319.6,274.7 320.1,275.3 320.1,275 320.5,275.6 320.5,275.6 321,275.6 321.4,275.7 321.4,275.7 321.8,276 321.8,276.3 
			322.3,275.7 322.7,275.8 322.7,276 323.2,275.4 323.2,275.1 323.6,275.1 323.6,274.7 324,275 324,274.5 324.5,274.2 324.5,273.2 
			324.9,274 324.9,272.9 325.4,273.6 325.4,272.1 325.8,273.2 325.8,271.5 326.2,272.9 326.2,271 326.7,272.8 326.7,270.9 
			327.1,272.7 327.1,270.6 327.6,272.6 327.6,270.5 328,272.8 328,270.9 328.4,272.7 328.4,270.6 328.9,272.9 328.9,271.1 
			329.3,273.1 329.3,271.3 329.8,273.1 329.8,271.4 330.2,273.5 330.2,272 330.6,273.4 330.6,271.9 331.1,273.7 331.1,272.3 
			331.5,273.9 331.5,272.6 331.9,273.8 331.9,272.5 332.4,274 332.4,272.9 332.8,274 332.8,272.9 333.3,274 333.3,272.9 333.7,274 
			333.7,272.9 334.1,274 334.1,273 334.6,273.9 334.6,272.6 335,273.9 335,272.7 335.5,274 335.5,272.9 335.9,273.8 335.9,272.5 
			336.3,274.1 336.3,273 336.8,274 336.8,272.9 337.2,274.1 337.2,273 337.6,274.3 337.6,273.5 338.1,274.2 338.1,273.3 
			338.5,274.5 338.5,273.8 339,274.6 339,273.9 339.4,274.6 339.4,273.9 339.8,274.8 339.8,274.3 340.3,274.8 340.3,274.2 
			340.7,274.8 340.7,274.3 341.2,274.8 341.2,274.2 341.6,274.8 341.6,274.2 342,274.5 342,273.8 342.5,274.6 342.5,274 
			342.9,274.6 342.9,273.8 343.3,274.3 343.3,273.4 343.8,274.6 343.8,273.9 344.2,274.4 344.2,273.6 344.7,274.6 344.7,273.9 
			345.1,274.8 345.1,274.3 345.5,274.8 345.5,274.2 346,275.1 346,274.8 346.4,275.2 346.4,275 346.9,275.4 346.9,275.3 
			347.3,275.7 347.3,275.7 347.7,275.8 347.7,275.9 348.2,275.9 348.2,276 348.6,275.9 348.6,276 349,275.8 349,275.9 349.5,275.4 
			349.5,275.2 349.9,275.4 349.9,275.3 350.4,274.8 350.4,274.2 350.8,274.3 350.8,273.4 351.2,274.2 351.2,273.1 351.7,273.2 
			351.7,271.5 352.1,273.2 352.1,271.5 352.6,272.7 352.6,270.7 353,272.2 353,269.8 353.4,272.4 353.4,270.1 353.9,272 
			353.9,269.4 354.3,272 354.3,269.5 354.8,272.2 354.8,269.7 355.2,272.2 355.2,269.8 355.6,272.4 355.6,270.1 356.1,272.6 
			356.1,270.4 356.5,272.7 356.5,270.7 357,272.8 357,270.8 357.4,273.1 357.4,271.3 357.8,273 357.8,271.2 358.3,273.2 
			358.3,271.5 358.7,273.3 358.7,271.7 359.1,273.1 359.1,271.3 359.6,273.4 359.6,271.8 360,273.2 360,271.6 360.5,273.3 
			360.5,271.7 360.9,273.5 360.9,272 361.3,273.4 361.3,271.9 361.8,273.6 361.8,272.3 362.2,273.8 362.2,272.5 362.7,273.9 
			362.7,272.8 363.1,274.1 363.1,273.1 363.5,274.3 363.5,273.4 364,274.4 364,273.6 364.4,274.5 364.4,273.8 364.9,274.8 
			364.9,274.2 365.3,274.5 365.3,273.7 365.7,274.7 365.7,274.1 366.2,274.6 366.2,273.8 366.6,274.1 366.6,273.1 367,274.3 
			367,273.4 367.5,273.6 367.5,272.1 367.9,273.4 367.9,271.8 368.4,273.2 368.4,271.4 368.8,272.5 368.8,270.3 369.2,272.5 
			369.2,270.3 369.7,272.1 369.7,269.6 370.1,272 370.1,269.3 370.6,271.9 370.6,269.2 371,271.9 371,269.3 371.4,271.9 
			371.4,269.2 371.9,272 371.9,269.5 372.3,272.2 372.3,269.8 372.7,272.1 372.7,269.7 373.2,272.4 373.2,270.2 373.6,272.4 
			373.6,270.2 374.1,272.5 374.1,270.4 374.5,272.8 374.5,270.8 374.9,272.6 374.9,270.4 375.4,272.8 375.4,270.8 375.8,272.7 
			375.8,270.6 376.2,272.4 376.2,270.2 376.7,272.5 376.7,270.3 377.1,272.1 377.1,269.6 377.6,271.9 377.6,269.2 378,271.6 
			378,268.8 378.4,271.5 378.4,268.5 378.9,271.1 378.9,267.8 379.3,271.1 379.3,267.9 379.8,271 379.8,267.7 380.2,270.8 
			380.2,267.3 380.6,271 380.6,267.8 381.1,270.8 381.1,267.4 381.5,271 381.5,267.7 382,271.2 382,268.1 382.4,271.1 382.4,267.9 
			382.8,271.4 382.8,268.5 383.3,271.5 383.3,268.6 383.7,271.7 383.7,268.9 384.2,271.9 384.2,269.3 384.6,272 384.6,269.4 
			385,272.1 385,269.6 385.5,272.2 385.5,269.9 385.9,272.4 385.9,270.1 386.3,272.3 386.3,270 386.8,272.6 386.8,270.4 
			387.2,272.6 387.2,270.4 387.7,272.7 387.7,270.6 388.1,272.9 388.1,271 388.5,272.9 388.5,271 389,273.1 389,271.4 389.4,273.3 
			389.4,271.7 389.9,273.4 389.9,271.9 390.3,273.7 390.3,272.4 390.7,273.8 390.7,272.6 391.2,274 391.2,273 391.6,274.2 
			391.6,273.3 392.1,274.3 392.1,273.4 392.5,274.3 392.5,273.4 392.9,274.3 392.9,273.4 393.4,274.1 393.4,273 393.8,273.7 
			393.8,272.3 394.3,273.6 394.3,272.2 394.7,272.9 394.7,270.9 395.1,272.6 395.1,270.5 395.6,272.4 395.6,270.1 396,271.7 
			396,268.8 396.4,271.8 396.4,269.1 396.9,271.4 396.9,268.4 397.3,271.3 397.3,268.3 397.8,271.5 397.8,268.6 398.2,271.4 
			398.2,268.5 398.6,271.7 398.6,268.9 399.1,271.9 399.1,269.2 399.5,272.1 399.5,269.6 399.9,272.3 399.9,270 400.4,272.6 
			400.4,270.4 400.8,272.8 400.8,270.8 401.3,273 401.3,271.1 401.7,273.2 401.7,271.5 402.1,273.2 402.1,271.6 402.6,273.5 
			402.6,272 403,273.5 403,272.1 403.5,273.5 403.5,272 403.9,273.7 403.9,272.5 404.3,273.6 404.3,272.2 404.8,273.8 404.8,272.5 
			405.2,273.9 405.2,272.7 405.6,273.9 405.6,272.7 406.1,274.1 406.1,273.1 406.5,274.3 406.5,273.3 407,274.4 407,273.6 
			407.4,274.6 407.4,273.9 407.8,274.8 407.8,274.3 408.3,275 408.3,274.5 408.7,275.1 408.7,274.8 409.2,275.3 409.2,275.1 
			409.6,275.3 409.6,275 410,275.5 410,275.4 410.5,275.4 410.5,275.2 410.9,275.4 410.9,275.2 411.4,275.5 411.4,275.5 
			411.8,275.2 411.8,274.8 412.2,275.3 412.2,275.1 412.7,275.3 412.7,275 413.1,275.2 413.1,274.8 413.5,275.3 413.5,275.1 
			414,275.3 414,275.1 414.4,275.4 414.4,275.3 414.9,275.5 414.9,275.5 415.3,275.7 415.3,275.8 415.7,275.8 415.7,275.9 
			416.2,276 416.2,276.2 416.6,276.1 416.6,276.4 417.1,276.2 417.1,276.5 417.5,276.4 417.5,276.8 417.9,276.3 417.9,276.6 
			418.4,276.5 418.4,277 418.8,276.6 418.8,277 419.3,276.2 419.3,276.4 419.7,276.4 419.7,276.9 420.1,276 420.1,276 420.6,275.8 
			420.6,275.9 421,275.7 421,275.6 421.5,275.2 421.5,274.9 421.9,274.9 421.9,274.4 422.3,274.6 422.3,273.9 422.8,274.4 
			422.8,273.6 423.2,274.1 423.2,272.9 423.6,274.2 423.6,273.2 424.1,274 424.1,272.8 424.5,274 424.5,272.8 425,274.2 425,273.2 
			425.4,274 425.4,272.9 425.8,274.3 425.8,273.3 426.3,274.4 426.3,273.6 426.7,274.5 426.7,273.7 427.2,274.7 427.2,274.1 
			427.6,274.8 427.6,274.3 428,275 428,274.6 428.5,275.2 428.5,274.9 428.9,275.3 428.9,275.1 429.3,275.5 429.3,275.4 
			429.8,275.6 429.8,275.6 430.2,275.7 430.2,275.8 430.7,275.7 430.7,275.8 431.1,275.9 431.1,276.1 431.5,275.8 431.5,275.9 
			432,276 432,276.2 432.4,276.1 432.4,276.3 432.9,276 432.9,276.2 433.3,276.3 433.3,276.6 433.7,276.2 433.7,276.5 434.2,276.3 
			434.2,276.7 434.6,276.5 434.6,276.9 435,276.4 435,276.7 435.5,276.6 435.5,277.1 435.9,276.5 435.9,276.9 436.4,276.4 
			436.4,276.7 436.8,276.2 436.8,276.5 437.2,276 437.2,276.2 437.7,275.6 437.7,275.5 438.1,275.3 438.1,275 438.5,275.1 
			438.5,274.7 439,274.3 439,273.4 439.4,274.2 439.4,273.3 439.9,273.9 439.9,272.6 440.3,273.4 440.3,271.8 440.7,273.6 
			440.7,272.1 441.2,273.2 441.2,271.4 441.6,273.3 441.6,271.6 442.1,273.4 442.1,271.8 442.5,273.4 442.5,271.8 442.9,273.6 
			442.9,272.1 443.4,273.7 443.4,272.4 443.8,273.8 443.8,272.6 444.3,274 444.3,272.9 444.7,274.1 444.7,273.1 445.1,274.1 
			445.1,273.1 445.6,274.2 445.6,273.2 446,274.2 446,273.3 446.5,273.8 446.5,272.6 446.9,274 446.9,272.8 447.3,273.5 447.3,272 
			447.8,273.2 447.8,271.5 448.2,273.3 448.2,271.6 448.7,272.6 448.7,270.4 449.1,272.7 449.1,270.6 449.5,272.5 449.5,270.3 
			450,272.3 450,270 450.4,272.4 450.4,270.2 450.9,272.4 450.9,270.1 451.3,272.5 451.3,270.3 451.7,272.6 451.7,270.4 
			452.2,272.7 452.2,270.7 452.6,272.7 452.6,270.7 453,272.9 453,271 453.5,273 453.5,271.1 453.9,272.9 453.9,271 454.4,273.1 
			454.4,271.4 454.8,272.9 454.8,271 455.2,273 455.2,271.2 455.7,273.1 455.7,271.3 456.1,272.8 456.1,270.8 456.6,273 
			456.6,271.2 457,272.9 457,271 457.4,272.9 457.4,271 457.9,273 457.9,271.2 458.3,273.1 458.3,271.3 458.7,273.2 458.7,271.5 
			459.2,273.3 459.2,271.7 459.6,273.5 459.6,272 460.1,273.5 460.1,272.1 460.5,273.7 460.5,272.4 460.9,273.7 460.9,272.4 
			461.4,273.7 461.4,272.4 461.8,273.9 461.8,272.7 462.2,273.5 462.2,272 462.7,273.6 462.7,272.2 463.1,273.3 463.1,271.7 
			463.6,272.8 463.6,270.7 464,272.7 464,270.7 464.4,272 464.4,269.4 464.9,271.7 464.9,268.8 465.3,271.3 465.3,268.1 
			465.8,270.7 465.8,267.2 466.2,270.4 466.2,266.7 466.6,270.2 466.6,266.3 467.1,270 467.1,266 467.5,269.8 467.5,265.7 
			467.9,270 467.9,266 468.4,269.9 468.4,265.8 468.8,270 468.8,266 469.3,270.2 469.3,266.4 469.7,270.3 469.7,266.4 470.1,270.4 
			470.1,266.8 470.6,270.6 470.6,267 471,270.7 471,267.3 471.5,270.9 471.5,267.6 471.9,271.1 471.9,267.8 472.3,271.3 
			472.3,268.2 472.8,271.4 472.8,268.5 473.2,271.6 473.2,268.7 473.7,271.7 473.7,269 474.1,271.9 474.1,269.2 474.5,271.9 
			474.5,269.3 475,272 475,269.4 475.4,272.1 475.4,269.7 475.9,272.1 475.9,269.5 476.3,272.2 476.3,269.8 476.7,272.3 476.7,270 
			477.2,272.3 477.2,270 477.6,272.5 477.6,270.3 478.1,272.5 478.1,270.3 478.5,272.7 478.5,270.6 478.9,272.8 478.9,270.8 
			479.4,272.8 479.4,270.9 479.8,273 479.8,271.2 480.3,273 480.3,271.2 480.7,273.1 480.7,271.3 481.1,273 481.1,271.3 
			481.6,273.1 481.6,271.3 482,272.8 482,270.9 482.4,272.8 482.4,270.8 482.9,272.7 482.9,270.7 483.3,272.3 483.3,270 
			483.8,272.5 483.8,270.3 484.2,272.3 484.2,269.9 484.6,272.3 484.6,269.9 485.1,272.4 485.1,270.2 485.5,272.3 485.5,270 
			485.9,272.5 485.9,270.4 486.4,272.7 486.4,270.6 486.8,272.8 486.8,270.8 487.3,272.9 487.3,271.1 487.7,273.1 487.7,271.3 
			488.1,273.2 488.1,271.6 488.6,273.4 488.6,271.8 489,273.5 489,272 489.5,273.3 489.5,271.7 489.9,273.4 489.9,271.8 
			490.3,273.2 490.3,271.5 490.8,272.8 490.8,270.7 491.2,272.8 491.2,270.9 491.6,272.1 491.6,269.6 492.1,272 492.1,269.4 
			492.5,271.9 492.5,269.2 493,271.3 493,268.3 493.4,271.5 493.4,268.6 493.8,271.3 493.8,268.2 494.3,271.3 494.3,268.3 
			494.7,271.5 494.7,268.6 495.2,271.6 495.2,268.7 495.6,271.7 495.6,269 496,271.9 496,269.2 496.5,272 496.5,269.5 496.9,272.2 
			496.9,269.8 497.3,272.3 497.3,270.1 497.8,272.5 497.8,270.3 498.2,272.6 498.2,270.5 498.7,272.8 498.7,270.8 499.1,272.8 
			499.1,270.8 499.5,273 499.5,271.1 500,273 500,271.3 500.4,273.1 500.4,271.3 500.9,273.3 500.9,271.6 501.3,273.3 501.3,271.7 
			501.7,273.4 501.7,271.9 502.2,273.6 502.2,272.2 502.6,273.7 502.6,272.4 503.1,273.8 503.1,272.6 503.5,274 503.5,272.9 
			503.9,274.1 503.9,273.1 504.4,274.2 504.4,273.2 504.8,274.3 504.8,273.5 505.3,274.3 505.3,273.4 505.7,274.4 505.7,273.5 
			506.1,274.4 506.1,273.5 506.6,274 506.6,272.8 507,274.1 507,273.1 507.5,273.7 507.5,272.3 507.9,273.3 507.9,271.7 
			508.3,273.2 508.3,271.6 508.8,272.6 508.8,270.3 509.2,272.4 509.2,270.1 509.6,272.1 509.6,269.6 510.1,271.8 510.1,269.1 
			510.5,271.7 510.5,268.8 511,271.6 511,268.8 511.4,271.6 511.4,268.7 511.8,271.6 511.8,268.7 512.3,271.7 512.3,269 
			512.7,271.7 512.7,268.9 513.2,271.8 513.2,269.2 513.6,271.9 513.6,269.3 514,272 514,269.5 514.5,272.1 514.5,269.7 
			514.9,272.2 514.9,269.8 515.3,272.3 515.3,270 515.8,272.4 515.8,270.2 516.2,272.4 516.2,270.2 516.7,272.6 516.7,270.5 
			517.1,272.6 517.1,270.4 517.5,272.5 517.5,270.4 518,272.5 518,270.3 518.4,272.5 518.4,270.3 518.9,272.3 518.9,269.9 
			519.3,272.2 519.3,269.9 519.7,272.3 519.7,269.9 520.2,272 520.2,269.4 520.6,272.2 520.6,269.7 521,272.1 521,269.6 
			521.5,272.1 521.5,269.6 521.9,272.2 521.9,269.9 522.4,272.2 522.4,269.8 522.8,272.3 522.8,270 523.2,272.4 523.2,270.2 
			523.7,272.5 523.7,270.3 524.1,272.6 524.1,270.6 524.6,272.7 524.6,270.7 525,272.8 525,270.8 525.4,272.8 525.4,270.9 
			525.9,272.9 525.9,271 526.3,272.8 526.3,270.9 526.7,272.9 526.7,271 527.2,272.9 527.2,271 527.6,272.8 527.6,270.7 
			528.1,272.9 528.1,271 528.5,272.8 528.5,270.7 528.9,272.9 528.9,270.9 529.4,273 529.4,271.1 529.8,272.9 529.8,271 
			530.3,273.1 530.3,271.3 530.7,273.1 530.7,271.4 531.1,273.2 531.1,271.5 531.6,273.3 531.6,271.7 532,273.4 532,271.8 
			532.5,273.4 532.5,271.8 532.9,273.4 532.9,271.8 533.3,273.2 533.3,271.6 533.8,272.8 533.8,270.9 534.2,272.8 534.2,270.8 
			534.7,272.2 534.7,269.8 535.1,271.8 535.1,269 535.5,271.7 535.5,268.9 536,270.9 536,267.4 536.4,270.9 536.4,267.5 
			536.8,270.6 536.8,267 537.3,270.3 537.3,266.5 537.7,270.5 537.7,266.8 538.2,270.4 538.2,266.7 538.6,270.5 538.6,266.9 
			539,270.7 539,267.1 539.5,270.8 539.5,267.3 539.9,270.9 539.9,267.6 540.4,271.1 540.4,267.8 540.8,271.2 540.8,268.1 
			541.2,271.3 541.2,268.3 541.7,271.4 541.7,268.5 542.1,271.6 542.1,268.7 542.6,271.7 542.6,268.9 543,271.8 543,269.1 
			543.4,271.9 543.4,269.2 543.9,272 543.9,269.4 544.3,272.1 544.3,269.6 544.7,272.2 544.7,269.7 545.2,272.3 545.2,269.9 
			545.6,272.4 545.6,270.1 546.1,272.5 546.1,270.3 546.5,272.6 546.5,270.5 546.9,272.7 546.9,270.7 547.4,272.9 547.4,270.9 
			547.8,273 547.8,271.1 548.3,273.1 548.3,271.3 548.7,273.2 548.7,271.5 549.1,273.3 549.1,271.7 549.6,273.4 549.6,271.8 
			550,273.5 550,272 550.4,273.5 550.4,272 550.9,273.4 550.9,271.9 551.3,273.6 551.3,272.1 551.8,273.3 551.8,271.7 552.2,273.3 
			552.2,271.7 552.6,273.3 552.6,271.7 553.1,273.1 553.1,271.3 553.5,273.2 553.5,271.5 553.9,273.1 553.9,271.4 554.4,273.1 
			554.4,271.4 554.8,273.2 554.8,271.5 555.3,273.3 555.3,271.7 555.7,273.3 555.7,271.7 556.1,273.4 556.1,271.9 556.6,273.5 
			556.6,272.1 557,273.6 557,272.2 557.5,273.7 557.5,272.3 557.9,273.7 557.9,272.4 558.3,273.8 558.3,272.6 558.8,273.9 
			558.8,272.7 559.2,273.9 559.2,272.7 559.7,273.1 559.7,271.2 560.1,272.3 560.1,269.9 560.5,271.6 560.5,268.6 561,270.8 
			561,267.3 561.4,270 561.4,265.9 561.8,269.3 561.8,264.6 562.3,268.5 562.3,263.2 562.7,267.7 562.7,261.8 563.2,266.9 
			563.2,260.4 563.6,266.1 563.6,258.9 564,265.3 564,257.4 564.5,264.4 564.5,255.9 564.9,263.6 564.9,254.3 565.4,262.7 
			565.4,252.7 565.8,261.7 565.8,250.9 566.2,260.7 566.2,249.1 566.7,259.7 566.7,247.2 567.1,258.5 567.1,244.9 567.6,257.3 
			567.6,242.6 568,255.9 568,239.9 568.4,254.4 568.4,237.1 568.9,253.5 568.9,235.4 569.3,253.5 569.3,235.5 569.8,253.7 
			569.8,235.9 570.2,253.8 570.2,236.2 570.6,253.9 570.6,236.3 571.1,253.8 571.1,236.1 571.5,253.7 571.5,235.9 572,253.5 
			572,235.5 572.4,253.2 572.4,234.9 572.8,252.9 572.8,234.4 573.3,252.6 573.3,233.8 573.7,252.3 573.7,233.2 574.1,252 
			574.1,232.7 574.6,251.7 574.6,232 575,251.4 575,231.5 575.5,251.1 575.5,230.9 575.9,250.8 575.9,230.3 576.3,250.5 
			576.3,229.7 576.8,250.2 576.8,229.1 577.2,249.9 577.2,228.6 577.6,249.6 577.6,228 578.1,249.3 578.1,227.5 578.5,249 
			578.5,226.9 579,248.8 579,226.4 579.4,248.5 579.4,225.9 579.8,248.3 579.8,225.3 580.3,248 580.3,224.9 580.7,247.7 
			580.7,224.3 581.2,247.4 581.2,223.7 581.6,247.1 581.6,223.2 582,246.8 582,222.5 582.5,246.5 582.5,221.9 582.9,246.2 
			582.9,220.8 583.3,245.8 583.3,219.5 583.8,245.5 583.8,218 584.2,245.1 584.2,216.4 584.7,244.8 584.7,214.7 585.1,244.4 
			585.1,213 585.5,244.1 585.5,211.3 586,243.7 586,209.5 586.4,243.3 586.4,207.7 586.9,243 586.9,205.9 587.3,242.6 587.3,204.1 
			587.7,242.3 587.7,202.3 588.2,241.9 588.2,200.4 588.6,241.6 588.6,198.6 589,241.2 589,196.8 589.5,240.9 589.5,195.1 
			589.9,240.5 589.9,193.3 590.4,240.2 590.4,191.5 590.8,239.8 590.8,189.7 591.2,239.5 591.2,187.8 591.7,239.1 591.7,185.9 
			592.1,238.8 592.1,184 592.6,238.4 592.6,182.1 593,238 593,180.1 593.4,237.7 593.4,178.1 593.9,237.3 593.9,176.1 594.3,236.9 
			594.3,174 		"></polyline>
		<path d="M55.2,263.1c0,0,4.2-2.5,6-3.6c9.2-5.6,39.9-24.3,67.7-41.2c17.9-10.8,34.9-20.9,44.8-27.1
			c11.6-7.1,34.6-21.8,46.1-29.3c6.3-4.2,19-12.7,25.2-17.2c3.6-2.6,14.4-10.8,14.4-10.8s6.2-5.2,8.2-7c1.8-1.6,5.3-4.9,7-6.6
			c1.2-1.3,3.7-3.8,4.9-5.2c1.4-1.7,5.2-7.1,5.2-7.1l3.1-4.6l2.4-0.8l2.2-0.5l4.2,1.1l4.7-1.9l4.6,1.3l5.2-2.7l7.3,1.4l4.5,1.5
			l1.2-0.2l3.6-2.3l2.1-0.1l3,0.7l2.5,0.4l3.2-0.1l1.7,0.5l3.3,0.2h3.4l1.6,0.5l1.7,0.1l5.2-2.8l6.2,1.2l3.8,0.7l1.8,0.1l2.8-1.3
			l3-0.4l3.7,0.1l2.1-0.2l2.8-0.8l13.2,2.3c0,0,2.6-2.5,3.9-2.1c3,0.8,11.9,3,11.9,3l6.2,0.4l3,0.7l4.9-1.9l13.1,1.9l5-2.8l4.9,1.1
			l3.1-1.2l13.9,0.7l4.3-2.6l4.2,1.1l3.4,0.8l16.1,0.5l3.5-1.3l3.2,0.5l7.1,2.1l5.9-2.5l23.1,1.1c0,0,1.7-1.3,2.3-1.4
			c1.4-0.3,5.6,0.6,5.6,0.6l4.1,0.7l14.1,0.5L569,91c0,0,1-3.2,1.8-3.7c0.6-0.3,2.5,0.5,2.5,0.5l4.5-1.5l18.4-8.7l16.1-9l15.3-10.4
			l19.9-14.2l17-13.4l10.7-8.4"></path>
		<g>
			<rect x="48.7" y="245.7" width="10.3" height="31.7"></rect>
			<rect x="673.7" y="14.5" width="10.3" height="14.7"></rect>
		</g>
	</g>
	<g>
		<g>
			<line x1="70" y1="78" x2="83.5" y2="78"></line>
			<text transform="matrix(1 0 0 1 90.8027 83.1963)">Oxygen concentration</text>
		</g>
		<g>
			<line x1="70" y1="57" x2="83.5" y2="57"></line>
			<text transform="matrix(1 0 0 1 90.8027 62.2236)">Estimated day length</text>
		</g>
	</g>
	<g>
		<g>
			<line x1="256.1" y1="301.6" x2="256.1" y2="36.6"></line>
			<line x1="294.5" y1="301.6" x2="294.5" y2="36.6"></line>
		</g>
		<g>
			<line x1="547" y1="301.6" x2="547" y2="36.6"></line>
			<line x1="577.3" y1="301.6" x2="577.3" y2="36.6"></line>
		</g>
		<g>
			<line x1="597.9" y1="301.6" x2="597.9" y2="36.6"></line>
			<line x1="613.9" y1="301.6" x2="613.9" y2="36.6"></line>
		</g>
	</g>
	<g>
		<g>
			<polyline points="294.5,32 294.5,20.8 256.1,20.8 256.1,32 			"></polyline>
			<text transform="matrix(1 0 0 1 260.7837 14.543)">GOE</text>
		</g>
		<g>
			<polyline points="577.3,32 577.3,20.8 547,20.8 547,32 			"></polyline>
			<text transform="matrix(1 0 0 1 546.998 14.543)">NOE</text>
		</g>
		<g>
			<polyline points="613.9,32 613.9,20.8 597.9,20.8 597.9,32 			"></polyline>
			<text transform="matrix(1 0 0 1 591.5547 14.543)">POE</text>
		</g>
		<text transform="matrix(1 0 0 1 331.2754 14.543)">The “boring billion” years</text>
	</g>
</g>
</svg>
</figure>  </p>
      <figcaption>
      <p><span>
            
  
      K. Franklin/<cite>Science</cite>  
          </span>
              </p>
    </figcaption>
  </figure>
  
</figure>
  
  
      <p>This “elegant” idea helps explain why oxygen didn’t build up in the atmosphere as soon as cyanobacteria appeared on the scene 3.5 billion years ago, says Timothy Lyons, a biogeochemist at the University of California, Riverside. Because day length was still so short back then, oxygen in the mats never had a chance to build up enough to diffuse out. “Long daytimes simply allow more oxygen to escape to the overlying waters and eventually the atmosphere,” Lyons says.</p>

<p>Still, Lyons and others say, many factors likely contributed to the rise in oxygen. For example, Fischer suspects free-floating cyanobacteria, not just those in rock-affixed mats, were big players. Benjamin Mills, an Earth system modeler at the University of Leeds, thinks the release of oxygen-binding minerals by ancient volcanoes likely countered the early buildup of the gas at times and should be factored into oxygen calculations.</p>

<p>Nonetheless, changing day length “is something that should be considered in more detail,” he says. “I&#39;ll try to add it to our Earth system models.”</p>
  
</div></div>]]></content:encoded>
      <guid>https://www.sciencemag.org/news/2021/08/totally-new-idea-suggests-longer-days-early-earth-set-stage-complex-life</guid>
      <pubDate>Wed, 04 Aug 2021 14:08:05 +0000</pubDate>
      <source>https://www.sciencemag.org/news/2021/08/totally-new-idea-suggests-longer-days-early-earth-set-stage-complex-life</source>
    </item>
    <item>
      <title>Use Phoenix Channels</title>
      <link>https://info.codecast.io/blog/how-to-use-phoenix-channels</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___info_codecast_io_blog_how-to-use-phoenix-channels/image.jpg" /> 
<div id="readability-page-1" class="page"><div><p>‍</p><p>Chris McCord showed how<a href="https://www.youtube.com/watch?v=N4Duii6Yog0"> a single Phoenix server could power a million connections</a>. That means a million people send and receive messages in a chat application powered only by a single physical server.</p><p>Phoenix is industry-leading when it comes to scalability and real-time systems.</p><h3>What is a real-time system?</h3><p>You might be more familiar with a typical one-way server request. The client requests information from the server, and the server responds.</p><p>‍</p><figure><p></p></figure><p>‍</p><h3>WebSockets</h3><p>Websockets allow for direct two-way communication between the client and server. Therefore, for most real-time applications, WebSockets are preferable.</p><p>At any point, the client or the server can send a message to the other. Websockets are the default method of real-time communication in Phoenix.</p><h3>Long polling</h3><p>Long polling is another less popular communication protocol for real-time features often used when clients have a poor internet connection. Long polling is a continuous cycle of request and response rather than open two-way communication.</p><p>The client establishes a connection. The connection then remains open until the server times out or responds. The client then reestablishes a connection, and the cycle continues.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>This allows the server to control when to update the client and benefits clients with poor internet connections.</p><blockquote>&#34;A client can change from WebSocket to long polling if something goes wrong, such as poor network connectivity.&#34; - Pragmatic Programmer</blockquote><h3>Phoenix Channels</h3><p>Channels are an exciting part of Phoenix that enable soft real-time communication with and between millions of connected clients.</p><p>Some possible use cases include:</p><ul role="list"><li>Chat rooms and APIs for messaging apps</li><li>Breaking news, like “a goal was scored” or “an earthquake is coming”</li><li>Tracking trains, trucks, or race participants on a map</li><li>Events in multiplayer games</li><li>Monitoring sensors and controlling lights</li><li><a href="https://hexdocs.pm/phoenix/channels.html">Phoenix Channel Documentation</a></li></ul><p>Some other use cases include:</p><ul role="list"><li>Collaborative documents</li><li>Unified cross-tab experience. For example, a shopping cart that updates even across multiple tabs.</li></ul><p>Phoenix channels allow real-time features across many clients. Here’s what that looks like in practice.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Notice that when a message is sent, it updates both browser windows.</p><h3>Phoenix Real-time Infrastructure</h3><p>When you generate a new phoenix project</p><p><strong>mix phx.new app</strong></p><p>Phoenix provides everything you need to get started with real-time features. The important pieces to know are the Endpoint, Socket, Topic, and Channel.</p><p>‍</p><figure><p></p></figure><p>‍</p><h3>Endpoint</h3><p>Defines a Phoenix endpoint.</p><p>The endpoint is the boundary where all requests to your web application start. It is also the interface your application provides to the underlying web servers.</p><p>Overall, an endpoint has three responsibilities:</p><ul role="list"><li>to provide a wrapper for starting and stopping the endpoint as part of a supervision tree</li><li>to define an initial plug pipeline for requests to pass through</li><li>to host web specific configuration for your application</li></ul><p> -  Phoenix Endpoint Documentation</p><p>In your Phoenix application in the <strong>endpoint.ex</strong> file, you’ll notice the Endpoint sets up the user socket by default. It also sets up a LiveView socket, but we’ll focus on the user socket.</p><p>‍</p><figure><p></p></figure><p>‍</p><h3>The Socket</h3><p>The socket ties transports and channels together. </p><p>By default, Phoenix uses WebSockets instead of long-polling, but it comes with support for both. Notice websockets: true and longpolling: false in the socket method.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Sockets must define two callbacks, <strong>connect</strong> and <strong>id</strong> . These callbacks are used to authenticate and identify socket connections.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>The socket manages the different channels in your Phoenix application. You can connect a channel under a particular context using the built-in channel method provided by the <strong>Phoenix.Socket</strong> module. The channel method takes in two values, the context for messages and the Channel module to handle messages under that context.</p><p>For example, here’s how to connect all messages under the chat context to the <strong>ChatChannel</strong>. The asterisk <strong>* </strong>is a wildcard. This means the <strong>ChatChannel</strong> handles all events under the chat topic.</p><p>‍</p><figure><p></p></figure><h3>The Channel </h3><p>To create a new channel, you can use the<strong> mix phx.gen.channel &lt;ChannelName&gt; </strong>command.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>This generates a <strong>ChatChannel</strong> that looks like this. </p><p>‍</p><figure><p></p></figure><p>‍</p><p>This channel is responsible for handling the live communication between the client and server.</p><p>By default, generated channels contain a join method that handles connecting the client to the channel. This join method uses the <strong>authorized?</strong> method as a placeholder for any authorization logic that you might want to implement in the future. By default, all join requests are authorized.</p><p>channels use <strong>handle_in</strong> methods that handle receiving a message from a client. The first parameter of the <strong>handle_in</strong> method is an event name string to pattern match on. The client sends the same event name string so that the channel knows which<strong> handle_in</strong> method should handle the incoming message.</p><h3>The Client</h3><p>Phoenix provides a <strong>socket.js</strong> file to handle connecting to the server from the client. There you will find some boilerplate code to handle connecting to a channel.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Change that code to match your topic and subtopic. This should match the string you used for the channel’s join method.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Import the socket in your <strong>app.js</strong> file.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Start your phoenix project using <strong>mix phx.server</strong> and open up your browser console (usually f12), and you’ll see that you’re joining successfully.</p><p>‍</p><figure><p></p></figure><h3><strong>Sending Messages</strong></h3><p>You can send messages using the <strong>channel.push()</strong> method</p><p>‍</p><figure><p></p></figure><h3>Receiving Messages</h3><p>You can handle receiving messages using the <strong>channel.on</strong> method.</p><p>‍</p><figure><p></p></figure><p>‍</p><p><strong>channel.on </strong>gets triggered by the broadcast method inside of the Phoenix Channel.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Here’s what that looks like if you add both methods to the <strong>socket.js</strong> file.</p><p>‍</p><figure><p></p></figure><p>‍</p><p>Now you’ll see the following in your browser console:</p><p>‍</p><figure><p></p></figure><h3>Intercepting Messages</h3><p>You can intercept messages using the <strong>handle_out</strong> method in the Phoenix Channel. You can override values, perform authentication, or add additional information.</p><p>The<strong> handle_out</strong> method is triggered whenever the broadcast method is called by the <strong>handle_in </strong>method with the same event string. In this case, “shout.”</p><p>You also have to include the event name in an intercept call inside of the Phoenix Channel.</p><p>To push the message to the client inside of the <strong>handle_out</strong> method use the push method.</p><p>‍</p><figure><p></p></figure><p>‍</p><figure><p></p></figure><h3><strong>Conclusion</strong></h3><p>Now you know everything you need to know to handle receiving, sending, and intercepting messages using Phoenix Channels.</p><p>If you’d like to know more about what you can do with Phoenix Channels, then the<a href="https://hexdocs.pm/phoenix/Phoenix.Channel.html"> Phoenix Documentation</a> is a great place to start!</p></div></div>]]></content:encoded>
      <guid>https://info.codecast.io/blog/how-to-use-phoenix-channels</guid>
      <pubDate>Wed, 04 Aug 2021 14:16:08 +0000</pubDate>
      <source>https://info.codecast.io/blog/how-to-use-phoenix-channels</source>
    </item>
    <item>
      <title>Eight Sleep (YC S15) Is Hiring a Data Scientist</title>
      <link>https://www.ycombinator.com/companies/eight-sleep/jobs/slZD7gD-full-stack-engineer-web-focus</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><section><div><div><a href="https://www.ycombinator.com/companies/eight-sleep"><p></p></a></div><div><div><div><p><strong>Experience</strong></p><p><span>Any (new grads ok)</span></p></div></div><div><p>Apply to Eight Sleep and hundreds of other fast-growing YC startups with a single profile.</p><p><a onclick="return applyNowClick(event)" href="https://account.ycombinator.com/authenticate?continue=https%3A%2F%2Fwww.workatastartup.com%2Fapplication%3Fapply_to_job_id%3D45501&amp;defaults%5BsignUpActive%5D=true&amp;defaults%5Bwaas_company%5D=964">Apply to role ›</a></p></div></div><h2><strong>About the role</strong></h2><div><div><p>Eight Sleep is the first sleep fitness company — we design products at the forefront of sleep innovation. Our mission is to make people’s sleep count for more, using innovative technology, detailed design, and proven science and data to personalize and improve each night for everybody—changing the way people sleep forever and for better. Backed by leading Silicon Valley investors including Khosla Ventures and Y Combinator, it was named by Fast Company in 2018 as one of the Most Innovative Companies in Consumer Electronics.</p>
<p>We recently launched our latest temperature-regulated smart bed, the Pod Pro. It&#39;s an absolute game changer, improving people&#39;s health and happiness by changing the way they sleep. Early feedback is great, but we still have a long way to go toward achieving our mission.</p>
<p>That is why Eight Sleep is looking for a talented Frontend Engineer to join our expanding Growth team, with responsibilities spanning the consumer website, marketing and analytics systems. If you are a growth-oriented engineer and enjoy finding creative ways to solve business problems using your unique skill set, this is the right opportunity for you.</p>
<p><strong>How you&#39;ll contribute</strong></p>
<ul>
<li>Work with an interdisciplinary team on complex business problems to drive growth</li>
<li>Analyze and understand user behavior in order to optimize key performance metrics and enable a more personalized experience across all marketing channels.</li>
<li>Help design and implement A/B tests to improve conversion, optimize site flow, and drive revenue</li>
<li>Integrate data from various back-end services and databases to help build a richer picture of user behavior and help us spot areas for improvement.</li>
<li>Collaborate with designers to develop polished, intuitive, and well optimized experiences.</li>
<li>Identify and implement tools and systems to help scale our growing business.</li>
</ul>
<p><strong>About you</strong></p>
<ul>
<li>You have the desire to make a significant impact as part of a rapidly growing, dynamic startup.</li>
<li>You consider yourself to be a generalist engineer - willing to roll up your sleeves and use whatever language or framework will best help you get the job done.</li>
<li>You should feel just as comfortable diving into the backend when you are working on a feature as you do polishing the UI.</li>
<li>You often write small scripts that help automate parts of your work and are constantly finding new tools that make you more efficient.</li>
<li>You have a BA/BS in Computer Science, or commensurate experience from a coding bootcamp or similar.</li>
<li>You love thinking about things from the customer’s perspective and trying to understand what motivates and drives decision making.</li>
<li>You have side projects outside of work that you’re excited to tell us about.</li>
</ul>
<p><strong>What you&#39;ll need to succeed</strong></p>
<ul>
<li>2+ years of experience developing frontend applications in a production environment at a startup using modern JS frameworks such as React</li>
<li>2+ years of experience using Typescript</li>
<li>Solid understanding of how web applications work including performance, security, session management, accessibility, and best development practices.</li>
<li>Familiarity with some of the following technologies: React, Next.JS, AWS Lambdas + S3, Node.js, Typescript.</li>
<li>Experience with web analytics tools (e.g., Google Analytics, Amplitude) and Search Engine Optimization</li>
<li>Knowledge of relational database systems, Object Oriented Programming and various scripting languages.</li>
<li>Intuitive understanding of how to manipulate, analyze and interpret highly complex data</li>
<li>Knowledge of design tools (Figma, Sketch, Photoshop and Shopify) is a plus.</li>
</ul>
<p><strong>Why you’ll love Eight Sleep</strong></p>
<ul>
<li>We’re a tight-knit, passionate team that’s working to improve people’s lives by improving the way they sleep</li>
<li>Leadership is committed to employees’ wellness and career development</li>
<li>You’ll get a better night sleep every night; all full-time employees receive the Pod</li>
<li>Flexible, generous PTO</li>
<li>100% employer contribution for medical/dental/vision insurance</li>
</ul>
</div></div><h2><strong>Why you should join Eight Sleep</strong></h2><div><div><p>Eight Sleep is the first sleep fitness company. At Eight Sleep we design products at the forefront of sleep innovation. Our mission is to power human potential through better sleep, using innovative technology, detailed design, and proven science and data to personalize and improve each night for everybody—changing the way people sleep forever and for better. Backed by leading Silicon Valley investors including Khosla Ventures and Y Combinator, it was named by Fast Company in 2018 as one of the Most Innovative Companies in Consumer Electronics.</p>
<p>We&#39;ve just launched our temperature-regulated smart bed, the Pod. It&#39;s an absolute game changer, improving people&#39;s health and happiness by changing the way they sleep. Early feedback is great, but we still have a long way to go toward achieving our mission.</p>
</div></div></div></section></div></div>]]></content:encoded>
      <guid>https://www.ycombinator.com/companies/eight-sleep/jobs/slZD7gD-full-stack-engineer-web-focus</guid>
      <pubDate>Wed, 04 Aug 2021 12:00:39 +0000</pubDate>
      <source>https://www.ycombinator.com/companies/eight-sleep/jobs/slZD7gD-full-stack-engineer-web-focus</source>
    </item>
    <item>
      <title>GAN-generated facial images that are capable of impersonating multiple IDs</title>
      <link>https://www.unite.ai/master-faces-that-can-bypass-over-40-of-facial-id-authentication-systems/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_unite_ai_master-faces-that-can-bypass-over-40-of-facial-id-authentication-systems_/image.jpg" /> 
<div id="readability-page-1" class="page"><div id="mvp-content-main"><p>Researchers from Israel have developed a neural network capable of generating ‘master’ faces – facial images that are each capable of impersonating multiple IDs. The work suggests that it’s possible to generate such ‘master keys’ for more than 40% of the population using only 9 faces synthesized by the StyleGAN Generative Adversarial Network (GAN), via three leading face recognition systems.</p><p>The <a href="https://arxiv.org/pdf/2108.01077.pdf">paper</a> is a collaboration between the Blavatnik School of Computer Science and the school of Electrical Engineering, both at Tel Aviv.</p><p>Testing the system, the researchers found that a single generated face could unlock 20% of all identities in the University of Massachusetts’ Labeled Faces in the Wild (<a href="http://vis-www.cs.umass.edu/lfw/">LFW</a>) open source database, a common repository used for development and testing of facial ID systems, and the benchmark database for the Israeli system.</p><div id="attachment_176962"><p></p><p id="caption-attachment-176962"><em>The Israeli system workflow, which uses the StyleGAN generator to iteratively seek out ‘master faces’.</em> Source: https://arxiv.org/pdf/2108.01077.pdf</p></div><p>The new method improves on a similar <a href="https://www.unite.ai/a-universal-facial-id-master-key-through-machine-learning/">recent paper</a> from the University of Siena, which requires a privileged level of access to the <a href="https://www.unite.ai/what-is-machine-learning/">machine learning</a> framework. By contrast, the new method infers generalized features from publicly available material and uses it to create facial characteristics that straddle a vast number of identities.</p><h3><strong>Evolving Master Faces</strong></h3><p><a href="https://arxiv.org/pdf/1812.04948.pdf">StyleGAN</a> is initially used in this approach under a black box optimization method focusing (unsurprisingly) on high dimensional data, since it’s important to find the broadest and most generalized facial features that will satisfy an authentication system.</p><p>This process is then repeated iteratively to encompass identities that were not encoded in the initial pass. In varying test conditions, the researchers found that it was possible to obtain authentication for 40-60% with only nine generated images.</p><div id="attachment_176963"><p><a href="https://ml8ygptwlcsq.i.optimole.com/fMKjlhs-M8dyDKvP/w:auto/h:auto/q:auto/https://www.unite.ai/wp-content/uploads/2021/08/master-faces.jpg"></a></p><p id="caption-attachment-176963"><em>Successive groups of ‘master faces’ obtained in the research across various Coverage Search methods, including LM-MA-ES. The Mean Set Coverage (MSC, a metric for accuracy) is noted under each image.</em></p></div><p>The system uses an evolutionary algorithm coupled with a neural predictor that estimates the likelihood of the current ‘candidate’ to generalize better than the p-percentile of candidates generated in previous passes.</p><div id="attachment_176964"><p></p><p id="caption-attachment-176964"><em>The filtering of generated candidates in the architecture of the Israeli system.</em></p></div><h3><strong>LM-MA-ES</strong></h3><p>The project uses the Limited-Memory Matrix Adaptation (<a href="https://arxiv.org/pdf/1705.06693.pdf">LM-MA-ES</a>) algorithm developed for a 2017 initiative led by the Research Group on Machine Learning for Automated Algorithm Design, an approach that’s well-suited for high-dimensional black box optimization.</p><p>The LM-MA-ES outputs candidates randomly. Though this is well-suited to the intent of the project, an additional component is needed to deduce which faces are the best candidates for cross-identity authentication. Therefore the researchers created a ‘Success Predictor’ neural classifier to sieve the flood of candidates into the best-fit faces for the task.</p><div id="attachment_176965"><p></p><p id="caption-attachment-176965"><em>Rationale of the Success Predictor used in the Israeli facial identification spoofing project.</em></p></div><h3><strong>Evaluation</strong></h3><p>The system was tested against three CNN-based face descriptors: <a href="https://arxiv.org/pdf/1704.08063.pdf">SphereFace</a>, <a href="https://arxiv.org/pdf/1503.03832.pdf">FaceNet</a> and <a href="https://www.scalr.ai/post/facial-detection-and-recognition-with-dlib">Dlib</a>, each system architecture containing a similarity metric and a loss function, which are useful in validating the system’s accuracy scores.</p><p>Success Predictor is a <a href="https://www.unite.ai/what-are-neural-networks/">feed-forward neural network</a> comprising three fully-connected layers. The first of these uses <a href="https://openreview.net/forum?id=d-XzF81Wg1">BatchNorm regularization</a> to ensure consistency of data prior to activation. The network uses <a href="https://medium.com/@nishantnikhil/adam-optimizer-notes-ddac4fd7218">ADAM</a> as the optimizer, with an ambitious learning rate of 0.001 over batches of 32 input images.</p><div id="attachment_176966"><p></p><p id="caption-attachment-176966"><em>Output from the three architectures.</em></p></div><p>All three algorithms tested were trained for 26,400 fitness function calls using the same set of five seeds.</p><p>The researchers had established by this point that longer training processes did not benefit the system; effectively, the Israeli approach is seeking to derive key data from an early stage of model training, where only the highest features have yet been discerned. It’s worth noting that this is something of a gift, in terms of framework economy.</p><p>Having established baseline results with Facebook’s Python-based <a href="https://github.com/facebookresearch/nevergrad">NeverGrad</a> gradient-free optimization environment, the system was profiled against a number of  algorithms, including various brands of the <a href="https://www.metabolic-economics.de/pages/seminar_theoretische_biologie_2007/literatur/schaber/Storn1997JGlobOpt11.pdf">Differential Evolution</a> heuristic.</p><p>The researchers found that a ‘greedy’ approach based on Dlib outperformed its competitors, succeeding in creating nine master faces capable of unlocking 42%-64% of the test dataset. Application of the system’s Success Predictor further improved these very favorable results.</p><p>The paper contends that ‘face based authentication is extremely vulnerable, even if there is no information on the target identity’, and the researchers consider their initiative a valid approach to a security incursion methodology for facial recognition systems.</p></div></div>]]></content:encoded>
      <guid>https://www.unite.ai/master-faces-that-can-bypass-over-40-of-facial-id-authentication-systems/</guid>
      <pubDate>Wed, 04 Aug 2021 09:20:36 +0000</pubDate>
      <source>https://www.unite.ai/master-faces-that-can-bypass-over-40-of-facial-id-authentication-systems/</source>
    </item>
    <item>
      <title>Julian Assange: peering through the murk</title>
      <link>https://www.lawgazette.co.uk/commentary-and-opinion/julian-assange-peering-through-the-murk/5109400.article</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_lawgazette_co_uk_commentary-and-opinion_julian-assange-peering-through-the-murk_5109400_article/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
				<div>
					
					<div><p>If Julian Assange is extradited to the United States and convicted of any of the charges he faces there – such as unauthorised obtaining of national defence information – the US government will let him serve his sentence in an Australian prison.</p>
<div data-attachment="98594" data-sequence="3">
<p></p>

<p>Julian Assange</p></div>
<p>The US has also agreed that, as things stand, the Wikileaks founder will not be held at the administrative maximum security prison near Florence, Colorado, known as ADX. Nor will he be subject to special administrative measures designed to prevent the disclosure of classified information – such as limits on correspondence, visits and telephone calls.</p>
<blockquote>
<p>But if, as Swift has held, the US has raised ‘arguable issues that should be considered at a final hearing’, lawyers with clients currently facing extradition to the US need to know – now – precisely what these are</p>
</blockquote>
<p>This could be a game-changer. An application by the US government for Assange’s extradition was dismissed in January because a court in London had found it would be oppressive to extradite him to a country where he might face these restrictions. District Judge Baraitser was persuaded that if he was subjected to the ‘extreme conditions’ of special administrative measures, ‘Assange’s mental health will deteriorate to the point where he will commit suicide’.</p>
<p>But Assange remains in prison. The district judge refused him bail after the US government said it would seek to appeal to the High Court against her decision. And on 5 July Mr Justice Swift granted the US permission on three of the five grounds set out in its application for permission to appeal.</p>
<p>What were those? This is where the story becomes murky.</p>
<p>The judge’s two-page order, which has not been published but is readily available from the court, explains briefly why he refused the US permission to appeal on grounds 3 and 4. It says nothing about Swift’s reasons for granting permission on grounds 1, 2 and 5.</p>
<p>That’s not a problem as far as the parties are concerned: they know what the grounds of appeal were. And when the appeal is heard – this autumn or next year – we shall find out too. But if, as Swift has held, the US has raised ‘arguable issues that should be considered at a final hearing’, lawyers with clients currently facing extradition to the US need to know – now – precisely what these are.</p>
<p>Foreign governments seeking extradition are represented by the Crown Prosecution Service. I asked the CPS for a copy of the application they had filed for permission to appeal. They refused to let me see it. Instead, they suggested I asked the High Court. The court told me I needed to make a written application to the judge and pay a fee of £255. I was not willing to do so – it raises concerns about access to justice data that were the subject of an important report by the Legal Education Foundation last month – and I have not been able to get hold of a copy in any other way.</p>
<p>After further requests, the CPS agreed to send me an informal briefing note that had been supplied to other journalists shortly after Swift’s ruling. This note, which includes a minor inaccuracy, is the source of all media reports and legal commentaries on the judge’s ruling.</p>
<p>The first arguable ground, according to this note, was that Baraitser had made errors of law in applying the test under section 91 of the Extradition Act 2003. This says that if the physical or mental condition of a suspect ‘is such that it would be unjust or oppressive to extradite him’, the judge must either order his or her discharge or adjourn the hearing until he or she is better. We don’t know what Baraitser’s alleged errors were.</p>
<p>The second arguable ground is that, having decided that the threshold for discharge was met, Baraitser should have notified the requesting state of her provisional view and given the US a chance to offer assurances.</p>
<p>The third arguable ground – ground 5 – was that the US has now provided the UK with the assurances I summarised earlier.</p>
<p>The two grounds on which permission was refused related to the evidence of a defence psychiatrist and the risk of suicide. Swift said that Baraitser’s findings were reasonably open to her and her conclusions on the disputed evidence were also reasonable. The matters referred to in the application for permission to appeal – we have no idea what these were – ‘are no more than an attempt to re-run determination of the evidential disputes reached by the district judge’.</p>
<p>Nick Vamos, an extradition partner at Peters &amp; Peters, said the apparent willingness of the US authorities to provide specific assurances – which they have resisted in the past – may signify the importance they place on this case. Alternatively, it may ‘simply be the US bowing pragmatically to the inevitability that bespoke assurances are now an indispensable part of many extradition proceedings’.</p>
<p>But it’s the details that matter: would Assange have to remain in the US pending any appeal, for example? It may be some months before we find out.</p>
<p><a title="joshua@rozenberg.net" href="mailto:joshua@rozenberg.net">joshua@rozenberg.net</a></p></div>
				</div>
			</div></div>]]></content:encoded>
      <guid>https://www.lawgazette.co.uk/commentary-and-opinion/julian-assange-peering-through-the-murk/5109400.article</guid>
      <pubDate>Wed, 04 Aug 2021 15:41:12 +0000</pubDate>
      <source>https://www.lawgazette.co.uk/commentary-and-opinion/julian-assange-peering-through-the-murk/5109400.article</source>
    </item>
    <item>
      <title>A Soviet Prisoner&#39;s View on What&#39;s Important</title>
      <link>https://butwhatfor.substack.com/p/speech-at-the-stadium</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___butwhatfor_substack_com_p_speech-at-the-stadium/image.jpg" /> 
<div id="readability-page-1" class="page"><div><p><em>Welcome to all our new subscribers! I write a weekly newsletter, sent out every Sunday, about anything, as long as it’s interesting. If you enjoy the newsletter, please share it with a few friends/colleagues.</em></p><p>Last week, I shared a few excerpts of <a href="https://www.butwhatfor.com/charlie-munger/">Charlie Munger</a>’s <a href="https://www.butwhatfor.com/charlie-munger-the-psychology-of-human-misjudgment/">Psychology of Human Misjudgment</a> as someone had reached out saying that they thought it was a useful, albeit long, speech. That article got forwarded around a bit and resulted in one of the highest subscriber-per-view stats of any email I have sent out.</p><p>I think that means many people found it interesting.</p><p>So I thought I would do something similar again this week with another transcript that I posted on the <a href="https://www.butwhatfor.com/">main website</a> earlier this year — <a href="https://en.wikipedia.org/wiki/Joseph_Brodsky">Joseph Brodsky</a>’s Speech at the Stadium.</p><p>For those interested, <a href="https://www.butwhatfor.com/joseph-brodsky-speech-at-the-stadium/">the full speech transcript can be found here</a>. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1103534-c7b0-4901-b989-74f21cd6deef_1280x720.jpeg"></a></figure></div><h3>Who is Joseph Brodsky?</h3><p>Joseph Brodsky was a Russian poet and Noble Prize recipient.</p><p>He was born in Leningrad in 1940 and held numerous jobs following high school — working in a morgue, in a weapons factory, as a sailor, and on a geological exploration team in Asia. He started writing poetry at the age of 18, but only three years later, and while on that expedition far away from home, Brodsky decided to make poetry his full-time career and returned home to Leningrad.</p><p>Shortly thereafter he started becoming well-known in Russian literary circles, while at the same time being considered controversial. Well-known and controversial were an unfortunate combination in the Soviet Union at the time, and Brodsky found himself in and out of Soviet-run mental hospitals and prisons. </p><p>Fortunately, he was able to leave the Soviet Union in 1972 through the help of a few American poetry friends and eventually became a U.S. citizen in 1977. He went on to hold teaching positions at Columbia University and Mount Holyoke College and served as <a href="https://en.wikipedia.org/wiki/United_States_Poet_Laureate">Poet Laureate of the United States</a> from 1991 to 1992. Further, he won the Noble Prize in Literature in 1987 for “an all-embracing authorship, imbued with clarity of thought and poetic intensity.”</p><h3>Famous Poet, You Say?</h3><p>Title: <strong>1 January 1965</strong></p><p>Translated by <a href="https://en.wikipedia.org/wiki/George_Kline">George L. Kline</a></p><blockquote><p>The Wise Men will unlearn your name. </p><p>Above your head no star will flame. </p><p>One weary sound will be the same— </p><p>the hoarse roar of the gale. </p><p>The shadows fall from your tired eyes </p><p>as your lone bedside candle dies, </p><p>for here the calendar breeds nights</p><p>till stores of candles fail. </p><p>What prompts this melancholy key? </p><p>A long familiar melody. </p><p>It sounds again. So let it be. </p><p>Let it sound from this night. </p><p>Let it sound in my hour of death— </p><p>as gratefulness of eyes and lips</p><p>for that which sometimes makes us lift </p><p>our gaze to the far sky. </p><p>You glare in silence at the wall. </p><p>Your stocking gapes: no gifts at all. </p><p>It&#39;s clear that you are now too old </p><p>to trust in good Saint Nick; </p><p>that it&#39;s too late for miracles. </p><p>—But suddenly, lifting your eyes </p><p>to heaven&#39;s light, you realize: </p><p>your life is a sheer gift.</p></blockquote><h3>When Was the Speech Given?</h3><p>On December 18, 1988, Brodsky delivered this commencement address to 2,000 or so graduates of the University of Michigan. The speech ranges from practical advice on concrete skills that must be learned to more philosophical anecdotes on how to approach challenges you face. </p><p>For almost a decade following his address, the speech was unpublished publicly and more-or-less forgotten. This changed when it was published for the first time posthumously in <a href="https://amzn.to/2Vi9z3H">On Grief and Reason</a>, a collection of Brodsky’s later-life works. Originally titled “<a href="http://www.umich.edu/~bhlumrec/c/commence/1988-Brodsky.pdf">Some Tips</a>,” the speech is now often referred to as Brodsky’s “Speech at the Stadium,” the title given in that collection.</p><p>If you have made it this far, please take a moment to share the article with someone that might find it interesting — I appreciate your support.</p><p data-attrs="{&#34;url&#34;:&#34;https://newsletter.butwhatfor.com/p/speech-at-the-stadium?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share&#34;,&#34;class&#34;:null}"><a href="https://newsletter.butwhatfor.com/p/speech-at-the-stadium?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share"><span>Share</span></a></p><h3>Learn to be Articulate</h3><blockquote><p>Try to build and treat your vocabulary the way you are to treat your checking account. Pay every attention to it and try to increase your earnings. The purpose here is not to boost your bedroom eloquence or your professional success — although those, too, can be consequences — nor is it to turn you into parlor sophisticates. The purpose is to enable you to articulate yourselves as fully and precisely as possible; in a word, the purpose is your balance…</p><p>On a daily basis, a lot is happening to one’s psyche; the mode of one’s expression, however, often remains the same. Articulation lags behind experience… Sentiments, nuances, thoughts, perceptions that remain nameless, unable to be voiced and dissatisfied with approximations, get pent up within an individual and may lead to a psychological explosion or implosion.</p></blockquote><h3>Make What You Can Better</h3><blockquote><p>Try not to set too much store by politicians. Not so much because they are dumb or dishonest, which is more often than not the case, but because of the size of their job, which is too big even for the best among them, by this or that political party, doctrine, system or a blueprint thereof. All they or those can do, at best, is to diminish a social evil, not eradicate it. No matter how substantial an improvement may be, ethically speaking it will always be negligible, because there will always be those — say, just one person — who won’t profit from this improvement…</p><p>No matter how fairly the man you’ve elected will promise to cut the pie, it won’t grow in size; as a matter of fact, the portions are bound to get smaller. In light of that, or, rather, in dark of that — you ought to rely on your own home cooking, that is, on managing the world yourselves — at least that part of it that lies within your reach, within your radius.</p></blockquote><h3>Focus on Being You, Not What Someone Else Is</h3><blockquote><p>To this it should be added that the rich and famous these days, too, come in throngs, that up there on the top it’s very crowded. So if you want to get rich or famous or both, by all means go ahead, but don’t make a meal of it. To covet what somebody else has is to forfeit your uniqueness; on the other hand, of course, it stimulates mass production. </p><p>But as you are running through life only once, it is only sensible to try to avoid the most obvious cliches, limited editions included. The notion of exclusivity, mind you, also forfeits your uniqueness, not to mention that it shrinks your sense of reality to the already-achieved.</p><p>Far better than belonging to any club is to be jostled by the multitudes of those who, given their income and their appearance, represent — at least theoretically — unlimited potential. Try to be more like them than like those who are not like them.</p></blockquote><h3>Do Not View Yourself as a Victim</h3><blockquote><p>Of all the parts of your body, be most vigilant over your index finger, for it is blame-thirsty. A pointed finger is a victim’s logo — the opposite of the V-sign and a synonym for surrender. No matter how abominable your condition may be, try not to blame anything or anybody: history, the state, superiors, race, parents, the phase of the moon, childhood, toilet training, etc… The moment that you place blame somewhere, you undermine your resolve to change anything; it could be argued even that that blame-thirsty finger oscillates as wildly as it does because the resolve was never great enough in the first place.</p><p>After all, a victim status is not without its sweetness. It commands compassion, confers distinction, and whole nations and continents bask in the murk of mental discounts advertised as the victim’s conscience — but try to resist it. However abundant and irrefutable is the evidence that you are on the losing side, negate it as long as you have your wits about you, as long as your lips can utter “No…”</p><p>On the whole, try to respect life not only for its amenities but for its hardships, too. They are a part of the game, and what’s good about a hardship is that it is not a deception.</p></blockquote><h3>It’s OK to Let Go of People and Things</h3><blockquote><p>Try not to pay attention to those who will try to make life miserable for you. There will be a lot of those — in the official capacity as well as the self-appointed. Suffer them if you can’t escape them, but once you have steered clear of them, give them the shortest shrift possible. Above all, try to avoid telling stories about the unjust treatment you received at their hands; avoid it no matter how receptive your audience may be…</p><p>What your foes do derives its significance or consequence from the way you react. Therefore, rush through or past them as though they were yellow and not red lights. Don’t linger on them mentally or verbally; don’t pride yourself on forgiving or forgetting them — worse come to worse, do the forgetting first.</p></blockquote><p>If you made it all the way through the article, please take a moment to share it with someone that might find it interesting, or consider becoming a supporter of the newsletter by being a paying subscriber — I appreciate your support and interest in the newsletter very much.</p><p data-attrs="{&#34;url&#34;:&#34;https://newsletter.butwhatfor.com/p/speech-at-the-stadium?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share&#34;,&#34;class&#34;:null}"><a href="https://newsletter.butwhatfor.com/p/speech-at-the-stadium?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share"><span>Share</span></a></p><p>Take care and have a great rest of the week,</p><p>— EJ</p><h3>See <a href="https://newsletter.butwhatfor.com/">here</a> for an archive of recent newsletter articles</h3><p>A few selected examples…</p><h3><a href="https://newsletter.butwhatfor.com/p/an-attack-on-pearl-harbor">We Only Ever Talk About the Third Attack on Pearl Harbor</a></h3><p>“It was a winter Sunday morning and the island of Oahu was asleep — its military at Pearl Harbor less alert than they might have been any other day of the week.</p><p>The winter trade winds blow steadily from the northeast against the Hawaiian island, rushing along and then up and over the 3,000-foot Koolau Range, with the moisture they carry being wrung out along the way. That moisture often forms into towering clouds, creating a dark wall of rain and weather.”</p><h3><a href="https://newsletter.butwhatfor.com/p/planning-the-attack-on-pearl-harbor">Planning the Attack on Pearl Harbor</a></h3><p>“<a href="https://newsletter.butwhatfor.com/p/an-attack-on-pearl-harbor">The successful Japanese attack on Pearl Harbor</a> brought the United States into the war, but prevailing wisdom in Japan at the time said that the entrance was an inevitable eventuality. Many feared that a full-on attack by the United States had the potential to hobble Japanese war efforts elsewhere and even bring about a Japanese defeat. Thus, the attack was more of a desperate gamble to buy Japan time to secure a larger geography from which to extract natural resources and defend itself.</p><p>Japan’s strategy in the lead up to the December 7th attack was as impressive as the attack itself, providing a reminder that underestimating what you are up against, as the United States did with Japan at the time, can give the other side an advantage over you.”</p><h3><a href="https://newsletter.butwhatfor.com/p/perseverance-is-great-but-dont-forget">Perseverance is Great, But Don’t Forget to Prepare</a></h3><p>“After numerous terrorism incidents in the 1970s, the United States realized its armed forces had a blind spot when it came to counterterrorism. Green Beret <a href="https://en.wikipedia.org/wiki/Charles_Alvin_Beckwith">Colonel Charlie Beckwith</a>, who had served alongside the British Army&#39;s counter-terrorism unit the Special Air Service (also known as &#34;<a href="https://en.wikipedia.org/wiki/Special_Air_Service">SAS</a>&#34;) in Malaysia, had been pushing for such a group since the 1960s.</p><p>Now that terrorism was a proven threat killing Americans and the opportunity to be proactive had passed, the U.S. Army decided it was a good time to commission its own SAS-like force - namely, <a href="https://www.wearethemighty.com/articles/this-long-forgotten-unit-was-the-direct-predecessor-to-delta-force#:~:text=The%20US%20Army&#39;s%20highly%20secretive,American%20counterterrorist%20force%20in%20existence.">Delta Force</a>.</p><p>It is in the lead-up to the formation of Delta Force that we meet Eric Haney.”</p><p><a href="https://www.butwhatfor.com/">But What For?</a> Writing about anything, as long as it’s interesting</p><p data-attrs="{&#34;url&#34;:&#34;https://newsletter.butwhatfor.com/p/speech-at-the-stadium?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share&#34;,&#34;class&#34;:null}"><a href="https://newsletter.butwhatfor.com/p/speech-at-the-stadium?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share"><span>Share</span></a></p><p data-attrs="{&#34;url&#34;:&#34;https://newsletter.butwhatfor.com/p/speech-at-the-stadium/comments&#34;,&#34;text&#34;:&#34;Leave a comment&#34;,&#34;class&#34;:null}"><a href="https://newsletter.butwhatfor.com/p/speech-at-the-stadium/comments"><span>Leave a comment</span></a></p></div></div>]]></content:encoded>
      <guid>https://butwhatfor.substack.com/p/speech-at-the-stadium</guid>
      <pubDate>Mon, 02 Aug 2021 11:18:22 +0000</pubDate>
      <source>https://butwhatfor.substack.com/p/speech-at-the-stadium</source>
    </item>
    <item>
      <title>The surreal experience of my first developer job</title>
      <link>https://bennuttall.com/the-surreal-experience-of-my-first-developer-job/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___bennuttall_com_the-surreal-experience-of-my-first-developer-job_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
  <div>
    
    
<p>Nearly ten years ago I graduated with a degree in Mathematics &amp; Computing, with a keen interest in pursuing a career involving maths and programming, but with little idea how. First and foremost I had decided to stay in Manchester after uni, rather than risk getting stuck at my parents’ if I moved back home. So I rented a flat with a friend from uni and started looking for a job. I had spent a lot of time at uni learning web development – not so much from the course, but self-taught as the course was quite far behind. I was happily making websites with the LAMP stack, I felt pretty capable at it and I knew there were plenty of such jobs in the Manchester area – so I started applying for “Web developer” and “PHP developer” and similar positions in all sorts of local companies.</p>



<p>The first interview I had was a general developer job in a small company in Stockport – the job required Microsoft Access experience, and for some reason this was still something I considered myself to have, and was willing to promise to others I had, which baffles me now. I ended up having a really great chat with the company boss at the interview. He asked some great interview questions about data analysis, and we spent about 90 minutes in conversation – he was fascinated by what I’d studied at uni – particularly data visualisation and dynamical systems &amp; chaos. I did get offered the job but he was too late – I’d already had my second interview and they asked me to start immediately.</p>



<p>My second interview was with a company called <em>App Start</em> in an office building in an old fashioned industrial estate in a horrible part of Salford (if you think of Media City as <em>Salford</em>, the rest Salford would be a shock). I was pushing it for time due to underestimating the walk from the train station, and I arrived a bit flustered from the rush and trying to find the place. I was greeted by a man in beach shorts and flip-flops. I was dressed in a full suit, shirt, tie and smart shoes, and I told him “I’m here for an interview with Chris” – his response “Oh, Chris doesn’t work here any more” should have set off alarm bells, but hey, I was young and naive.</p>



<div><figure></figure></div>



<div><figure><figcaption>Clifton Business Park, Salford. The real factory of dreams.</figcaption></figure></div>



<p>The guy in flip-flops, Alex, seemed to be in charge now. He asked which role I’d applied for – I said “web developer” and he invited me in. There were about 15-20 people working at desktop PCs. There was a big sofa. The floor was bare concrete. In between whiteboards with passwords written on them you could see the walls were graffitied. The “interview” involved him trying to find my CV in Chris’s inbox, and me showing him some websites I’d made. He asked if I could come in the next day, to do a day’s work as a trial – so I did.</p>



<p>The next day was a Friday – and I seem to recall building a prototype of a social networking site – although I’m not sure why. Anyway – he seemed to think I was good enough so he offered me the job – starting on Monday – which was great for me – I’d landed a full-time job starting straight away, meaning I could pay the rent and start my post-uni life in Manchester. But once I accepted, he asked “are you free tomorrow?” – I hesitated but answered the question – “yes”. “Can you come in?” and because I wasn’t sure what else to say, I said yes. Again, this should have been a sign.</p>



<p>The owner was a young entrepreneur called Andrew, who I was told had made millions through his property development and management company, <em>Fresh Start Living</em>. He decided to get into the “app” market (remember, this was 2011 – iPhone apps were huge) and so he’d decided to give his IT guy (Alex) a budget to hire some developers to make a load of apps. Surely one of them would be a huge success and he’d make millions.</p>



<h2>Monday to Friday? 9 to 5?</h2>



<p>I went back again on the Saturday to find no sign of anyone in the office. I waited around a bit but didn’t know what to do. I didn’t have a contact number for Alex. After a while, he showed up. He’d been in the Fresh Start Living side of the building. We did a day’s work on our own in the office. He gave me a lift home and I was due to start work for real on the Monday.</p>



<p>I arrived on Monday, and was told about the project I’d be working on. The short version is that I was told we had to have it finished before anyone could go home. We were there until 9pm. That was my first day as a full-time employee.</p>



<div><figure><figcaption>My desk. A desktop PC running Windows. Google+ and the original Tweetdeck. Beer.</figcaption></figure></div>



<h2>Skill Buy</h2>



<p>So on my first day, Alex told me the project I’d be working on was called <em>Skill Buy</em>, and proceeded to explain the concept. The idea was similar to an auction site that was popular at the time where you could bid on a product, but you paid for every bid – so if you saw an iPhone with a winning bid of 1p, you could bid 2p, but if you were outbid, you’d lost your 2p – eventually someone would win it at a bargain price at the expense of everyone who’d bid before them and the company would make a fortune. They’re called penny auctions and you can read about them in this paper: <em><a href="https://irep.ntu.ac.uk/id/eprint/26656/1/PubSub3120_Griffiths.pdf"><strong>Are online penny auctions a form of gambling?</strong></a></em> Anyway – the idea I’d been told about was similar, but instead of bidding, you’d play a game (a <em>Flash</em> or <em>Unity</em> game made by the game devs I was working with) – and it worked like an arcade game – the winner gets the prize. You’d buy credits, spend your credits playing games, and if you were the top scorer at the end of the game’s countdown timer, you’d win the prize. Actually you’d win the prize at 99% discount because they seemed to think that got around gambling laws.</p>



<p>Without a web developer on staff, getting this idea off the ground had proved tricky, and Alex had been using his own jack-of-all-trades skills to knock something together. He had some experience managing an e-commerce site (I later found out that he ran his own online sex toy shop…) so he’d put together a Skill Buy prototype using the PHP e-commerce framework <em>Magento</em>. He would add products (prizes) in the site’s admin area, and hacked away at the templates to show countdown timers and things. Somehow, Alex had promised the site would be ready to show Andrew the next day – and at some point in the afternoon he started to stress out and said to the whole room “no-one’s going home until this is done”. One of the game devs, had made a target shooting practice game in <em>Unity</em>, and we had to figure out how to embed it in the site and get the game to submit the player’s score to the site’s PHP back-end. We had no idea where to start, but we worked on it all afternoon, well into the evening, and we got it working to whatever standard Alex had required, and finally got to go home.</p>



<div><figure><figcaption>The shooting range game</figcaption></figure></div>



<p>Over the next few weeks I worked on the site, I grew fed up of being stuck in this e-commerce framework – having to work with its hyper-normalised MySQL database (the <a href="https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model">EAV model</a>), and the fact the product I was building wasn’t really a shop – so I asked Alex if he minded me writing something custom instead. I got my own custom PHP/MySQL site up-and-running pretty quickly, and it didn’t take long before we launched the site. I was happy enough writing crappy PHP, implementing questionable security protections (feeble attempts to block people from sending in fake scores), and learning things like how to integrate Facebook Login, PayPal payments, using AJAX, and working with the game devs to integrate with the scoring system. I actually quite enjoyed working there for a little while! It was liberating, knowing I was using my self-taught web dev skills on my own terms – and getting paid to do so.</p>



<div><figure><figcaption>Alex McDaid (beard) and Liam Daly</figcaption></figure></div>



<div><figure><figcaption>Shocking coverage from the Manchester Evening News, which you can still <a href="https://www.manchestereveningnews.co.uk/business/innovation/appstart-launches-online-arcade-skill-872914">read online</a></figcaption></figure></div>



<p>The apps company was being run by Alex and a 19-year-old kid called Liam, whose Uncle was involved in the property business. Somehow Liam had been given an experimental side-project business to help run as his “placement year” at uni.</p>



<div><figure><figcaption>Skill Buy</figcaption></figure></div>



<p>One thing that might strike you as odd is the bizarre graphics. The designer had made all these cow-in-a-field graphics for an iPhone game that was planned – but they’d shelved it and told her to re-use them on the website. She <em>hated </em>that they were being used like this – and it didn’t make sense to anyone else either.</p>



<p>Alex had a tendency of regularly asking if you were free on Saturday. The first few times I said yes, and just worked an extra day – I think I assumed I would automatically get paid overtime – but I didn’t. Eventually I just learned to say no.</p>



<p>A little while after I joined, a guy called Bob turned up and took some kind of product manager job, similar to Alex and Liam. Like Liam, he seemed nice enough but somewhat out of place. He was a friend of Alex’s. He used to stare at Google Analytics all day and come over and tell me things about bounce times and referrals. He used to leave after lunch, for whatever reason, so he earned the nickname <em>Half-a-job Bob.</em> He didn’t last long though. One day, he’d been in a meeting with Andrew, who’d obviously seen through him and had enough. I came to discover that when Andrew decided he didn’t like someone, rather than fire them, he’d have a go at them and make them feel so angry they’d want to leave. Bob marched through the door, slammed it behind him, muttering loudly to himself “he’s not talking to me like that” and declared to the room that he was “taking no more of Andrew’s shit” and stormed out.</p>



<figure><ul><li><figure></figure></li><li><figure></figure></li><li><figure></figure></li></ul></figure>



<p>We’d launched the site, and they’d started running Facebook ads promoting it. Alex even ordered a load of printed materials and signs to put up. I remember once, when giving me a lift home, he pulled up and got out of the car to cable tie a Skill Buy banner to a railing at a set of traffic lights. <a href="http://whatsthefunctionality.blogspot.com/2011/10/skillbuycouk-and-what-it-is.html">We had people playing</a> – you got a few free credits after signing up, and some were actually buying credits too. The cheaper gimmicky prizes had short timers on them, and we had winners claim prizes – which Liam shipped out. We had some big prizes on there too, like a Rolex watch, a year’s free accommodation, and a house. The idea was that Andrew could give away use of some of Fresh Start’s rental properties and even a house, if the website made enough revenue. The accommodation and the house were on a 3-month timer, and <em>surely</em> that would be enough time to build up the site user base.</p>



<div><figure><figcaption>We ran a stall at the university fresher’s fair to try to get some student interest. We ran a special game where people played “Avoid the Hangover” on a projected screen to win “a mountain of beer” (or “mountin” if you saw our printed leaflets).</figcaption></figure></div>



<p>After a while, Andrew decided to make a change. Instead of buying credits, you would buy a ticket for a game, and only when enough people had bought a ticket would the game open, to guarantee the revenue covered the cost of the prize. This basically halted all activity on the site. Rather than people playing games and competing for prizes, they were just waiting, and hardly anyone was interested in buying tickets. It meant that the site was no longer spending any money on prizes, so it didn’t have any outgoings, but there wasn’t any sign of it getting the number of users it needed.</p>



<p>While searching my inbox for anything related to App Start, I found this email from Andrew, forwarded to me by Alex:</p>



<blockquote><p>Hi Ben – These are the skill buy changes required by andrew.</p></blockquote>



<div><figure><figcaption>One day, Andrew brought in a friend who had his own skip company – and he introduced me and said I would make him a website for his skip company.</figcaption></figure></div>



<h2>Pigs Might Fly</h2>



<p>Meanwhile, the rest of the team was working on iPhone games. There were some really talented designers and developers there – and they produced some great games they were rightly very proud of. They made a game called <em>Splat</em> (a bit like whack-a-mole) which was one of those addictive games, and they managed to get a local radio station to interview them about it. They also made a game called <em>Pigs Might Fly</em> – and they went all out with the marketing for this one. Alex got some large pig signs printed and attached them to helium balloons and sent them flying around Manchester City centre. They got everyone to text the radio station saying things like “I’ve just seen a flying pig float past my car in Manchester” and they read a few of them out and asked if anyone knew what it was about. Someone then called in to the radio show and went on air to promote the app. I’ve just found the company <a href="https://twitter.com/AppStartUK">Twitter</a>, <a href="https://www.flickr.com/photos/appstart/">Flickr</a> and <a href="https://www.youtube.com/user/AppstartLtd/videos">YouTube</a> accounts are still live and it’s all there:</p>



<figure><ul><li><figure></figure></li><li><figure></figure></li><li><figure></figure></li><li><figure></figure></li></ul></figure>



<p>A point of contention was that Andrew wanted them to knock out as many apps as possible, and wait to see if any of them got traction. But they wanted to choose an idea and spend a few months working on it, to do a decent job.</p>



<h2>An app a day</h2>



<p>Once I’d finished converting Skill Buy to its new format, it didn’t need any ongoing work until it had the users it needed, so I was asked to join the rest of the team building apps. We were assigned to groups of three: two developers and a designer in each. We had to make 10 apps per group every week. So each developer had to make an app a day, with the designer creating any assets we needed. We just listed off a load of crappy ideas for things that you could make without any effort. They were mostly either a multiple-choice quiz, or a button that did something silly. I was using PhoneGap to bootstrap the apps, create the icons and metadata, and just writing the app logic in PHP scripts which were hosted on the Skill Buy server. The apps looked terrible, they were pointless and had no potential. But we were hitting our targets. Andrew also fed us his own ideas, such as the “Ask an expert” series, where we’d build an app you could submit questions to, and an “expert” would respond. He seemed to think he knew some experts.</p>



<p>Around this time, the same thing that happened to Bob had happened to Alex – he just came in and shouted “I’m done, Cya!” and walked out. We knew he must have been on the receiving end of Andrew’s routine.</p>



<p>I had a similar experience with Andrew myself. One day, the web developer in the property business was off sick and I was asked to cover for him, because Andrew had been promised that some new feature was going to be ready by the end of that day. I was briefed by Steph from the property business, and I had a Google Chat open with the developer. I did what was asked, and Steph was happy with it. I was called in to present it to Andrew, who seemed to believe that this was not was he’d asked for – so he ridiculed the work, called it a waste of time, told me to “go back to apps” and proceeded to yell at Steph as I was leaving.</p>



<p>So we continued for a little while. We made our crappy apps. We hit our targets. We told our 19-year-old boss that we can’t go on like this, that none of these apps were going to succeed. I decided it was time to move on. I waited to the end of the month, made sure I’d been paid and I politely told Liam I was leaving. They had never given me a contract, so I didn’t have a notice period or anything. I just left and started looking for something new. I bumped into one of the designers a month or so later and he said that one day Andrew just closed them down and they all lost their jobs.</p>



<p>It’s a shame my first real job only lasted about 4 months, but it was a wild ride and a crazy experience. I haven’t really thought about that time much until now. Looking back, it feels so strange and the story seems so surreal, so I felt like writing about it.</p>



<div><figure><figcaption>The history of Skill Buy over the years – provided by archive.org</figcaption></figure></div>



<h2>Andrew Camilleri, the Gazerati, and a suspended prison sentence</h2>



<p>Andrew was quite the character, but he was nothing compared to Gaz. I think Gaz was Andrew’s oldest and best friend. When Andrew made his money, he hired Gaz to be his driver / bouncer. Gaz looked like a bouncer. He was one of those people who you were terrified of at sight – but he was genuinely pleasant and nice to talk to. One day, we heard a vehicle driving around the car park making a lot of noise. Andrew had just purchased a <em>Maserati</em> as a “present” for Gaz – to drive him around in, and they were doing laps of the industrial estate. Naturally, this car became known as the <em>Gazerat</em>i.</p>



<p> While researching online for this article, I came across a news article entitled <em><a href="https://www.placenorthwest.co.uk/news/property-developer-given-suspended-prison-sentence/">Property developer given suspended prison sentence</a></em>, which starts:</p>



<blockquote><p>Andrew John Camilleri, a businessman formerly associated with wound-up property company Fresh Start Living, has been unanimously convicted by a jury at Manchester Crown Court of making false representations in an Individual Voluntary Arrangement proposal.</p><cite>placenorthwest.co.uk</cite></blockquote>



<p>It also states that in early 2011, Andrew made false representations to creditors in attempt to wipe out debts of £9m. So rather than being a millionaire, he was actually the opposite – a negative millionaire. And it seems Fresh Start Living, like App Start Ltd, is no more.</p>
  </div>
</div></div>]]></content:encoded>
      <guid>https://bennuttall.com/the-surreal-experience-of-my-first-developer-job/</guid>
      <pubDate>Wed, 04 Aug 2021 09:04:07 +0000</pubDate>
      <source>https://bennuttall.com/the-surreal-experience-of-my-first-developer-job/</source>
    </item>
    <item>
      <title>The Real Story of Pixar</title>
      <link>https://spectrum.ieee.org/the-real-story-of-pixar</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-elid="2654303675" data-post-url="https://spectrum.ieee.org/the-real-story-of-pixar" data-authors="Alvy Ray Smith" data-headline="The Real Story of Pixar"><div><p>The story of <a href="https://www.pixar.com/" target="_blank">Pixar</a> doesn&#39;t start with its founding—a tech company&#39;s story rarely does. Rather, the original spark often comes from <a href="https://en.wikipedia.org/wiki/History_of_Google" target="_blank">a university lab</a>, a renegade group at a large company, or <a href="https://engineering.berkeley.edu/steve-wozniak-inventor-and-apple-co-founder/" target="_blank">a hobbyist building stuff for fun</a>. Pixar&#39;s story doesn&#39;t even start with the creation of Lucasfilm&#39;s Computer Graphics Group, which developed the Pixar Image Computer, the company&#39;s first product.<br/></p><p>The story, instead, goes back to a time when I and other researchers in computer graphics scattered around the United States began to see the technology as allowing a new art form: the creation of digitally animated movies. A handful of us began talking about when somebody would make the first one—&#34;The Movie,&#34; we called it—and the massive computing power it would take to pull it off. That kind of computing power was not affordable in the mid-1970s. But with <a href="https://spectrum.ieee.org/static/special-report-50-years-of-moores-law" target="_self">Moore&#39;s Law</a> cranking along at a steady pace, there was every reason to think that the cost of computing power would come down sufficiently within a decade or so. In the meantime, we focused on developing the software that would make The Movie possible.</p><p>By definition, The Movie could incorporate no hand drawing. The tools to build it emerged piecemeal. First came the software that enabled computers to create two-dimensional images and, later, virtual 3D objects. Then we figured out how to move those objects, shade them, and light them before rendering them as frames of a movie.</p><p>

<small placeholder="Add Photo Caption...">Alvy Ray Smith (left) and Ed Emshwiller at work on Sunstone in 1979 at the New York Institute of Technology. The floating sun was an accident of the camera tripod being knocked slightly ajar between exposures.</small><small placeholder="Add Photo Credit..."> New York Institute of Technology</small></p><p>This vision began to solidify at the <a href="https://www.nyit.edu/" target="_blank">New York Institute of Technology (NYIT)</a> starting about 1975. NYIT&#39;s owner, Alexander Schure, hired Ed Catmull, Malcolm Blanchard, and me, adding David DiFrancesco soon after. DiFrancesco and I had been using and developing software that manipulated pixels—&#34;painting&#34; pictures—at <a href="https://spectrum.ieee.org/view-from-the-valley/tech-history/silicon-revolution/behind-the-scenes-at-xerox-parcs-futures-day40-years-ago" target="_self">Xerox Parc</a>. Catmull and Blanchard had been involved with software designed to build 3D geometric objects at <a href="https://www.utah.edu/" rel="noopener noreferrer" target="_blank">the University of Utah</a>. We four were tasked with figuring out how to incorporate computers into the <a href="https://en.wikipedia.org/wiki/Traditional_animation" rel="noopener noreferrer" target="_blank">traditional cel animation</a> process—a two-dimensional technique that dates back to 1915 and had changed little over the years. It took an extraordinary amount of time and talent, with teams of animators drawing and then painting individual frames by hand, and it was clear that computers could at least make it easier, if not automate many of the steps. We formed the core of a group that grew to more than a dozen over four years.</p><p>This NYIT group eventually produced a 22-minute short using the computer-assisted cel-animation technology we developed, but not until 1979. And it was still a long way from &#34;The Movie&#34;: Not only was it short, but it still involved a lot of hand drawing.</p><p>
<span data-rm-shortcode-id="ff6f74e3a1e258cdaf3af913ac735a8e"><iframe frameborder="0" height="auto" type="lazy-iframe" scrolling="no" data-runner-src="https://www.youtube.com/embed/tMW15OajuKc?start=73&amp;rel=0" width="100%"></iframe></span>
<small placeholder="Add Photo Caption...">Sunstone (1979)</small>
</p><p>In 1980, we four original members of the NYIT team had been hired by <a href="https://www.lucasfilm.com/" target="_blank">Lucasfilm</a> to form its Computer Division. This division was charged with computerizing editing, sound design and mixing, special effects, and accounting for the company&#39;s books, as if this fourth challenge would be as difficult as the other three. Catmull, who led the Computer Division, made me head of the Computer Graphics Group, which was tasked with the special-effects project.<br/></p><p>At Lucasfilm, we continued to develop the software needed for three-dimensional computer-generated movies. And we worked on specialized hardware as well, designing a computer, called the Pixar Image Computer, that could run its calculations four times as fast as comparable general-purpose systems—but only for pixels. We were still waiting for Moore&#39;s Law to get general computers to where we needed them—it did, but this strategy gave us a boost for a few years.</p><p>We didn&#39;t get one of our fully computer-generated movie sequences into a major motion picture until 1982, with our one-minute &#34;Genesis&#34; sequence in <em>Star Trek II: The Wrath of Khan</em>. It showed a bare planet catching on fire, melting, and then forming mountains and seas and green forests. We followed that groundbreaking piece of a movie with a brief sequence in<em> Return of the Jedi </em>in 1983, featuring a &#34;hologram&#34; of the Death Star.</p><p>While a couple of minutes is a long way from a couple of hours, we knew we had Moore&#39;s Law on our side, and were on track to make The Movie in the next few years.</p><p> But then our Computer Graphics Group, now numbering 40 people, got the news that the Computer Division was on the chopping block.</p><p>Here I&#39;ll pick up the story as adapted from my narrative in <a href="https://mitpress.mit.edu/books/biography-pixel" target="_blank"><em>A Biography of the Pixel</em></a>, published this month by MIT Press.</p><p><strong>George and Marcia Lucas divorced</strong> in 1983. Because California is a community-property state, George effectively lost half his fortune overnight. Over the next couple of years this resulted in the Computer Division&#39;s being split into distinct units that could be sold off, all except the Games Project, which would become Lucas Arts. By 1985, we were the last one left.</p><p>I walked into Ed Catmull&#39;s office near mine and announced, &#34;We&#39;re going to be fired, Ed. George has never really understood who we are, and he can no longer afford us. It would be a sin to let this world-class group disperse. Let&#39;s start a company to give them a home.&#34;</p><p>This was two computer nerds talking to each other. Neither of us had more than a middle manager&#39;s sense of budgets and resources, nor any detailed notion about raising money. So we bought two books each on how to start companies.</p><p>

<small placeholder="Add Photo Caption...">From left, Ed Catmull, Alvy Ray Smith, and Loren Carpenter at Lucasfilm in 1980.</small><small placeholder="Add Photo Credit..."> Photo courtesy of Pixar Animation Studios</small></p><p>&#34;What will the company do?&#34; Ed asked reasonably. We both knew that the Computer Graphics Group couldn&#39;t become a separate company that depended on movies—not yet—or more importantly that it would be difficult to capitalize our company on the prospect. And our calculations convinced us that neither a software company nor a digital-effects-and-commercials house would produce revenues enough to support our group of 40 people. It had to be hardware.<br/></p><p>We did have a prototype special-purpose computer, the Pixar Image Computer. So Ed and I wrote up a business plan to build and sell Pixar Image Computers, calling them &#34;supercomputers for pixels.&#34; Within our company, we would keep a small team of computer-animation experts working for the next five years, ready to make The Movie once doing so became realistic by our calculations.</p><p>But first, we had to sell the idea of starting a company to the 38 other members of the Lucasfilm Computer Graphics Group. We described the plan, emphasizing that each employee would own a piece of the new company, regardless of job description.</p><p>Then Ed Catmull and I began the grind of finding funds for our new company.</p><p>Our first idea was to approach VCs. Apparently we didn&#39;t fit their idea of a seed-capital startup—and they all turned us down, 35 of them.</p><p>Then we turned our minds to making a &#34;strategic partnership&#34; with a large corporation instead. Of the 10 we talked to seriously, 8 turned us down. But we almost closed a joint deal with two vast corporations, <a href="https://www.gm.com/" rel="noopener noreferrer" target="_blank">General Motors</a> and <a href="https://www.usa.philips.com/" rel="noopener noreferrer" target="_blank">Philips</a>.</p><p>We dealt with the GM division that had formerly been a separate company, Electronic Data Systems, headed by H. Ross Perot. GM saw our technology as a way to replace their expensive clay-modeling technique for new-car designs. Philips, partnering with GM to share the financing load, was interested in our rendering technology that yielded three-dimensional internal views of human beings from CAT scans.</p><p>We signed a letter of intent with GM, Philips, and Lucasfilm, dated November 7, 1985. But that deal never happened. Three days before the signing, Perot had berated the GM board of directors about their $5-billion-plus purchase of Hughes Tools. It took a year before Perot actually left GM, but it was immediately clear, when the news broke in the <em>Wall Street Journal</em>, that anything happening at GM that involved Perot was now dead. Our deal fell right in that crack.<br/></p><p>GM-Philips had been our last hope. Ed and I were frantic. In the airport limo on our return trip to California, we came up with a Hail Mary—go to Steve Jobs.</p><p>This wouldn&#39;t be the first time we&#39;d talked to Jobs. Three months earlier, on August 4, Steve had invited Ed, me, and Ajit Gill, our financial manager, to his mansion in Woodside, Calif. Steve, who had just been ousted from <a href="http://apple.com/" target="_blank">Apple</a>, proposed that he buy us from Lucasfilm and run us as his next company. We said no, that we wanted to run the company ourselves, but we would accept his money in the form of a venture investment. And he agreed.</p><p>

<small placeholder="Add Photo Caption...">Steve Jobs circa 1993.</small><small placeholder="Add Photo Credit..."> Kristy Macdonald/AP</small></p><p>But when Steve presented his proposal to Lucasfilm, they paid him no heed. His number was $7 to $14 million. GM and Philips were talking $20 to $36 million.<br/></p><p>Now that the GM-Philips deal had fallen through, Ed and I decided to call Steve and ask him to make the same offer again. Lucasfilm did go for it, and Steve Jobs became the venture capitalist who financed Pixar.</p><p>
<a href="https://spectrum.ieee.org/media-library/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpbWFnZSI6Imh0dHBzOi8vYXNzZXRzLnJibC5tcy8yNzExNTMwMC9vcmlnaW4uanBnIiwiZXhwaXJlc19hdCI6MTY2MjM4NjQ5N30.7Njx2f1XH172cCkbNtlGg3ru2Ef2LMNioi5_orEXLKk/image.jpg?width=980" target="_blank"></a>
<small placeholder="Add Photo Caption...">Pixar Image Computer.</small>
<small placeholder="Add Photo Credit...">
            Mark Richards/Computer History Museum</small>
</p><p>Note that Jobs did not <em>buy</em> Pixar. He financed a spinout corporation that was partially owned by the employees; Steve took 70 percent and the employees had 30 percent. Steve capitalized the company with $10 million. We took the first check from him at the signing for $5 million, and Ed immediately endorsed it over to Lucasfilm. That bought us the rights to the technology we had developed there, including the Pixar Image Computer.</p><p>Pixar the company was officially born on February 3, 1986, in San Rafael, north of San Francisco. We had managed to keep the team together. And we thought we had an exciting product in the Pixar Image Computer.</p><p><span></span>Meanwhile, Steve had started running a different computer company, NeXT, about an hour and a half away, south of San Francisco. That physical separation turned out to be a godsend.</p><p>We kept the possibility of The Movie alive during the next five years with a series of short films, including <em>Luxo Jr</em>. (1986), nominated for an Academy Award; <em>Tin Toy </em>(1988)<em> </em>winner of an Academy Award; <em>Red&#39;s Dream</em> (1987); and <em>Knick Knack</em> (1989). These were four of the sparkling jewels that sustained us during these otherwise tough years.</p><p>Each one of these pieces represented continued improvements in the underlying in-house technologies. <em>Luxo Jr.</em>, for example, incorporated the first articulated objects that self-shadowed themselves from multiple light sources. <em>Red&#39;s Dream</em> showed off our Pixar Image Computer: the principal background for the piece, a bicycle shop, was the most complex computer graphics scene ever rendered at the time.</p><p>The fifth jewel was CAPS, the Computer Animation Production System we created for <a href="https://www.disney.com/" target="_blank">Disney</a>, building on our experience working on cel-animation tools at NYIT. It kept Pixar and Disney close in a mutually admiring relationship and was a major source of income for the fledgling Pixar. Every Disney cel animation for years following was executed on the system for a total of 18 feature films. It used Pixar Image Computers running animation software written by Pixar people and logistics software, used for keeping track of the complicated production process, written by Disney people. Disney first used CAPS for one scene in <em>The Little Mermaid</em>, released in 1989, and by 1990 produced an entire movie using the system, <em>The Rescuers Down Under</em>.</p><p>Pixar&#39;s sixth and crowning jewel during the pre-Movie years was <a href="https://spectrum.ieee.org/at-work/tech-careers/and-the-oscar-goes-to" target="_self">RenderMan</a>, a groundbreaking piece of software that became an industry standard.</p><p>The path to RenderMan began with individual shading techniques, such as Gouraud shading or Phong shading, both from the 1970s at the University of Utah. Then, in the early 1980s, during our time at Lucasfilm, Rob Cook generalized the notion into a comprehensive shading language that acted as a front end to Lucasfilm&#39;s internal rendering solution, a system that ran on our specialized hardware.</p><p>The next big leap was to free the shading language from the specificity of Lucasfilm&#39;s hardware, making a specific language into a <em>standard</em> language. This was huge. It created a unified computer-graphics industry and gave RenderMan a place in history.</p><p>RenderMan freed a picture maker from having to know the specifics of any one company&#39;s rendering hardware. When you buy RenderMan, you get its shading language, a compiler for that language, and a complete rendering system for any hardware that supports the language. A moviemaker, say, has only to know RenderMan&#39;s shading language, and the RenderMan system takes care of the rest—the generation of the pixels—behind the scenes.</p><p>Creating a good standard is hard—it must be very well designed in order to work universally and to hold up over time. RenderMan, published in 1990, has become a Hollywood staple for visual effects and animation.</p><p>But Pixar, at that point, was still a hardware company. And Pixar was a lousy hardware company. We failed several times over our first five years. That&#39;s failure measured the usual way: We ran out of money and couldn&#39;t pay our bills or our employees.</p><p>If we&#39;d had any other investor than Steve, we would have been dead in the water. But at every failure—presumably because Steve couldn&#39;t sustain the embarrassment that his next enterprise after the Apple ouster would be a failure—he&#39;d berate those of us in management . . . then write another check. And each check effectively reduced employee equity. After several such &#34;refinancings,&#34; he had poured about $50 million (half of the fortune he had made from Apple) into Pixar. In today&#39;s money, that&#39;s more than $100 million. On March 6, 1991, in Pixar&#39;s fifth year, he finally <em>did</em> buy the company from the employees outright.</p><p>But Pixar was still in serious financial trouble. We tried all sorts of ways to make money, like a television-commercial production business, but none of these efforts had enough income-producing capacity to even hope to pay for our company&#39;s operating expenses. Jobs explored the notion of folding us into NeXT, but his cofounders there wanted nothing to do with it.</p><p>Then, at last, Moore&#39;s Law saved us. The ever-falling cost of processing power finally made The Movie economically feasible. We said we could make The Movie, and Disney stepped forward to finance it, saving Steve Jobs&#39;s face (and investment) and saving Pixar the company. Ed Catmull closed the movie deal with Disney in July 1991.</p><p>The Movie was not Steve Jobs&#39;s idea; he never talked about movies. He was a hardware man. The Movie had been our dream and goal since the 1970s.</p><p>But I had to leave. I had to get Steve Jobs out of my life. About a year earlier he had attacked me in full bullying, tyrannical mode in what is infamously known as &#34;the whiteboard incident&#34; and described in the <a href="https://www.amazon.com/dp/B005J3IEZQ/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1" target="_blank">Walter Isaacson biography of Steve Jobs</a>.</p><p>During the next four years, Pixar completed The Movie—<em>Toy Story</em>—and it premiered in 1995. <em>Toy Story</em> was wildly successful almost as soon as the movie was in the can. Pixar and Disney took it to New York City for a first glimpse by critics, and their enthusiasm was electric.</p><p>

<small placeholder="Add Photo Caption...">Bill Reeves at Pixar working on Toy Story.</small><small placeholder="Add Photo Credit..."> Michael Ansell/Photo courtesy of Pixar Animation Studios</small></p><p>Pixar at the time had little cash except what it had from selling off bits and pieces of the failing hardware part of the company, and a few other small deals. Yet Jobs took Pixar public on November 29, 1995, on nothing more than the promise of <em>Toy Story</em>. It salvaged his reputation and made him a billionaire.</p><p>Pixar&#39;s public offering, set the company&#39;s value at 151.8 million, at an opening price of $22; the stock closed that first day at $39. It was the biggest IPO of the year. Disney bought the company in 2006 for more than $7 billion. This is astounding considering they could have had us for free in the 1970s when we approached them on bended knee. Or they could have had us for $10 million in the mid-1980s when Jobs was our last-chance, Hail Mary investor, or for $50 million in the late 1980s when he would have sold us to anyone to make himself whole and unembarrassed.<br/></p><p>By the turn of the millennium or thereabouts, Pixar produced three other successful digital movies: <em>A Bug&#39;s Life</em> (1998), <em>Toy Story 2</em> (1999), and <em>Monsters, Inc.</em> (2001). As of this writing, Pixar made The Movie 24 times.</p></div>
        

        

    </div></div>]]></content:encoded>
      <guid>https://spectrum.ieee.org/the-real-story-of-pixar</guid>
      <pubDate>Tue, 03 Aug 2021 20:34:47 +0000</pubDate>
      <source>https://spectrum.ieee.org/the-real-story-of-pixar</source>
    </item>
    <item>
      <title>Australian mathematician discovers applied geometry on 3,700-year-old tablet</title>
      <link>https://www.theguardian.com/science/2021/aug/05/australian-mathematician-discovers-applied-geometry-engraved-on-3700-year-old-tablet</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div tabindex="0" id="maincontent"><div><p>An Australian mathematician has discovered what may be the oldest known example of applied geometry, on a 3,700-year-old Babylonian clay tablet.</p><p>Known as Si.427, the tablet bears a field plan measuring the boundaries of some land.</p><figure id="e80b09fb-de00-42a3-9f9c-41d38fc78a6c"><div data-print-layout="hide" data-link-name="rich-link-2 | 2" data-component="rich-link" data-name="placeholder"></div></figure><p>The tablet dates from the Old Babylonian period between 1900 and 1600 BCE and was discovered in the late 19th century in what is now Iraq. It had been housed in the Istanbul Archaeological Museum before Dr Daniel Mansfield from the University of New South Wales tracked it down.</p><p>Mansfield and Norman Wildberger, an associate professor at UNSW, had previously identified another Babylonian tablet as containing the world’s <a href="https://www.theguardian.com/science/2017/aug/24/mathematical-secrets-of-ancient-tablet-unlocked-after-nearly-a-century-of-study" data-link-name="in body link">oldest and most accurate trigonometric table</a>. At the time, they speculated the tablet was likely to have had some practical use, possibly in surveying or construction.</p><figure id="1e51fb77-0d48-41d3-9730-7e9d61d6ae3b"><div><picture itemprop="contentUrl"><source srcset="https://i.guim.co.uk/img/media/fc8d2e776309fa260b53d378ba99c983d96ea1ca/98_207_4356_2614/master/4356.jpg?width=620&amp;quality=45&amp;auto=format&amp;fit=max&amp;dpr=2&amp;s=06020601b34970ec5835e76e7bd013cb 1240w,https://i.guim.co.uk/img/media/fc8d2e776309fa260b53d378ba99c983d96ea1ca/98_207_4356_2614/master/4356.jpg?width=605&amp;quality=45&amp;auto=format&amp;fit=max&amp;dpr=2&amp;s=45facdd4ec0eca1ed43ba1024bb31486 1210w,https://i.guim.co.uk/img/media/fc8d2e776309fa260b53d378ba99c983d96ea1ca/98_207_4356_2614/master/4356.jpg?width=445&amp;quality=45&amp;auto=format&amp;fit=max&amp;dpr=2&amp;s=59e49427848bda5642f7e19ba71e5afe 890w" sizes="(min-width: 660px) 620px, 100vw" media="(-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 120dpi)"/><source srcset="https://i.guim.co.uk/img/media/fc8d2e776309fa260b53d378ba99c983d96ea1ca/98_207_4356_2614/master/4356.jpg?width=620&amp;quality=85&amp;auto=format&amp;fit=max&amp;s=8a417d17c1fc0335d0340ae40d67890f 620w,https://i.guim.co.uk/img/media/fc8d2e776309fa260b53d378ba99c983d96ea1ca/98_207_4356_2614/master/4356.jpg?width=605&amp;quality=85&amp;auto=format&amp;fit=max&amp;s=76d5428683beb552d96d761f6dc63a9f 605w,https://i.guim.co.uk/img/media/fc8d2e776309fa260b53d378ba99c983d96ea1ca/98_207_4356_2614/master/4356.jpg?width=445&amp;quality=85&amp;auto=format&amp;fit=max&amp;s=878633eacad20f8114d11c5e0c969776 445w" sizes="(min-width: 660px) 620px, 100vw"/></picture></div><figcaption><span><svg width="11" height="10" viewBox="0 0 11 10"><path fill-rule="evenodd" d="M5.5 0L11 10H0z"></path></svg></span><span>The ancient clay tablet was engraved with a stylus to describe a field containing marshy areas, as well as a threshing floor and nearby tower.</span> Photograph: UNSW Sydney</figcaption></figure><p>That tablet, Plimpton 322, described right-angle triangles using Pythagorean triples: three whole numbers in which the sum of the squares of the first two equals the square of the third – for example, 3<sup>2</sup> + 4<sup>2</sup> = 5<sup>2</sup>.</p><p>“You don’t just accidentally come up with trigonometry, you’re usually doing something practical,” Mansfield said. Plimpton 322 set him on a quest to find other tablets from the same period that contained Pythagorean triples, eventually leading him to Si.427.</p><p>“Si.427 is about a piece of land that’s being sold,” Mansfield said. In the cuneiform script, with its characteristic wedge-shaped indentations, the tablet describes a field containing marshy areas, as well as a threshing floor and nearby tower.</p><p>The rectangles depicting the field have opposite sides of equal length, suggesting surveyors of that time period had devised a way to create perpendicular lines more accurately than before, according to Mansfield.</p><p>“Much like we would today, you’ve got private individuals trying to figure out where their land boundaries are, and the surveyor comes out but instead of using a piece of GPS equipment, they use Pythagorean triples.”</p><p>Though Plimpton 322 and Si.427 both use Pythagorean triples, they predate the <a href="https://www.theguardian.com/culture/2010/apr/11/the-10-best-mathematicians" data-link-name="in body link">Greek mathematician Pythagoras</a> by more than 1,000 years.</p><p>“Once you understand what Pythagorean triples are, your society has reached a particular level of mathematical sophistication,” Mansfield said.</p><p>Si.427 contains three Pythagorean triples: 3, 4, 5; 8, 15, 17; and 5, 12, 13.</p><figure id="1a890300-7c14-4448-ae70-3f4605e01af4"><div data-print-layout="hide" data-link-name="rich-link-14 | 14" data-component="rich-link" data-name="placeholder"></div></figure><p>The Babylonians used a base 60 number system – similar to how we keep time today – which made working with prime numbers larger than five difficult.</p><p>Si.427, described in a study in the journal <a href="https://doi.org/10.1007/s10699-021-09806-0" data-link-name="in body link">Foundations of Science</a>, dates from a period of increasing private land ownership. “Now that we know what problem the Babylonians were solving, that recolours all the mathematical tablets from this period,” Mansfield said. “You see mathematics being developed to address the needs of the time.”</p><p>One thing that puzzles Mansfield about Si.427 is the sexagesimal number “25:29” – similar to 25 minutes and 29 seconds – that is etched in large font on the back of the tablet.</p><p>“Is it part of a calculation that they performed? Is it an area that I haven’t come across yet? Is it a measurement of something?” he said. “It’s really annoying to me because there’s so much about the tablet that I understand. I’ve given up trying to figure out what that one is.”</p></div></div></div>]]></content:encoded>
      <guid>https://www.theguardian.com/science/2021/aug/05/australian-mathematician-discovers-applied-geometry-engraved-on-3700-year-old-tablet</guid>
      <pubDate>Wed, 04 Aug 2021 15:19:14 +0000</pubDate>
      <source>https://www.theguardian.com/science/2021/aug/05/australian-mathematician-discovers-applied-geometry-engraved-on-3700-year-old-tablet</source>
    </item>
    <item>
      <title>Ask HN: Examples of email-first projects or startups?</title>
      <link>https://news.ycombinator.com/item?id=28060207</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><td colspan="2"></td><td>By <i>email-first</i> I mean services that the email is the principal (or only) interface between the service and the user. For example: Posterous before Spaces. Thanks.</td></div></div>]]></content:encoded>
      <guid>https://news.ycombinator.com/item?id=28060207</guid>
      <pubDate>Wed, 04 Aug 2021 12:30:07 +0000</pubDate>
      <source>https://news.ycombinator.com/item?id=28060207</source>
    </item>
    <item>
      <title>Why medieval city-builder video games are historically inaccurate</title>
      <link>https://www.leidenmedievalistsblog.nl/articles/why-medieval-city-builder-video-games-are-historically-inaccurate</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_leidenmedievalistsblog_nl_articles_why-medieval-city-builder-video-games-are-historically-inaccurate/image.jpg" /> 
<div id="readability-page-1" class="page"><p>This blog post explores the historical accuracy of medieval city-builder video games.</p><div>
            <h3><strong>Introduction</strong></h3><p>Since many of us are working from home in these trying times, it seems safe to assume that more people than ever are indulging in playing the occasional computer game. A city builder is a specific kind of computer game in which you design a city, extract resources, set up production chains and ensure that your settlement grows. City builders are very similar to strategy games as they reward patience and strategy. In this article, I will take a look at one sub-genre of the city builder, the medieval city builder, and explain how this gaming genre relates to our knowledge of medieval settlement planning.</p><h3><strong>Historical city builders</strong></h3><p>The city builder has its origins far back in the 1990s in the combination of the strategy genre and the management genre, leading to games such as <em>Sim City</em> (1989), <em>Caesar </em>(1992) and <em>Age of Empires</em> (1997).</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Caesar (1992)</figcaption>
							</figure>
	   						
                  <p>It did not take long before medieval-themed city builders popped up. We may think of <em>Settlers</em> (1993) and <em>Knights and Merchants</em> (1998). In addition, the <em>Anno</em> games (1998-2019), although initially set in the 1600s basically had a medieval theme.</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Knights and Merchants (1998)</figcaption>
							</figure>
	   						
                  <p>These games often start with plopping down a village center on a promising location near abundant resources. You then continue to gather these resources which grant you building materials for building new homes and facilities for your settlement.</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Settlers (1993)</figcaption>
							</figure>
	   						
                  <p>Setting up specialized production chains might involve growing grain, milling the grain for flour and turning the flour into bread which feeds your villages. Similarly, another production chain might involve rearing sheep for their wool, turning the wool into cloth and turning the cloth into clothing. When done correctly, the reward of correct investments and planning is that you see your settlement grow.</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Anno 1404 (2009)</figcaption>
							</figure>
	   						
                  <p>This often leads to settlements growing organically from a couple of houses around a community center to a larger settlement with hundreds of people. However logical such an organic growth of a settlement might seem, it is not historically accurate.</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Foundation (2019)</figcaption>
							</figure>
	   						
                  <h3><strong>Medieval village life <br/></strong></h3>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Banished (2014)</figcaption>
							</figure>
	   						
                  <p>A thing that is rarely touched upon in medieval city builders is how complex village life actually was. This can be exemplified by how the community related to its overlords. Land ownership here is key. Land in the community might be owned by a lord, a local liegeman, a monastery or even directly by the duke or count. Taxes, rents and tithes were the organisational structures in which the landowner was tied to the farmers who worked the fields. Often the payment of taxes and tithes was linked to feast days and the visit of the tax collector represented a big event in the agricultural year. An interesting side note is that some obligations which the commoners had to the lord and the church (such as seigneurial duties like working a mill) might drain the community from the needed manpower for tilling the land. Furthermore, a rural community that was its own seigneury had access to a law court with sheriff, aldermen and a local militia (Middle Dutch <em>schutterie</em>) to fight off bandits with. Harsh capital punishments were set in place to deter anyone from raiding the farms and hamlets and the village gallows were often the first thing one saw when approaching a medieval settlement. </p><h3><strong>Planning a medieval settlement</strong></h3><p>But something that is much more fundamental to the theme of a settlement building game, is how medieval settlements were actually planned and grew. Landscape historians and archaeologists have acquired a lot of insight into how this worked.</p><p>Let&#39;s start with the realization that medieval settlements in their first stages of development were planned and laid out according to a specific design. In my own research into the settlement history of West-Brabant (southern Netherlands, from 1000 to 1300 CE) I have encountered the following types.</p><p>Here is a sketch of a Brabantine circular manor (Middle Dutch <em>vroonhoeve</em>). This is a reinforced circular homestead with moat, often next to a bend in the river, containing several farms and a fan-like plot pattern radiating out from it. Such manors were often called BORCH.</p>
                        						<figure id="10615">
									<a href="#PAK Game Blog7"></a>
					<a href="#8237" id="PAK Game Blog7">
						
					</a>
												   <figcaption>Sketch of a Brabantine street settlement</figcaption>
							</figure>
	   						
                  <p>Here is a sketch of a Brabantine street settlement, often built with exploitation of nearby fenland in mind. It consists of a line of farms with associated evenly sized rectangular plots built in a line perpendicular to a raised road.</p>
                        						<figure id="10615">
									<a href="#PAK Game Blog8"></a>
					<a href="#8238" id="PAK Game Blog8">
						
					</a>
												   <figcaption>Sketch of a more complex exploitation village</figcaption>
							</figure>
	   						
                  <p>Here is a more complex exploitation village which is set up with a moated enclosed church homestead and a central meadow as its center. There is a line of farms next to the road. The arable land to the east is bordered by a ditch supplying fresh drinking water (Middle Dutch <em>bansloot</em>). In layout, this type represents a hybrid between the two earlier settlement types. </p>
                        						<figure id="10615">
									<a href="#PAK Game Blog9"></a>
					<a href="#8239" id="PAK Game Blog9">
						
					</a>
												   <figcaption>Sketch of a hybrid between the two earlier settlement types</figcaption>
							</figure>
	   						
                  <p>Let us first make clear that these different types of exploitation settlements often existed alongside each other and can be found in one and the same region. In part, the different types reflect different chronological layers but some types were also more suited to certain geographical environments than others.</p><p>So how were these settlements planned? Many medieval exploitation enterprises were initiated by a monastery or a consortium of free men who were granted permission by (or bought permission from) the feudal lord to “colonize” the wilderness.</p><p>Clearing the wooded landscape in order to create arable land was done by cutting away the trees and bushes (Middle Dutch <em>rode</em>) or, alternatively, burning it away in controlled fires (Middle Dutch <em>brant</em>).</p><p>Land surveyors sent by the lord would then measure out the block or strips that would be taken in cultivation. Strips of arable land were often 1250m deep (6 Middle Dutch <em>voorlingen </em>= <em>furlongs</em>) so that the plough could go straight in a long line before having to turn. Important blocks or strips were demarcated by hedges, earthwork, woodwork, ditches or roads. Medieval names for these blocks often survived into the modern day. </p><p>The presence of drinking water (a river or a brook) in the vicinity was an important factor in choosing the location for the settlement. The vicinity of water entailed risk and reward because flooding was an ever present danger. Floods could devastate arable land but might also fertilize it. Meadows in particular were often situated in flood areas. </p><h3><strong>Managing a settlement</strong></h3><p>So how was such a settlement managed? First of all, the quality of the soil had to be carefully controlled by crop rotation: specific crops were sown on different segments of the arable land with one part laying fallow to recover from the tilling (English three-field system, Dutch <em>drieslagstelsel</em>). The cattle and sheep were put out to pasture on the common meadows guarded by a shepherd or cowherd. Pigs were allowed to forage in the nearby forests and killed in autumn before the winter starvation set in.</p><p>Roads and rivers were important for transport of crops and livestock. These roads, some of them paved, some of them not, needed to be maintained. They were essential to the payment of the tithe, since tithe collectors assessed the harvest on the field and later collected the sheaves on the side of the road.</p><p>The buildings within the community also needed maintenance. Farmhouses, community barns and stables were made of wood and had to be rebuilt every few generations, only the name of the farm or homestead being continued.</p><p>So what kind of threats did a medieval settlement face? First of all, the weather was an important factor which dictated the success of the harvest. Storms, droughts and floods could devastate the harvest and decimate the community.</p><p>Diseases and epidemics were another danger threatening the community. The situation on the countryside was a lot better in this regard than in the medieval towns, but an epidemic could still mean the end of a village. Similarly, diseases among livestock impacted the medieval subsistence economy in a brutal way.</p><p>Then there are the consequences of medieval warfare affecting the community: Armies that passed by could plunder the village, burn the farms and execute villagers at will. Or they could also demand supplies, food and provisions as an emergency &#34;tax&#34;<br/></p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Burning village in Knights and Merchants (1998)</figcaption>
							</figure>
	   						
                  <p>But war also brought indirect consequences; a liege lord calling the banners and levying troops from the village community might extract a large part of the adult men. Warfare also disrupted the trade networks that supplied a village with building materials and commodities.</p><p>Then there were internal threats to the fabric of the village community. We may think of social unrest because of land disputes. Feuds could also tear a community apart with endemic vendetta’s causing death and despair. A socially unstable society was also more prone to internal accusations of heresy and witchcraft.</p><h3><strong>An “accurate” medieval settlement builder</strong></h3><p>So, which of the above listed features could potentially contribute to a more historically accurate computer game about medieval settlement building? First of all, it would be more realistic if the settlement could first be planned out and was not forced to &#34;grow organically&#34; from a community center. The first settlement phase would be a test of how “successful” a layout is in adapting to the exigencies of the terrain and the needs of the community. Only after that initial layout proved successful, further expansions can be planned. </p><p>Secondly, it would be more realistic if we could build both straight roads and curved roads, just as in <em>Cities Skylines </em>(2015), a modern city builder well known for its incredibly flexible layout tools. Incidentally, the tools of Cities Skylines can also be used to recreate medieval settlements, as was done by YouTube creator <a href="https://www.youtube.com/watch?v=b7wsXzeuaqk" target="_blank" rel="noreferrer noopener">Play Curiously</a> who constructed an impression of a medieval Croatian village.</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot: Cities Skylines (2015) by YouTuber Play Curiously</figcaption>
							</figure>
	   						
                  <p>Such a flexible road drawing tool can then also be used to lay out ditches, hedges and enclosures since these features were central to the medieval experience of the cultivated landscape.</p><p>Thirdly, It would be interesting to see a medieval-themed game embrace the concept of flood valleys that limit and endanger pasture and arable land. Other historical city builders such as <em>Pharaoh</em> (1999) and <em>Children of the Nile</em> (2004) already implemented this feature for their setting in Ancient Egypt. However, such a mechanic would likewise fit a medieval city builder and show the general public how medieval society dealt with seasonal flooding as well as the devastating effects that storm floods could have.</p>
                        						<figure id="10615">
									
												   <figcaption>Screenshot:  Children of the Nile (2004)</figcaption>
							</figure>
	   						
                  <p>And finally, something that would, in my opinion, really add to the realism and historical flavor of a medieval-themed city builder would be the introduction of mechanisms in which agricultural surpluses are skimmed by the church and the feudal lord. Tithes, taxes and rents! Instead of merely abstracting the taxes into an income modifier or letting the player be the extractor himself, we could be shown the tax collector visiting the village, counting the sheaves by the side of the road, selecting the calves and chickens. This way, the experiences of our medieval forebears are visualized and may help to educate the public about medieval village life.</p><h3><strong>Why not?</strong></h3><p>There are some good reasons why city building games are not that historically accurate and instead adhere to the established formula of the city building game. </p><p>First of all, a linear growth model makes sense from a gameplay perspective, since it is rewarding to see your settlement grow.in a linear way. It fosters a feeling of progress and motivates the player to keep momentum and push through to the next expansion phase. Secondly, games are generally wary of punishing failure too harshly in order to avoid demoralizing the player. Thirdly, in order to facilitate path finding for the simulated villagers it is easier to implement a gridlike road and building system rather than an off-grid building system that allows for curvy roads. So far only <em>Cities Skylines </em>has managed to do this in a satisfactory way. </p><p>Lastly, for marketing purposes and recognizability, game developers generally don&#39;t stray too far from the image of the Middle Ages that the public is already acquainted with. For a medieval city builder this means windmills, industrious peasants, lots of sheep and stone castles. Things like land surveying, crop rotation and tithe collection do not fit this image and challenge the romanticized picture of the uneducated farmer in his pre-industrial environment. </p><h3><strong>Conclusion</strong></h3><p>Although I think medieval-themed city building games could benefit from incorporating some of the things we know about medieval settlement history into the gameplay loop, it may not be desirable for game developers to stray too far from the established formula. The idea that medieval settlements developed organically according to messy road plans is strongly imbedded in popular perception. Allowing both straight and curved road building in medieval city builders, may serve to challenge some of the stereotypes that exist about medieval village life. And if you ask me, that would be a good thing for it is an enriching experience to see the world through the eyes of our medieval forebears. One may find out that their lives were not that different after all... </p><h3><strong>Further reading</strong></h3><ul><li>Fossier, R. (2004). “The Rural Economy and Demographic Growth.” In: D. Luscombe &amp; J. Riley-Smith (Eds.). <em>The New Cambridge Medieval History</em>. Cambridge: Cambridge University Press, 11-46.</li><li>Van Ham, W. (1979). “Dorp en dorpsleven in middeleeuws Wouw.&#34; in: A. Delahaye (red.), De Heren XVII van Nassau-Brabant, 316-336.”</li><li>(forthc.) Kerkhof, P.A. (2020). “Saer, Saert; een Zuid-Nederlandse veldnaam van onzekere oorsprong.”<em> Noordbrabants Historisch Jaarboek</em>.</li><li>Leenders, K.A.H.W. (1996). &#34;Noord-Vlaanderen en de Noordwesthoek; een vergelijking.&#34; Tijdschrift voor Waterstaatsgeschiedenis 5, 67-73.</li><li>Leenders, K.A.H.W. (1989). <em>Verdwenen venen; een onderzoek naar de ligging en exploitatie van thans verdwenen venen in het gebied tussen Antwerpen, Turnhout, Geertruidenberg en Willemstad (1250-1750)</em>. Reeks Landschapsstudies 13, Wageningen.</li><li>Oosthuizen, S. (2017). <em>The Anglo-Saxon fenland. </em>Windgather Press.</li></ul><p><em>© Peter Alexander Kerkhof and Leiden Medievalists Blog, 2020. Unauthorised use and/or duplication of this material without express and written permission from this site’s author and/or owner is strictly prohibited. Excerpts and links may be used, provided that full and clear credit is given to Peter Alexander Kerkhof and Leiden Medievalists Blog with appropriate and specific direction to the original content.</em></p>
    </div></div>]]></content:encoded>
      <guid>https://www.leidenmedievalistsblog.nl/articles/why-medieval-city-builder-video-games-are-historically-inaccurate</guid>
      <pubDate>Wed, 04 Aug 2021 16:08:23 +0000</pubDate>
      <source>https://www.leidenmedievalistsblog.nl/articles/why-medieval-city-builder-video-games-are-historically-inaccurate</source>
    </item>
    <item>
      <title>NYC to mandate proof of vaccination for many indoor settings</title>
      <link>https://nypost.com/2021/08/03/nyc-to-mandate-proof-of-vaccination-for-many-indoor-settings/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div id="article-wrapper" role="main">
			
			<div>
		<div>
			 <!-- flag-region -->
			
						
				<p>
		August 3, 2021 <span>|</span> 9:35am				<span>|</span> <a href="#">Updated <span>August 3, 2021 | 1:03pm</span></a>
							</p>
				
				
													<div>
						

		
		


<p>New York City is mandating proof of COVID-19 vaccination to enter certain indoor businesses — including all indoor restaurants, entertainment venues and gyms, Mayor Bill de Blasio announced Tuesday.</p>



<p>“It’s time for people to see vaccination as necessary to living a good and full and healthy life,” de Blasio said during his daily press briefing.</p>



<p>“This is crucial, because we know that this will encourage a lot more vaccination.”</p>



<p>The program, which de Blasio dubbed the “Key to NYC Pass,” makes New York the first major US city to create such a mandate, and <a href="https://nypost.com/2021/08/02/de-blasio-requiring-all-newly-hired-nyc-employees-be-vaccinated/">marks a significant escalation</a> of the city’s efforts to curb the recent uptick in COVID-19 cases driven by the Delta variant. The initiative will launch on Aug. 16, the mayor said.</p>



<p>“It will require vaccination for workers and customers in indoor dining, in indoor fitness facilities, indoor entertainment facilities,” he said from City Hall. “The only way to patronize these businesses indoors is if you’re vaccinated.”</p>



<p>“If you want to participate in society fully, you’ve got to get vaccinated,” de Blasio added.</p>



<p>Enforcement will begin on Sept. 13, following a public service announcement campaign, de Blasio said. Entry will be denied to anyone without a shot.</p>



<p>“If we’re going to stop the Delta variant, the time is now,” said the mayor. “This is going to make clear, you want to enjoy everything great in this summer of New York City? Go get vaccinated.”</p>



<figure><figcaption>The “Key to NYC Pass” is part of the city’s initiative to curb the recent uptick in COVID-19 cases driven by the Delta variant.</figcaption><figcaption><span>Getty Images</span></figcaption></figure>



<p>The program is modeled after the vaccine passport programs rolled out in France and other European countries, officials said.</p>



<p>De Blasio said City Hall is finalizing the regulations, including if children younger than 12 years old with vaccinated parents will be allowed to dine indoors.  Additionally, the mayor said the city is examining expanding the vaccine proof requirement to other indoor activities, such as shopping.</p>



<p>The specifics of the new policy will be finalized by the week of Aug. 16, de Blasio said.</p>



<p>New Yorkers will be required to show either the state’ “Excelsior Pass,” the city’s new vaccine pass or Center for Disease Control’s paper vaccine card, as proof of vaccination, according to the mayor.</p>



<figure><figcaption>The Excelsior Pass app provides digital proof of COVID-19 vaccination or negative test results.</figcaption><figcaption><span>SOPA Images/LightRocket via Getty Images</span></figcaption></figure>



<p>Unlike the newly released<a href="https://nypost.com/2021/07/26/nyc-expanding-covid-vaccine-or-test-mandate-to-all-city-workers/"> rules for city workers</a>, those who are unvaccinated will not have an option to receive a COVID-19 test, de Blasio said. The restrictions will not apply to outdoor dining.</p>



<p>State Sen. James Sanders Jr. (D-Queens) said he supports the policy.</p>



<p>“Only government can make a difference here,” he said during the virtual press briefing. “If we do not take a strong stand and say ‘you have the right to your body, of course; but you do not have to kill other people.”</p>



<p>“A strong stance needs to be taken,” the lawmaker added. “It will be controversial, but your stance — when we look back in history on this one, this will be a defining moment in your government.”</p>



<p>Tren’ness Woods-Black — granddaughter of Sylvia Woods, founder of the later Sylvia’s in Harlem — said the vaccine requirement is a necessary measure to keep neighborhood residents who have not yet received a shot healthy. </p>



<figure><figcaption>“If you’re vaccinated, a world of opportunity opens up to you,” Mayor Bill de Blasio claimed.</figcaption><figcaption><span>Getty Images</span></figcaption></figure>



<p>“The real case is that COVID is killing us,” she said. “We are being hit — especially in Harlem and other black and brown communities especially hard — because lots of folks are not getting the vaccination.”</p>



<p>The major announcement comes after de Blasio has in recent days repeatedly floated the possibility of ramping up restrictions and vaccine requirements. He <a href="https://nypost.com/2021/07/20/de-blasio-to-mandate-covid-vaccinations-for-public-hospitals-staff-sources/">mandated</a> in late July that all public health system employees get their shots or receive a weekly coronavirus test — and then<a href="https://nypost.com/2021/07/26/nyc-expanding-covid-vaccine-or-test-mandate-to-all-city-workers/"> expanded the requirement</a> to the entire city workforce.</p>



<p>“We’ve got to shake people at this point and say, ‘Come on now.’ We tried voluntary. We could not have been more kind and compassionate. Free testing, everywhere you turn, <a href="https://nypost.com/2021/06/14/nyc-hits-new-covid-19-low-positivity-rate/">incentives</a>, friendly, <a href="https://nypost.com/2021/05/25/people-who-get-vaccinated-at-msg-can-win-knicks-tickets/">warm embrace</a>. The voluntary phase is over,” de Blasio <a href="https://nypost.com/2021/07/27/de-blasio-proclaims-voluntary-phase-is-over-on-covid-vaccines/">said on MSNBC</a> last week. “It’s time for mandates, because it’s the only way to protect our people.”</p>



<p>During <a href="https://nypost.com/2021/07/30/nyc-may-impose-vaccine-mandate-on-bars-eateries-de-blasio/">an appearance on CNN</a>, the mayor left the door open to soon imposing vaccination requirements to enter city bars and restaurants.</p>



<p>“Given everything we’re learning, all options are on the table,” he said Friday. “I keep saying we’re climbing the ladder in terms of more and more mandates.”</p>



<div><figure><a href="https://nypost.com/wp-content/uploads/sites/2/2021/08/vaccine-proof-26.jpg?quality=90&amp;strip=all"></a><figcaption>New York City restaurants, entertainment venues and gyms will soon require proof of vaccination against COVID-19.</figcaption><figcaption><span>Getty Images</span></figcaption></figure></div>



<p>And on Monday, the mayor hinted at the Big Apple moving toward a “reality” in which those who do not get vaccinated are barred from certain settings.</p>



<p>“More and more, there’s going to be a reality where, if you’re vaccinated, a world of opportunity opens up to you. If you’re not vaccinated, there’s going to be more and more things you can’t do,” de Blasio said during his virtual press briefing, when he announced that the city will only hire vaccinated workers and advised all New Yorkers to wear masks in indoor, public settings.</p>



<p>“I say that to say, go get vaccinated, so you can fully participate in the life of this city, because that’s where things are going.”</p>
			</div> <!-- article-header -->
					</div>
									
				
		

					
		
			
			
							
				
		

		
	</div>
</div></div>]]></content:encoded>
      <guid>https://nypost.com/2021/08/03/nyc-to-mandate-proof-of-vaccination-for-many-indoor-settings/</guid>
      <pubDate>Tue, 03 Aug 2021 14:56:32 +0000</pubDate>
      <source>https://nypost.com/2021/08/03/nyc-to-mandate-proof-of-vaccination-for-many-indoor-settings/</source>
    </item>
    <item>
      <title>The rinds of the Cheese Shop menu</title>
      <link>https://blog.piwheels.org/the-rinds-of-the-cheese-shop-menu/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___blog_piwheels_org_the-rinds-of-the-cheese-shop-menu_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
        <date>2 August 2021</date>
        
        
<p><em>The title is a reference to the mostly forgotten nickname of the excellent <a href="https://pypi.org/">Python Package Index</a> —</em> <em>Cheese Shop — which refers to the Monty Python <a href="https://www.youtube.com/watch?v=Hz1JWzyvv8A">Cheese Shop sketch</a>.</em></p>



<p>I often find myself staring at the piwheels monitor, and occasionally a strange package name or an unusually longer version number pops up:</p>



<div><figure></figure></div>



<p>I’ve been doing a lot of auditing piwheels vs PyPI lately, making sure we have the right set of packages and versions, pruning stuff that should have been deleted and adding in any that somehow got missed. And I came across lots of interesting oddities, so I thought I’d do some analysis and exploration and share the results here.</p>



<p>The following analysis is of a set of packages and version obtained from PyPI a few days ago, and at the time there were:</p>



<ul><li><strong>311,063 packages</strong></li><li><strong>2,766,603 versions</strong></li></ul>



<h2>Longest package names</h2>



<p>The most common length of package name is <strong>8</strong> characters (like <a href="https://pypi.org/project/gpiozero/"><strong>gpiozero</strong></a>):</p>



<div><figure></figure></div>



<p>The least common package name lengths are <strong>72</strong>, <strong>73</strong>, <strong>74</strong>, <strong>75</strong>, <strong>80</strong>, <strong>82</strong>, <strong>83</strong>, <strong>90</strong>, <strong>92</strong> — all of which occur once.</p>



<p>The longest package names are:</p>



<ul><li><a href="https://pypi.org/project/testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest/"><strong>testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest</strong></a> (92)</li><li><a href="https://pypi.org/project/wix-protos-com.wix.ecom.shipments.localdelivery-wix-ecommerce-shipments-local-delivery-web/"><strong>wix-protos-com-wix-ecom-shipments-localdelivery-wix-ecommerce-shipments-local-delivery-web</strong></a> (90)</li><li><a href="https://pypi.org/project/wix-protos-multilingual-localizationimporterexporter-localization-importer-exporter/"><strong>wix-protos-multilingual-localizationimporterexporter-localization-importer-exporter</strong></a> (83)</li><li><a href="https://pypi.org/project/wix-protos-ecom-shipments-localdelivery-wix-ecommerce-shipments-local-delivery-web/"><strong>wix-protos-ecom-shipments-localdelivery-wix-ecommerce-shipments-local-delivery-web</strong></a> (82)</li></ul>



<div><figure></figure></div>



<div><figure></figure></div>



<h2>Starting characters</h2>



<p>The most common starting character for a package name is <strong>p</strong> (14%), due to lots of packages being named “py”-something or “python”-something. Second is <strong>d</strong> (9%) due to “django-” packages. The distribution for the rest of the character set is:</p>



<div><figure></figure></div>



<p>The least common starting character is <strong>9</strong>. Only five packages start with a 9:</p>



<ul><li><strong><a href="https://pypi.org/project/91act-platform">91act-platform</a></strong></li><li><strong><a href="https://pypi.org/project/99d4aa80-d846-424f-873b-a02c7215fc54">99d4aa80-d846-424f-873b-a02c7215fc54</a></strong></li><li><strong><a href="https://pypi.org/project/908dist">908dist</a></strong></li><li><strong><a href="https://pypi.org/project/91downloader">91downloader</a></strong></li><li><strong><a href="https://pypi.org/project/9">9</a></strong></li></ul>



<p>Looking at the first two characters, the most common are <strong>py</strong>, <strong>dj</strong>, <strong>od</strong>, <strong>co</strong> and <strong>re</strong>:</p>



<div><figure></figure></div>



<p>Looking at the first three characters, <strong>dja</strong> takes over <strong>py</strong>:</p>



<div><figure></figure></div>



<h2>Benford’s Law</h2>



<p><a href="https://en.wikipedia.org/wiki/Benford%27s_law">Benford’s Law</a> states that in many naturally occurring collections of numbers, the leading digit is likely to be small, and hence the distribution of each subsequent digit is less likely. I wondered if this could be seen within package version numbers. Taking the numeric versions, and looking at the first non-zero digit, the distribution is reasonably compliant with Benford’s Law:</p>



<div><figure></figure></div>



<p>However, looking at the distribution of all digits (not just the first), this follows the pattern laid out by Benford’s Law much more closely:</p>



<div><figure></figure></div>



<p>In both cases, 1 is more common that expected, 2 seems to be perfectly aligned, but 9 is slightly more common than expected, more so in the first digit example.</p>



<h2>Number of versions per package</h2>



<p>I excluded packages which had no versions (because they don’t have JSON endpoints on PyPI). As for the rest of them, over a quarter only have a single version. The frequency drops steadily as the number of versions rises:</p>



<div><figure></figure></div>



<p>The package with the most versions is <strong><a href="https://pypi.org/project/pulumi/">pulumi</a></strong> with <strong>2,566</strong> versions!</p>



<h2>Version length</h2>



<p>A PyPI package version doesn’t have to be strictly numeric – they’re usually in the form 1.2.3 or similar, sometimes with characters appended to indicate alpha, beta, dev or release candidate, but they can be <em>any</em> string.</p>



<ul><li>The most common version length is <strong>5</strong>, which matches the “<strong>1.2.3</strong>” format.</li><li>The single most common version is “<strong>0.1.0</strong>” which occurs <strong>57,258</strong> times</li><li>There are <strong>233,734</strong> distinct versions</li><li>The longest version is a version of package <a href="https://pypi.org/project/lyricsprocessor"><strong>lyricsprocessor</strong></a>, with the version number <a href="https://pypi.org/project/lyricsprocessor/0.1.40404040404040404040404040404040404040404040404040404040404040404040404040404040/"><strong>0.1.40404040404040404040404040404040404040404040404040404040404040404040404040404040</strong></a> (84 chars)</li><li>The next longest are all from package <a href="https://pypi.org/project/softwarefabrica.django.utils/"><strong>softwarefabrica-django-utils</strong></a> which exclusively has versions of 70 characters e.g. <a href="https://pypi.org/project/softwarefabrica.django.utils/1.0dev-BZR-r115-panta-elasticworld.org-20100520155735-sf3yrsr0pvyvlm8m/"><strong>1.0dev-BZR-r115-panta-elasticworld.org-20100520155735-sf3yrsr0pvyvlm8m</strong></a></li></ul>



<div><figure></figure></div>



<div><figure></figure></div>



<p>At one point in PyPI’s history, someone accidentally submitted the description of their package as the version name, so there was a version of package <strong><a href="https://pypi.org/project/sysv-ipc/">sysv-ipc</a></strong> called:</p>



<pre>Sysv_ipc gives Python programs access to System V semaphores, shared memory and message queues. Most (all?) Unixes (including OS X) support System V IPC. Windows+Cygwin 1.7 might also work. 

Sample code is included.

This extension is released under the GPL. 

You might also be interested in the similar POSIX IPC module at: http://semanchuk.com/philip/posix_ipc/</pre>



<p>Yes, that entire block of text. The version has now been deleted.</p>



<div><figure><figcaption>The truncated version number appearing on piwheels, prior to its deletion</figcaption></figure></div>



<p>Other times this kind of thing has happened by accident include the first version of <strong><a href="https://pypi.org/project/omnijson/">omnijson</a></strong> which was called “<strong><a href="https://pypi.org/project/omnijson/Kenneth%20Reitz/">Kenneth Reitz</a></strong>” and is still live:</p>



<div><figure></figure></div>



<h2>Whitespace significance?</h2>



<p>I recently noticed a version which seemed to have whitespace at the end of it, and had a look to see if there were others. There are 16 versions on PyPI which end in a newline character. Of these 16, 12 have registered the stripped equivalent too:</p>



<ul><li><strong>bugzilla</strong> ‘1.0\n’</li><li><strong>bugzilla</strong> ‘1.0.0\n’</li><li><strong>django-filtered-form</strong> ‘1.0.1\n’</li><li><strong>django-mongokit</strong> ‘0.2.3\n’</li><li><strong>docbook</strong> ‘1.0.11\n’</li><li><strong>git-plus</strong> ‘0.2.1.beta\n’</li><li><strong>lcinvestor</strong> ‘2.2.1\n’</li><li><strong>lendingclub</strong> ‘0.1.7\n’</li><li><strong>pythonwpy</strong> ‘0.3.0\n’</li><li><strong>pythonwpy</strong> ‘0.3.3\n’</li><li><strong>rabbit-qurator</strong> ‘v1.0.0\n’</li><li><strong>rtmidi2</strong> ‘0.5.2\n’</li></ul>



<p>Visually, on PyPI, these look identical:</p>







<h2>Non-numeric version names</h2>



<p>Since version numbers tend to be numeric, surely the most interesting ones are those without any numbers in them.</p>



<ul><li>There are <strong>166</strong> packages which have non-numeric versions</li><li>There are a total of <strong>171</strong> non-numeric versions</li><li>The longest non-numeric version is <a href="https://pypi.org/project/jw.util/"><strong>jw-util</strong></a> version “<strong><a href="https://pypi.org/project/jw.util/-class.-jw.util.version.Version-/">-class.-jw.util.version.Version-</a></strong>“</li></ul>



<p>This version number of <strong>jw-util</strong> seems to have been another accident:</p>



<div><figure></figure></div>



<p>Since the version included a tarball in its <a href="https://pypi.org/project/jw.util/-class.-jw.util.version.Version-/#files">release</a>, you can inspect how this accident occurred. Lots of complicated code for calculating what the version number should be … gone wrong. The version string is actually the <a href="https://docs.python.org/3/library/functions.html#repr">repr</a> of the Version class, not the string representation of the instance, as intended. Normally it would appear as <code>&lt;__class__.jw.util.version.Version&gt;</code> but it’s been canonicalised, replacing the angle brackets and double underscores with single hyphens.</p>



<p>Interestingly (if you’ve made it this far, I think you’re the kind of person who’ll find this interesting), of the 166 packages with non-numeric versions, all but five of them have only a single non-numeric version, and those five only have two such versions each. Those are:</p>



<ul><li><a href="https://pypi.org/project/confine-controller"><strong>confine-controller</strong></a> ‘dev’ and ‘beta’</li><li><a href="https://pypi.org/project/pycli"><strong>pycli</strong></a> ‘devel’ and ‘dev’</li><li><a href="https://pypi.org/project/pyircserver"><strong>pyircserver</strong></a> ‘PreAlpha’ and ‘Alpha’</li><li><strong><a href="https://pypi.org/project/amoi">amoi</a></strong> ‘lol’ and ‘.lol.’</li><li><strong><a href="https://pypi.org/project/dstufft-testpkg">dstufft-testpkg</a></strong> ‘dog’ and ‘watwatwat’</li></ul>



<h2>Queen’s English</h2>



<p>Using the system dictionaries, I wondered how many package names were dictionary words:</p>



<ul><li><strong>11,131</strong> packages are a single word found in the US English dictionary</li><li><strong>11,031</strong> packages are are a single word found in the British English dictionary</li><li>Only <strong>39</strong> of the British English dictionary packages do not appear in the US dictionary, so for fun, let’s see what those are:<ul><li><strong><a href="https://pypi.org/project/acclimatise">acclimatise</a></strong></li><li><strong><a href="https://pypi.org/project/aluminium">aluminium</a></strong></li><li><strong><a href="https://pypi.org/project/analyse">analyse</a></strong></li><li><strong><a href="https://pypi.org/project/armoury">armoury</a></strong></li><li><strong><a href="https://pypi.org/project/behaviour">behaviour</a></strong></li><li><strong><a href="https://pypi.org/project/caesium">caesium</a></strong></li><li><strong><a href="https://pypi.org/project/colour">colour</a></strong></li><li><strong><a href="https://pypi.org/project/colouration">colouration</a></strong></li><li><strong><a href="https://pypi.org/project/coloured">coloured</a></strong></li><li><strong><a href="https://pypi.org/project/colourful">colourful</a></strong></li><li><strong><a href="https://pypi.org/project/colourless">colourless</a></strong></li><li><strong><a href="https://pypi.org/project/colours">colours</a></strong></li><li><strong><a href="https://pypi.org/project/connexion">connexion</a></strong></li><li><strong><a href="https://pypi.org/project/decentralise">decentralise</a></strong></li><li><strong><a href="https://pypi.org/project/draughts">draughts</a></strong></li><li><strong><a href="https://pypi.org/project/draughtsman">draughtsman</a></strong></li><li><strong><a href="https://pypi.org/project/fibre">fibre</a></strong></li><li><strong><a href="https://pypi.org/project/gramme">gramme</a></strong></li><li><strong><a href="https://pypi.org/project/harbour">harbour</a></strong></li><li><strong><a href="https://pypi.org/project/inflexion">inflexion</a></strong></li><li><strong><a href="https://pypi.org/project/labours">labours</a></strong></li><li><strong><a href="https://pypi.org/project/liquorice">liquorice</a></strong></li><li><strong><a href="https://pypi.org/project/memorised">memorised</a></strong></li><li><strong><a href="https://pypi.org/project/mitre">mitre</a></strong></li><li><strong><a href="https://pypi.org/project/motorise">motorise</a></strong></li><li><strong><a href="https://pypi.org/project/mould">mould</a></strong></li><li><strong><a href="https://pypi.org/project/moult">moult</a></strong></li><li><strong><a href="https://pypi.org/project/mums">mums</a></strong></li><li><strong><a href="https://pypi.org/project/normalise">normalise</a></strong></li><li><strong><a href="https://pypi.org/project/optimisation">optimisation</a></strong></li><li><strong><a href="https://pypi.org/project/optimise">optimise</a></strong></li><li><strong><a href="https://pypi.org/project/optimiser">optimiser</a></strong></li><li><strong><a href="https://pypi.org/project/organise">organise</a></strong></li><li><strong><a href="https://pypi.org/project/pyjamas">pyjamas</a></strong></li><li><strong><a href="https://pypi.org/project/sceptre">sceptre</a></strong></li><li><strong><a href="https://pypi.org/project/spectre">spectre</a></strong></li><li><strong><a href="https://pypi.org/project/spectres">spectres</a></strong></li><li><strong><a href="https://pypi.org/project/summarise">summarise</a></strong></li><li><strong><a href="https://pypi.org/project/tricolour">tricolour</a></strong></li></ul></li></ul>



<p>You can view the notebook to see the workings around this analysis on <a href="https://github.com/piwheels/stats/blob/master/pypi.ipynb"><strong>GitHub</strong></a>, including how I obtained the data from PyPI using the XMLRPC and JSON APIs.</p>
        
    </div></div>]]></content:encoded>
      <guid>https://blog.piwheels.org/the-rinds-of-the-cheese-shop-menu/</guid>
      <pubDate>Tue, 03 Aug 2021 08:08:24 +0000</pubDate>
      <source>https://blog.piwheels.org/the-rinds-of-the-cheese-shop-menu/</source>
    </item>
    <item>
      <title>Launch HN: Keyri (YC S21) – Secure smartphone-based passwordless authentication</title>
      <link>https://news.ycombinator.com/item?id=28063339</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><td colspan="2"></td><td>Hi HN, we&#39;re Zain and Grant at Keyri. We make a white label passwordless authentication SDK that companies can embed into their mobile apps for instant biometrics-based registration and login on any device. Keyri can be used for (1) authentication by itself, (2) an auth option in addition to passwords and OpenID, (3) step-up identity verification in high risk-score scenarios.<p>Passwords suck - they&#39;re terrible for security and terrible for ease of use. 2FA solutions are clunky and still insecure - for example, SMS-based 2FA doesn&#39;t work when you travel abroad, and it can be defeated with phishing and SIM swapping. They also allow users to share their subscription accounts with others, robbing companies of revenue. Password-based auth also enables the sort of bot activity that renders sites like Ticketmaster and StockX unusable for real customers.</p><p>2FA methods currently in the market represent a tradeoff between security and ease of use. Secure 2FA methods like USB keys are a pain to use, while easy 2FA methods like SMS passcodes are unsecure. Keyri essentially takes the USB key concept and puts it in users&#39; phones. This is hard to do in a secure way while maintaining a seamless UX due to the need for two-way communication to prevent phishing. Some enterprise-focused smartphone-based passwordless solutions require a Bluetooth or WiFi connection between users’ phones and their other devices to ensure security, which is obviously untenable for rollout to mass audiences. Our system works securely 100% over HTTPS and computer vision (beyond just reading QR codes). An additional difficulty is that companies don&#39;t want to force their users to download a third-party app. We solve this with our SDK that allows companies to bake our passwordless auth capability into their apps.</p><p>Keyri replaces passwords with public key cryptography plus biometrics. Instead of remembering and typing in your credentials, authentication happens by just scanning a QR code (on desktop web) or tapping a button (on mobile web and mobile native apps). Thanks to biometrics and cryptographic functions happening in the background, multi-factor authentication happens in one step that takes less than a second.</p><p>At registration, the Keyri SDK generates a key pair, stores the private key in the phone&#39;s secure enclave, and sends the public key to the relying party&#39;s (our customer’s) credential server. At login, the SDK first verifies the user&#39;s identity via biometrics (Face ID etc.), then generates a signed authentication request using the stored private key, then sends that request to the relying party&#39;s auth server, which authenticates the user by verifying the signature using the public key it received during registration. The user&#39;s private keys never leave their phone. There&#39;s a lot more cryptography, handshakes, secret sauce, etc. that happen during the auth flow, but those are incidental to the core concept outlined above.</p><p>What&#39;s different about us? 1. Keyri is available as a mobile SDK, allowing any company to offer passwordless onboarding and WhatsApp-like QR code login entirely within their own app without a long and tricky dev cycle. 2. Keyri doesn&#39;t require any typing or setup / opt in. Other passwordless solutions require typing out a username/email address and/or connecting by bluetooth, specialized onboarding, etc. 3. Key backup and recovery is handled automatically via the cloud (iCloud / Google Drive). Additional backup/restore options are available in our SDK. 4. Privacy: unlike OpenID and some other passwordless solutions, Keyri’s server does not store or see any private keys or any personal information. Our API simply facilitates the transmission of public keys and encrypted signed authentication requests.</p><p>We charge companies based on how many unique users use Keyri to log in to their web services in a given month. We can provide our API in a self-hostable format for companies in heavily regulated industries. Our auth endpoint code is open source, but our API and mobile SDK are not.</p><p>If you want to try the experience, check out our live demo here: <a href="https://keyri.co/demo" rel="nofollow">https://keyri.co/demo</a>. Note that this demo uses our standalone authenticator app, which is available for companies that don’t have their own mobile app, but our main product is the white label SDK that incorporates the authenticator app’s full functionality (and then some) into our customers’ apps.</p><p>As a long-time HN lurker, I know the community has expertise and strong opinions on authentication. It would be great to get your feedback, and I’d be happy to answer any questions. We’re very actively building out the system, so any ideas for bolstering our system are welcome.</p></td></div></div>]]></content:encoded>
      <guid>https://news.ycombinator.com/item?id=28063339</guid>
      <pubDate>Wed, 04 Aug 2021 16:54:43 +0000</pubDate>
      <source>https://news.ycombinator.com/item?id=28063339</source>
    </item>
    <item>
      <title>Finary (YC W21) Is Hiring Full Stack Engineers and a Product Designer</title>
      <link>https://about.finary.io/careers</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-duration-in="300" data-duration-out="100"><div><div data-w-tab="care"><p>At Finary, we&#39;re dedicated to ensuring the well-being of our team, providing value for and sparking joy in our users, and leaving the world better off than how we found it.</p><p></p></div><div data-w-tab="initiative"><p>We’ve gotten to where we are through unrelenting boldness and high ambition, and we plan to keep it that way. Finary is a place to feel empowered to pitch those crazy ideas, seek out undiscovered opportunities, and go far beyond job description, all with the support of the team.</p><p></p></div><div data-w-tab="corners"><p>We do every task to a full 100%. That means patching that last annoying bug, pushing that last pixel, and finishing all those TODOs. Sweeping the corners pushes our team to hit our goals, drive the company forward, and take a great sense of pride in our work.</p><p></p></div><div data-w-tab="open-book"><p>We’re much bigger fans of oversharing over undersharing. At Finary, we bring honesty to the table, own up to our mistakes and ask for help, and share what’s going on across the company.</p><p></p></div></div></div></div>]]></content:encoded>
      <guid>https://about.finary.io/careers</guid>
      <pubDate>Wed, 04 Aug 2021 17:01:00 +0000</pubDate>
      <source>https://about.finary.io/careers</source>
    </item>
    <item>
      <title>Facebook bans researchers who were investigating Facebook ads</title>
      <link>https://www.dailydot.com/debug/facebook-bans-researchers-providing-transparency-on-sites-ads/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
						



						
						<a href="https://www.dailydot.com/topics/debug/">
							<p>Tech</p>
						</a>
						
						
						<p>
						Published Aug 4, 2021   Updated Aug 4, 2021, 11:31 am CDT						</p>
					</div><div>
						

<p><a href="https://www.dailydot.com/tags/facebook/" target="_blank" rel="noreferrer noopener">Facebook</a> has banned a group of academics from New York University who researched <a href="https://www.dailydot.com/debug/facebook-political-ads-global-witness-analysis/" target="_blank" rel="noreferrer noopener">political ads</a> and misinformation on the platform. </p>



<p>The social media giant announced in a blog post on Wednesday that it had banned the accounts, apps, and pages related to the <a href="https://adobservatory.org/" target="_blank" rel="noreferrer noopener">NYU Ad Observatory</a>, a project by <a href="https://cybersecurityfordemocracy.org/" target="_blank" rel="noreferrer noopener">Cybersecurity of Democracy</a>. The ban is the latest in a long-running feud Facebook has had with the academics. </p>



<p>To aid in their research, the group created a browser plug-in called Ad Observer, which collects data on the political ads users see and why they were targeted for the ad. </p>



<p>Specifically, the tool <a href="https://adobserver.org/" target="_blank" rel="noreferrer noopener">collects</a> the advertiser’s name, the ad’s content, information Facebook provided about how the ad was targeted, and when the ad was shown to a user, among other things. It doesn’t collect personal information. The data collected by Ad Observer is then made public.</p>



<p>In October of last year, Facebook said the NYU Ad Observatory’s project violated their terms of service, as the <em><a href="https://www.wsj.com/articles/facebook-seeks-shutdown-of-nyu-research-project-into-political-ad-targeting-11603488533?mod=article_inline" target="_blank" rel="noreferrer noopener">Wall Street Journal</a></em> reported at the time. On Wednesday, the social media giant reiterated that in its <a href="https://about.fb.com/news/2021/08/research-cannot-be-the-justification-for-compromising-peoples-privacy/" target="_blank" rel="noreferrer noopener">blog post</a> explaining their reasoning for the ban. </p>



<p>“While the Ad Observatory project may be well-intentioned, the ongoing and continued violations of protections against scraping cannot be ignored and should be remediated,” Mike Clark, the company’s product management director, wrote in the post. Clark also said the browser extension collected information about Facebook users “who did not install it or consent to the collection.”</p>



<p>However, as <a href="https://www.protocol.com/nyu-facebook-researchers-scraping" target="_blank" rel="noreferrer noopener">Protocol noted in March</a>, the information collected from accounts that did not “consent to the collection” that Clark appears to be referring to was actually advertisers’ accounts, not private users. </p>



<p>Laura Edelson, a member of Cybersecurity for Democracy, told <a href="https://www.protocol.com/nyu-researchers-facebook-disables-accounts" target="_blank" rel="noreferrer noopener">Protocol</a> that Facebook was “silencing us because our work often calls attention to problems on its platform.” The Daily Dot reached out to Cybersecurity for Democracy for comment, but didn’t immediately hear back. </p>



<p>However, in a <a href="https://twitter.com/LauraEdelson2/status/1422736708433481730" target="_blank" rel="noreferrer noopener">series of tweets</a>, Edelson elaborated more on the social media giant’s decision. </p>



<p>“This evening, Facebook suspended my Facebook account and the accounts of several people associated with Cybersecurity for Democracy, our team at NYU. This has the effect of cutting off our access to Facebook’s Ad Library data, as well as Crowdtangle,” Edelson wrote. “Over the last several years, we’ve used this access to uncover systemic flaws in the Facebook Ad Library, identify misinformation in political ads including many sowing distrust in our election system, and to study Facebook’s apparent amplification of partisan misinformation.” </p>



<figure><div>
<blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">By suspending our accounts, Facebook has effectively ended all this work. Facebook has also effectively cut off access to more than two dozen other researchers and journalists who get access to Facebook data through our project, 3/4</p>— Laura Edelson (@LauraEdelson2) <a href="https://twitter.com/LauraEdelson2/status/1422736708433481730?ref_src=twsrc%5Etfw">August 4, 2021</a></blockquote>
</div></figure>



<p>Edelson continued: “By suspending our accounts, Facebook has effectively ended all this work. Facebook has also effectively cut off access to more than two dozen other researchers and journalists who get access to Facebook data through our project, including our work measuring vaccine misinformation with the Virality Project and many other partners who rely on our data. The work our team does to make data about disinformation on Facebook transparent is vital to a healthy internet and a healthy democracy.” </p>



<hr/>



<h3 id="h-read-more-about-big-tech">Read more about Big Tech</h3>



<figure></figure>
					</div><div>
						<div>
							

							<p>
								*First Published: Aug 4, 2021, 10:21 am CDT							</p>

						</div><!-- row end -->
					</div><div>
  <div>
    <h4>
      <a href="https://www.dailydot.com/author/andrewwyrich/">Andrew Wyrich</a>
    </h4>
    <!-- <button class="btn ghost-btn-primary follow-btn inline-flex">Follow</button> -->
    <p>Andrew Wyrich is the deputy tech editor at the Daily Dot. Andrew has written for USA Today, NorthJersey.com, and other newspapers and websites. His work has been recognized by the Society of the Silurians, Investigative Reporters &amp; Editors (IRE), and the Society of Professional Journalists (SPJ).</p>

    
  </div><!-- art-auth-details end -->

  <p><a href="https://www.dailydot.com/author/andrewwyrich/">
          </a>
  </p> <!-- art-auth-image -->
</div></div>]]></content:encoded>
      <guid>https://www.dailydot.com/debug/facebook-bans-researchers-providing-transparency-on-sites-ads/</guid>
      <pubDate>Wed, 04 Aug 2021 17:17:11 +0000</pubDate>
      <source>https://www.dailydot.com/debug/facebook-bans-researchers-providing-transparency-on-sites-ads/</source>
    </item>
    <item>
      <title>Windows 365 paused due to high demand</title>
      <link>https://www.theverge.com/2021/8/4/22609090/microsoft-365-free-trials-cloud-pcs-demand-trials</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_theverge_com_2021_8_4_22609090_microsoft-365-free-trials-cloud-pcs-demand-trials/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
  <p id="ux8WbJ">Microsoft launched its new cloud PC Windows 365 service <a href="https://www.theverge.com/2021/8/2/22605800/microsoft-windows-365-cloud-pc-streaming-html5">earlier this week</a>, and the company has already had to pause free trials due to demand. <a href="https://www.theverge.com/2021/7/14/22575064/microsoft-windows-365-cloud-pc-launch-date-price-features">Windows 365 lets you rent a cloud PC</a> — with a variety of CPU, RAM, and storage options — and then stream Windows 10 or Windows 11 via a web browser. The service reached max capacity after only a day of signups.</p>
<p id="o5UwrX">“Following significant demand, we have reached capacity for Windows 365 trials,” reads a statement from the Microsoft 365 Twitter account. “We have seen unbelievable response to Windows 365 and need to pause our free trial program while we provision additional capacity,” <a href="https://twitter.com/RDS4U/status/1422616706485080065">explains Scott Manchester</a>, director of Windows 365 program management.</p>
  <figure>
  <span>
    
    <span data-original="https://cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg">
      
        <picture data-cid="site/picture_element-1628097650_7109_61419" data-cdata="{&#34;asset_id&#34;:22716693,&#34;ratio&#34;:&#34;*&#34;}">
  


  <source srcset="https://cdn.vox-cdn.com/thumbor/HyfoYyT_3gcVniIAGTZvqyQU9G8=/0x0:960x600/320x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 320w, https://cdn.vox-cdn.com/thumbor/8_DqVBN_UZxrjdMAx_b05UjHNqE=/0x0:960x600/520x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 520w, https://cdn.vox-cdn.com/thumbor/JiVdmHN8on5w2hYua-vk0lZEvs0=/0x0:960x600/720x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 720w, https://cdn.vox-cdn.com/thumbor/5xCcfBWtmnUhgsvHRcH9W2Ycyg0=/0x0:960x600/920x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 920w, https://cdn.vox-cdn.com/thumbor/ZhB_JyxFaGsraK3x0iZPrjhfbyw=/0x0:960x600/1120x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 1120w, https://cdn.vox-cdn.com/thumbor/mKiOOwPmMIYm5peN48x50vtsiP0=/0x0:960x600/1320x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 1320w, https://cdn.vox-cdn.com/thumbor/JVK_SSZ6STu5RZ0sJ2TeIQb6dLU=/0x0:960x600/1520x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 1520w, https://cdn.vox-cdn.com/thumbor/ucN5MwJvdd0YnVh3A3QakeBOzLg=/0x0:960x600/1720x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 1720w, https://cdn.vox-cdn.com/thumbor/unHa-8bLNJhe1w65kWHPfstSLio=/0x0:960x600/1920x0/filters:focal(0x0:960x600):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/22716693/windows365web.jpg 1920w" sizes="(min-width: 1221px) 846px, (min-width: 880px) calc(100vw - 334px), 100vw" type="image/webp"/>




</picture>

      
    </span>
    
  </span>
  
    <span>
      
        <figcaption><em>Windows 365 running in a browser.</em></figcaption>
      
      
        <cite>Image: Microsoft</cite>
      
    </span>
  
</figure>

<p id="e0xp0a">Windows 365 is only available to businesses right now, and there’s clearly been more demand than Microsoft had anticipated if the company has hit capacity issues after just a day of free trials. Microsoft launched the service on Monday, with per-user pricing that starts at $20 per month for one vCPU, 2GB of RAM, 64GB of storage, and 12GB of bandwidth if you already have a Windows 10 license.</p>
<p id="UxfiUk">There are a variety of configurations for Windows 365, including one at the top end that includes eight vCPUs, 32GB of RAM, and 512GB of storage for $158 per month. All of the different price options are available at <a href="http://windows365.com/">Windows365.com</a>, but you’ll now need to <a href="https://info.microsoft.com/ww-landing-signup-for-updates-windows-from-the-cloud.html?LCID=EN-US">register interest</a> in a free trial as Microsoft has hit capacity.</p>
  
</div></div>]]></content:encoded>
      <guid>https://www.theverge.com/2021/8/4/22609090/microsoft-365-free-trials-cloud-pcs-demand-trials</guid>
      <pubDate>Wed, 04 Aug 2021 16:15:34 +0000</pubDate>
      <source>https://www.theverge.com/2021/8/4/22609090/microsoft-365-free-trials-cloud-pcs-demand-trials</source>
    </item>
    <item>
      <title>Netflix announces Space X documentary on civilian mission into orbit</title>
      <link>https://news.sky.com/story/netflix-announces-space-x-documentary-on-civilian-mission-into-orbit-12372247</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-component-name="sdc-article-body">
                        
                            <p>Netflix will stream a documentary next month which will follow the story of the world&#39;s first private all-civilian space orbit.</p><p>The group will board a <strong><a href="https://news.sky.com/topic/spacex-6129" target="_blank">SpaceX</a></strong> capsule next month and spend three days orbiting the Earth, becoming Netflix&#39;s first documentary &#34;to cover an event in near real-time&#34;.</p>
<p>The privately chartered flight will be commanded, funded and led by 38-year-old billionaire Jared Isaacman, and aim to support St Jude Children&#39;s Research Hospital to the tune of $200 million.</p>


<p>He will be joined on board by Sian Proctor, a geoscientist and former NASA candidate, Christopher Sembroski, a US Airforce veteran, and Hayley Arceneaux, a doctor&#39;s assistant at St Jude and childhood cancer survivor.</p><p>The group will apparently reach a higher altitude than the International Space Station as they orbit the planet in the SpaceX Dragon capsule, dubbed Inspiration4.</p>        
<p>The quick-turnaround documentary will be made in five parts, with the first two premiering on 6 September.</p>
<p>Inspiration4&#39;s actual launch is scheduled for 15 September - an event which will feature in the final part at the end of the month.</p><p>Viewers have been promised behind the scenes access of the mission - from their selection, to footage from inside the spacecraft while it orbits Earth.</p>
                        </div></div>]]></content:encoded>
      <guid>https://news.sky.com/story/netflix-announces-space-x-documentary-on-civilian-mission-into-orbit-12372247</guid>
      <pubDate>Wed, 04 Aug 2021 16:54:35 +0000</pubDate>
      <source>https://news.sky.com/story/netflix-announces-space-x-documentary-on-civilian-mission-into-orbit-12372247</source>
    </item>
    <item>
      <title>Forgotten heroes of the Enigma Story (2018)</title>
      <link>https://www.nature.com/articles/d41586-018-06149-y</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___www_nature_com_articles_d41586-018-06149-y/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
                    <p><b>X, Y &amp; Z: The Real Story of How Enigma Was Broken</b> <i>Dermot Turing</i> The History Press (2018) </p><p>Alan Turing’s crucial unscrambling of German messages in the Second World War was a tour de force of codebreaking. From 1940 onwards, Turing and his team engineered hundreds of electronic machines, dubbed bombes, which decrypted the thousands of missives sent by enemy commanders each day to guide their soldiers. This deluge of knowledge shortened the war. Bletchley Park, UK — the secret centre where it all happened — rightly gained its place in history. But as with all breakthroughs, many more people laid the foundations.</p><p>In his book <i>X, Y &amp; Z</i>, Dermot Turing, the great mathematician’s nephew, tells the gripping story of a band of Polish mathematicians who figured out much about how German Enigma encoding machines operated, years before Alan Turing did. The Poles shared their secrets with French and British intelligence services before and during the Second World War — the letters X, Y and Z were shorthand for the French, British and Polish codebreaking teams, respectively.</p><p>The author’s research is painstaking. After the war, military documents were scattered across Europe, and key French records were declassified only in 2016. Many original Polish papers were destroyed, but the mathematicians’ families have shared personal letters. Turing unearths a remarkable tale of intellect, bravery and camaraderie that reads like a nail-biting spy novel.</p><p>Polish skills in cryptography and radio engineering came together during the 1920 Russo-Polish War. Signallers decoded a telegram from Red Army military commander Joseph Stalin, which indicated that an attack on Warsaw was imminent. Jamming the Russians’ radio communications bought enough time to secure and save the city. Maksymilian Ciężki and Antoni Palluth were among those signallers. After the 1920 conflict, Ciężki became leader of a radio-intelligence unit. Palluth set up a business making electronic equipment, including radios the size of a credit card for Polish secret agents.</p><figure>
 <div>
  <p></p><figcaption>
   <p><span>Polish codebreakers Antoni Palluth (left) and his cousin Sylwester stand in front of a chart of North African military operations in 1942, when they were working with French intelligence officer Gustave Bertrand in southern France.</span><span>Credit: Anna Zygalska-Cannon</span></p>
  </figcaption>
 </div>
</figure><p>In 1926, the German navy began to send messages that were scrambled in a more random way, making them almost impossible to decipher. They were encoded using the typewriter-like Enigma machine. The keyboard was wired so that typing one letter lit up a different one in a set of bulbs on top. Rotors altered the path of the electric circuit with every keystroke. The machines were commercially available but modified for German military use. Without knowing the precise setting of a machine, there was no way to unpick the code.</p><p>The book tells how Ciężki hired a group of mathematics students to crack the problem. They worked quietly in basements and in a bunker deep in the woods. Marian Rejewski, an alumnus of Poznań University in Poland, was one. At the helm was Gwido Langer, a Pole who had worked in radio intelligence for the Austrian army.</p><p>Meanwhile, in France, Gustave Bertrand headed the equivalent unit. The French had a more conventional approach to gathering information: good agents, clandestine meetings and generous pay-offs. Bertrand managed two formidable spies. Rudolf Stallmann — code name Rex — was a German card-sharp who had posed as a baron to fleece casino-goers; he picked up languages and people with ease. Rex recruited Hans-Thilo Schmidt, or Agent Asche, whose brother was a colonel in the German army. Schmidt supplied cases of military documents to the French, which Rex received and Bertrand and his colleagues photographed in hotel bathrooms.</p><p>Bertrand built up a network for sharing intelligence, including with Poland and the United Kingdom. In 1931, he agreed to supply Langer with German military documents if the Poles would pass back decrypted German messages. One of those documents, passed on by Schmidt, was a manual for Enigma.</p><figure>
 <div>
  <p></p><figcaption>
   <p><span>Polish mathematician Marian Rejewski relaxes in the French chateau where the codebreakers were working to crack the Enigma machine codes in 1942. </span><span>Credit: Anna Zygalska-Cannon</span></p>
  </figcaption>
 </div>
</figure><p>Langer, Ciężki and Rejewski leapt on it. They discovered that a panel added to the front of the machine altered the settings, although they still could not tell how the device was wired. They set about collecting coded messages and applied their wits to find clues. Sometimes the senders made telling mistakes. The German soldiers might use simple sets of three letters, such as QQQ, to broadcast the settings to the receiver. Occasionally, the messages could be guessed: for instance, they often said <i>maschine defekt</i>.</p><p>By 1936, in the run-up to war, the German military was tightening its communications. In October that year, the senders began to reset the Enigma machines daily. Dermot Turing credits another Polish mathematician, Jerzy Różycki, with realizing that this altered the frequency of letters, revealing extra information. The team developed tools to work through the hundreds of permutations, including punched cards and a mechanical device with rotors that mimicked Enigma, which, for uncertain reasons, the team called a <i>bomba</i>. Both concepts were later used and developed by Alan Turing.</p><p>Bertrand fed this information back to Britain’s codebreakers, who come across in the book as humorous but aloof. They called the French dispatches — stamped <i>TRÈS SECRET</i> in red — scarlet pimpernels. In late July 1939, just over a month before the German army marched into Poland, Bertrand arranged for the respected British cryptologist Dillwyn ‘Dilly’ Knox (who was already working on Enigma at Bletchley) to meet Langer’s team near Warsaw. The Poles wanted to pass on their knowledge. Initially angry that they had beaten him to it, Knox later sent the Poles a silk scarf printed with a horse-racing scene to concede that they had won.</p><figure>
 <div>
  <p></p><figcaption>
   <p><span>Rudolf Stallmann — code name Rex — was a German card-sharp who spied for the French intelligence service. </span><span>Credit: Christie Books</span></p>
  </figcaption>
 </div>
</figure><p>The British immediately ramped up codebreaking efforts at Bletchley Park; within a few months, Alan Turing had re-engineered the bombes to work more quickly. The Polish insights saved him a year of work.</p><p>When war broke out, the Polish radio-intelligence unit was wound up. The codebreakers buried their notes and machines and fled. Some ended up in Algeria, the rest in France working for Bertrand, who had set up a radio-intelligence group in a chateau in southern France. In breathtaking passages, the book reveals how most of the Polish codebreakers made it through the war, tapping into the French Resistance and dodging Germany’s military-intelligence services and secret police when France became occupied. As valuable assets, the codebreakers were not allowed to fight. Touching photographs in the book show them joking with each other and spending time with girlfriends amid the devastation. </p><p>Eventually, Ciężki and Langer were arrested and interned in the Sudetenland (now part of the Czech Republic). After the war, they settled in Scotland. Palluth was killed in Germany in 1945, when an aeroplane factory in which he was working at Sachsenhausen concentration camp was bombed. Bertrand artfully played all sides. Avoiding becoming a double agent, he ended up a general. In 1972, he wrote a popular French book about Enigma, and so the story of X, Y and Z and Bletchley began to seep out.</p><p>Dermot Turing’s vivid and moving account sets the record straight.</p>
                </div></div>]]></content:encoded>
      <guid>https://www.nature.com/articles/d41586-018-06149-y</guid>
      <pubDate>Tue, 03 Aug 2021 09:39:03 +0000</pubDate>
      <source>https://www.nature.com/articles/d41586-018-06149-y</source>
    </item>
    <item>
      <title>Show HN: Hookdeck – an infrastructure to consume webhooks</title>
      <link>https://hookdeck.com?ref=hn</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div id="w-node-_99a674b5-a483-9072-2614-4daeedd4e3b1-264c577a"><div><p>RECOVER</p></div><h2><strong>Recover from errors without missing a beat</strong></h2><p>Define your own automated retry logic. Or, replay your failed webhooks after you’ve fixed an issue. Whether it’s downtime, congestion, or a bug, nothing will stop you from successfully taking action on every single webhook you receive.</p><a href="https://hookdeck.com/incoming#recovery"><p></p><p>Recovery Features</p></a></div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 17:14:50 +0000</pubDate>
      <source>https://hookdeck.com?ref=hn</source>
    </item>
    <item>
      <title>Ultra fast Thunderbolt NAS with Apple M1 and Linux</title>
      <link>https://chrisbergeron.com/2021/07/25/Ultra-fast-Thunderbolt-NAS-with-Apple-M1-and-Linux/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___chrisbergeron_com_2021_07_25_Ultra-fast-Thunderbolt-NAS-with-Apple-M1-and-Linux_/image.jpg" /> 
<div id="readability-page-1" class="page">Thunderbolt is exciting for several reasons, but most notable for me is the sheer speed and bandwidth capability.
<h2 id="Adding-a-Thunderbolt-4-PCIe-Add-on-Card"><a href="#Adding-a-Thunderbolt-4-PCIe-Add-on-Card" title="Adding a Thunderbolt 4 PCIe Add-on Card"></a>Adding a Thunderbolt 4 PCIe Add-on Card</h2><p></p>
<p>Adding a single 4 lane PCIe 3.0 card to an existing NAS server in a SOHO is a relatively straightforward process.  I wasn’t sure that the card I selected would work for a few reasons:</p>
<ul>
<li>I didn’t know if Thunderbolt required modern CPU architecture.  Intel is including Thunderbolt in the CPU of the forthcoming Ice Lake processors (<em>I think</em>), but for now it remains an external add-on chipset.</li>
<li>My NAS, as I suspect many other Homelabbers and hobbyists doesn’t have a state-of-the-art processor or motherboard chipset.</li>
<li>I reasonably concluded that the latest Linux Kernel and corresponding modules/code would support Thunderbolt but I wasn’t sure of the extent of compatibility and/or any “X Factors” that might arise from my specific hardware / software combination and use case.</li>
</ul>
<p>I set aside my trepidation and decided to just try it.  No guts no air medal, right?</p>
<p>There is a hardware “hack” involved with implementing this card in an older motherboard.  Fortunately, it’s an easy one and the card vendor provides almost everything needed in the box.  I haven’t delved into the software override functionality yet, so this hardware modification may not be necessary at all, YMMV.</p>
<p>What’s notable about this configuration is that the motherboard doesn’t have a Thunderbolt (tbt_3 or tbt_4) header and there are no special CPU / chipset requirements.  It’s just an Intel Xeon based motherboard/cpu combination with a Gigabyte GC 2.0 Titan Ridge PCIe Thunderbolt 3 card.</p>
<p>I used the work ‘hack’ lightly above.  To get a server without a dedicated thunderbolt header to see the PCIe card, you need to short pins 3 and 5 together like this:</p>
<p></p>
<p>In effect, this tells the card that it’s plugged in.  The THB_C port on a “Thunderbolt™ Enabled” motherboard may provide extra DisplayPort capability.  I wasn’t able to find a conclusive reason for the tbt header connection aside from theories about vendor locking.  I’m sure it’s in the Intel Thunderbolt whitepaper (GPIO) but I haven’t looked it over yet.</p>
<p>All I know is that if you get this card and it doesn’t appear in your device list, you may need to short these two wires. <em>I take no responsibility for anything that happens if you do this and something bad happens - please research accordingly.</em></p>
<p>Now that the card is installed and internal cables are connected it’s time to power up the NAS Server.</p>
<hr/>
<h2 id="Host-1-NAS-04-Linux"><a href="#Host-1-NAS-04-Linux" title="Host 1:  NAS-04 (Linux)"></a>Host 1:  NAS-04 (Linux)</h2><p>This host is a Linux server.  It’s running on a Supermicro X10SRL-F motherboard with an Intel Xeon CPU.  The chassis’ are two Supermicro 836A.  <a href="https://chrisbergeron.com/2020/03/07/diy_das_part1/">One chassis is the NAS server, the other is a DAS</a> (Disk shelf) attached to the NAS for a total of 32+ removable disk bays.</p>
<p>After powering up the NAS server we can see the Titan Ridge card using <code>lspci</code>:<br/></p><figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>02:00.0 PCI bridge: Intel Corporation JHL7540 Thunderbolt 3 Bridge [Titan Ridge 4C 2018] (rev 06)</span></pre></td></tr></tbody></table></figure>
<p>We can see more information in the <code>/sys/bus/thunderbolt</code> kernel syspath.  This is the output prior to connecting a thunderbolt cable to another host:<br/></p><figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>root@nas-04:/sys/bus/thunderbolt </span></pre></td></tr></tbody></table></figure>
<p>After connecting the thunderbolt cable the <code>thunderbolt0</code> device comes up as <strong>0-3.0</strong>:</p>
<figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>root@nas-04:/sys/bus/thunderbolt </span></pre></td></tr></tbody></table></figure>
<p>… and we can view the relevant kernel message buffer lines (log) with <code>dmesg</code>:<br/></p><figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>[Sun Jul 25 16:24:56 2021] thunderbolt-net 0-3.0 thunderbolt0: ThunderboltIP login timed out</span></pre></td></tr></tbody></table></figure>
<p>Interestingly, we can also see that the Mac Mini is immediately auto discovered and that the <code>thunderbolt0</code> network interface has become available.  I thought I would have to start the kernel module (driver) for <code>thunderbolt-net</code>, but it looks like it happened automatically.</p>
<p>You can check to see if the <code>thunderbolt</code> and <code>thunderbolt-net</code> kernel modules are loaded using <code>lsmod</code>.  If you don’t see them listed, you can manually load them with <code>modprobe thunderbolt</code> and <code>modprobe thunderbolt-net</code>.</p>
<p>After the network device becomes available we can address and configure it using standard userspace tools.  I use good old <code>ifconfig</code> to set a non-link-local (not automatic 169.254.x.x) IP address for the interface.  Using <code>ip addr</code> or other userspace tools (GUI) should work just fine.</p>
<figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>root@nas-04:~ </span></pre></td></tr></tbody></table></figure>
<p>Now that the interface has an IP, we have to add a static host route entry for it to communicate:</p>
<figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span></span></pre></td></tr></tbody></table></figure>
<p><em>Fun linux fact I’ve heard:  The root user’s command prompt is a hashtag (#) so that if someone were to copy and paste a command from a website like this, it would run as a comment and not actually execute the paste buffer (if anyone has a source for this, please comment below).</em></p>
<p>Next, we just need to set up the Thunderbolt routeable IP on the Mac.</p>
<hr/>
<h2 id="Host-2-Apple-Mac-Mini"><a href="#Host-2-Apple-Mac-Mini" title="Host 2: Apple Mac Mini"></a>Host 2: Apple Mac Mini</h2><p>The other host in this setup a Mac Mini.  Thunderbolt 4 is not a requirement for this setup and neither is Apple Silicon.  Thunderbolt is an Intel™ Specification and any hardware that has license from Intel should work equally well.  This host is running MacOS Big Sur / Monterey.</p>
<p>Here we can see the new network service(s) that came up after connecting the Thunderbolt cable between the machines - <code>Thunderbolt Ethernet Slot 1</code> and <code>Thunderbolt Bridge</code>:</p>
<figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>mini-01:~ cbergeron$ networksetup -listallnetworkservices</span></pre></td></tr></tbody></table></figure>
<p>Much the way we set an IP on the Linux host, we will do the same thing on the Mac.  You can set the IP of the TB interface however you want.  Either via the command line with posix tools:</p>
<figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>root@nas-04:~ </span></pre></td></tr></tbody></table></figure>
<p>or macos commands:<br/></p><figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>mini-01:~ cbergeron$ networksetup -getinfo <span>&#34;Thunderbolt Bridge&#34;</span></span></pre></td></tr></tbody></table></figure>
<p>Or, using the UI:</p>
<p></p>
<!-- NOTE: If you want your routes to persist across reboots, you can use the `networksetup -setadditionalroutes` command [details at this link](http://networknucleus.com/2018/06/07/persistent-static-routes-in-macos/). -->
<p>This is probably the part of this post that you came here for.</p>
<p>To benchmark the connection speed I used <code>iperf3</code> so that disk I/O isn’t a variable.  Even though I’m using tiered storage including NVMe’s on the NAS server, at this point I’m just interested in the connection capability.  Here are the results from <code>iperf3 -s</code> on the Mac mini:</p>
<figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>-----------------------------------------------------------</span></pre></td></tr></tbody></table></figure>
<p>Not bad.  Not quite what I was expecting though.  I initially thought I would see closer to 35Gbps (40Gbps minus 10-15% overhead).  This is more inline with 85% of 20 Gbps.</p>
<p>I know that Thunderbolt 3 and 4 are rated at 40Gbps:</p>
<p></p>
<p>Interesting.  It’s almost exactly half of what I expected.  Could it be that it’s operating at half duplex?</p>
<p>Let’s check the PHY link speed (NAS):<br/></p><figure><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><span>$ cat /sys/bus/thunderbolt/devices/0-1/tx_speed /sys/bus/thunderbolt/devices/0-1/rx_speed</span></pre></td></tr></tbody></table></figure><!--
# Takeaway
As I mentioned, this type of setup isn't novel - it's just not well documented online (at least based on my Duck Duck Go search skills).
-->









<!--## Troubleshooting

Can't ping:
  - check firewall rules on both hosts
  - check SE linux policies (on linux hosts)
  - check output of tcpdump -i thunderbolt0 on both ends

USB4 specification is great for transferring small files, which was one of the intended purposes of USB - (cameras, SD cards, etc).  For larger payloads, Thunderbolt has lower overhead and better handling of large block streams (MTU 9000) [VALIDATE AND SUPPORT THIS]
-->









<!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://www.buymeacoffee.com/cbergeron" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><a class="button donate" data-type="paypal" onclick="document.getElementById('paypal-donate-form').submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="cbergeron@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/07/04/Person-is-not-a-known-valid-target-type-for-the-publisher-property/"><span class="level-item">Person is not a known valid target type for the publisher property.</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3 is-sticky"><!--!--><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for more good content</h3><form action="https://chrisbergeron.us6.list-manage.com/subscribe/post?u=adaa13382eeaddeabadbb90bf&id=73e551a962" method="post" id="mc-embedded-subscribe-form" target="_blank" name="mc-embedded-subscribe-form"><input type="hidden" value="ChrisBergeron" name="uri"><input type="hidden" name="loc" value="en_US"><input type="hidden" name="u" value="adaa13382eeaddeabadbb90bf"><input type="hidden" name="id" value="73e551a962"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" type="email" name="MERGE0" id="MERGE0" autocapitalize="off" autocorrect="off" size="25" value="" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div><p class="help">Chris Bergerons Tech Blog</p></form></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2021/07/25/Ultra-fast-Thunderbolt-NAS-with-Apple-M1-and-Linux/"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-26T01:58:08.000Z">07-25-2021</time></p><p class="title"><a href="/2021/07/25/Ultra-fast-Thunderbolt-NAS-with-Apple-M1-and-Linux/">Ultra fast Thunderbolt NAS with Apple M1 and Linux</a></p><p class="categories"><a href="/categories/Homelab/">Homelab</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/07/04/Person-is-not-a-known-valid-target-type-for-the-publisher-property/"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-04T19:25:27.000Z">07-04-2021</time></p><p class="title"><a href="/2021/07/04/Person-is-not-a-known-valid-target-type-for-the-publisher-property/">Person is not a known valid target type for the publisher property.</a></p><p class="categories"><a href="/categories/Web/">Web</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/07/03/AiGenArt-AI-Generated-Art-Saturn/"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-03T16:38:39.000Z">07-03-2021</time></p><p class="title"><a href="/2021/07/03/AiGenArt-AI-Generated-Art-Saturn/">AiGenArt, AI Generated Art - Saturn</a></p><p class="categories"><a href="/categories/AI/">AI</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/07/02/Generating-Art-with-VQGAN-CLIP-AI/"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-03T00:33:43.000Z">07-02-2021</time></p><p class="title"><a href="/2021/07/02/Generating-Art-with-VQGAN-CLIP-AI/">Generating Art with VQGAN+CLIP AI</a></p><p class="categories"><a href="/categories/AI/">AI</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/06/16/Pushover-Desktop-Yes-on-Apple-Silicon-M1-M2/"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-06-17T02:05:34.000Z">06-16-2021</time></p><p class="title"><a href="/2021/06/16/Pushover-Desktop-Yes-on-Apple-Silicon-M1-M2/">Pushover Desktop? Yes, on Apple Silicon.</a></p><p class="categories"><a href="/categories/Homelab/">Homelab</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Crypto/"><span class="level-start"><span class="level-item">Crypto</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Devops/"><span class="level-start"><span class="level-item">Devops</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Home/"><span class="level-start"><span class="level-item">Home</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Homelab/"><span class="level-start"><span class="level-item">Homelab</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Politics/"><span class="level-start"><span class="level-item">Politics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Professional/"><span class="level-start"><span class="level-item">Professional</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Projects/"><span class="level-start"><span class="level-item">Projects</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Telematics/"><span class="level-start"><span class="level-item">Telematics</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://holdingco.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">The Holding Company</span></span><span class="level-right"><span class="level-item tag">holdingco.com</span></span></a></li><li><a class="level is-mobile" href="https://debris-art.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Debris Art</span></span><span class="level-right"><span class="level-item tag">debris-art.com</span></span></a></li><li><a class="level is-mobile" href="https://metacrypt.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">MΞTΛcrypt</span></span><span class="level-right"><span class="level-item tag">metacrypt.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">March 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">October 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2008/08/"><span class="level-start"><span class="level-item">August 2008</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2008/01/"><span class="level-start"><span class="level-item">January 2008</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2007/08/"><span class="level-start"><span class="level-item">August 2007</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2007/07/"><span class="level-start"><span class="level-item">July 2007</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2005/05/"><span class="level-start"><span class="level-item">May 2005</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"></a><p class="is-size-7"><span>© 2021 Chris Bergeron</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="RSS" href="https://chrisbergeron.com/atom.xml"><i class="fa fa-rss fa-1x"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/chrisbergeron/"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Medium" href="https://medium.com/@c_bergeron/about"><i class="fab fa-medium"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Ethereum" href="ethereum://0xA44E17eA422A0D7AA97C6F805E37b1aBB934171d"><i class="fab fa-ethereum"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>--></div>]]></content:encoded>
      <pubDate>Tue, 03 Aug 2021 13:24:44 +0000</pubDate>
      <source>https://chrisbergeron.com/2021/07/25/Ultra-fast-Thunderbolt-NAS-with-Apple-M1-and-Linux/</source>
    </item>
    <item>
      <title>Going mouseless</title>
      <link>https://felipecortez.net/blog/mouseless.html</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div><div><p>A few months ago the trackpad in my work computer stopped working properly. Instead of getting it fixed, I took it as challenge to stop using the mouse entirely. Here are the things I learned and rediscovered.</p><h2>Out of the box</h2><p>You can go pretty far without a mouse using a combination of <code>Tab</code>, <code>Shift+Tab</code> and arrow keys.</p><p>For web browsers, accessible websites such as Google and Wikipedia have focus states for interactive elements and some even contain <code>Jump to navigation</code>, <code>Jump to main content</code> tab-accessible links as the very first things you can tab-navigate to. <code>Page Up</code>, <code>Page Down</code>, <code>Home</code> and <code>End</code> can be used to scroll through web pages and PDF documents. To follow text links, press <code>Ctrl+F</code>, type part of the link text until it matches, press <code>Esc</code> and your link will be focused. Then just press <code>Enter</code>. This can also come in handy for image links and forms: search for a term close to the image or element you want to click or focus on then tab-navigate to it.</p><p>For GUI applications in general, on Windows and Linux pressing <code>Alt</code> on will open and/or focus on the applications menu bars. You can then navigate using the arrow keys and pressing the underlined letters in the menu bar items. Good for discovering keyboard shortcuts, too.</p><h2>Vimium</h2><p>With the <a href="https://github.com/philc/vimium">Vimium</a> extension installed, pressing <code>f</code> will make every visible link on the page get a one-to-three letter shortcut. Type that shortcut, navigate to that page.</p><p>Besides being faster than tab-based navigation, it can be useful during pair-programming sessions: press <code>f</code> and your coworker can simply say out loud the letter sequence of the link he wants you to navigate to.</p><p>Similar ideas in the programming tools space are <a href="https://github.com/easymotion/vim-easymotion">easymotion</a> and <a href="https://github.com/abo-abo/avy">avy</a>.</p><h2>Keyboard-driven cursor movement</h2><p>Not all applications support a good keyboard-only experience. No problem. While controlling a virtual keyboard with a mouse is hardly joyful, controlling the cursor with your keyboard makes you look pretty cool.</p><h3>numpad</h3><p>The <code>4862</code> keys are for moving left, up, right and down respectively. <code>7913</code> move diagonally. <code>5</code> clicks.</p><p>To set this up on a Linux with Xorg, run <code>setxkbmap -option keypad:pointerkeys</code> in a terminal then press <code>Shift + Num Lock</code> to make your numeric keypad control the cursor. For more details, check out the <a href="https://linuxreviews.org/HOWTO_use_the_numeric_keyboard_keys_as_mouse_in_XOrg">LinuxReviews wiki</a>.</p><p>On Windows, as things are always changing in the Control Panel World, refer to the <a href="https://support.microsoft.com/en-us/windows/use-mouse-keys-to-move-the-mouse-pointer-9e0c72c8-b882-7918-8e7b-391fd62adf33">Windows documentation</a>.</p><h3>keynav</h3><p>While the numpad approach works well, it can be a bit slow. keynav applies the <a href="https://en.wikipedia.org/wiki/Binary_space_partitioning">binary space partitioning</a> idea to mouse navigation. From the <a href="https://www.semicomplete.com/projects/keynav/">keynav website</a>:</p><blockquote><p> You select a piece of the screen. The screen is initially wholely selected. One move will cut that region by half. A move is a direction: up, down, left, and right. </p><p> Once you’re done moving, you simply indicate (with a key stroke) that you want to move. Boom, cursor moves. </p></blockquote><p>In practice, this is done by starting the keynav process, pressing <code>Ctrl-;</code> to pop up an overlay and then repeatedly pressing either <code>hjkl</code> for dividing up the screen, <code>w</code> for moving the cursor to the center of the selection area and <code>1</code>, <code>2</code> or <code>3</code> for left, middle or right clicking.</p><p>Sounds crazy, works pretty well.</p><p>Besides being potentially much faster than numpad navigation, Vimium on a Raspberry Pi can take a few seconds to set up all shortcuts depending on how busy a web page is. keynav feedback is always instantaneous.</p><p>While the project is Linux-only, I wrote a tiny version of keynav for Windows using <a href="https://www.autohotkey.com/">AutoHotKey</a> as suggested by the keynav docs. Get it <a href="https://github.com/FelipeCortez/keynav-ahk">here</a>.</p><h2>Try it out now</h2><p>This blog post contains toy implementations of Vimium and keynav.</p><p><code>;</code> opens the keynav overlay. Bisect with <code>hjkl</code>, click a link with <code>1</code>. Press <code>;</code> again to recenter. Press <code>q</code> to cancel.</p><p><code>f</code> opens the Vimium overlay. Press the key for the link to navigate or <code>q</code> to cancel.</p><h2>Why?</h2><ul><li>Put the keyboard on your lap and never move your arms</li><li>One less USB port, maybe</li><li>Set up a Raspberry Pi, GUI mode, without a mouse</li><li>Look cool to your coworkers</li><li>Make your life harder</li></ul><p>As of August 2021, I have been using Vimium for seven years and keynav for six months. I don&#39;t miss having a mouse or trackpad!</p></div></div></div>]]></content:encoded>
      <pubDate>Tue, 03 Aug 2021 03:14:39 +0000</pubDate>
      <source>https://felipecortez.net/blog/mouseless.html</source>
    </item>
    <item>
      <title>Nutrition Science Is Broken. This New Egg Study Shows Why. (2019)</title>
      <link>https://undark.org/2019/07/18/science-of-eggs/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___undark_org_2019_07_18_science-of-eggs_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
			<div>
				<div itemprop="articleBody">
					
					<p><span>It’s been</span> a tortuous path for the humble egg. For much of our history, it was a staple of the American breakfast — as in, bacon and eggs. Then, starting in the late 1970s and early 1980s, it began to be disparaged as a dangerous source of artery-clogging cholesterol, a probable culprit behind Americans’ exceptionally high rates of heart attack and stroke. Then, in the past few years, the chicken egg was redeemed and once again touted as an excellent source of protein, unique antioxidants like lutein and zeaxanthin, and many vitamins and minerals, including riboflavin and selenium, all in a fairly low-calorie package.
</p>
<p>
  This March, a <a href="https://jamanetwork.com/journals/jama/fullarticle/2728487">study published in JAMA</a> put the egg back on the hot seat. It found that the amount of cholesterol in a bit less than two large eggs a day was associated with an increase in a person’s risk of cardiovascular disease and death by 17 percent and 18 percent, respectively. The risks grow with every additional half egg. It was a really large study, too — with nearly 30,000 participants — which suggests it should be fairly reliable.
</p>
<p>
  So which is it? Is the egg good or bad? And, while we are on the subject, when so much of what we are told about diet, health, and weight loss is inconsistent and contradictory, can we believe any of it?
</p>
<p>
  Quite frankly, probably not. Nutrition research tends to be unreliable because nearly all of it is based on observational studies, which are imprecise, have no controls, and don’t follow an experimental method. As nutrition-research critics Edward Archer and Carl Lavie have <a href="https://www.realclearscience.com/articles/2017/12/16/nutrition_researchers_have_a_consensus_to_use_bad_science.html">put it</a>, “’Nutrition’ is now a degenerating research paradigm in which scientifically illiterate methods, meaningless data, and consensus-driven censorship dominate the empirical landscape.”
</p>
<p>
  Other nutrition research critics, such as <a href="https://jamanetwork.com/journals/jama/fullarticle/2698337">John Ioannidis</a> of Stanford University, have been similarly scathing in their commentary. They point out that observational nutrition studies are essentially just surveys: Researchers ask a group of study participants — a cohort — what they eat and how often, then they track the cohort over time to see what, if any, health conditions the study participants develop.
</p>
<p>
  The trouble with the approach is that no one really remembers what they ate. You might remember today’s breakfast in some detail. But, breakfast three days ago, in precise amounts? Even the unadventurous creature of habit would probably get it wrong. That tends to make these surveys inaccurate, especially when researchers try to drill down to specific foods.
</p>
<p>
  Then, that initial inaccuracy is compounded when scientists use those guesses about eating habits to calculate the precise amounts of specific proteins and nutrients that a person consumed. The errors add up, and they can lead to seriously dubious conclusions.
</p>
<p>
  A good example is the <a href="https://onlinelibrary.wiley.com/doi/pdf/10.1002/cncr.21332">2005 study</a> that suggested that eating a cup of endive once a week might cut a woman’s risk of ovarian cancer by 76 percent. There was even a possible mechanism to explain the effect: Endive is high in kaempferol, a flavonoid that <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3102233/">has shown</a> anticarcinogenic properties in laboratory experiments. It was a big study, based on a cohort of more than 62,000 women. This study was published in the prestigious journal Cancer, and many in the media were convinced. Dr. Mehmet Oz even <a href="https://www.doctoroz.com/videos/anti-cancer-diet-1">touted it</a> on his television show.
</p>
<p>
  But, as Maki Inoue-Choi, of the University of Minnesota, and her colleagues <a href="https://www.tandfonline.com/doi/abs/10.1080/01635581.2013.748921">pointed out</a>, the survey had asked about many other kaempferol-rich foods — including some that had higher levels of kaempferol than endive does — and not one of those other foods had the same apparent effect on ovarian cancer.
</p>
<p>
  The new study linking eggs and cardiovascular disease deserves similar scrutiny. Statistically speaking, 30,000 participants makes for a very powerful study. And in fairness, the study’s defenders say that it did a good job accounting for factors that might have influenced the findings, such as overall fat consumption, smoking, and lifestyle.
</p>
<p>
  But on the other hand, the study tracked participants’ health outcomes over periods ranging from 13 to more than 30 years, and participants were queried about their diet only once, at the beginning of the study. Can we assume that the participants gave a reliable depiction of their diet at the outset, and then that they maintained that same diet for the years — in many cases, decades — that followed? Probably not. Who eats the same way for 10 years?
</p>
<p>
  In light of these flaws, Dr. Anthony Pearson, a cardiologist at St. Luke’s Hospital in suburban St. Louis, had this advice: “Rather than drastically cutting egg consumption,” <a href="https://www.medpagetoday.com/blogs/skeptical-cardiologist/79361">he wrote</a> in a blog for MedPage Today, “I propose that there be a drastic cut in the production of weak observational nutrition studies and a moratorium on inflammatory media coverage of meaningless nutritional studies.”
</p>
<p>
  Instead of observational studies, most nutrition scientists would rather see experimental studies like those performed by the late Dr. Jules Hirsch. A pioneer in the study of obesity, Hirsch got his start in the 1950s, long before weight control became the problem that it is today. He took a relatively unglamorous, ignored area of medical health and made it extremely interesting. To this day, his controlled experiments on human nutrition are considered a gold-standard in nutrition science. He discovered that when a person diets, their heart rate slows, they feel cold, and their immune system is undermined.
</p>
<p>
  But here’s the rub: Hirsch worked at Rockefeller University — a serene little campus tucked away on the Upper East Side of Manhattan — where researchers are free to follow their muse, free of teaching duties. Rockefeller University also has a hospital. Between that and the endowment support, Hirsch was able to do research that would have been impractical to do virtually anywhere else.
</p>
<p>
  Hirsch started with basic science, looking at fat cells and how they functioned. Then he moved on to patients. He would admit them to the university hospital and keep them there, assigning them to a metabolic ward where he could control nearly everything they ate. That was critical, because it is really hard to be on a restricted diet, and there are temptations.
</p>
<p>
  In perhaps his most famous study, Hirsch admitted 18 obese men and women to the hospital together with 23 people who had never been obese. He fed them all mostly a liquid diet to control their calories precisely. First, he had them maintain their initial weight and took measurements. Then he had them gain 10 percent of their initial weight and took measurements. Finally, he limited their portions, causing them to go at least 10 percent below their initial weight, and repeated the measurements a third time.
</p>
<p>
  The experiment revealed the now-well-known fact that when an individual loses weight, their metabolism slows. That’s what makes it so hard to lose weight — and to keep the weight off afterward.
</p>
<p>
  Unfortunately, it is impractical — and probably impossible — for most researchers to carry out those types of studies on a large scale. Crunching the data from a big observational study is a much easier way to get a publication and some media attention. So we get what we get.
</p>
<p>
  In the meantime, what do the rest of us do with our diets?
</p>
<p>
  Most experts recommend avoiding processed foods as much as possible and sticking with a Mediterranean-like diet because it makes intuitive sense. It is not too restrictive. It is heavy in fruits and vegetables. It has the right kinds of fats and some grains. It includes fish and generally lean proteins.
</p>
<p>
  These experts contend that you should also be wary about foods that are said to have newly revealed healthy, or unhealthy, properties. In other words, don’t buy the notion of superfoods. The evidence is just not there.
</p>
<p>
  In an email, Michael Blaha, a cardiologist at Johns Hopkins University who has written about methodological issues with nutritional science, told me he finds “particularly distasteful studies of one particular food (e.g., broccoli) or one particular macronutrient,” because “it is impossible to disentangle the effect of one particular food or one macronutrient from the accompanying foods and macronutrients that characterize a typical dietary pattern.”
</p>
<p>
  To put it another way: Eat what you like but keep it balanced. And, perhaps, long live the omelet!
</p>
<hr/>
<p><em>Timothy F. Kirn is a freelance writer based in Sacramento, California. He was formerly an assistant editor at the Journal of the American Medical Association, a reporter for the Rochester Times-Union in New York, and an MIT Knight Science Journalism fellow.</em></p>

									</div>
			</div>
		</div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 18:14:18 +0000</pubDate>
      <source>https://undark.org/2019/07/18/science-of-eggs/</source>
    </item>
    <item>
      <title>Good Design is Imperfect Design, Part 1: Honest Names</title>
      <link>https://www.domainlanguage.com/articles/good-design-is-imperfect-design-part-1-honest-names/</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
	<article id="post-1822">
		<!-- .entry-header -->

		<div>
			
<p>by Eric Evans</p>



<p>Perfectionism is a pitfall. For those who, like me, love elegant design and see its utility, there is a slippery slope waiting when a satisfying design does not emerge in a reasonable time. It takes constant self-discipline to recognize this and accept, let go, ship and move on – or return in a later cycle, if it matters. It doesn’t always matter. For many parts of our systems, a good-enough design is good enough. And for those few strategically important parts, where an incisive model and a crisp design are actually likely to affect the outcome of the project, a great initial design doesn’t usually emerge immediately. We’ll need iteration and experimentation. None of our goals is furthered by grinding and dawdling, waiting for a design we can be proud of in version one.</p>



<p>For my own part, I try to go a bit beyond acceptance. When I am struggling with some part of the design, I often make design choices that explicitly responds the design problems themselves. This helps me let go and move on, and it can improve the chance for change in a later iteration.</p>



<p>In this short series I’ll describe a few techniques I use that help me take the step of shipping something I’m not happy with while also potentially leaving a good path for improvement in future iterations.</p>



<h2>Part 1: Honest Names</h2>



<p>An honest name isn’t always an intention-revealing name. That is only the case when we succeed in <em>fulfilling our intention </em>with a design element. But this does not always happen. In this article, we are considering those unfortunate times when the nice solution doesn’t come.</p>



<p>I need a specific example to illustrate the approach. It would be easy to pick apart some poorly designed software, but it is much more interesting to examine the imperfections in something that is generally well-designed. JodaTime is a Java library for date/time, very widely used as an open source library and eventually adopted, in a modified form, as a standard library for Java. It is well-designed – but not perfect, of course. (After all, it shipped!)</p>



<h3>Consider ‘Plus’</h3>



<p>The JodaTime library allows us to declare times, such as a date, and periods of time:</p>



<p>The ‘plus’ operation is versatile. It works seamlessly with different kinds of periods:</p>



<p>The code seems very expressive and clear. And yet…</p>



<p><code>2021-01-30.plus(1 month) ⇒ ?</code></p>



<p>Remember, February is a short month! I can think of at least three plausible responses. To know what it actually does, I ran the code:</p>



<p><code>2021-01-30.plus(1 month) ⇒ 2021-02-28</code></p>



<p>This seems like a reasonable default behavior, but it is not obvious. The fact that I had to run the code (or look up a document somewhere) to know what would happen, even after some experience using the operation, highlights a flaw in the model. But what is wrong with it, and what could be done?</p>



<p>In this article, I’ll focus on the name. The word ‘plus’ seems to fit what is happening in my first few examples, but it gives no hint about how we handle irregularities, such as months of different lengths.</p>



<p>And this brings us to “Honest Names”. A simple name like ‘plus’ can actually be misleading if the behavior of the operation is complicated. What could it be called instead?</p>



<p><code>t.plusRounded(p)</code></p>



<p>Any of these would have at least given me a clue. They are also <em>awkward</em>!</p>



<h3>Give Awkward Names to Awkward Concepts</h3>



<p>Let’s look some more at the ‘plus’ operation in JodaTime, and why ‘plus’ is a confusing name. (Here I’ll just write ‘plus’ as ‘+’ for easier reading.)</p>



<p><code>2021-03-30 + 1 month ⇒ 2021-04-30</code></p>



<p>Should those two expressions actually have the same value?</p>



<p>Take a guess at the value of these two expressions:</p>



<p>Does it seem like the answer should be the same?</p>



<p>Here are the actual answers:</p>



<p>Periods can also be combined with ‘plus’, so</p>



<p>And therefore,</p>



<p>And here we come to an insight about what is wrong with calling this ‘plus’: <em>The name has connotations that do not apply in our context!</em> In math, the ‘plus’ operation has properties such as associativity:</p>



<p>By the way, I like to keep adding to my list of possible alternative names for a thing. Here are a few more that occur to me at this point:</p>



<p><code>t.plusRounded(p)</code></p>



<p><code>t.plusNonAssociative(p)</code></p>



<p>We must ship! The JodaTime designers may have noticed this issue at the time. (I don’t know anything about the inside of that project.) If they did notice, they still made the right call, in my opinion. They shipped a very useful and generally quite clean library — that was not perfect. They must have made similar decisions many times. Some issues they noticed and some they did not.</p>



<p>However, in a case when you have decided to ship something with awkward bits that you recognize, consider giving it an honest, awkward name. This can communicate to future users, and can help future iterations of the design.</p>



<p>A clean name shuts down our thinking.</p>



<p>An awkward name provokes new ideas.</p>



<h2>Coming in Part 2: Refinement in a Later Iteration</h2>



<p>Accepting a flaw in our design doesn’t mean we forget about it! In part two, we’ll take a quick look at an alternative concept that might emerge in a later iteration to relieve the awkwardness.</p>
					</div><!-- .entry-content -->

		
			<!-- .author-profile -->
	
	</article><!-- #post-## -->
</div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 17:15:44 +0000</pubDate>
      <source>https://www.domainlanguage.com/articles/good-design-is-imperfect-design-part-1-honest-names/</source>
    </item>
    <item>
      <title>Interesting – Starbucks Paper Cups Not Recyclable</title>
      <link>https://sealawards.com/upthecup/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___sealawards_com_upthecup_/image.jpg" /> 
<div id="readability-page-1" class="page"><div><div><h2 itemprop="name"><span itemprop="dateCreated">03 Aug<meta itemprop="interactionCount" content="UserComments: 0"/></span> Impact Campaign: SEAL Calls On Starbucks To #UpTheCup</h2><div> <p><span>Posted at 19:11h</span> in <a href="https://sealawards.com/category/uncategorized/" rel="category tag">Uncategorized</a>  <span><i></i></span></p></div><p><span><em>August 4, 2021</em> – Starbucks produces</span> <a href="https://www.cleanwateraction.org/features/starbucks-and-our-plastic-pollution-problem"><b>4 billion single-use paper cups each year</b><span>.</span></a><span> Unfortunately, they are </span><b>not recyclable</b><span> in most places. Over the last decade, Starbucks has been delaying their transition to a better cup, and their inaction is harming the planet. The </span><a href="https://sealawards.com/impact-team-2021/"><span>SEAL Impact Team</span></a><span> presents </span><b>UpTheCup</b><span>, a campaign dedicated to clear up the misconception surrounding the sustainability of Starbucks Cups and paper cups in general. </span></p> <p><a itemprop="url" href="https://www.change.org/p/starbucks-upthecup-starbucks-give-us-a-recyclable-cup" target="_blank">SIGN OUR PETITION<i></i></a></p><p><span>One of the main drivers of climate change is the greenhouse gas emissions emitted by landfills, which contributes to </span><a href="https://www.epa.gov/lmop/basic-information-about-landfill-gas"><span>nearly 15% </span></a><span>of the methane emissions in the US. One of the most effective ways to reduce the GHG emissions from using paper cups is through recycling. When paper cups are effectively recycled, it can cut </span><a href="https://www.huhtamaki.com/en/highlights/sustainability/taking-a-closer-look-at-the-carbon-footprint-of-paper-cups-for-coffee/"><span>around 54%</span></a><span> of their GHG emissions from each cup’s total life cycle. The current design of most cups makes them incapable of being recycled. The paper cups Starbucks currently uses contain a plastic lining, which prevents the cups from being effectively recycled in most places since it gums up the machines and forces workers to manually pull the obstruction from the machine and then send the waste to the landfill.</span></p><p><b>LIMITED AWARENESS OF PAPER CUP PROBLEM</b></p><p><span>There is very little awareness in the US that paper cups are </span><b>not recyclable</b><span>. A key goal of the </span><b>#UpTheCup</b><span> campaign is to spark awareness within the US like what the “</span><a href="https://iview.abc.net.au/show/war-on-waste/series/1"><span>War on Waste</span></a><span>” documentary series </span><a href="https://www.abc.net.au/tv/pdf/WoW%20Impact%20Report%2013June19.pdf"><span>achieved</span></a><span> internationally.  </span></p><p><span>A US-wide consumer survey (sample size of 1,000) conducted by SEAL:</span></p><ul><li aria-level="1"><b>Showed that 83% of Starbucks consumers believe their paper cups are recyclable.</b><span> </span></li><li aria-level="1"><span>Nearly </span><b>60%</b><span> of consumers indicated that news of Starbucks paper cups being non-recyclable would affect their purchasing behavior going forward, thus representing a critical business risk.</span></li><li aria-level="1"><b>84%</b><span> of consumers would like to see a fully recyclable option.</span></li><li aria-level="1"><b>72% </b><span>showed a strong willingness to pay extra fees to fund this shift.</span></li></ul><p><b>SOLUTIONS ARE CURRENTLY AVAILABLE </b></p><p><span>When first investigating the issue of paper cup sustainability further, the SEAL Impact Team was surprised to learn that </span><b>fully recyclable paper cups are widely in use globally</b><span>. </span></p><p><span>These existing recyclable cup options:</span></p><ul><li aria-level="1"><span>At the production scale, the change in the coating is cost neutral.</span></li><li aria-level="1"><span>Have been proven to be </span><a href="https://www.forbes.com/sites/lucysherriff/2019/11/16/this-recyclable-coffee-cup-is-made-from-100-recyclable-paper/?sh=48de19534c52"><span>100% recyclable.</span></a></li><li aria-level="1"><span>Most significantly, this technology has already been adopted internationally (Canada, European Union, South America, and United Kingdom) and at scale by large cup manufacturers (</span><a href="https://www.detpak.com/"><span>DetPak</span></a><span>, </span><a href="https://www.huhtamaki.com/en/foodservice/"><span>Huhtamaki</span></a><span>, </span><a href="https://www.foodbev.com/news/lavazza-professional-develops-fully-recyclable-paper-cup-for-vending/"><span>Lavazza</span></a><span>) and clients (United Airlines, Burger King Australia) </span></li></ul><p><b>#UPTHECUP CALL TO ACTION</b></p><p><span>“While we commend many of Starbucks’ sustainability efforts – like powering its US stores with 100% renewable energy – our existential climate crisis requires bolder and more immediate solutions,” commented Matt Harney, Founder of SEAL. </span></p><p><span>“At heart, the cup problem is a moral and leadership issue. Like the 83% of consumers we surveyed, I recently thought that paper cups were, in fact, recyclable. Like most citizens, I like to do my part by recycling. But your average citizen cannot be an expert on industrial packaging trends in Europe or arcane details of recycling infrastructure. </span><b>In reality, as a society, we entrust leaders to make decisions – like the type of cup used – in a truly responsible way, even if that issue has gone undetected by the general public. To quote C.S. Lewis, ‘Integrity is doing the right thing, even when no one is watching.’”</b><span> </span><span>    </span></p><p><b>“We recognize Starbucks is an iconic brand with outsized consumer mindshare – their adoption of truly recyclable cups will cause the rest of industry in the US to follow and accelerate the overdue transition to more sustainable cups.” </b></p><p><span>“Beyond fulfilling Starbucks’ ‘social license to operate,’ there are clear business and shareholder rationales to embrace #UpTheCup: greater public awareness of cup pollution could lead to a consumer backlash – hurting revenue – and an ESG investor ‘re-rating – hurting Starbucks’ stock price.” </span></p><p><span>“Furthermore, we view additional ‘extended producer responsibility legislation’ as inevitable – companies like Starbucks should be proactive, not reactive,” adds Harney.</span></p> <p><a itemprop="url" href="https://www.change.org/p/starbucks-upthecup-starbucks-give-us-a-recyclable-cup" target="_blank">SIGN OUR PETITION<i></i></a></p><p><b>WHAT CAN YOU DO?</b></p><ul><li aria-level="1"><b>To support the #UpTheCup campaign, please sign our petition at </b><a href="https://www.change.org/p/starbucks-upthecup-starbucks-give-us-a-recyclable-cup"><b>Change.org</b></a><span>, as the fight to #UpTheCup can only be possible with collective and uniform efforts. </span></li><li aria-level="1"><span>Join us in our cause by using #UpTheCup on all our social media platforms: </span><ul><li aria-level="2"><a href="https://twitter.com/SEALAwards"><span>Twitter</span></a></li><li aria-level="2"><a href="https://www.instagram.com/sealawards/"><span>Instagram</span></a></li><li aria-level="2"><a href="https://www.facebook.com/SEALAwards/"><span>Facebook</span></a></li><li aria-level="2"><a href="https://www.linkedin.com/company/seal-awards/"><span>LinkedIn</span></a></li></ul></li><li aria-level="1"><span>Use reusable cup ware and dishware when eating out publicly to reduce waste.</span></li></ul><p><b>FURTHER CONTEXT: IMPLEMENT RECYCLABLE FIRST, COMPOSTABLE WHEN VIABLE</b></p><p><span>Through its </span><a href="https://stories.starbucks.com/stories/2020/starbucks-trials-a-nextgen-cup-solution/"><span>NextGen Cup Challenge</span></a><span>, Starbucks has limited its search to a cup that could be recycled as well as composted. Although this seems like the most sustainable solution, it is not. The compostable cup Starbucks is proposing would be disposed of in an industrial composting facility to effectively reduce its negative environmental impact. Today there is insufficient industrial composting infrastructure to process this waste. As a result, the SEAL Impact Team supports the expanded production of</span><b> recyclable cups </b><span>before developing cups built with composting material. With Starbucks’ deep financial and management resources, we believe this dual-track approach of implementing recyclable cups today while further developing compostable technologies is 100% achievable.  </span></p><p><b>SEAL IMPACT TEAM </b></p><p></p><p><span>We are grateful to the </span><a href="https://sealawards.com/impact-team-2021/"><span>SEAL Impact Team</span></a><span> for their contributions and hard work on this campaign. </span></p><p><span>We believe the caliber and size of this team, especially that a small organization like SEAL was able to recruit, is a further indicator of the level of support initiatives like UpTheCup would generate if enacted.</span></p><p><b>ABOUT SEAL AWARDS</b></p><p><span>SEAL (Sustainability, Environmental Achievement &amp; Leadership) Awards is an environmental advocacy organization that honors leadership through our awards for </span><a href="https://sealawards.com/sustainability-award-2020/"><span>business sustainability</span></a><span> &amp; </span><a href="https://sealawards.com/environmental-journalism-award-2020/"><span>environmental journalism</span></a><span> while funding </span><a href="https://sealawards.com/seal-research-grants/"><span>research</span></a><span> and pursuing our impact campaigns like “</span><a href="https://sealawards.com/upthecup"><span>UpTheCup</span></a><span>” and previously “</span><a href="https://sealawards.com/eco-rewards/"><span>Eco Rewards</span></a><span>.”</span></p></div></div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 18:26:36 +0000</pubDate>
      <source>https://sealawards.com/upthecup/</source>
    </item>
    <item>
      <title>Convincing Xcode to map Vim keys</title>
      <link>https://bryce.co/xcode-vim-map/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___bryce_co_xcode-vim-map_/image.jpg" /> 
<div id="readability-page-1" class="page"><article><p>I&#39;ve tried to make it clear in the title, but hopefully you haven&#39;t gotten to this page thinking that
Apple provides a built-in way to add custom key mappings in Xcode 13&#39;s new Vim Mode.
Unfortunately, this functionality just isn&#39;t easily configurable.</p><p>Instead, this is one of those “but everything&#39;s a <em>little</em> configurable with enough swizzling &amp; pointer arithmetic” kind of posts.</p><hr/><h2 id="table-of-contents">Table of Contents</h2><hr/><h2 id="background">Background</h2><p>First things first: Xcode 13 is the first Xcode release to offer a built-in Vim Mode!</p><p></p><p></p><p>This is huge news - I&#39;ve only really gotten into vim in the last few years,
but it&#39;s one of those things that I don&#39;t think I could ever leave behind at this point.</p><p>I&#39;m a big fan of the <a href="https://github.com/XVimProject/XVim2">XVim</a> plugin for this reason, so seeing vim functionality added directly to Xcode is great.
This is especially true since XVim is the last Xcode plugin I still commonly use - proper vim functionality in Xcode might mean not having to worry about managing plugins at all in the future.</p><p>That being said, while this is a significant step forward either way,
it&#39;s not exactly a full implementation, as indicated by Apple&#39;s own fairly toned-down
<a href="https://web.archive.org/web/20210801014803/https://developer.apple.com/xcode/">description</a>:</p><blockquote><p>Many common key combinations and editing modes familiar to Vim users are supported directly within the code editor…</p></blockquote><p>Now I really want to emphasize here - I&#39;m still already loving this feature.</p><p>Of course there are some bits of functionality that I&#39;ve found myself missing when using it so far - apparently I like to jump to specific line numbers using commands like <code>:25</code> a lot -
but this feature has launched with enough functionality to cover what I want to do the majority of the time.</p><p><em>Except</em> for one big thing, which I have so far been unable to get over - I do normally have my escape key mapped to something else.</p><p>Well, in insert mode, at least. That part of my <code>.vimrc</code> file looks like this:</p><p><code>imap jk &lt;Esc&gt;</code></p><p>… which is really wonderful - it maps a <em>sequence</em> of keys - the <code>j</code> key, followed by the <code>k</code> key in quick succession - to exit insert mode.
It&#39;s a common mapping, and for good reason - it&#39;s just a quick double-tap on the home row to switch modes.</p><video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/vim-example-light.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video>
<video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/vim-example-dark.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video><p>The keys used - along with the exact behavior, where you get a sort of “fake” <code>j</code>
until it resolves based on another keypress or a timeout - makes this a difficult
thing to implement using software outside of Xcode.</p><p>But not only is it a core part of my muscle memory now
(I was surprised how much the characters <code>jk</code> kept appearing in Xcode without this mapping available),
but also something that I just don&#39;t want to get rid of; I found this to be my preference ages ago, and I don&#39;t want
to learn something else just to appease Xcode.</p><p>So instead, let&#39;s see if we can bring Xcode over to our side.</p><hr/><h2 id="finding-xcodes-vim-implementation">Finding Xcode&#39;s Vim Implementation</h2><p>As is often the case with this sort of thing, we only really have a couple of steps to cover:</p><ol><li>Figure out where this logic is being handled</li><li>Change said logic</li></ol><p>So let&#39;s start with the first. When using Vim Mode, Xcode includes a new bottom bar that lists some currently-available actions:</p><p></p><p></p><p>One good starting option is to search for those action names and try to find where they&#39;re used - it&#39;s not a super-precise method, but it&#39;s fast and often works.</p><div><pre><code data-lang="bash">% <span>cd</span> /Applications/Xcode-13.0b4.app
% rg --binary <span>&#34;yank \(copy\)&#34;</span> <span># rg = `ripgrep`</span>
Binary file Contents/SharedFrameworks/SourceEditor.framework/Versions/A/SourceEditor matches
</code></pre></div><p>A single match in a framework called <code>SourceEditor</code> - if anything I&#39;d expect a match in a localized file,
containing something like <code>&#34;YANK_DESCRIPTION&#34; = &#34;yank (copy)&#34;</code>, after which we would search for <code>YANK_DESCRIPTION</code>. But hey, works for me!</p><p>Next we can open <code>SourceEditor</code> in a disassembler like <a href="https://www.hopperapp.com/">Hopper</a>, and then search for our “yank (copy)” string again.
This gives a result that appears to be referenced by a function named <code>SourceEditor.ViYankToEndOfParagraphDownCommand.init</code>:</p><div><pre><code data-lang="bash"><span>;</span> DATA <span>XREF</span><span>=</span>_<span>$s12SourceEditor33ViYankToEndOfParagraphDownCommandC13eventConsumerAcA0c5EventL0C_tcfcTf4gg_n</span>+414
000000000043ffd0    db    <span>&#34;yank (copy) line&#34;</span>
</code></pre></div><p>A class name starting with <code>Vi</code> is good news!
We have more digging to do, but the <code>SourceEditor</code> framework seems like the right place to start.</p><hr/><h2 id="finding-input-handling-logic">Finding Input Handling Logic</h2><p>Tracing through the rest of this using a disassembler is probably more effort than it&#39;s worth.</p><p>Instead, let&#39;s open up Xcode 13, attach a debugger to it, and put a breakpoint on all of the <code>SourceEditor.ViYankToEndOfParagraphDownCommand</code> methods.
That way, if we perform a yank-to-end-of-paragraph in Vim Mode, we should hit our breakpoint.</p><div><pre><code data-lang="bash">% lldb

<span>(</span>lldb<span>)</span> process attach --name Xcode
Process <span>20279</span> stopped

<span>(</span>lldb<span>)</span> b -r <span>&#34;SourceEditor.ViYankToEndOfParagraphDownCommand&#34;</span>
Breakpoint 1: <span>22</span> locations.

<span>(</span>lldb<span>)</span> <span>continue</span>
Process <span>20279</span> resuming
</code></pre></div><p>It is at this point that I am realizing that I have no idea how to yank to the end of a paragraph. Google says <code>y}</code>?</p><p>That doesn&#39;t seem to hit the breakpoint though, and it&#39;s unclear if it&#39;s from me doing the wrong thing or if this breakpoint didn&#39;t land somewhere useful.</p><p>Looking back in Hopper for other <code>SourceEditor.Vi</code>-prefixed classes, <code>SourceEditor.ViReplaceCharacterCommandHandler</code> jumps out as a good second option.
I definitely know how to replace a character (should be <code>r</code>, followed by the replacement) and this class has a <code>CommandHandler</code> suffix rather than just <code>Command</code> - sounds like something that definitely should
have a method called on it when a replacement happens.</p><p>After setting up the breakpoint and trying to replace a character, we&#39;re in luck!</p><div><pre><code data-lang="bash">Target 0: <span>(</span>Xcode<span>)</span> stopped.
<span>(</span>lldb<span>)</span> bt
* thread <span>#1, queue = &#39;com.apple.main-thread&#39;, stop reason = breakpoint 2.6</span>
  * frame <span>#0: 0x12adc4ec0 SourceEditor`protocol witness for SourceEditor.CommandHandler.selectionMode.getter : Swift.Optional&lt;SourceEditor.SourceEditorView.SourceEditorSelectionMode&gt; in conformance SourceEditor.ViReplaceCharacterCommandHandler : SourceEditor.CommandHandler in SourceEditor</span>
    frame <span>#1: 0x12afb1882 SourceEditor`SourceEditor.CommandInterface.performCommandWithSelector(_: ObjectiveC.Selector, sender: Swift.Optional&lt;Any&gt;, arguments: Swift.Optional&lt;Any&gt;...) throws -&gt; () + 242</span>
    frame <span>#2: 0x12ade19fe SourceEditor`SourceEditor.SourceEditorView.perform(_: Swift.Optional&lt;ObjectiveC.Selector&gt;, with: Swift.Optional&lt;Any&gt;) -&gt; Swift.Optional&lt;Swift.Unmanaged&lt;Swift.AnyObject&gt;&gt; + 286</span>
    frame <span>#3: 0x12ade1b0e SourceEditor`@objc SourceEditor.SourceEditorView.perform(_: Swift.Optional&lt;ObjectiveC.Selector&gt;, with: Swift.Optional&lt;Any&gt;) -&gt; Swift.Optional&lt;Swift.Unmanaged&lt;Swift.AnyObject&gt;&gt; + 126</span>
    frame <span>#4: 0x12afc7b20 SourceEditor`SourceEditor.ViCommand.perform(actions: Swift.Array&lt;ObjectiveC.Selector&gt;, context: SourceEditor.ViEventConsumer.Context) -&gt; SourceEditor.ViCommand.PerformResult + 288</span>
    frame <span>#5: 0x12afc7c1b SourceEditor`SourceEditor.ViCommand.perform(context: SourceEditor.ViEventConsumer.Context) -&gt; SourceEditor.ViCommand.PerformResult + 43</span>
    frame <span>#6: 0x12afeb894 SourceEditor`SourceEditor.ViEventConsumer.(perform in _383C3123AEDAAFA7B0BF64D9906E584E)(command: SourceEditor.ViCommand, context: SourceEditor.ViEventConsumer.Context) -&gt; SourceEditor.ViCommand.PerformResult + 52</span>
    frame <span>#7: 0x12afebfbb SourceEditor`SourceEditor.ViEventConsumer.(handle in _383C3123AEDAAFA7B0BF64D9906E584E)(commands: Swift.Array&lt;SourceEditor.ViCommand&gt;, context: SourceEditor.ViEventConsumer.Context) -&gt; Swift.Optional&lt;SourceEditor.ViCommand.PerformResult&gt; + 1211</span>
    frame <span>#8: 0x12afec603 SourceEditor`SourceEditor.ViEventConsumer.handleKeyEvent(_: __C.NSEvent, in: SourceEditor.SourceEditorView) -&gt; Swift.Bool + 1443</span>
    frame <span>#9: 0x13b38fe1a IDESourceEditor`IDESourceEditor.IDEViEventConsumer.handleKeyEvent(_: __C.NSEvent, in: SourceEditor.SourceEditorView) -&gt; Swift.Bool + 938</span>
    frame <span>#10: 0x12b0de385 SourceEditor`SourceEditor.SourceEditorView.keyDown(with: __C.NSEvent) -&gt; () + 405</span>
    frame <span>#11: 0x12b0de47f SourceEditor`@objc SourceEditor.SourceEditorView.keyDown(with: __C.NSEvent) -&gt; () + 47</span>
    frame <span>#12: 0x7fff22e2f908 AppKit`-[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:] + 6482</span>
    frame <span>#13: 0x7fff22e2dd96 AppKit`-[NSWindow(NSEventRouting) sendEvent:] + 347</span>
    frame <span>#14: 0x104f16674 IDEKit`-[IDEWorkspaceWindow sendEvent:] + 154</span>
    frame <span>#15: 0x7fff22e2cc11 AppKit`-[NSApplication(NSEvent) sendEvent:] + 3021</span>
    frame <span>#16: 0x104f5a189 IDEKit`-[IDEApplication sendEvent:] + 857</span>
    frame <span>#17: 0x7fff23104f71 AppKit`-[NSApplication _handleEvent:] + 65</span>
    frame <span>#18: 0x7fff22c9506e AppKit`-[NSApplication run] + 623</span>
    frame <span>#19: 0x1039f4e84 DVTKit`-[DVTApplication run] + 54</span>
    frame <span>#20: 0x7fff22c6924c AppKit`NSApplicationMain + 816</span>
    frame <span>#21: 0x7fff203c1f3d libdyld.dylib`start + 1</span>
    frame <span>#22: 0x7fff203c1f3d libdyld.dylib`start + 1</span>
</code></pre></div><p>From this stacktrace, we can see the following flow:</p><ol><li>Starting at the bottom, some general app/window logic that&#39;s slowly bubbling up an <code>NSEvent</code> (frame <code>#17</code> up through <code>#12</code>)</li><li>Xcode-specific handling of that event in <code>SourceEditor.SourceEditorView.keyDown</code> (frames <code>#11</code> and <code>#10</code>)</li><li>Vim-specific handling of that event in <code>IDESourceEditor.IDEViEventConsumer.handleKeyEvent</code> (frame <code>#9</code>)</li></ol><p>There&#39;s more vim handling above that as well, but things become messier as we go.</p><hr/><h2 id="where-to-hook">Where to Hook</h2><p>Now that we have even the smallest insight into what the control flow for a vim command looks like,
it&#39;s clear that we&#39;re probably not going to be able to understand the whole system without a lot of effort:
there are events, event consumers, event consumer contexts, commands, command interfaces, command handlers…
I&#39;d probably have trouble wrapping my head around it even with source code &amp; documentation.</p><p>Instead, let&#39;s find a smaller area to focus on. We mostly just want to tell Xcode that it&#39;s actually receiving different inputs.
That&#39;s not all we need to do - at some point, we will have to figure out how to do things like check which vim mode we&#39;re currently in -
but we can burn that bridge when we get to it.</p><p>Let&#39;s start with the <code>IDESourceEditor.IDEViEventConsumer.handleKeyEvent</code> method that we called out above.
It&#39;s the lowest vim-specific frame in the stack; low enough that it&#39;s only really dealing with <code>NSEvent</code>, so
whatever logic handles mapping a keypress to a command likely happens after this point.</p><p>We can disable our original breakpoint and add a new one on this <code>IDEViEventConsumer.handleKeyEvent</code> method:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> br disable <span>2</span>
<span>1</span> breakpoints disabled.

<span>(</span>lldb<span>)</span> b IDESourceEditor.IDEViEventConsumer.handleKeyEvent
Breakpoint 3: <span>where</span> <span>=</span> IDESourceEditor<span>`</span>IDESourceEditor.IDEViEventConsumer.handleKeyEvent...
</code></pre></div><p>Back in Xcode, we can now hit any key to reach our breakpoint, since we&#39;re no longer breaking on character-replacement-logic;
I&#39;ll start by using the mouse to move to Line 1, and then hitting the <code>j</code> key, which should move us down to Line 2; and the breakpoint is indeed hit!</p><p>We can now print out some information about the event we&#39;re working with:</p><div><pre><code data-lang="bash">Target 0: <span>(</span>Xcode<span>)</span> stopped.

<span>(</span>lldb<span>)</span> po <span>$arg1</span>
NSEvent: <span>type</span><span>=</span>KeyDown
          <span>loc</span><span>=</span><span>(</span>544.636,595.392<span>)</span>
         <span>time</span><span>=</span>111097.2
        <span>flags</span><span>=</span>0x100
          <span>win</span><span>=</span>0x7fb9ace853b0
       <span>winNum</span><span>=</span><span>7437</span>
         <span>ctxt</span><span>=</span>0x0
        <span>chars</span><span>=</span><span>&#34;j&#34;</span>
   <span>unmodchars</span><span>=</span><span>&#34;j&#34;</span>
       <span>repeat</span><span>=</span><span>0</span>
      <span>keyCode</span><span>=</span><span>38</span>
</code></pre></div><p>There&#39;s our <code>j</code> keypress - makes sense so far. If we type <code>continue</code> in <code>lldb</code>, and go back to Xcode, we&#39;ll see we&#39;ve moved down to Line 2.</p><p>Now let&#39;s see if we can actually impact the result of a keypress. Back in Xcode, we can hit <code>j</code> again, starting the move down to Line 3.</p><p>In lldb though, we&#39;ll skip out on this method&#39;s logic entirely and simply return early. Based on the stacktrace above, our <code>IDEViEventConsumer.handleKeyEvent</code>
method is expected to return a <code>Bool</code> - likely indicating whether or not it actually handled the key event. Let&#39;s start by returning <code>true</code> early:</p><div><pre><code data-lang="bash">Target 0: <span>(</span>Xcode<span>)</span> stopped.

<span>(</span>lldb<span>)</span> thread <span>return</span> <span>true</span>
* thread <span>#1, queue = &#39;com.apple.main-thread&#39;, stop reason = breakpoint 3.1</span>

<span>(</span>lldb<span>)</span> <span>continue</span>
</code></pre></div><p>After checking back in Xcode, we&#39;re still on Line 2! This makes sense - we&#39;ve effectively said that <code>IDEViEventConsumer.handleKeyEvent</code> has successfully handled the key
event, but didn&#39;t actually do anything with it.</p><p>Let&#39;s try the inverse. We&#39;re still on Line 2; hitting <code>j</code> again brings us back to our breakpoint:</p><div><pre><code data-lang="bash">Target 0: <span>(</span>Xcode<span>)</span> stopped.

<span>(</span>lldb<span>)</span> thread <span>return</span> <span>false</span>
* thread <span>#1, queue = &#39;com.apple.main-thread&#39;, stop reason = breakpoint 3.1</span>

<span>(</span>lldb<span>)</span> <span>continue</span>
</code></pre></div><p>And looking back in Xcode… hm.</p><p></p><p></p><p>Saying that <code>IDEViEventConsumer</code> did not handle the key event meant a <code>j</code> character was inserted
into our line, despite us having been in normal mode (in fact, we still are).</p><p>This points to one of two possibilities:</p><ol><li><code>IDEViEventConsumer.handleKeyEvent</code> is expected to handle all keypresses when Vim Mode is enabled.
Our <code>thread return false</code> meant that we fell back to some non-vim-mode handler, which naturally just inserted a <code>j</code> character; this wouldn&#39;t happen in normal use.</li><li><code>IDEViEventConsumer.handleKeyEvent</code> actually only handles <em>some</em> keypresses in vim mode, like for navigation or switching between modes.
General typing in insert mode is handled by some other event consumer later in the chain.</li></ol><p>That distinction might affect our path forward here, so let&#39;s see if we can figure out which is true.
The easiest way to do that is to check what values this method is returning in different scenarios.</p><p>Back in Xcode, another <code>j</code> press to hit our breakpoint - this time, let&#39;s step out of the frame, and then check the <code>rax</code> register to see what value was returned:</p><blockquote><p>Note: If you&#39;re trying to replicate the steps in this post on an M1-based Mac, the return value here should be in $x0 instead; note that I haven&#39;t tested any part of this post on an M1 though - sorry!</p></blockquote><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> finish
* thread <span>#1, queue = &#39;com.apple.main-thread&#39;, stop reason = step out</span>

<span>(</span>lldb<span>)</span> p <span>$rax</span>
<span>(</span>unsigned long<span>)</span> <span>$7</span> <span>=</span> <span>1</span>
</code></pre></div><p>That <code>1</code> indcates that our method returned <code>true</code>, and was responsible for handling our <code>j</code> press accordingly.
Next, let&#39;s enter insert mode; we can follow the same process to see a return value of <code>1</code> again for the <code>i</code> keypress that entered the mode.</p><p>Finally, another <code>j</code> press - but now when we check the return value:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> finish
* thread <span>#1, queue = &#39;com.apple.main-thread&#39;, stop reason = step out</span>

<span>(</span>lldb<span>)</span> p <span>$rax</span>
<span>(</span>unsigned long<span>)</span> <span>$9</span> <span>=</span> <span>0</span>
</code></pre></div><p>That confirms it - <code>IDEViEventConsumer.handleKeyEvent</code> is not actually responsible for handling events in insert mode.
In that case, we&#39;ll want to hook into things one level down on the stack, in <code>SourceEditor.SourceEditorView.keyDown</code>.</p><p>This might make some things harder (like figuring out vim-specific context like what mode we&#39;re in; presumably, that would have been easier to access from a class called <code>IDEViEventConsumer</code>!), but it&#39;s necessary in order for us to manipulate events within insert mode.</p><p>Then again, it might make some things a lot easier - from the stacktrace above, it looks like there is an <code>@objc</code> entrance to <code>SourceEditor.SourceEditorView.keyDown</code>,
meaning we should be able to swizzle it. That&#39;ll save us a good amount of headache over trying to hook a swift-only method.</p><hr/><h2 id="making-an-xcode-plugin">Making an Xcode Plugin</h2><p>This could probably be split out into its own post at some point, since I always struggle to find a somewhat up-to-date set of steps for making an Xcode Plugin.
I think there are a few templates around that could be useful, but I usually prefer to know what I&#39;m changing, especially when there are few enough steps, so:</p><ol><li><p>Start with File &gt; New Project, and pick the macOS Bundle template.
Project Name (I&#39;m using <code>XcodeVimMap</code>) and Organization Identifier are up to you, but change the Bundle Extension to <code>xcplugin</code>.</p></li><li><p>Add a new Obj-C Header / Implementation file using File &gt; New &gt; File, Cocoa Class. I&#39;ll use my project name for this class name as well - <code>XcodeVimMap</code>.</p><p>Here&#39;s what my implementation file looks like to start with:</p><div><pre><code data-lang="objc"><span>#</span><span>import &#34;XcodeVimMap.h&#34;</span><span>
</span><span></span>
<span>@implementation</span> <span>XcodeVimMap</span>

<span>+</span> <span>(</span><span>void</span><span>)</span><span>pluginDidLoad:</span><span>(</span><span>NSBundle</span> <span>*</span><span>)</span><span>plugin</span> <span>{</span>
    <span>NSLog</span><span>(</span><span>@&#34;</span><span>[XcodeVimMap] Plugin Loaded</span><span>&#34;</span><span>)</span><span>;</span>
<span>}</span>

<span>@end</span>
</code></pre></div></li><li><p>In the Info.plist of the bundle, add a new <code>DVTPlugInCompatibilityUUIDs</code> key of type <code>array</code>.
Add the associated UUID of the Xcode app version you&#39;re developing for as a <code>string</code> item within the array; you can get the UUID using:</p><div><pre><code data-lang="bash">defaults <span>read</span> /Applications/<span>{</span>PATH_TO_XCODE<span>}</span>.app/Contents/Info DVTPlugInCompatibilityUUID
</code></pre></div></li><li><p>Add a <code>boolean</code> key named <code>XC4Compatible</code> with a value of <code>1</code>.</p></li><li><p>Add a <code>boolean</code> key named <code>XCPluginHasUI</code> with a value of <code>0</code>.</p></li><li><p>Update the <code>Principal Class</code> key to the name of the class you created. This is not strictly needed if you only have one class, but can save you some pain later.</p></li><li><p>If this is the first Xcode plugin you&#39;re installing for this copy of Xcode,
<a href="https://github.com/XVimProject/XVim2/blob/master/SIGNING_Xcode.md">re-sign Xcode</a> (this can cause issues with your Xcode installation,
but I&#39;m not really qualified to know what they are or speak much about them; but probably do some research is this if your first foray into plugins).</p></li><li><p>Build the plugin and copy the resulting product into <code>~/Library/Application\ Support/Developer/Shared/Xcode/Plug-ins/</code>.</p></li><li><p>Launch Xcode from the command line, searching the output for news from your plugin:</p><div><pre><code data-lang="bash">/Applications/<span>{</span>PATH_TO_XCODE<span>}</span>.app/Contents/MacOS/Xcode 2&gt;<span>&amp;</span><span>1</span> <span>|</span> grep XcodeVimMap
</code></pre></div><p>If you set up everything correctly, you should get a prompt within Xcode asking you if you want to load the bundle (<code>Unexpected code bundle &#34;...&#34;</code>). Note that the button you want is the non-highlighted one.
After loading the bundle, you should see the <code>XcodeVimMap Loaded</code> output in your terminal.</p><blockquote><p>Note: If you see any output about the plugin not being loaded, such as <code>Skipping plug-in at path &#39;.../XcodeVimMap.xcplugin&#39;</code>,
it&#39;s likely related to the Info.plist values specified above; double-check them before anything else.</p></blockquote></li></ol><p>If everything worked, there are two additional steps you can do to make development quicker:</p><ol><li><p>In your target&#39;s Build Settings, change <code>Installation Build Products Location</code> to <code>$(HOME)</code>, and <code>Installation Directory</code> to <code>/Library/Application Support/Developer/Shared/Xcode/Plug-ins</code>.
This will prevent you from having to copy the product over after each build.</p></li><li><p>In your scheme&#39;s settings, on the Run tab, and the Info sub-tab, change your <code>Executable</code> to be the copy of Xcode that you&#39;re developing for.
This will let you hit the Run button to launch another instance of Xcode after building, see its log output, and debug it. Note that as of writing,
you&#39;ll also have to uncheck <code>Enable user interface debugging</code> in the Options sub-tab, or you&#39;ll get an error message about being unable to load a debugger plugin.</p><p>Xcode is fairly slow with a debugger attached,
so if the debugger isn&#39;t a core part of your workflow,
it&#39;s worth unchecking the <code>Debug executable</code> box in the Info sub-tab -
though we will be using it for parts of this post.</p></li></ol><p>With all that out of the way, we now have a general Xcode plugin set up - we can now start adding some vim-specific code to it.</p><hr/><h2 id="swizzling-the-event-handler">Swizzling the Event Handler</h2><p>We determined earlier that <code>SourceEditor.SourceEditorView.keyDown</code> was likely the ideal method to target here, so let&#39;s start by swizzling it in our plugin.</p><p>First, let&#39;s add a breakpoint on our <code>NSLog</code> statement in <code>pluginDidLoad:</code>
so we can see if the class we want to swizzle is actually loaded by this point:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> po NSClassFromString<span>(</span>@<span>&#34;SourceEditor.SourceEditorView&#34;</span><span>)</span>
 nil
</code></pre></div><p>Looks like the class isn&#39;t loaded yet. We know it&#39;s defined in the <code>SourceEditor</code> framework, which we saw the path for
near the top of this post; we can load it early ourselves using <code>dlopen</code>:</p><div><pre><code data-lang="objc"><span>// #import &lt;dlfcn.h&gt; for dlopen
</span><span></span>
<span>NSString</span> <span>*</span><span>xcodePath</span> <span>=</span> <span>[</span><span>[</span><span>NSBundle</span> <span>mainBundle</span><span>]</span> <span>bundlePath</span><span>]</span><span>;</span>
<span>NSString</span> <span>*</span><span>sourceEditorPath</span> <span>=</span> <span>[</span><span>xcodePath</span> <span>stringByAppendingPathComponent</span><span>:</span><span>@&#34;</span><span>Contents/SharedFrameworks/SourceEditor.framework/Versions/A/SourceEditor</span><span>&#34;</span><span>]</span><span>;</span>
<span>dlopen</span><span>(</span><span>[</span><span>sourceEditorPath</span> <span>cStringUsingEncoding</span><span>:</span><span>NSUTF8StringEncoding</span><span>]</span><span>,</span> <span>RTLD_NOW</span><span>)</span><span>;</span>

<span>NSLog</span><span>(</span><span>@&#34;</span><span>[XcodeVimMap] SourceEditor Loaded</span><span>&#34;</span><span>)</span><span>;</span>
</code></pre></div><p>If we add a breakpoint on this new <code>NSLog</code> statement and re-run, we can confirm our class is now loaded:</p><div><pre><code data-lang="objc"><span>(</span><span>lldb</span><span>)</span> <span>po</span> <span>NSClassFromString</span><span>(</span><span>@&#34;</span><span>SourceEditor.SourceEditorView</span><span>&#34;</span><span>)</span>
<span>SourceEditor</span><span>.</span><span>SourceEditorView</span>
</code></pre></div><p>We should now be able to set up our swizzle accordingly. Note that I&#39;m using a bit of a
weird format where we keep a reference to the original implementation in a function pointer
rather than just using <code>method_exchangeImplementations</code>; I ran into some oddness with the usual setup,
and would rather save the related debugging effort for elsewhere in this post - something tells me I&#39;ll need it.</p><div><pre><code data-lang="objc"><span>// #import &lt;AppKit/AppKit.h&gt; for NSEvent
</span><span></span><span>// #import &lt;objc/runtime.h&gt; for runtime fun
</span><span></span>
<span>// Holds the original method implementation
</span><span></span><span>static</span> <span>BOOL</span><span>(</span><span>*</span><span>originalKeyDown</span><span>)</span><span>(</span><span>id</span> <span>self</span><span>,</span> <span>SEL</span> <span>_cmd</span><span>,</span> <span>NSEvent</span> <span>*</span><span>event</span><span>)</span><span>;</span>

<span>// Log keypress events, then forward to original implementation
</span><span></span><span>-</span> <span>(</span><span>BOOL</span><span>)</span><span>swizzled_keyDown:</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>event</span> <span>{</span>
    <span>NSLog</span><span>(</span><span>@&#34;</span><span>[XcodeVimMap] Got Characters: %@</span><span>&#34;</span><span>,</span> <span>event</span><span>.</span><span>characters</span><span>)</span><span>;</span>
    <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
<span>}</span>

<span>+</span> <span>(</span><span>void</span><span>)</span><span>pluginDidLoad:</span><span>(</span><span>NSBundle</span> <span>*</span><span>)</span><span>plugin</span> <span>{</span>
    <span>// ...
</span><span></span>
    <span>Method</span> <span>originalMethod</span> <span>=</span> <span>class_getInstanceMethod</span><span>(</span>
        <span>NSClassFromString</span><span>(</span><span>@&#34;</span><span>SourceEditor.SourceEditorView</span><span>&#34;</span><span>)</span><span>,</span>
        <span>NSSelectorFromString</span><span>(</span><span>@&#34;</span><span>keyDown:</span><span>&#34;</span><span>)</span><span>)</span><span>;</span>

    <span>Method</span> <span>replacementMethod</span> <span>=</span> <span>class_getInstanceMethod</span><span>(</span>
        <span>[</span><span>self</span> <span>class</span><span>]</span><span>,</span>
        <span>@selector</span><span>(</span><span>swizzled_keyDown</span><span>:</span><span>)</span><span>)</span><span>;</span>

    <span>// Save the original implementation so we can
</span><span></span>    <span>// call it from `swizzled_keyDown`
</span><span></span>    <span>originalKeyDown</span> <span>=</span> <span>(</span><span>void</span> <span>*</span><span>)</span><span>method_getImplementation</span><span>(</span>
            <span>originalMethod</span><span>)</span><span>;</span>

    <span>// Replace the method
</span><span></span>    <span>method_setImplementation</span><span>(</span>
        <span>originalMethod</span><span>,</span>
        <span>method_getImplementation</span><span>(</span><span>replacementMethod</span><span>)</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>Now we can Build &amp; Run, open a source file, and start typing:</p><div><pre><code data-lang="txt">[XcodeVimMap] Plugin Loaded
[XcodeVimMap] SourceEditor Loaded
[XcodeVimMap] Got Characters: G (// move to end of file)
[XcodeVimMap] Got Characters: i (// switch to insert mode)
[XcodeVimMap] Got Characters: H
[XcodeVimMap] Got Characters: e
[XcodeVimMap] Got Characters: l
[XcodeVimMap] Got Characters: l
[XcodeVimMap] Got Characters: o
[XcodeVimMap] Got Characters:  
[XcodeVimMap] Got Characters: W
[XcodeVimMap] Got Characters: o
[XcodeVimMap] Got Characters: r
[XcodeVimMap] Got Characters: l
[XcodeVimMap] Got Characters: d
[XcodeVimMap] Got Characters: !
</code></pre></div><p>Hooray! We&#39;ve just built the world&#39;s worst Xcode keylogger!</p><hr/><h2 id="testing-our-new-capabilities">Testing Our New Capabilities</h2><p>Now that we have a hook into the root of Xcode&#39;s source editor input handling,
there are a few things we should try out, since we&#39;ll need them for our final implementation;
better to make sure they work now rather than later.</p><h4 id="sending-delayed-inputs">Sending Delayed Inputs</h4><p>As mentioned earlier in this post, the remap functionality we&#39;re looking for
adds a ‘fake’ <code>j</code> when the key is pressed, before fully committing to it; this way,
vim can determine if the next key is a <code>k</code> (indicating we should exit) or if the
user really just meant to type <code>j</code>.</p><p>There are two rough proxies of that that I can think of:</p><ol><li>Don&#39;t insert a <code>j</code> at all when we receive a keypress, until either the next key is pressed
or a time threshold has passed. If the next key is <code>k</code>, don&#39;t insert the <code>j</code> at all, just exit.</li><li>Do insert a <code>j</code> under the assumption that it is wanted. If the next key is <code>k</code>, delete the <code>j</code>, then exit.</li></ol><p>I like the first option a lot more - anything that deals with deleting content starts to get tricky,
even in a situation where you have full control over things - which we don&#39;t. Doing something simple like sending
a <code>backspace</code> event leads to problems if, for example, the user has clicked on another line or
highlighted some text with their mouse in the meantime
(I guess that might introduce issues in either case, but still; option 1 feels the least destructive).</p><p>In either case, we need the ability to send an event at a time when it didn&#39;t originally occur.
This is probably perfectly fine, but might as well test while we&#39;re here.</p><p>An easy way to do so would be to
send the same input multiple times, with one coming after a delay. This isn&#39;t guaranteed to work if these events used
some sort of nonce-based system, but that seems unlikely, and we can debug if needed. So let&#39;s try it:</p><div><pre><code data-lang="objc"><span>-</span> <span>(</span><span>BOOL</span><span>)</span><span>swizzled_keyDown:</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>event</span> <span>{</span>
    <span>NSLog</span><span>(</span><span>@&#34;</span><span>[XcodeVimMap] Got Characters: %@</span><span>&#34;</span><span>,</span> <span>event</span><span>.</span><span>characters</span><span>)</span><span>;</span>

    <span>dispatch_after</span><span>(</span><span>dispatch_time</span><span>(</span><span>DISPATCH_TIME_NOW</span><span>,</span> <span>1</span> <span>*</span> <span>NSEC_PER_SEC</span><span>)</span><span>,</span> <span>dispatch_get_main_queue</span><span>(</span><span>)</span><span>,</span> <span>^</span><span>{</span>
        <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>

    <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>And the result, after a bit of typing:</p><pre><code>HelloH elwlo world!orld!
</code></pre><h4 id="sending-multiple-inputs-per-frame">Sending Multiple Inputs per Frame</h4><p>This is another one where I&#39;d be surprised if we encountered issues, but better to confirm upfront.</p><p>If we want to send a queued <code>j</code> key as soon as we see a non-<code>k</code> key pressed, we likely want to send both
at the same time. Let&#39;s use essentially the same setup, without the delay, to confirm that
Xcode allows for this:</p><div><pre><code data-lang="objc"><span>-</span> <span>(</span><span>BOOL</span><span>)</span><span>swizzled_keyDown:</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>event</span> <span>{</span>
    <span>NSLog</span><span>(</span><span>@&#34;</span><span>[XcodeVimMap] Got Characters: %@</span><span>&#34;</span><span>,</span> <span>event</span><span>.</span><span>characters</span><span>)</span><span>;</span>

    <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
    <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>And the result:</p><pre><code>HHeelllloo  WWoorrlldd!!
</code></pre><h4 id="modifying-inputs">Modifying Inputs</h4><p>If we want to be able to map some inputs on to others, we need to make sure we can actually modify and send
different events than the ones we&#39;re originally given.</p><p><code>NSEvent</code> is not mutable, but we can make a helper method to clone a given event with some differences applied.
This won&#39;t work well if <code>NSEvent</code> has any internal state that isn&#39;t surfaced here, but we can start with this
and worry about that if it comes up.</p><div><pre><code data-lang="objc"><span>+</span> <span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>modifiedEvent:</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>event</span> <span>withCharacters:</span><span>(</span><span>NSString</span> <span>*</span><span>)</span><span>characters</span> <span>{</span>
    <span>return</span> <span>[</span><span>NSEvent</span> <span>keyEventWithType</span><span>:</span><span>event</span><span>.</span><span>type</span>
                            <span>location</span><span>:</span><span>event</span><span>.</span><span>locationInWindow</span>
                       <span>modifierFlags</span><span>:</span><span>event</span><span>.</span><span>modifierFlags</span>
                           <span>timestamp</span><span>:</span><span>event</span><span>.</span><span>timestamp</span>
                        <span>windowNumber</span><span>:</span><span>event</span><span>.</span><span>windowNumber</span>
                             <span>context</span><span>:</span><span>nil</span> <span>// event.context is deprecated and only returns `nil`
</span><span></span>                          <span>characters</span><span>:</span><span>characters</span>
         <span>charactersIgnoringModifiers</span><span>:</span><span>characters</span> <span>// unclear if we have to worry about this distiction
</span><span></span>                           <span>isARepeat</span><span>:</span><span>NO</span>
                             <span>keyCode</span><span>:</span><span>event</span><span>.</span><span>keyCode</span><span>]</span><span>;</span> <span>// wagering that no code actually reads this, so we don&#39;t have to change it accordingly
</span><span></span><span>}</span>
</code></pre></div><p>Now we can write something to try changing some events around. This should swap the <code>j</code> and <code>k</code> keys,
both in normal mode (where navigating up and down across lines will be reversed) and in insert mode:</p><div><pre><code data-lang="objc"><span>-</span> <span>(</span><span>BOOL</span><span>)</span><span>swizzled_keyDown:</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>event</span> <span>{</span>
    <span>if</span> <span>(</span><span>[</span><span>event</span><span>.</span><span>characters</span> <span>isEqualToString</span><span>:</span><span>@&#34;</span><span>j</span><span>&#34;</span><span>]</span><span>)</span> <span>{</span>
        <span>// Swap &#34;j&#34; with &#34;k&#34;
</span><span></span>        <span>NSEvent</span> <span>*</span><span>modifiedEvent</span> <span>=</span> <span>[</span><span>XcodeVimMap</span> <span>modifiedEvent</span><span>:</span><span>event</span>
                                             <span>withCharacters</span><span>:</span><span>@&#34;</span><span>k</span><span>&#34;</span><span>]</span><span>;</span>
        <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>modifiedEvent</span><span>)</span><span>;</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>[</span><span>event</span><span>.</span><span>characters</span> <span>isEqualToString</span><span>:</span><span>@&#34;</span><span>k</span><span>&#34;</span><span>]</span><span>)</span> <span>{</span>
        <span>// Swap &#34;k&#34; with &#34;j&#34;
</span><span></span>        <span>NSEvent</span> <span>*</span><span>modifiedEvent</span> <span>=</span> <span>[</span><span>XcodeVimMap</span> <span>modifiedEvent</span><span>:</span><span>event</span>
                                             <span>withCharacters</span><span>:</span><span>@&#34;</span><span>j</span><span>&#34;</span><span>]</span><span>;</span>
        <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>modifiedEvent</span><span>)</span><span>;</span>
    <span>}</span>

    <span>// If neither &#34;j&#34; nor &#34;k&#34;, just call the original
</span><span></span>    <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>Navigating in normal mode is indeed inverted, and the result of a quick typing test in insert mode:</p><pre><code>kacj in the box
</code></pre><h4 id="creating-an-escape-key-event">Creating an Escape Key Event</h4><p>One last thing we should check - Escape key events might be handled differently.</p><p>First, it may be useful to compare a normal key event to an Escape key event.
Here&#39;s the debug description of each, respectively:</p><pre><code>// &#34;q&#34; keypress
NSEvent: type=KeyDown
          loc=(429.085,168.524)
         time=123860.4
        flags=0x100
          win=0x7ff7364feef0
       winNum=9305
         ctxt=0x0
        chars=&#34;q&#34;
   unmodchars=&#34;q&#34;
       repeat=0
      keyCode=12

// Escape keypress
NSEvent: type=KeyDown
          loc=(429.085,168.524)
         time=123860.4
        flags=0x100
          win=0x7ff7364feef0
       winNum=9305
         ctxt=0x0
        chars=&#34;&#34; // different
   unmodchars=&#34;&#34; // different
       repeat=0
      keyCode=53 // different
</code></pre><p>Ok, <code>chars</code> and <code>unmodchar</code> are both empty, and only the <code>keyCode</code> is different outside of that.
I omitted that from the <code>modifiedEvent:</code> method earlier, so looks like we&#39;ll have to add it in.</p><p>Except… that doesn&#39;t work! Even after adding the keycode in, and getting a modified event whose
debug description looks <em>exactly</em> like an original Escape key event, it doesn&#39;t actually work
for exiting insert mode. There must be some underlying state that&#39;s not exposed here that&#39;s
set for Escape key events. Capturing an Escape key event and replaying it in the future works,
which supports this theory as well.</p><p>I was stuck on this for a while - I started looking at what private ivars <code>NSEvent</code> might have,
trying to figure out what part of the vim implementation was responsible for checking the escape
button press (with no luck), and so on.</p><p>At some point I ended up looking at a dumped <code>NSEvent.h</code> header to see what else might be relevant,
and saw that there was an undocumented <code>-[NSEvent _isEscapeKeyEvent:]</code> method - looking at its implementation
revealed the issue:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> po escapeEvent.characters


<span>(</span>lldb<span>)</span> p escapeEvent.characters.length
<span>(</span>NSUInteger<span>)</span> <span>$3</span> <span>=</span> <span>1</span>
</code></pre></div><p>I was too easily misled by the event&#39;s debug description; these weren&#39;t empty strings at all. They&#39;re <code>@&#34;\x1b&#34;</code> - a string containing only the escape character,
which uses key code <code>0x1b</code>.</p><p>Yea, that one&#39;s on me.</p><p>Good news is that <code>[XcodeVimMap modifiedEvent:event withCharacters:@&#34;\x1b”]</code> does indeed work! Remapping from any key to this modified event,
using a similar setup to the <code>j</code> and <code>k</code> swap above, lets us use that key to leave insert mode. That should cover everything we need from the <code>NSEvent</code>
modification &amp; replay side.</p><hr/><h2 id="determining-which-vim-mode-were-in">Determining Which Vim Mode We&#39;re In</h2><p>If the end goal is to make a <code>j</code> input followed by a <code>k</code> input leave insert mode, then we have to have a way
to tell if we&#39;re actually <em>in</em> insert mode. If we didn&#39;t care, we probably could have done this whole thing with software outside
of Xcode.</p><p>But having an app-wide (or system-wide) delay on my <code>j</code> key sounds terrible, even if just for navigating in vim&#39;s normal mode.
To do this properly, we really need to be able to find which mode we&#39;re in.</p><p>Some part of Xcode&#39;s Vim system has this knowledge, since it&#39;s making decisions about what keys should do at any given point in time;
this might require some digging to find, but it&#39;s easier to start with objects we&#39;ve seen before.</p><p>In the stacktrace we saw earlier for handling a Character Replace, there were a bunch of interesting classes referenced - one that
really jumps out by name is <code>SourceEditor.ViEventConsumer.Context</code>.</p><p>From that same stacktrace, it looks like there&#39;s a <code>SourceEditor.ViCommand.perform(...)</code> function that gets this context as its first argument -
let&#39;s switch back to the debugger and set a breakpoint there:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> b -r SourceEditor.ViCommand.perform
Breakpoint 1: <span>9</span> locations.
</code></pre></div><p>Now after hitting a movement key in Xcode:</p><div><pre><code data-lang="bash">Target 0: <span>(</span>Xcode<span>)</span> stopped.

<span>(</span>lldb<span>)</span> po <span>$arg1</span>
ViEventConsumer.Context&lt;mode: .normal,
                   keyStroke: ViKeystroke<span>(</span>
keyEquivalents: <span>[</span>ViKeyEquivalent<span>(</span>characters: <span>&#34;l&#34;</span>, modifierFlags: <span>[</span><span>]</span><span>)</span><span>]</span><span>)</span>,
   currentKeyEquivalentIndex: 0,
                    register: nil,
                       count: nil,
             partialCommands: <span>[</span><span>]</span>,
             operatorCommand: nil,
           lastMotionCommand: nil,
    <span>lastMotionCommandRanges</span> <span>=</span> nil&gt;
</code></pre></div><p>First of all, this debug description switching from <code>:</code> to <code>=</code> for the very last property breaks my heart (and, coincidentally, my syntax highlighting).
And second of all - there&#39;s our Vim Mode, right at the top!</p><p>There are a few hoops that we&#39;re going to have to jump through here. We&#39;re starting with a <code>SourceEditor.SourceEditorView</code> instance from
our swizzled method; we need to use that to get an <code>IDESourceEditor.IDEViEventConsumer</code> instance (the owner of the method we were
first investigating hooking). We can presumably use that to get this <code>ViEventConsumer.Context</code> instance, and from there, we need a way
to access this <code>mode</code> property&#39;s value.</p><p>Let&#39;s start with the middle hoop, going from <code>IDESourceEditor.IDEViEventConsumer</code> to <code>ViEventConsumer.Context</code>.</p><h4 id="searching-ivars">Searching Ivars</h4><p>We can start by pausing in the same method that we were working with previously:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> b IDESourceEditor.IDEViEventConsumer.handleKeyEvent
Breakpoint 1: <span>where</span> <span>=</span> IDESourceEditor<span>`</span>IDESourceEditor.IDEViEventConsumer.handleKeyEvent...
</code></pre></div><p>Now we can press any key to hit our breakpoint, and can then access our <code>IDESourceEditor.IDEViEventConsumer</code> instance using <code>$r13</code> (which
<a href="https://github.com/apple/swift/blob/main/docs/ABI/CallConvSummary.rst">holds <code>self</code></a> for Swift functions on x86).</p><p>A good thing to check first is if we can find an ivar or method for accessing our context.
I&#39;m more used to iOS, where there&#39;s a nice built-in way to do this via <code>-[NSObject _ivarDescription]</code> and <code>-[NSObject _methodDescription]</code>, added by an <code>NSObject</code> category in <code>UIKitCore</code>, but those won&#39;t help us on macOS.</p><p>There are also some lldb scripts that could help with this, but after some trying, they don&#39;t seem to work properly in this scenario in particular.</p><p>Let&#39;s just look at the ivars manually:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> e -- unsigned int <span>$ivarCount</span> <span>=</span> 0<span>;</span>

<span>(</span>lldb<span>)</span> e -- Ivar *<span>$ivars</span> <span>=</span> <span>(</span>Ivar *<span>)</span>class_copyIvarList<span>(</span><span>(</span>Class<span>)</span><span>[</span><span>(</span>id<span>)</span><span>$r13</span> class<span>]</span>, <span>&amp;</span><span>$ivarCount</span><span>)</span><span>;</span>

<span>(</span>lldb<span>)</span> p/d <span>$ivarCount</span>
<span>(</span>unsigned int<span>)</span> <span>$ivarCount</span> <span>=</span> <span>6</span>
</code></pre></div><p>Great, we&#39;ve found some options! Are any of them our context?</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$ivars</span><span>[</span>0<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$1</span> <span>=</span> <span>&#34;sourceEditorView&#34;</span>

<span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$ivars</span><span>[</span>1<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$2</span> <span>=</span> <span>&#34;hasPartiallyMatchedCommands&#34;</span>

<span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$ivars</span><span>[</span>2<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$3</span> <span>=</span> <span>&#34;</span><span>$__lazy_storage_</span><span>$_statusViewItem</span><span>&#34;</span>

<span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$ivars</span><span>[</span>3<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$4</span> <span>=</span> <span>&#34;</span><span>$__lazy_storage_</span><span>$_suggestionsViewItem</span><span>&#34;</span>

<span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$ivars</span><span>[</span>4<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$5</span> <span>=</span>  <span>&#34;</span><span>$__lazy_storage_</span><span>$_toggleRegistersViewerShownBottomBarItem</span><span>&#34;</span>

<span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$ivars</span><span>[</span>5<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$6</span> <span>=</span> <span>&#34;registersViewerPopover&#34;</span>
</code></pre></div><p>… seems like not.</p><p>We do have one thing to try before moving on though - <code>class_copyIvarList</code> does not return ivars belonging to superclasses. Does <code>IDESourceEditor.IDEViEventConsumer</code> have a superclass?</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> po <span>[</span><span>[</span><span>$r13</span> class<span>]</span> superclass<span>]</span>
SourceEditor.ViEventConsumer
</code></pre></div><p>It does, and it&#39;s still vim-related, so it has a good chance of being the thing that owns the context. Using the same setup as before, but this time looking at this superclass’ ivars:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> e -- Ivar *<span>$superivars</span> <span>=</span> <span>(</span>Ivar *<span>)</span>class_copyIvarList<span>(</span><span>(</span>Class<span>)</span><span>[</span><span>[</span><span>(</span>id<span>)</span><span>$r13</span> class<span>]</span> superclass<span>]</span>, <span>&amp;</span><span>$ivarCount</span><span>)</span><span>;</span>

<span>(</span>lldb<span>)</span> p/d <span>$ivarCount</span>
<span>(</span>unsigned int<span>)</span> <span>$ivarCount</span> <span>=</span> <span>7</span>

<span>(</span>lldb<span>)</span> p <span>(</span>char *<span>)</span>ivar_getName<span>(</span><span>$superivars</span><span>[</span>0<span>]</span><span>)</span>
<span>(</span>char *<span>)</span> <span>$7</span> <span>=</span> <span>&#34;context&#34;</span>
</code></pre></div><p>Aha! There&#39;s our context!</p><p>We can write a basic method to help get this object by its name. It looks a lot like
<a href="https://developer.apple.com/documentation/objectivec/1441499-object_getinstancevariable?language=objc"><code>object_getInstanceVariable</code></a>,
but that function is not callable under ARC, hence writing our own instead:</p><div><pre><code data-lang="objc"><span>+</span> <span>(</span><span>id</span><span>)</span><span>getIvar:</span><span>(</span><span>NSString</span> <span>*</span><span>)</span><span>ivarName</span> <span>from:</span><span>(</span><span>NSObject</span> <span>*</span><span>)</span><span>object</span> <span>{</span>
    <span>const</span> <span>char</span> <span>*</span><span>ivarNameCString</span> <span>=</span> <span>[</span><span>ivarName</span> <span>cStringUsingEncoding</span><span>:</span><span>NSUTF8StringEncoding</span><span>]</span><span>;</span>
    <span>Ivar</span> <span>ivar</span> <span>=</span> <span>class_getInstanceVariable</span><span>(</span><span>[</span><span>object</span> <span>class</span><span>]</span><span>,</span> <span>ivarNameCString</span><span>)</span><span>;</span>
    <span>return</span> <span>object_getIvar</span><span>(</span><span>object</span><span>,</span> <span>ivar</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>And then test it in the same place in lldb, after recompiling:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> e -- id <span>$context</span> <span>=</span> <span>[</span>XcodeVimMap getIvar:@<span>&#34;context&#34;</span> from:<span>(</span>id<span>)</span><span>$r13</span><span>]</span>

<span>(</span>lldb<span>)</span> po <span>$context</span>
ViEventConsumer.Context&lt;mode: .normal, ... &gt;
</code></pre></div><p>Works great!</p><blockquote><p>Note: One thing that surprises me here is that <code>[(id)$r13 valueForKey:@“context”]</code> does <em>not</em> work
for this same purpose. My understanding is that <code>valueForKey:</code> should fall back to searching for ivars of the same name (both with and without underscore prefixes).
This class isn&#39;t overriding the default <code>valueForKey:</code> implementation, and doesn&#39;t have <code>accessInstanceVariablesDirectly</code> overridden to return <code>NO</code>. Direct ivar access works either way, but still - let me know if you know why <code>valueForKey:</code> doesn&#39;t work here!</p></blockquote><p>After a bit of searching through the ivars of <code>VIEventConsumer.Context</code>, it looks like we can then get the current vim mode
using a similar strategy, this time by looking for an ivar named <code>&#34;mode&#34;</code>.</p><p>One note here is that <code>object_getIvar</code> has a return type
of <code>NSObject *</code>, but this is somewhat broken for primitive types - they aren&#39;t wrapped in an <code>NSNumber</code> or the like,
but rather, their values are simply returned as-is by the method. Not a pointer to anything, just the raw scalar value. We have to do a bit of casting nonsense accordingly.</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> e -- uint8_t <span>$mode</span> <span>=</span> <span>(</span>uint8_t<span>)</span><span>(</span>long<span>)</span><span>[</span>XcodeVimMap getIvar:@<span>&#34;mode&#34;</span> from:<span>$context</span><span>]</span>

// In normal mode...
<span>(</span>lldb<span>)</span> p/d <span>$mode</span>
<span>(</span>uint8_t<span>)</span> <span>$mode</span> <span>=</span> <span>3</span>

// Or in insert mode...
<span>(</span>lldb<span>)</span> p/d <span>$mode</span>
<span>(</span>uint8_t<span>)</span> <span>$mode</span> <span>=</span> <span>5</span>
</code></pre></div><p>We&#39;ve now successfully jumped through two of our three remaining hoops.</p><h2 id="manually-bridging-a-swift-array">Manually Bridging a Swift Array</h2><p>We now need to get access to our <code>IDESourceEditor.IDEViEventConsumer</code> instance from the <code>SourceEditor.SourceEditorView</code> that we have
available to us in our hook. The above strategy of looking at ivars also pays off here.</p><p>There is an ivar named <code>eventConsumers</code> of type… uh…</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> e -- Ivar <span>$ivar</span> <span>=</span> class_getInstanceVariable<span>(</span><span>[</span>self class<span>]</span>, <span>&#34;eventConsumers&#34;</span><span>)</span><span>;</span>

<span>(</span>lldb<span>)</span> po object_getIvar<span>(</span>self, <span>$ivar</span><span>)</span>
0x00007fd087110830

<span>(</span>lldb<span>)</span> po <span>[</span>object_getIvar<span>(</span>self, <span>$ivar</span><span>)</span> class<span>]</span>
error: Execution was interrupted, reason: Attempted to dereference an invalid ObjC Object or send it an unrecognized selector.
The process has been returned to the state before expression evaluation.

<span>(</span>lldb<span>)</span> po ivar_getTypeEncoding<span>(</span><span>$ivar</span><span>)</span>
&lt;no value available&gt;
</code></pre></div><p>So there&#39;s an ivar there, and it has a non-nil value, but it&#39;s unclear of what. Not being able to send it a <code>class</code> message
makes sense - that seems plausible for certain Swift-defined types (including an array, which seems most likely based on its name) -
but <code>&lt;no value available&gt;</code> from <code>ivar_getTypeEncoding</code>? Is that even allowed?</p><p>Let&#39;s look at what&#39;s actually visible in-memory from that location, using <code>lldb</code> to essentially treat each
group of eight bytes as an <code>id</code>:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> memory <span>read</span> -c <span>10</span> -t id 0x00007fd087110830
<span>(</span>id<span>)</span> <span>0x7fd087110830</span> <span>=</span> 0x00007fd0d18550d8
<span>(</span>id<span>)</span> <span>0x7fd087110838</span> <span>=</span> 0x0000000000000003
<span>(</span>id<span>)</span> <span>0x7fd087110840</span> <span>=</span> 0x000000000000000d
<span>(</span>id<span>)</span> <span>0x7fd087110848</span> <span>=</span> 0x0000000000000020
<span>(</span>_TtkC15IDESourceEditor18IDEViEventConsumer *<span>)</span> <span>0x7fd087110850</span> <span>=</span> 0x0000600003622a00
<span>(</span>id<span>)</span> <span>0x7fd087110858</span> <span>=</span> 0x000000012eb68358
<span>(</span>_TtC8DeltaKit9ChangeBar *<span>)</span> <span>0x7fd087110860</span> <span>=</span> 0x00007fd0e15e35d0
<span>(</span>id<span>)</span> <span>0x7fd087110868</span> <span>=</span> 0x000000013eb71890
<span>(</span>_TtC12SourceEditor18SourceEditorGutter *<span>)</span> <span>0x7fd087110870</span> <span>=</span> 0x00007fd0d1426870
<span>(</span>id<span>)</span> <span>0x7fd087110878</span> <span>=</span> 0x000000012eb64ac8
</code></pre></div><p>We can actually see our <code>IDEViEventConsumer</code> there, just <code>0x20</code> bytes in!</p><p>Directly after it appears to be a pointer to some information related to that class’ protocol witness table for the <code>SourceEditor.SourceEditorViewEventConsumer</code> protocol:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> image lookup -a 0x000000012eb68358
      Address: SourceEditor<span>[</span>0x000000000049c358<span>]</span> <span>(</span>SourceEditor.__DATA_CONST.__const + 42072<span>)</span>
      Summary: SourceEditor<span>`</span>protocol witness table <span>for</span> SourceEditor.ViEventConsumer : SourceEditor.SourceEditorViewEventConsumer in SourceEditor
</code></pre></div><p>… a concept I don&#39;t understand
well enough to do anything other than acknowledge that each item in this array appears to be stored in pairs of pointers (one to the instance itself,
and the other related to the protocol witness table).</p><p>The first line of the output also clearly shows a pointer, though lldb doesn&#39;t print out any info about it here. Let&#39;s try to do so manually:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> po 0x00007fd0d18550d8
_TtGCs23_ContiguousArrayStorageP12SourceEditor29SourceEditorViewEventConsumer__$
// demangled: Swift._ContiguousArrayStorage&lt;SourceEditor.SourceEditorViewEventConsumer&gt;
</code></pre></div><p>So this is indeed an array (or at least, “array storage”?) but how do we get it back into a reasonable format?</p><p>I tried a few quick options - like passing this pointer to a Swift-based function and converting it there, or calling <code>_bridgeToObjectiveC</code> manually - but no luck. Possibly
because this is not technically an array, or possibly because I&#39;m doing something completely wrong.</p><p>I would spend more time digging, but it&#39;s hard to justify when the instance we want is <em>right there</em>. So let&#39;s just figure out how to read it ourselves.</p><p>First we need to know how many objects are in the array - we could make a guess based on some of the first few values printed by <code>lldb</code> above (<code>0x03</code>? <code>0x0d</code>? <code>0x20</code>?),
but we also know that <code>SourceEditor.SourceEditorView.keyDown</code> must look at this memory to get the <code>IDEViEventConsumer</code> instance itself, so let&#39;s see if we can figure out what it does.</p><p>Looking through that method in a disassembler, just a bit before the offset in the method that we jump from based on our initial stacktrace, we can see the following instructions:</p><div><pre><code data-lang="asm"><span>mov</span>   <span>r15</span><span>,</span> <span>qword</span> <span>[</span><span>rax</span><span>+</span><span>0x10</span><span>]</span>
<span>test</span>  <span>r15</span><span>,</span> <span>r15</span>
<span>je</span>    <span>loc_3633ae</span>
</code></pre></div><p>This looks like an initial check to see if our array is empty; it&#39;s reading the value at <code>0x10</code> bytes from the <code>rax</code> register (which presumably, by this point, holds a pointer to our array storage); then <code>test r15, r15</code> is essentially checking if the value is less than or equal to zero.
This implies that the array length is kept at offset <code>0x10</code> - in our case, that corresponds to the <code>0x0d</code> value in the above <code>lldb</code>&#39;s output, i.e., 13 items in the array.</p><p>We now have enough information to read this data and convert it to an NSArray instance ourselves:</p><div><pre><code data-lang="objc"><span>+</span> <span>(</span><span>NSArray</span> <span>*</span><span>)</span><span>arrayFromSwiftArrayStorage:</span><span>(</span><span>void</span> <span>*</span><span>)</span><span>swiftArrayStorage</span> <span>{</span>
    <span>// Create a mutable array to hold each encountered element
</span><span></span>    <span>NSMutableArray</span> <span>*</span><span>results</span> <span>=</span> <span>[</span><span>NSMutableArray</span> <span>new</span><span>]</span><span>;</span>

    <span>// Read array length at offset 0x10
</span><span></span>    <span>long</span> <span>arrayLength</span> <span>=</span> <span>*</span><span>(</span><span>long</span> <span>*</span><span>)</span><span>(</span><span>(</span><span>char</span> <span>*</span><span>)</span><span>swiftArrayStorage</span> <span>+</span> <span>0x10</span><span>)</span><span>;</span>

    <span>// Get each element of the array, every 0x10 bytes, starting at offset 0x20
</span><span></span>    <span>for</span> <span>(</span><span>long</span> <span>i</span><span>=</span><span>0</span><span>;</span> <span>i</span><span>&lt;</span><span>arrayLength</span><span>;</span> <span>i</span><span>+</span><span>+</span><span>)</span> <span>{</span>
        <span>void</span> <span>*</span><span>*</span><span>elementPtr</span> <span>=</span> <span>(</span><span>void</span> <span>*</span><span>*</span><span>)</span><span>(</span><span>(</span><span>char</span> <span>*</span><span>)</span><span>swiftArrayStorage</span> <span>+</span> <span>0x20</span> <span>+</span> <span>(</span><span>0x10</span> <span>*</span> <span>i</span><span>)</span><span>)</span><span>;</span>
        <span>id</span> <span>element</span> <span>=</span> <span>(</span><span>__bridge</span> <span>NSObject</span> <span>*</span><span>)</span><span>(</span><span>*</span><span>elementPtr</span><span>)</span><span>;</span>
        <span>[</span><span>results</span> <span>addObject</span><span>:</span><span>element</span><span>]</span><span>;</span>
    <span>}</span>

    <span>return</span> <span>results</span><span>;</span>
<span>}</span>
</code></pre></div><p>There&#39;s more casting, dereferencing, and double pointers there than I&#39;m usually happy with, but before we judge it too harshly, let&#39;s see if it works:</p><div><pre><code data-lang="bash"><span>(</span>lldb<span>)</span> e -- id <span>$eventConsumerStorage</span> <span>=</span> <span>[</span>XcodeVimMap getIvar:@<span>&#34;eventConsumers&#34;</span> from:self<span>]</span>

<span>(</span>lldb<span>)</span> po <span>[</span>XcodeVimMap arrayFromSwiftArrayStorage:<span>$eventConsumerStorage</span><span>]</span>
&lt;__NSArrayM 0x60000af3f270&gt;<span>(</span>
    &lt;IDESourceEditor.IDEViEventConsumer: 0x600000bd7100&gt;,
    DeltaKit.ChangeBar,
    &lt;SourceEditor.SourceEditorGutter: 0x7fe4dd5213c0&gt;,
    &lt;DebuggerUI.DBGColumnBreakpointLayoutVisualization: 0x6000002059a0&gt;,
    SourceEditor.StructuredEditingController,
    SourceEditor.SourceEditorLineAnnotationManager,
    SourceEditor.FoldingController,
    &lt;SourceEditor.SourceEditorViewDraggingSource: 0x600000ebe800&gt;,
    SourceEditor.SourceEditorEditAssistant,
    SourceEditor.ContextualMenuEventConsumer,
    &lt;DVTSourceEditor.DVTSourceEditorTextFindPanel: 0x7fe4dd524210&gt;,
    &lt;IDESourceEditor.SourceCodeEditor: 0x7fe4fe18e200 representing: &lt;DVTExtension 0x6000007d2c40: Xcode.IDEKit.EditorDocument.PegasusSourceCode from com.apple.dt.IDE.IDEPegasusSourceEditor&gt;&gt;,
    PathTokenVisualization: <span>[</span><span>]</span>
<span>)</span>
</code></pre></div><p>There we go! We now have access to all our event consumers - <code>IDEViEventConsumer</code> included.</p><hr/><h2 id="and-finally-the-remap">And Finally… The Remap</h2><p>Our solutions to problems are getting less sane as the post gets longer. Better wrap it up quick.</p><p>We finally have what we need to put everything together, and for me to finally have my normal escape functionality back.</p><p>First, let&#39;s define a new enum to represent the vim modes we care about (even if that is just one entry), along with
a method to get the current vim mode:</p><div><pre><code data-lang="objc"><span>typedef</span> <span>NS_ENUM</span><span>(</span><span>uint8_t</span><span>,</span> <span>VimMode</span><span>)</span> <span>{</span>
    <span>VimModeInsert</span> <span>=</span> <span>5</span>
<span>}</span><span>;</span>

<span>+</span> <span>(</span><span>VimMode</span><span>)</span><span>vimModeFromSourceEditorView:</span><span>(</span><span>id</span><span>)</span><span>sourceEditorView</span> <span>{</span>
    <span>// Get our current event consumers
</span><span></span>    <span>void</span> <span>*</span><span>eventConsumersStorage</span> <span>=</span> <span>(</span><span>__bridge</span> <span>void</span> <span>*</span><span>)</span><span>(</span><span>[</span><span>XcodeVimMap</span> <span>getIvar</span><span>:</span><span>@&#34;</span><span>eventConsumers</span><span>&#34;</span> <span>from</span><span>:</span><span>sourceEditorView</span><span>]</span><span>)</span><span>;</span>
    <span>NSArray</span> <span>*</span><span>eventConsumers</span> <span>=</span> <span>[</span><span>XcodeVimMap</span> <span>arrayFromSwiftArrayStorage</span><span>:</span><span>eventConsumersStorage</span><span>]</span><span>;</span>

    <span>// Find the vim consumer
</span><span></span>    <span>id</span> <span>vimEventConsumer</span><span>;</span>
    <span>for</span> <span>(</span><span>id</span> <span>eventConsumer</span> <span>in</span> <span>eventConsumers</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>[</span><span>NSStringFromClass</span><span>(</span><span>[</span><span>eventConsumer</span> <span>class</span><span>]</span><span>)</span> <span>isEqualToString</span><span>:</span><span>@&#34;</span><span>IDESourceEditor.IDEViEventConsumer</span><span>&#34;</span><span>]</span><span>)</span> <span>{</span>
            <span>vimEventConsumer</span> <span>=</span> <span>eventConsumer</span><span>;</span>
            <span>break</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>// Get the vim context
</span><span></span>    <span>id</span> <span>vimContext</span> <span>=</span> <span>[</span><span>XcodeVimMap</span> <span>getIvar</span><span>:</span><span>@&#34;</span><span>context</span><span>&#34;</span> <span>from</span><span>:</span><span>vimEventConsumer</span><span>]</span><span>;</span>

    <span>// Get the current vim mode
</span><span></span>    <span>uint8_t</span> <span>vimMode</span> <span>=</span> <span>(</span><span>uint8_t</span><span>)</span><span>(</span><span>long</span><span>)</span><span>[</span><span>XcodeVimMap</span> <span>getIvar</span><span>:</span><span>@&#34;</span><span>mode</span><span>&#34;</span> <span>from</span><span>:</span><span>vimContext</span><span>]</span><span>;</span>
    <span>return</span> <span>vimMode</span><span>;</span>
<span>}</span>
</code></pre></div><p>Now let&#39;s update our swizzle implementation to exit early if we&#39;re not currently in insert mode.
I&#39;ve also added a block to handle sending events back to the original implementation; this is mostly just
so we don&#39;t have to write <code>self</code> and <code>_cmd</code> every time, though could also be useful if we wanted
to pass the block to any helper methods that might want to send events for us.</p><div><pre><code data-lang="objc"><span>-</span> <span>(</span><span>BOOL</span><span>)</span><span>swizzled_keyDown:</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span><span>event</span> <span>{</span>
    <span>// Block to send an event to the original implementation
</span><span></span>    <span>BOOL</span> <span>(</span><span>^</span><span>sendEvent</span><span>)</span><span>(</span><span>NSEvent</span> <span>*</span><span>)</span> <span>=</span> <span>^</span><span>BOOL</span><span>(</span><span>NSEvent</span> <span>*</span><span>event</span><span>)</span> <span>{</span>
        <span>return</span> <span>originalKeyDown</span><span>(</span><span>self</span><span>,</span> <span>_cmd</span><span>,</span> <span>event</span><span>)</span><span>;</span>
    <span>}</span><span>;</span>

    <span>// Get the current vim mode
</span><span></span>    <span>VimMode</span> <span>vimMode</span> <span>=</span> <span>[</span><span>XcodeVimMap</span> <span>vimModeFromSourceEditorView</span><span>:</span><span>self</span><span>]</span><span>;</span>

    <span>// Exit early if we&#39;re not in insert mode
</span><span></span>    <span>if</span> <span>(</span><span>vimMode</span> <span>!</span><span>=</span> <span>VimModeInsert</span><span>)</span> <span>{</span>
        <span>return</span> <span>sendEvent</span><span>(</span><span>event</span><span>)</span><span>;</span>
    <span>}</span>

    <span>// TODO: _something_
</span><span></span>
    <span>// Fall back to default implementation
</span><span></span>    <span>return</span> <span>sendEvent</span><span>(</span><span>event</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>Next, we need to listen for <code>j</code> keypresses, and if we see one, store it; we don&#39;t want to send it quite yet.
Let&#39;s declare a new file-scoped variable that holds this ‘j’ key event while we&#39;re waiting to send it.</p><div><pre><code data-lang="objc"><span>static</span> <span>NSEvent</span> <span>*</span><span>queuedEvent</span><span>;</span>
</code></pre></div><blockquote><p>Note: In a more proper setup, we could add this as an associated object on <code>SourceEditorView</code>. But this is not a more proper setup,
and this post is getting quite long as-is.</p></blockquote><p>Now back to the above <code>TODO</code> section; when we detect a <code>j</code> keypress in insert mode,
we want to store it rather than sending immediately:</p><div><pre><code data-lang="objc"><span>// Check if we&#39;ve received a &#34;j&#34; keypress
</span><span></span><span>if</span> <span>(</span><span>[</span><span>event</span><span>.</span><span>characters</span> <span>isEqualToString</span><span>:</span><span>@&#34;</span><span>j</span><span>&#34;</span><span>]</span><span>)</span> <span>{</span>
    <span>// Save a reference to the event for later sending
</span><span></span>    <span>queuedEvent</span> <span>=</span> <span>event</span><span>;</span>

    <span>// Return early so that the default implementation
</span><span></span>    <span>// (which would apply our `j` press immediately)
</span><span></span>    <span>// is not called.
</span><span></span>    <span>return</span> <span>true</span><span>;</span>
<span>}</span>
</code></pre></div><p>With this change, it&#39;s not impossible to type a <code>j</code> in insert mode. Let&#39;s add a new check above it, which will apply our prior <code>j</code> keypress whenever a new keypress comes in:</p><div><pre><code data-lang="objc"><span>// Check if we have a previous `j` press queued up
</span><span></span><span>if</span> <span>(</span><span>queuedEvent</span> <span>!</span><span>=</span> <span>nil</span><span>)</span> <span>{</span>
    <span>// Apply the `j` press
</span><span></span>    <span>sendEvent</span><span>(</span><span>queuedEvent</span><span>)</span><span>;</span>

    <span>// Clear the queued event so it&#39;s not sent again
</span><span></span>    <span>queuedEvent</span> <span>=</span> <span>nil</span><span>;</span>
<span>}</span>
</code></pre></div><p>Here&#39;s the current result, shown by typing the start of the english alphabet with a roughly-constant time between keys; you can see the <code>j</code> key is not sent until the <code>k</code> key
is pressed after it.</p><video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/pre-timeout-light.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video>
<video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/pre-timeout-dark.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video><p>Now let&#39;s add timeout functionality. Within the existing block to handle <code>j</code> keypresses, we can add the following
setup to send the <code>j</code> event after a one second delay:</p><div><pre><code data-lang="objc"><span>// Added at file scope:
</span><span></span><span>static</span> <span>dispatch_block_t</span> <span>sendQueuedEventAfterTimeout</span><span>;</span>

<span>// ...
</span><span></span>
<span>// Create a block to send the event for use in the timeout functionality
</span><span></span><span>sendQueuedEventAfterTimeout</span> <span>=</span> <span>dispatch_block_create</span><span>(</span><span>0</span><span>,</span> <span>^</span><span>{</span>
    <span>// Send the queued event
</span><span></span>    <span>sendEvent</span><span>(</span><span>queuedEvent</span><span>)</span><span>;</span>

    <span>// Clear out the queued event so that it won&#39;t be sent again
</span><span></span>    <span>queuedEvent</span> <span>=</span> <span>nil</span><span>;</span>
<span>}</span><span>)</span><span>;</span>

<span>// Invoke the above block after 1 second. This invocation
</span><span></span><span>// should be cancelled if the event is manually sent sooner.
</span><span></span><span>dispatch_after</span><span>(</span>
    <span>dispatch_time</span><span>(</span><span>DISPATCH_TIME_NOW</span><span>,</span> <span>(</span><span>int64_t</span><span>)</span><span>(</span><span>1</span> <span>*</span> <span>NSEC_PER_SEC</span><span>)</span><span>)</span><span>,</span>
    <span>dispatch_get_main_queue</span><span>(</span><span>)</span><span>,</span> <span>sendQueuedEventAfterTimeout</span><span>)</span><span>;</span>
</code></pre></div><p>We&#39;ll then also edit our queued event handling logic to cancel this timeout if another key was pressed:</p><div><pre><code data-lang="objc"><span>// Check if we have a previous `j` press queued up
</span><span></span><span>if</span> <span>(</span><span>queuedEvent</span> <span>!</span><span>=</span> <span>nil</span><span>)</span> <span>{</span>
    <span>// Apply the `j` press
</span><span></span>    <span>sendEvent</span><span>(</span><span>queuedEvent</span><span>)</span><span>;</span>

    <span>// Clear the queued event so it&#39;s not sent again
</span><span></span>    <span>queuedEvent</span> <span>=</span> <span>nil</span><span>;</span>

    <span>// New: Cancel the timeout-based application of the event,
</span><span></span>    <span>// since we&#39;ve invoked it manually.
</span><span></span>    <span>dispatch_block_cancel</span><span>(</span><span>sendQueuedEventAfterTimeout</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>Here&#39;s the same test as before, just typing up through <code>j</code> this time. Despite hitting <code>j</code> after the same delay as the other keys,
you can see Xcode hold on to the press again, but this time automatically apply it after a second of inactivity:</p><video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/post-timeout-light.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video>
<video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/post-timeout-dark.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video><p>Now there&#39;s only one component left to add. Before the existing check for any queued events, we check if the new event
corresponds to a <code>k</code> keypress - and if we have a <code>j</code> key queued up, we know we want to exit insert mode instead of applying either.</p><div><pre><code data-lang="objc"><span>// Check if we&#39;ve received a `k` press while a `j` press is still queued
</span><span></span><span>if</span> <span>(</span><span>[</span><span>event</span><span>.</span><span>characters</span> <span>isEqualToString</span><span>:</span><span>@&#34;</span><span>k</span><span>&#34;</span><span>]</span> <span>&amp;</span><span>&amp;</span> <span>queuedEvent</span> <span>!</span><span>=</span> <span>nil</span><span>)</span> <span>{</span>
    <span>// Clear the queued j press
</span><span></span>    <span>queuedEvent</span> <span>=</span> <span>nil</span><span>;</span>

    <span>// And cancel its timeout-based-sending.
</span><span></span>    <span>dispatch_block_cancel</span><span>(</span><span>sendQueuedEventAfterTimeout</span><span>)</span><span>;</span>

    <span>// Create an &#34;escape&#34; key event and send it,
</span><span></span>    <span>// returning early in the process.
</span><span></span>    <span>NSEvent</span> <span>*</span><span>escapeEvent</span> <span>=</span> <span>[</span><span>XcodeVimMap</span> <span>modifiedEvent</span><span>:</span><span>event</span> <span>withCharacters</span><span>:</span><span>@&#34;</span><span>\x1b</span><span>&#34;</span><span>]</span><span>;</span>
    <span>return</span> <span>sendEvent</span><span>(</span><span>escapeEvent</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>It&#39;s been a long journey, but with all of that finished, here&#39;s the end result, typing the start of the english alphabet again:</p><video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/working-escape-light.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video>
<video playsinline="" autoplay="" loop="" muted="" preload="auto" data-setup="{}">
<source src="/xcode-vim-map/working-escape-dark.mp4" type="video/mp4"/><source src="/" type="video/webm"/><source src="/" type="video/ogg"/></video><p>This time, the <code>j</code> key is held back as before, but once the <code>k</code> key is pressed afterward, we leave insert mode, and we have finally escaped.</p><hr/><h2 id="wrapping-up">Wrapping Up</h2><p>I&#39;ve made the code for this Xcode plugin
<a href="https://github.com/bryce-co/XcodeVimMap">available on GitHub</a>,
but it&#39;s certainly intended more for reference than as something I&#39;d actually recommend using.</p><p>There&#39;s all sorts of additional work that would need to go into making this widely adoptable, and I haven&#39;t even used it enough yet to know if it&#39;s stable.
With any luck, <a href="https://github.com/XVimProject/XVim2">XVim</a> will continue to exist as a more configurable option separately from (or on top of?) Apple&#39;s own offering.</p><p>But in the meantime, as I play around with the Xcode 13 betas more, I at least no longer have to wince every few seconds from my vim muscle memory biting me - and isn&#39;t that worth something?</p><hr/>Say Hello!</article></div>]]></content:encoded>
      <pubDate>Tue, 03 Aug 2021 13:56:48 +0000</pubDate>
      <source>https://bryce.co/xcode-vim-map/</source>
    </item>
    <item>
      <title>Ray Tracing Gems II Available as Free Download</title>
      <link>https://developer.nvidia.com/blog/ray-tracing-gems-ii-available-today-as-free-digital-download/</link>
      <description></description>
      <content:encoded><![CDATA[<img src="https://rss.markdessain.com/feeds/hackernews/https___developer_nvidia_com_blog_ray-tracing-gems-ii-available-today-as-free-digital-download_/image.jpg" /> 
<div id="readability-page-1" class="page"><div>
<p><i><span>Ray Tracing Games II</span></i><span> is now available to download </span><b>for free</b><span> via </span><a href="https://link.springer.com/book/10.1007/978-1-4842-7185-8" data-wpel-link="external" target="_blank" rel="nofollow external noopener noreferrer"><span>Apress</span></a><span>.</span></p>
<p><span>This Open Access book is a must-have for anyone interested in real-time rendering. Ray tracing is the holy grail of gaming graphics, simulating the physical behavior of light to bring real-time, cinematic-quality rendering to even the most visually intense games. Ray tracing is also a fundamental algorithm used for architecture applications, visualization, sound simulation, deep learning, and more.</span></p>
<p>To win a limited edition print copy of <i data-stringify-type="italic">Ray Tracing Gems II</i>, enter the giveaway contest here: <a href="https://developer.nvidia.com/ray-tracing-gems-ii" target="_blank" rel="noopener noreferrer nofollow external" data-stringify-link="https://developer.nvidia.com/ray-tracing-gems-ii" data-sk="tooltip_parent" data-wpel-link="external">https://developer.nvidia.com/ray-tracing-gems-ii</a></p>
<p><span>A message from the editors:</span></p>
<p><span>In 2018, real-time ray tracing arrived in consumer GPU hardware and swiftly established itself as a key component of how images would be generated moving forward. Now, three years later, the second iteration of this hardware is available, mainstream game consoles support ray tracing, and cross-platform API standards have been established to drive even wider adoption. Developers and researchers have been busy inventing (and reinventing) algorithms to take advantage of the new possibilities created by these advancements. The “gems” of knowledge discovered during this process are what you will find in </span><i><span>Ray Tracing Gems II</span></i><span>.</span></p>
<p><span>Before diving into the treasure trove, we want to make sure you know the following:</span></p>
<ul>
<li><span>Supplementary code and other materials related to this book can be found at <a href="https://github.com/Apress/Ray-Tracing-Gems-II" target="_blank" rel="noopener noreferrer nofollow external" data-stringify-link="https://github.com/Apress/Ray-Tracing-Gems-II" data-sk="tooltip_parent" data-wpel-link="external">https://github.com/Apress/Ray-Tracing-Gems-II</a>.</span></li>
<li><span>All content in this book is open access.</span></li>
</ul>
<p><span>Open access content allows you to freely copy and redistribute any chapter, or the whole book, as long as you give appropriate credit and you are not using it for commercial purposes. The specific license is the </span><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" data-wpel-link="external" target="_blank" rel="nofollow external noopener noreferrer"><span>Creative Commons Attribution 4.0 International License (CC-BY-NC-ND)</span></a><span>. We put this in place so that authors, and everyone else, can disseminate the information in this volume as quickly, widely, and equitably as possible.</span></p>
<p><span>Writing an anthology style book, such as this, is an act of collective faith. Faith that the authors, editors, publisher, and schedules all converge to produce a worthwhile result for readers. Under normal circumstances this is a difficult task, but the past year and a half has been anything but “normal”. This book’s call for participation was posted in late November 2019, just as the COVID-19 virus began to emerge in Asia. In the 18 months since, a once-in-a-century pandemic has surged. Its impact has touched every person on Earth – and it is not yet over. The virus has taken lives, battered livelihoods, and broken the way of life as we knew it. We postponed this book with the quiet conviction that the coronavirus would be overcome. As time passed, the development of vaccines made breakneck progress, remote work in quarantine became a new staple of life, and authors began to write about computer graphics again. As a result, this book was written entirely during quarantine. We sincerely thank the authors for their passion and dedication – and faith – all of which made this book possible under extraordinary circumstances.</span></p>



<p><span>    </span> <span> – Adam Marrs, Peter Shirley, and Ingo Wald</span></p>
</div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 18:42:23 +0000</pubDate>
      <source>https://developer.nvidia.com/blog/ray-tracing-gems-ii-available-today-as-free-digital-download/</source>
    </item>
    <item>
      <title>I’m an ICU Doctor and I Can&#39;t Believe What Unvaccinated Patients Are Saying</title>
      <link>https://www.huffpost.com/entry/icu-doctor-health-care-workers-unvaccinated-patients_n_6102ad2ae4b000b997df1f17</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div data-yaft-module="huffpost-entry-text">
<p>“We can’t let COVID win.”</p>
<p>This was my colleague’s mantra when the pandemic started last year. And for the almost 18 months since, health care workers have rallied to the battlefields, even at times when we had no weapons to brandish.</p>
<p>We took care of the infected and the critically ill when no one else would. We reused N95 masks, carefully placing them in labeled brown paper bags in between shifts. We witnessed lonely deaths and held up iPads for families to say their heartbreaking goodbyes. We created elaborate backup schedules and neglected our personal lives. We stepped up during surges and when our colleagues fell ill. Camaraderie in the ICU had never been stronger because we recognized that this was a team effort and all of humanity was battling against a common enemy.</p>
<p>But as health care workers, we also were painfully aware of our own vulnerabilities. We can run out of ICU resources for our patients. We can run out of personal protective equipment for ourselves. We can be exposed on the job and get sick. And we can die — many of us did, <a href="https://khn.org/news/article/us-health-workers-deaths-covid-lost-on-the-frontline/" target="_blank" rel="noopener noreferrer">more than 3,600 from COVID-19 in the first year</a>.</p>
<p>Many of us quarantined away from our families to protect the ones we love. We counted the risk factors of our children, our elderly parents, our spouses, and came up with our own formulas to decide whether to come home at the end of the shift or hole up in a hotel room. One of our ICU directors wrote and rewrote our COVID-19 clinical guidelines to keep up with the evolving literature and somehow she carved out the time to write her own will.</p>

<figure>


</figure>

<p>I worked daily to adapt our end-of-life program to the changing needs and restrictions of the pandemic and signed up for a vaccine clinical trial as soon as one became available. I also updated my own advance directive and printed it out for my husband, just in case.</p>
<p>Then, effective vaccines became widely available in the U.S. — I briefly saw light at the end of the tunnel. The number of patients with COVID-19 in ICUs across the country plummeted. It looked like our sacrifices and commitment as health care workers had paid off. We believed herd immunity could become a reality and we could return to some sense of normalcy.</p>
<p>But the relief was short-lived, the hope was fleeting, and we are amid another surge. A surge that is fueled by a highly transmissible variant and those unvaccinated. My experiences in the ICU these past weeks have left me surprised, disheartened, but most of all, angry.</p>
<p>I am angry that the tragic scenes of prior surges are being played out yet again, but now with ICUs primarily filled with patients who have chosen not to be vaccinated. I am angry that it takes me over an hour to explain to an anti-vaxxer full of misinformation that intubation isn’t what “kills patients” and that their wish for chest compressions without intubation in the event of a respiratory arrest makes no sense. I am angry at those who refuse to wear “muzzles” when grocery shopping for half an hour a week, as I have been so-called “muzzled” for much of the past 18 months.</p>
<p>I cannot understand the simultaneous decision to not get vaccinated and the demand to end the restrictions imposed by a pandemic. I cannot help but recoil as if I’ve been slapped in the face when my ICU patient tells me they didn’t get vaccinated because they “just didn’t get around to it.” Although such individuals do not consider themselves anti-vaxxers, their inaction itself is a decision — a decision to not protect themselves or their families, to fill a precious ICU bed, to let new variants flourish, and to endanger the health care workers and immunosuppressed people around them. Their inaction is a decision to let this pandemic continue to rage.</p>
<blockquote>
<span>I am at a loss to understand how anyone can look at these past months of the pandemic — more than 600,000 lives lost in the U.S. and more than 4 million worldwide — and not believe it’s real or take it seriously.</span>
</blockquote>

<p><span>And meanwhile, immunocompromised people, for whom vaccines don’t generate much immunity, are desperately waiting for herd immunity. I have no way to comfort my rightfully outraged transplant patients who contracted COVID-19 after isolating for over a year and getting fully vaccinated as soon as they could. With angry tears, these patients tell me it’s not fair that there are people who are choosing to endanger both themselves and the vulnerable people around them. They feel betrayed by their fellow citizens and they are bitter and angry. I cannot blame them.  </span></p>
<p><span>I am at a loss to understand how anyone can look at these past months of the pandemic — more than 600,000 lives lost in the U.S. and more than 4 million worldwide — and not believe it’s real or take it seriously. But the unhappy truth is that there are people who do not. They did not in the beginning and many are doubling down now. </span></p>
<p><span>I thought when this pandemic began that we were all in this fight together, engaged in a war against a common enemy. Now, I painfully realize: Perhaps we were never on the same side and we never had a common enemy. Perhaps the war has been among ourselves all along. We have won many battles but unvaccinated America is choosing to let COVID win the war. </span></p>
<p><em>Thanh Neville, M.D., M.S.H.S., is an ICU physician and researcher at UCLA Health. She is also the medical director of the <a href="https://www.uclahealth.org/3wishes/" target="_blank" rel="noopener noreferrer">UCLA 3 Wishes Program</a> (an end-of-life program in which clinicians elicit and implement final wishes for dying patients and their families). You can follow her on Twitter at <a href="https://twitter.com/thanh_neville" target="_blank" rel="noopener noreferrer">@thanh_neville</a>.</em></p>
<p><em>Do you have a compelling personal story you’d like to see published</em><em> on HuffPost? Find out what we’re looking for <a href="https://www.huffpost.com/entry/how-to-pitch-huffpost-opinion-personal_n_5a5e0726e4b0fcbc3a1388f0" target="_blank" rel="noopener noreferrer" data-beacon-parsed="true" data-rapid-parsed="slk;error">here</a> and <a href="mailto:pitch@huffpost.com" target="_blank" rel="noopener noreferrer" data-beacon-parsed="true" data-rapid-parsed="slk;error">send us a pitch</a>.</em></p>

<div>
<p>
<h3>MORE FROM HUFFPOST PERSONAL...</h3>
</p>

</div>







<section data-block-class="app-download-interstitial">

</section>

<section>
<div>
<div>

<p>Calling all HuffPost superfans!</p>
<p>Sign up for membership to become a founding member and help shape HuffPost&#39;s next chapter</p>
</div>

</div>

</section>









</div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 19:18:26 +0000</pubDate>
      <source>https://www.huffpost.com/entry/icu-doctor-health-care-workers-unvaccinated-patients_n_6102ad2ae4b000b997df1f17</source>
    </item>
    <item>
      <title>Parsing Excel XLSX Using Tcl Parser Tools (2011)</title>
      <link>https://wiki.tcl-lang.org/page/Parsing+Excel+XLSX</link>
      <description></description>
      <content:encoded><![CDATA[<div id="readability-page-1" class="page"><div>
<div>
<p><a href="https://wiki.tcl-lang.org/page/JBR">jbr</a> - 2011/02/14 (Happy Valentines Day)</p><p>Here is some code I&#39;ve written to parse and evaluate formula in an Excel 2008 xml format spreadsheet. I generate some very complex reports in Excel format using perl (XLSX:Excel:Writer <a href="https://wiki.tcl-lang.org/page/Using+Perl+to+get+Excel">Using Perl to get Excel</a>), so my xlsx output files do not have the values precomputed for each cell the way excel writes its output by default. To allow testing and verification of values that I&#39;m pushing out to the client I need to be able to evaluate the formula that I&#39;ve written. This is a rather long story but it starts with an example of using the Tcl <a href="https://wiki.tcl-lang.org/page/Parser+Tools">Parser Tools</a> from tcllib 1.13:</p><p>xls-parser.peg:</p><div><pre id="mkup_code_0"> PEG xlsexpr (Formula)
        Formula    &lt;- Expr EOF ;

        MulOp   &lt;- &#39;&lt;&#39; / &#39;&gt;&#39; / &#39;=&#39; / &#39;*&#39; / &#39;/&#39;          ;
        Expo    &lt;- Value (&#39;^&#39; Value)?                   ;
        Prod    &lt;- Expo WS (MulOp WS Expo)*                     ;
        AddOp   &lt;- &#39;^&#39; / &#39;+&#39; / &#39;-&#39;                      ;
        Sum     &lt;- Prod WS (AddOp WS Prod)*                     ;
        Expr    &lt;- Sum                                  ;

 void:   WS      &lt;- &lt;space&gt;*                             ;

        Value       &lt;- UnOp? ( &#39;(&#39; Expr &#39;)&#39; / String / Func / Range / Cell / Number )   ;

        UnOp        &lt;- &#39;-&#39; / &#39;+&#39;                        ;


        Func    &lt;- FunName &#39;(&#39; WS FunArgs WS &#39;)&#39;                ;
        FunName &lt;- &lt;alpha&gt;&lt;alnum&gt;*                      ;
        FunArgs &lt;- Expr WS (&#39;,&#39; WS Expr)*                       ;

        Range      &lt;- Sheet? RowCol &#39;:&#39; RowCol          ;
        Cell       &lt;- Sheet? Cell_                      ;
        Sheet      &lt;- &#34;&#39;&#34;? Sheet_ &#34;&#39;&#34;? &#39;!&#39;              ;
        Sheet_     &lt;- [-A-Za-z0-9&amp; ]+                   ;
        Cell_      &lt;- &lt;alpha&gt;+&lt;ddigit&gt;+                 ;
        RowCol     &lt;- Col_ Row_                         ;
        Col_       &lt;- &lt;alpha&gt;+                          ;
        Row_       &lt;- &lt;ddigit&gt;+                         ;

        String     &lt;- &#39;&#34;&#39; [A-Za-z0-9]* &#39;&#34;&#39;                      ;

 leaf:   Number  &lt;- Sign? ( &lt;ddigit&gt;+ Frac? ) / Frac?    ;
        Sign    &lt;- &#39;-&#39; / &#39;+&#39;                            ;
        Frac    &lt;- &#39;.&#39; &lt;ddigit&gt;*                        ;

        EOF        &lt;- !.                                ;
 END;</pre></div><p>Here is a Makefile to generate a parser for Excel expressions. I wanted parser tool to generate a parser for TclOO but the evaluator for oo:: failed so I ended up using snit. The sed command fixes up a little bug in the parser tool output:</p><p>Makefile</p><div><pre id="mkup_code_1"> PT=pt

 parser : xls-parser.peg
        $(PT) generate snit -class xls-parser  -name xls-parser xls-parser.tcl peg xls-parser.peg
        sed -e s/PACKAGE/xls-parser/ &lt; xls-parser.tcl &gt; tmp
        mv tmp xls-parser.tcl</pre></div><p>This is the top level driver program. The interesting command here is &#34;compare&#34;. It loads the same spreadsheet twice, clearing the excel provided values from any cell which contains a formula in one copy and then comparing the values with the tcl evaluated values of the cells. </p><p>xlsx</p><div><pre id="mkup_code_2"> #!/bin/env tclkit8.6
 #

 source  xml.tcl   ; # this is tax
 source xlsx.tcl

 package require vfs
 package require vfs::zip

 set argv [lassign $argv op]

 switch $op {
 form {
    lassign $argv file sheet cell

    workbook create wb $file
    puts [[wb name2obj $sheet] form $cell]
 }
 cell {
    lassign $argv file sheet cell

    workbook create wb $file
    puts [[wb name2obj $sheet] cell $cell]
 }
 cell+ {
    lassign $argv file sheet cell

    workbook create wb $file
    wb clear
    puts [[wb name2obj $sheet] cell? $cell]
 }
 cells {        workbook create wb [lindex $argv 0]
                foreach name [wb sheets] {
                    set sheet [wb name2obj $name]
                    puts [list $sheet [$sheet cells]]
                }
 }

 compare {
    lassign $argv file1 file2

    workbook create wb1 $file1
    workbook create wb2 $file2

    wb2 clear

    foreach name1 [wb1 sheets] name2 [wb2 sheets] {
        if { $name1 ne $name2 } {
            puts &#34;Sheet names don&#39;t match $name1, $name2&#34;
        }

        set sh1 [wb1 name2obj $name1]
        set sh2 [wb2 name2obj $name2]

        foreach cell [$sh1 cells] {
            #puts &#34;$name1 $cell&#34;
            if { [set v1 [$sh1 cell $cell]] != [set v2 [$sh2 cell $cell]] } {
                puts &#34;$name1 : $cell $v1 != $v2&#34;
            }
        }
    }
 }
 }</pre></div><p>Down here in the guts of the thing are two Tcl gems.</p><ul><li><a href="https://wiki.tcl-lang.org/page/vfs%3A%3Azip">vfs::zip</a></li><li><a href="https://wiki.tcl-lang.org/page/TAX%3A+A+Tiny+API+for+XML">TAX: A Tiny API for XML</a></li></ul><p>These two features make taking apart an MS Excel xlsx file pretty simple.</p><p>Here is the meat of the code. Its almost 500 lines so I&#39;ll just reference it here: <a rel="nofollow" href="https://github.com/jbroll/xlsx-expr">https://github.com/jbroll/xlsx-expr <span aria-hidden="true"></span></a></p><p>Included are methods to open the xlsx file and parse the cell values, formula and formats from the xml into instance variable arrays in the xlsx object. The &#34;=&#34; method evaluates the value of the cell including following a formula right through all the references in the spreadsheet. Each formula value is cached and evaluated only once. Formula are evaluated by parsing them into AST format with parser tools and then executing the AST as a script. The result of the script is an expression suitable for <a href="https://wiki.tcl-lang.org/page/expr">expr</a>, which is then called to obtain the cell&#39;s value. Just enough stuff is implemented here to support the syntax and functions in my spreadsheets, but extending this should be straight forward. I have evaluated workbooks with multiple worksheets, complex formula across thousands of cells with perfect agreement to the values that excel computes itself.</p><p>These Excel functions are currently supported:</p><ul><li>MAX</li><li>MIN</li><li>COUNT</li><li>SUM</li><li>AND</li><li>DAYS360</li><li>VLOOKUP</li><li>IF - This is handled specially in the AST expansion to short circuit. </li><li>YEAR</li><li>ROUND</li></ul><p>The parser is fed using tcl::chan::string which needs a small patch. The Allowance method is broken so I just added a &#34;return&#34; at the start of virtchannel_core/events.tcl:Allowance to disable any checking. This checking seemed like overkill to me anyway.</p><p><a href="https://wiki.tcl-lang.org/page/AK">AK</a>: The checking is necessary. My 2009 Conference paper on <a rel="nofollow" href="http://www.tclcommunityassociation.org/wub/proceedings/Proceedings-2009/proceedings/TclChannels/rtc.pdf">Reflecting and Transforming Channels <span aria-hidden="true"></span></a> (at the <a rel="nofollow" href="http://www.tclcommunityassociation.org/wub/proceedings/Proceedings-2009.html">TCA Conference Page <span aria-hidden="true"></span></a>) explains these internals. The actual issue was a missing constructor chaining preventing the proper initialization of the event management core. Fixed in the source repository head.</p>
<p>Enjoy</p><hr/>
</div>
</div></div>]]></content:encoded>
      <pubDate>Wed, 04 Aug 2021 19:45:52 +0000</pubDate>
      <source>https://wiki.tcl-lang.org/page/Parsing+Excel+XLSX</source>
    </item>
  </channel>
</rss>